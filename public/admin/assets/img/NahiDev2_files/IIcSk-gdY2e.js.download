;/*FB_PKG_DELIM*/

__d("CometAudioLanguageManagementUtils_dubbingLanguagesManagementTypeByStatus.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAudioLanguageManagementUtils_dubbingLanguagesManagementTypeByStatus",selections:[{alias:null,args:null,concreteType:"VideoDubbedTranslationMetadataConnection",kind:"LinkedField",name:"dubbed_translation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDubAudioTranslation",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"require_review",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"track_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lang_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometAudioLanguageUtils_dubtrackMapping"}],type:"Video",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"dubTrackMapping"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometAudioLanguageManagementUtils_dubbingManagementInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAudioLanguageManagementUtils_dubbingManagementInfo",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_failed_dubs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_pending_dubs_for_review",storageKey:null},{alias:null,args:null,concreteType:"VideoDubbedTranslationMetadataConnection",kind:"LinkedField",name:"dubbed_translation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDubAudioTranslation",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"track_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"human_readable_exception",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lang_code",storageKey:null}],storageKey:null}],storageKey:null},{alias:"dubbed_track_mapping_no_filter",args:[{kind:"Literal",name:"filter_by_published_dubs",value:!1}],concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:"dubbed_track_mapping(filter_by_published_dubs:false)"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25061514333444993"}),null);
__d("CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation.graphql",["CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XFBGiveAutoDubbingConsentResponsePayload",kind:"LinkedField",name:"xfb_give_auto_dubbing_consent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"consent_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation",selections:a},params:{id:b("CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation_facebookRelayOperation"),metadata:{},name:"CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometAudioLanguageManagementUtils",["$InternalEnum","AutoDubbingFalcoEvent","CometAudioLanguageManagementUtils_dubbingLanguagesManagementTypeByStatus.graphql","CometAudioLanguageManagementUtils_dubbingManagementInfo.graphql","CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation.graphql","CometAudioLanguageUtils","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");l.useCallback;l.useMemo;function a(a){var c,e,f,g=d("react-compiler-runtime").c(9);a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometAudioLanguageManagementUtils_dubbingManagementInfo.graphql"),a);c=((c=a==null?void 0:a.dubbed_track_mapping_no_filter)!=null?c:[]).some(n);e=(e=a==null?void 0:a.is_playable)!=null?e:!1;var i=!1;if((a==null?void 0:a.has_failed_dubs)===!0){var j;i=(a==null||(j=a.dubbed_translation_metadata)==null||(j=j.nodes)==null?void 0:j.filter(m).length)===0}var k;if(g[0]!==(a==null||(f=a.dubbed_translation_metadata)==null?void 0:f.nodes)||g[1]!==i){var l;k=null;if(i){var o;a==null||(o=a.dubbed_translation_metadata)==null||o.nodes.find(function(a){a!=null&&a.track_type==="AUTO_DUB"&&(a.status==="FAILED"||a.status==="INVALID")&&a.human_readable_exception!=null&&a.lang_code!=null&&(k=a.human_readable_exception)})}g[0]=a==null||(l=a.dubbed_translation_metadata)==null?void 0:l.nodes;g[1]=i;g[2]=k}else k=g[2];a=(a=a==null?void 0:a.has_pending_dubs_for_review)!=null?a:!1;var p;g[3]!==c||g[4]!==e||g[5]!==k||g[6]!==a||g[7]!==i?(p={has_dubs:c,has_pending_dubs_for_review:a,is_video_playable:e,specific_exceptions:k,view_failed_dubbing_screen:i},g[3]=c,g[4]=e,g[5]=k,g[6]=a,g[7]=i,g[8]=p):p=g[8];return p}function m(a){return a!=null&&a.track_type==="AUTO_DUB"&&!(a.status==="FAILED"||a.status==="INVALID")}function n(a){return a.dubbing_type!=null&&a.dubbing_type!=="NONE"}l=b("$InternalEnum")({NO_DUBS:"dubs_not_found",FAILED_DUBS:"failed_dub",SUCCESS_NOTIF:"successful_dub",NO_VIDEO:"video_not_found_or_ready",DUBS_DELETED:"dubs_deleted",DUBS_APPROVED:"dubs_approved"});function e(a,c,e){var f,g,h=d("react-compiler-runtime").c(11);a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometAudioLanguageManagementUtils_dubbingLanguagesManagementTypeByStatus.graphql"),a);var j=d("CometAudioLanguageUtils").useGetDubTrackMapping(a==null?void 0:a.dubTrackMapping);a==null||(f=a.dubbed_translation_metadata)==null||f.nodes;if(h[0]!==e||h[1]!==(a==null||(g=a.dubbed_translation_metadata)==null?void 0:g.nodes)||h[2]!==j||h[3]!==c){var k,l,m,n={},q;h[6]!==j?(q=d("CometAudioLanguageUtils").getOriginalLanguage(j),h[6]=j,h[7]=q):q=h[7];q=q;k=((k=a==null||(l=a.dubbed_translation_metadata)==null?void 0:l.nodes)!=null?k:[]).filter(p).slice().sort(o);k.forEach(function(a){if(a.track_type===c&&a.status!=null){var b,d,f=a.status;b=(b=a.require_review)!=null?b:!1;d=(d=a.id)!=null?d:"";var g=babelHelpers["extends"]({},a,{id:d,lang_code:(d=a.lang_code)==null?void 0:d.split("_")[0],locale_code:a.lang_code,require_review:b});(f==="FINISHED"&&e!=null&&e.some(function(a){return a.lang===g.lang_code})||f!=="FINISHED")&&(n[f]=n[f]==null?[g]:[].concat(n[f],[g]))}});k=Object.keys(n).length>0?n:null;h[0]=e;h[1]=a==null||(m=a.dubbed_translation_metadata)==null?void 0:m.nodes;h[2]=j;h[3]=c;h[4]=q;h[5]=k}else q=h[4],k=h[5];a=q!=null?q:null;h[8]!==k||h[9]!==a?(j={languagesDubbingInfo:k,originalLanguage:a},h[8]=k,h[9]=a,h[10]=j):j=h[10];q=j;return q}function o(a,b){var c;if(((c=a.require_review)!=null?c:!1)!==((c=b.require_review)!=null?c:!1)){return((c=a.require_review)!=null?c:!1)?-1:1}a=(c=a.lang_code)!=null?c:"";b=(c=b.lang_code)!=null?c:"";return a.localeCompare(b)}function p(a){return a!=null}function f(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){var d=b.event;b=b.extraData;var e=b;c("AutoDubbingFalcoEvent").log(function(){return{event:d,extra_data:e,video_id:a}})},b[0]=a,b[1]=e):e=b[1];return e}var q=j!==void 0?j:j=b("CometAudioLanguageManagementUtils_givenAutoDubbingConsentMutation.graphql");function r(a,b,c){d("CometRelay").commitMutation(a,{mutation:q,onCompleted:function(a){b(a)},onError:function(a){c(a)},variables:{}})}var s=function(a,b){var c;if(!(a!=null&&a.isAutoDubbingEnabled))return[];c=a.targetLanguages!=null&&a.targetLanguages.length>0?a.targetLanguages:(c=(c=a.availableLanguages)==null?void 0:c.map(function(a){return a.locale}))!=null?c:["en_US","es_LA"];c=c.map(function(c){var d=b.find(function(a){return a.lang_code===c});d||(d={audio_handle:"",enabled:!1,is_lipsync_enabled:!1,lang_code:c,require_review:!1,source_lang_code:"",target_languages:null});return babelHelpers["extends"]({},d,{enabled:(d=a.isAutoDubbingEnabled)!=null?d:!1,is_lipsync_enabled:(d=a.isLipSyncEnabled)!=null?d:!1,require_review:(d=a.isReviewRequiredAutoDubbingEnabled)!=null?d:!1,target_languages:(d=a.targetLanguages)!=null?d:null})});return c};g.useGetDubbingManagementInfo=a;g.DubsNotifEnum=l;g.useGetDubbingLanguagesByStatus=e;g.useAutoDubbingReviewLogEvent=f;g.sendGiveConsentMutation=r;g.updatedMetaDataForTransformer=s}),98);