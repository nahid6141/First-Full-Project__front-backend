;/*FB_PKG_DELIM*/

__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(aa,ba,ca,da,ea,fa){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},ca={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},da={defaultValue:480,kind:"LocalArgument",name:"height"},ea={defaultValue:null,kind:"LocalArgument",name:"ig_params"},fa={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},ga={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},ha={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},ia={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},ja={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},ka={defaultValue:null,kind:"LocalArgument",name:"item_after"},la={defaultValue:null,kind:"LocalArgument",name:"item_limit"},ma={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},na={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},oa={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},pa={defaultValue:!0,kind:"LocalArgument",name:"load_items"},qa={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},ra={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},sa={defaultValue:null,kind:"LocalArgument",name:"message_limit"},ta={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},ua={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},va={defaultValue:null,kind:"LocalArgument",name:"page_id"},wa={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},xa={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},ya={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},za={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},Aa={defaultValue:null,kind:"LocalArgument",name:"source"},Ba={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},Ca={defaultValue:null,kind:"LocalArgument",name:"wa_params"},Da={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},Ea={defaultValue:480,kind:"LocalArgument",name:"width"},Fa={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},Ga=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],Ha={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},Ia={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[Ha]},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Ja={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},Ka={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ja,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},La=[{kind:"Literal",name:"last",value:1}],c={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},d=[a],Ma={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f=[e],Pa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:f,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},i=[g,h,Qa,Ra,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];i={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},k=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[l],Sa=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};k=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:d,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:240,width:240)"},n,o,p];var Ta={kind:"InlineFragment",selections:k,type:"Sticker",abstractKey:null},q=[l,o,p],Ua={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:null},Va={kind:"Literal",name:"sizing",value:"contain-fit"},Wa=[Va],Xa={alias:null,args:Wa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(sizing:"contain-fit")'},r={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ta,Ua,Xa,r,Ya,s],storageKey:null},Za={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:f,storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},ab={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},bb={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:f,storageKey:null}],storageKey:null},cb={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},db={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},eb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[h,n],storageKey:null},fb={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},gb={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},hb={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,ib,jb,v,kb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},lb={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},mb={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},nb={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},pb={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},qb={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},rb={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},ub={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,g,h,y,sb,z,tb,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[e,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,h,g,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[g,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[e,j,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};var A={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[ub,y],storageKey:null},vb={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},wb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[gb,hb,w,lb,mb,a,nb,ob,pb,qb,rb,x,A,vb,Ra],storageKey:null},xb={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},yb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:m,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},zb={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Bb={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},C={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},D={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},E=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},D,n],Eb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:E,storageKey:null};E={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:E,storageKey:null};var Fb={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};u={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[B,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[u,Fb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var Gb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},Hb={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},Ib={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null},Jb={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:f,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},sb,h],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},Ib],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},F={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},Kb={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},G=[F,Kb,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],H={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:G,storageKey:null},I=[B,u,Gb,Hb,h,Jb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[C,Eb,E,H],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Lb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},Mb={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};G={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:G,storageKey:null},Mb],type:"P2PBubbleAmountComponent",abstractKey:null};var J=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},o,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},l,p],Nb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:J,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};J={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Mb,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:J,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:J,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},e],type:"P2PBubbleTextComponent",abstractKey:null};var Ob={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};I={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:I,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Lb,G,Nb,J],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:I,storageKey:null},Mb,Ob,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:I,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var Pb={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Qb={kind:"InlineFragment",selections:[Pb,n],type:"User",abstractKey:null},Rb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},Sb={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},Tb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Ub={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Vb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},K={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null},Wb=[K],Xb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:d,storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},Yb=[L],Zb={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:Yb,storageKey:null},$b={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},ac={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},bc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[Kb],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},cc=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,b,D,Qb],storageKey:null},Rb,Sb,C,Tb,Ub,Vb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:Wb,storageKey:null},Xb],storageKey:null},Zb,$b,M,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,N,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:Wb,storageKey:null},n],storageKey:null},a,ac,bc,O,I];L={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[L,Kb],storageKey:null};var dc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F],storageKey:null},P=[b,a,D,Qb],Q={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:P,storageKey:null};P={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:P,storageKey:null};var ec={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},fc={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:d,storageKey:null},R={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:cc,storageKey:null},gc={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},hc={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},ic={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};w=[gb,hb,w,lb,mb,a,nb,ob,pb,qb,rb,x,A];A={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:w,storageKey:null};var jc={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},kc={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};w={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:w,storageKey:null};var nc=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],oc={kind:"InlineFragment",selections:nc,type:"MessageImage",abstractKey:null};nc={kind:"InlineFragment",selections:nc,type:"Photo",abstractKey:null};var pc={kind:"Literal",name:"media_type",value:"image/gif"},qc={alias:null,args:[pc],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(media_type:"image/gif")'};pc={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},pc,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var rc={kind:"InlineFragment",selections:[qc,pc,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},Va,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},sc={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:m,storageKey:null}],storageKey:null},tc={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},uc=[o,p,l],vc=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],wc={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:vc,storageKey:null};uc={kind:"InlineFragment",selections:[sc,tc,zb,s,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},Va,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:uc,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},Oa,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},wc,r,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},Va,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:uc,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},Va,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:uc,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var xc={kind:"InlineFragment",selections:[p,o,a,s],type:"Video",abstractKey:null},S=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,N,jc,kb,kc,b,lc,mc,w,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,oc,nc,rc,uc,xc],storageKey:null}],storageKey:null}],yc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},zc={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},Bc={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},Cc=[Ac,Bc],Dc={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},zc,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:Cc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Ac,Bc,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Ec={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:d,storageKey:null},Fc={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},Gc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},Hc={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Ic=[s,n,K],Jc={kind:"InlineFragment",selections:Ic,type:"MessageVideo",abstractKey:null};Ic={kind:"InlineFragment",selections:Ic,type:"MessageImage",abstractKey:null};var Kc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},Lc={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Mc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Nc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,Mc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Oc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Pc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null},Qc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Sc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Tc={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Uc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Vc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Wc=[a,b,D],Xc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Wc,storageKey:null},Yc={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},Zc={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},$c=[Yc,Zc],ad={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:$c,storageKey:null},bd={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},cd={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},dd=[{kind:"Literal",name:"first",value:1}],ed={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"cover-fill-cropped")'},fd={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},gd={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},hd={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},id={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},jd={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},kd={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},ld={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},md={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},nd={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:d,storageKey:null},od={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,Pb,D],storageKey:null},pd={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},Fb,j],storageKey:null},qd={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},rd={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},sd={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null},td={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:d,storageKey:null},ud={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:$c,storageKey:null},vd={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},wd={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},xd={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},yd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},l],storageKey:null},zd={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},Bd={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},Cd=[a,b],Dd=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:Cd,storageKey:null}],Ed={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Fd={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},Gd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},Hd={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Id=[b],Jd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:f,storageKey:null},Kd={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Ld={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},Md={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Nd={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(width:300)"},Od={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Pd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Qd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Rd={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Sd={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Td={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Ud={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Vd={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Wd={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Xd={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Yd={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},Zd={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},$d={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:d,storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},ee={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:f,storageKey:null},fe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:f,storageKey:null},T=[l,p,o],ge={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},ue={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[qe,re,U,se,te],storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},Be={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},Ce={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:m,storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},Fe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:f,storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},He={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:f,storageKey:null};F=[F,Kb];Kb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:F,storageKey:null};var Ie={alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:m,storageKey:"images(height:120,width:120)"},Je={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};Sa={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[Ib,He,{alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:120,width:120)"}],storageKey:null};var Ke=[te,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],Le={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Ke,storageKey:null},Me={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Ke,storageKey:null};Ke={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Ke,storageKey:null};var Ne={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};F={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:F,storageKey:null};var Pe={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Qe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[jd],storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},Ve={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:f,storageKey:null},We={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:f,storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};Wa={alias:null,args:Wa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"contain-fit")'};var Ye={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Wa],storageKey:null},Ze={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};Va={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},Va,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var af={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:Cc,storageKey:null};Fb={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[Fb],storageKey:null};var bf={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},cf={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},df={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},ef={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},cf,df],type:"MessengerEventReminder",abstractKey:null},ff={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},hf={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};U=[U,re,se,Bc,Ac,te,qe,jf];se={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:U,storageKey:null};Bc={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:U,storageKey:null};Ac={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,A],storageKey:null}],storageKey:null};qe={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};var kf=[p,o,l],lf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:kf,storageKey:null},mf={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,qe,lf],storageKey:null};U={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:U,storageKey:null};var nf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,U],storageKey:null}],storageKey:null},of={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},pf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},qf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};qe={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,qe,lf,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:f,storageKey:null}],storageKey:null};lf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,pf,U],storageKey:null}],storageKey:null};var rf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:T,storageKey:null},sf={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},tf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Cd,storageKey:null},uf={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[j,b,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},vf=[e,g];vf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:vf,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:vf,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};var wf={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},xf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:q,storageKey:null},yf={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},zf={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},Af={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[yf,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},zf],type:"IceBreakerMessageAttachment",abstractKey:null},Bf={kind:"Literal",name:"height",value:280},Cf={kind:"Literal",name:"width",value:280},Df=[Bf,Cf],Ef={alias:"preview",args:Df,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:280,width:280)"},Ff={kind:"Literal",name:"height",value:480},Gf={kind:"Literal",name:"width",value:480},Hf={alias:"large_preview",args:[Ff,Gf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:480,width:480)"},If={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},Jf={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},Kf={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},Mf={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},Of={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:d,storageKey:null}],storageKey:null},Pf={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},Qf=[Pb],Rf={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},Sf={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},Tf={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},Uf={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Vf={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Uf],storageKey:null}],storageKey:null},Wf={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},Xf={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},Yf={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},Zf={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},z,Uf],storageKey:null},$f={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},ag={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},bg={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},cg={kind:"Literal",name:"first",value:3},dg=[cg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],eg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},fg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},gg={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},hg={kind:"InlineFragment",selections:Qf,type:"User",abstractKey:null},ig=[n],jg={kind:"InlineFragment",selections:ig,type:"Entity",abstractKey:"__isEntity"},kg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,hg,jg,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],storageKey:null},lg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},mg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ya,lg],storageKey:null},ng={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null};cg=[cg];var og={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},pg=[{kind:"Literal",name:"if_style",value:"file_upload"}],qg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:Wb,storageKey:null},rg=[{kind:"Literal",name:"if_style",value:"photo"}],sg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},tg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,hg,jg],storageKey:null},ug={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:Wb,storageKey:null},vg={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[ug],storageKey:null},wg={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},xg={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[wg],storageKey:null},yg={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},zg={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},Ag={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:f,storageKey:null},Bg={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Cg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:d,storageKey:null},Dg={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Eg={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},Fg={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Hg={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:m,storageKey:'logo(size:"D32")'},Ig={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},Jg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:m,storageKey:null},Kg={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},Lg={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},Mg={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},Ng={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},Og={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},zf,Ng,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},Pg={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},Qg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};cc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,yb,{kind:"InlineFragment",selections:[a,zb,s,Ab,Bb,Cb,Db],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Eb,E,I],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:cc,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[L,dc,Q,P,ec,fc,a,O,R,gc,M,hc,ac,I,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[L,dc,Q,P,ec,fc,a,O,R,gc,M,hc,ac,I],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},I,{kind:"InlineFragment",selections:[ic,A,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:S,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[ic,A,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:S,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},yc,Dc,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:d,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Ec,Fc,Gc,Hc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Jc,Ic],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,Kc,c,Lc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Nc,Oc,Pc,Qc,Rc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Sc,Tc,Uc,a,Mc,Vc,Xc,ad,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,N,bd,cd,{alias:null,args:dd,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[ed],storageKey:"images(first:1)"},fd],storageKey:null}],storageKey:null},gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,Qc,Rc,rd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,sd,td,ud,vd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,wd,xd,yd,zd,Ad,Bd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Dd,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,t,Za,$a,ab,bb,cb,db,eb,fb,wb,xb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Ed,Fd,Gd,Hd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Id,storageKey:null},Jd,Kd,Ld,Md,Nd,b,Od],type:"Event",abstractKey:null},Pd,Qd,{kind:"InlineFragment",selections:[a,b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,w,A],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,Rd,Xd,Yd,mc,Sd,Zd,$d,ae,be,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,ce,de,ee,fe,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[ge],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,he,ie,je,ke,le,me,ne,oe,pe,ue,jd,ve,we,xe,ye,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:S,storageKey:null},ze,Ae,Be,Ce],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[De,Ee,Fe,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Ge,b,He,N,Kb,Ie,Je],storageKey:null},Sa,Le,Me,Ke,Ne,Oe,F,Pe,Qe,Re,Se,Te,Ue],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:d,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[Ve,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:d,storageKey:null},We,Xe,Ye,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[We,Ye],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Ze,$e,Va,af,b,Fb,a,bf],type:"Page",abstractKey:null},ef,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,ff,gf,hf,se,Bc,Ac,mf,nf],storageKey:null},of,pf,U,qf,ze],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,ff,gf,hf,se,Bc,Ac,qe,lf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ke],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Id,storageKey:null},ze],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[a,rf,sf,b,tf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,uf],type:"UserLeadGenInfo",abstractKey:null},vf,{kind:"InlineFragment",selections:[a,b,wf,l,Bb,Cb],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,s,Ab,Bb,Cb,zb,o,xf,p],type:"WECMessageVideo",abstractKey:null},Af,{kind:"InlineFragment",selections:[a,Bb,Ef,Hf],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[a,If,Jf,Kf,Lf,Mf,Nf,Of],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,Pf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Qf,storageKey:null}],storageKey:null},Rf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,Rf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,Rf,Sf,Tf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Wf,Xf,Yf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B],storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[$f,ag,bg,{alias:null,args:dg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[eg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},fg,gc,gg,kg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,hg,jg],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[$a,n,Za,Pa,mg,ng,{alias:null,args:cg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[og,{alias:"files",args:pg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[ng,qg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:rg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[qg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[sg,tg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[mg],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,b,D,vg,xg,yg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b,zg,Ag,Bg,vg,Cg,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,Dg,Eg,Fg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Gg,b,Hg,Ig],storageKey:null},Jg,Kg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Mb,tb,Lg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:d,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Mg],type:"ApplicationReferralXMA",abstractKey:null},Og,{kind:"InlineFragment",selections:[a,Pg],type:"XFBP2MXMA",abstractKey:null},Qg],storageKey:null};Q={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,t,Za,$a,ab,bb,cb,db,eb,fb,wb,xb,cc,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Pa,i,t,Za,$a,ab,bb,cb,db,eb,fb,wb,xb,cc],storageKey:null}],storageKey:null};P={kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"};R={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Oa,Q,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[P,b],storageKey:null}],storageKey:null},Q],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null};I={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:k,storageKey:null};A={kind:"Literal",name:"sizing",value:"cover-fill"};S={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};Ye={kind:"InlineFragment",selections:[sc,tc,zb,{alias:"preview",args:[Bf,A,Cf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[Ff,A,Gf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,p,o,S,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:kf,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},l],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},Oa,wc,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};Ac={kind:"InlineFragment",selections:[sc,tc,zb,qc,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},Oa,pc,wc],type:"MessageAnimatedImage",abstractKey:null};Qf={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};qg={kind:"InlineFragment",selections:[sc,tc,zb,s,r,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Ab,Qf],type:"MessageAudio",abstractKey:null};mg={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null};vg={kind:"InlineFragment",selections:[sc,tc,zb,n,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},mg,wf,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Ab,Qf,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null}],type:"MessageFile",abstractKey:null};w=[B,Ye,Ac,qg,uc,vg];t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:w,storageKey:null};eb={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};wb={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:d,storageKey:null};cc={kind:"InlineFragment",selections:[wb],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null};Bf={alias:"last_message",args:La,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:d,storageKey:null}],storageKey:null},Ma,Na,{kind:"InlineFragment",selections:[R,I,t],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[eb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[cc],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},Q,k],storageKey:null}],storageKey:"messages(last:1)"};Cf={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null};Ff={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null};Gf={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null};q={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Ff,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Gf],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Wc,storageKey:null};qc={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null};pc={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]};sc={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null};tc={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:m,storageKey:"square_image(size:60)"};Qf={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null};Wc={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null};var Rg={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Sg={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},Tg={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},Ug={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},Vg={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Wg={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Xg={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},Yg={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},Zg={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},$g={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},ch={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},fh={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},gh={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[eh,fh],storageKey:null},hh={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},ih={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[dh,gh,hh],storageKey:null},jh={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},kh={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},mh={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},oh={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},ph={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},qh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:m,storageKey:null},rh={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,jh,kh,lh,mh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[nh,oh,ph,qh],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},sh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:d,storageKey:null},th={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},uh={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},vh={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},wh=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],xh={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:wh,storageKey:null},yh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[xh],storageKey:null},zh={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:d,storageKey:null},Ah={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},Bh={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null};Cc={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:Cc,storageKey:null};var Ch={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Dh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},Eh={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},Fh={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Gh={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Ih={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:d,storageKey:null},Jh={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Kh={alias:null,args:dd,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,zh,df,Ah,Bh,Cc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Ch],storageKey:null},Dh,Eh,Fh,cf,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V],storageKey:null},Gh,Hh,Ih,Jh],storageKey:null}],storageKey:"event_reminders(first:1)"},Lh={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:d,storageKey:null},Mh=[Ma],Nh={alias:"last_read_receipt",args:La,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Mh,storageKey:null}],storageKey:"read_receipts(last:1)"},Oh={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Ph={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},Qh={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},Rh={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},Sh={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,W,Qh,Rh],storageKey:null}],storageKey:null},Th=[a,b,Mb],Uh={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:Th,storageKey:null}],storageKey:null},Vh={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},Wh={alias:null,args:null,kind:"ScalarField",name:"is_ai_handoff_label",storageKey:null},Xh={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,Qh,W,Vh,Wh,Rh],storageKey:null}],storageKey:null},Yh={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Oh,sd,Sh,Uh,Xh],storageKey:null},Zh={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},$h={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},ai={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Zh,$h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:d,storageKey:null}],storageKey:null};re={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[re,te],storageKey:null}],storageKey:null};var bi={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},ci={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},di={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},gi={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},hi={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},ii={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},ji={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},ki={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},li={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[ki],storageKey:null}],type:"User",abstractKey:null},mi={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},ni={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},mi],storageKey:null},oi={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Lc,Xe,We,re,bi,ci,di,ei,fi,gi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:Wb,storageKey:null},hi,ii],storageKey:null},ji,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a,li],storageKey:null},ni],storageKey:null},pi={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},qi={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},ri={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},si={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},ti={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:Cd,storageKey:null},ui=[og],vi={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:ui,storageKey:null},wi={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},xi={kind:"InlineFragment",selections:[b,Ze],type:"Page",abstractKey:null};Cg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[pi,a,b,D,Cg,qi,ri,si,ti,vi,wi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[pi,a,b,D,qi,ri,si,Od,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[xi],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};var yi={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},zi={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Ai={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},Bi={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Ci={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Di={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Ei={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null};eh={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[eh,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null};var Fi={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Gi={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ii={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Ki={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Li=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Ki],Mi={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Li,storageKey:null},Ni={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Oi=[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:20,width:20)"}],Pi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:Oi,storageKey:null},Qi={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null};Wb={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Fi,Gi,Hi,Ii,Ji,Mi,Ni,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pi],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:Wb,storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},Qi],storageKey:null};var Ri={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Si={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null};ig={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:ig,storageKey:null}],storageKey:null};var Ti={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Ui={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,j,g,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[Lg,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},zc],storageKey:null},Vi={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},Xi={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,Wi],storageKey:null},Yi={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},Zi={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},$i={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},aj={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},bj={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},cj={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},dj={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},ej={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},c],storageKey:null},fj={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},gj={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[fj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null}],storageKey:null},hj={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},ij={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,b,hg],storageKey:null}],storageKey:null},jj={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},kj={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},lj={kind:"InlineFragment",selections:d,type:"Profile",abstractKey:"__isProfile"},mj={kind:"InlineFragment",selections:d,type:"MessengerViewerGroupThread",abstractKey:null};Ja={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ja],storageKey:null}],type:"MessageThread",abstractKey:null};var nj={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},oj={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[z,Uf,g,Xf],storageKey:null};mi={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},b,mi,x,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};R={kind:"InlineFragment",selections:[kj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Uf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,lj,mj,Ja],storageKey:null},nj],storageKey:null}],storageKey:null},oj,R,I,t,mi],type:"UserMessage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null};var pj={kind:"InlineFragment",selections:[t,c],type:"VoiceCallMessage",abstractKey:null};w=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}];var qj={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},c],type:"ThreadNameMessage",abstractKey:null};Df={alias:"preview",args:Df,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:280,width:280)"};var sj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Df,Oa,wc],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null},tj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:d,storageKey:null},c],type:"ParticipantsAddedMessage",abstractKey:null},uj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:d,storageKey:null},c],type:"ParticipantLeftMessage",abstractKey:null},vj={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};vj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,e,vj,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,e,vj,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:wh,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};wh={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null};jf={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,df,cf,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},Bh,Ah,Hh,Gh,zh,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:d,storageKey:null},Cc,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[wh,jf,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},Jh],storageKey:null};var X=[jf],wj={kind:"InlineFragment",selections:X,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},xj={kind:"InlineFragment",selections:X,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},yj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},zj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Aj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Bj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Cj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};X={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};var Dj={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null};jf={kind:"InlineFragment",selections:[Dj,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},jf],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};var Ej={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Fj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};fh={kind:"InlineFragment",selections:[fh,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};var Gj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Hj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Ij={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Jj={kind:"InlineFragment",selections:[Ij,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},$h],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Kj={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Lj={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},Mj={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Nj={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Oj={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Pj={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Qj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Sj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},Tj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Uj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Vj={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Wj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Sj,Tj,Uj,Vj],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},Xj={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},Yj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},Xj,h,N,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},Ng,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},Zj={kind:"InlineFragment",selections:[Ad,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},$j={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},ak={kind:"InlineFragment",selections:[Ad,$j,Nj,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};zc={kind:"InlineFragment",selections:[zc],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};$j={kind:"InlineFragment",selections:[$j,Nj,V,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},ek={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},fk={kind:"InlineFragment",selections:[ek],type:"MessengerAdContextAdminText",abstractKey:null},gk={kind:"InlineFragment",selections:[aj,zf,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},hk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},ik=[x],jk={kind:"InlineFragment",selections:ik,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},kk={kind:"InlineFragment",selections:ik,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};ik={kind:"InlineFragment",selections:ik,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var lk={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},mk={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},nk={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},ok={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},pk={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},qk={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},rk={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};Sj={kind:"InlineFragment",selections:[Sj,Tj,Uj,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Vj],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};Tj={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Uj={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null};Vj=[x,Tj,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Uj,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];var sk={kind:"InlineFragment",selections:Vj,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Vj={kind:"InlineFragment",selections:Vj,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};var tk={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},uk={kind:"InlineFragment",selections:[x,Tj,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},tk,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},vk={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};ek={kind:"InlineFragment",selections:[ek,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var wk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},xk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},yk={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},zk={kind:"InlineFragment",selections:[yk,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};yk={kind:"InlineFragment",selections:[yk,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var Ak={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},Bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},Ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null};ug={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,vj,wj,xj,yj,zj,Aj,Bj,Cj,X,jf,Ej,Fj,fh,Gj,Hj,Jj,{kind:"InlineFragment",selections:[wb,Kj,Lj,Mj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Nj,Ng,ug,Oj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Pj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Qj,Rj,Wj,Yj,Zj,ak,bk,ck,zc,$j,dk,fk,gk,hk,jk,kk,ik,{kind:"InlineFragment",selections:[lk,mk,nk,Ij,ok,pk,qk,rk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Sj,sk,Vj,uk,vk,ek,wk,xk,zk,yk,Ak,Bk,Ck],storageKey:null},eb,c],type:"GenericAdminTextMessage",abstractKey:null};w=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:Yb,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:d,storageKey:null},c];Yb={kind:"InlineFragment",selections:w,type:"P2PPaymentRequestMessage",abstractKey:null};w={kind:"InlineFragment",selections:w,type:"P2PPaymentMessage",abstractKey:null};gj=[Ui,B,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,gj,hj,ij,jj,k,R,pj,qj,rj,sj,tj,uj,ug,Yb,w,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[jd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Ui,B,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,gj,hj,ij,jj,k,R,pj,qj,rj,sj,tj,uj,ug,Yb,w],storageKey:null}],storageKey:null}];ij={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ti,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:gj,storageKey:null}]}],storageKey:null};R={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null};qj={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null};sj={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,zg,R,D,vi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[qj],storageKey:null}],storageKey:null}],storageKey:null};ug={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:gj,storageKey:null}]};var Dk={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},Ek={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},Fk={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null};Cd={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:Cd,storageKey:null};var Gk={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},Hk={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},Ik={alias:null,args:dd,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Fk,Cd,{alias:null,args:dd,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gk,Hk],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Jk={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},Kk={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},Lk={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null};ki={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[ki,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Uj,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Ki,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},ff,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null};Uj={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Li,storageKey:null};Ki={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null};Li={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};var Y={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:60,width:60)"},Mk={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Nk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Ok={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Pk={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Qk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Rk={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Sk={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Tk={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},Uk={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null};Id={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Id,storageKey:null},wg],storageKey:null};var Vk={kind:"InlineFragment",selections:[Li,n,Y,Pb,Nk,Ok,Pk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Wk={kind:"InlineFragment",selections:[n,Y,Mk,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Ok,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Pk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Xk=[n,Y,Pk],Yk={kind:"InlineFragment",selections:Xk,type:"SmsMessagingParticipant",abstractKey:null},Zk={kind:"InlineFragment",selections:[Y,Pk],type:"InstagramMessagingUser",abstractKey:null},$k=[Y],al={kind:"InlineFragment",selections:$k,type:"LiveChatOnlyPerson",abstractKey:null};Xk={kind:"InlineFragment",selections:Xk,type:"UnavailableMessagingActor",abstractKey:null};var bl={kind:"InlineFragment",selections:$k,type:"UnifiedMessagingInstagramUser",abstractKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},dl=[n,Y,Mk],el={kind:"InlineFragment",selections:dl,type:"Group",abstractKey:null};dl={kind:"InlineFragment",selections:dl,type:"Event",abstractKey:null};j={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},j,g],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"};var fl=[n,Y,Pb,Pk],gl={kind:"InlineFragment",selections:fl,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"};fl={kind:"InlineFragment",selections:fl,type:"XFBWorkroomsSystemUser",abstractKey:null};var hl={kind:"InlineFragment",selections:$k,type:"MessengerCallGuestUser",abstractKey:null},il={kind:"InlineFragment",selections:$k,type:"WorkVCEndpointUser",abstractKey:null},jl={kind:"InlineFragment",selections:$k,type:"WECMailboxAccount",abstractKey:null};$k={kind:"InlineFragment",selections:$k,type:"WECCustomer",abstractKey:null};var kl={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},ll={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null};Dd={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Dd,storageKey:null};Id={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Ki,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,B,b,{kind:"InlineFragment",selections:[Li,n,Y,Pb,Mk,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Id],type:"User",abstractKey:null},Vk,Wk,Yk,Zk,al,Xk,bl,{kind:"InlineFragment",selections:[n,Y,Mk,cl,Pk,Id],type:"ReducedMessagingActor",abstractKey:null},el,dl,j,gl,fl,hl,il,jl,$k,{kind:"InlineFragment",selections:[Y,kl,ll,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Dd,og],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Dd],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Dd={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null};var ml={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},nl={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Dd,ml,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null};Mh=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Mh,storageKey:null}],storageKey:null}];var ol={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:Mh},pl=[Ia,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ka,b,Bf,Cf,q,S,qc,pc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,ih,rh,sh,th,uh,vh,yh,Kh,Lh,Nh,Yh,ai,oi,Cg,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,Wb,Ri,Si,ig,ij,sj,ug,N,Dk,Ek,Ik,Jk,Kk,Lk,ki,Uj,Id,nl,ol],storageKey:null}],ql={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},rl=[ql,D],sl={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},Al={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[Ge,Lg,Tj],storageKey:null},Bl={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},Cl={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[sl,Bl],storageKey:null},Dl={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,W,Qh],storageKey:null}],storageKey:null},El={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,W],storageKey:null}],storageKey:null};Oi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:Oi,storageKey:null};var Fl={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Il={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},ql,Mk,b,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},Ol={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[h,yf],storageKey:null},Pl=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],Ql={alias:null,args:Pl,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:m,storageKey:null},Rl={alias:null,args:Pl,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:T,storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Tl=[ql,Mk,b,D],Ul={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Tl,storageKey:null},Vl={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[Bl,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Ql,Rl,Sl],storageKey:null}],storageKey:null};Tl={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Tl,storageKey:null};var Wl={alias:null,args:Pl,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:T,storageKey:null},Xl={kind:"InlineFragment",selections:f,type:"IGMessageThreadItemMediaShare",abstractKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},Zl={kind:"InlineFragment",selections:[Yl,e,g],type:"IGMessageThreadItemReelShare",abstractKey:null};Yl={kind:"InlineFragment",selections:[Yl,yf,h,e],type:"IGMessageThreadItemStoryShare",abstractKey:null};yf={kind:"InlineFragment",selections:[h,e],type:"IGMessageThreadItemFelixShare",abstractKey:null};var $l={kind:"InlineFragment",selections:[h,sb,e,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},l],type:"IGMessageThreadItemProductShare",abstractKey:null},am={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},cm={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:T,storageKey:null};$c={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[N,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:$c,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[Yc,Zc,Mb,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null};Yc={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[Nl,e,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null};Zc={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:kf,storageKey:null};kf={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},Db],storageKey:null};var Z=[Bl,Wl],dm={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:Z,storageKey:null},em={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[h,sb,l,dm],storageKey:null},fm={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},im={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[fm,gm,hm,h,sb,mc,dm],storageKey:null};sb={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},sb,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:T,storageKey:null},dm,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:T,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},mc,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Qa,h],storageKey:null}],storageKey:null};dm={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[fm,gm,hm,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:Z,storageKey:null},mc],storageKey:null};T={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[h,Qa],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:Z,storageKey:null}],storageKey:null};fm={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null};gm={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[e,V,Lg,Tj],storageKey:null};hm={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};Qa={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null};Z={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[hm,Qa],storageKey:null};Ul=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,Ge,Xj,Ll,Ml,e,Nl,Ol,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Bl,Ql,Rl,Sl,Ul],storageKey:null},Vl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Tl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Bl,Wl,Rl,Sl,Ul],storageKey:null},Xl,Zl,Yl,yf,$l],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[am,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:rl,storageKey:null},bm],storageKey:null},{alias:null,args:Pl,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Tl,cm],storageKey:null},$c,Yc,Zc,kf,em,im,sb,dm,T,fm,gm],storageKey:null},Z];Tl={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null};var jm=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],km=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],lm={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};Mh={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:Mh};var mm={kind:"Variable",name:"page_id",variableName:"page_id"},nm=[mm],om={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},pm={kind:"RootArgument",name:"page_id"},qm={kind:"Variable",name:"business_assets",variableName:"businessAssets"};mm={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[qm,mm],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]};var rm=[sl];rm={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:rm,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:rm,storageKey:null}]}],storageKey:null};var sm={alias:null,args:nm,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null};qm=[qm];var $=[B,a],tm={kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},um={kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},vm={kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},wm={kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null};Ta={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ta,Ua,Xa,r,Ya,s,P,tm,um,vm,wm],storageKey:null};Ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[B,h,n],storageKey:null};Xa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[B,a,{kind:"InlineFragment",selections:[ib,jb,v,kb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};r={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[B,ub,y],storageKey:null};ib={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[gb,hb,Xa,lb,mb,a,nb,ob,pb,qb,rb,x,r,vb,Ra],storageKey:null};jb=[B,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},u,Gb,Hb,h,Jb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[B,C,Eb,E,H,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];v={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:jb,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[B,Lb,G,Nb,J],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:jb,storageKey:null},Mb,Ob,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:jb,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};ub={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[B,a,b,D,Qb],storageKey:null};y=[K,a];vb={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:y,storageKey:null},Xb,a],storageKey:null};Ra={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,N,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:y,storageKey:null},n,a],storageKey:null};u=[B,b,a,D,Qb];Gb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:u,storageKey:null};Jb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:u,storageKey:null};H={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[Eb,ub,Rb,Sb,C,Tb,Ub,Vb,vb,Zb,$b,M,Ra,a,ac,bc,O,v],storageKey:null};Lb=[gb,hb,Xa,lb,mb,a,nb,ob,pb,qb,rb,x,r];G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Lb,storageKey:null};Nb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Lb,storageKey:null};J=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,N,jc,kb,kc,b,lc,mc,Nb,G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,oc,nc,rc,uc,xc,P,tm,um,vm,wm],storageKey:null}],storageKey:null}];Ob=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b],storageKey:null},a];jb={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,Wa,a],storageKey:null};Xb={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,G],storageKey:null}],storageKey:null};Qb=[b,a];u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ya,lg,P,tm,um,vm,wm],storageKey:null};gb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,K,P,tm,um,vm,wm],storageKey:null};hb={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:y,storageKey:null};Xa={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[hb],storageKey:null};lb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$,storageKey:null};mb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,yb,{kind:"InlineFragment",selections:[zb,s,Ab,Bb,Cb,Db],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Eb,E,v],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Eb,ub,Rb,Sb,C,Tb,Ub,Vb,vb,Zb,$b,M,Ra,ac,bc,O,v],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[L,dc,Gb,Jb,ec,fc,O,H,gc,M,hc,ac,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[L,dc,Gb,Jb,ec,fc,a,O,H,gc,M,hc,ac,v],storageKey:null},v],type:"PeerToPeerPaymentRequest",abstractKey:null},v,{kind:"InlineFragment",selections:[ic,G,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:J,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[ic,G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:J,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},yc,Dc,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Ec,Fc,Gc,Hc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[B,Jc,Ic,P],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Kc,c,Lc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Nc,Oc,Pc,Qc,Rc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[Sc,Tc,Uc,Mc,Vc,Xc,ad,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,N,bd,cd,{alias:null,args:dd,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[ed,a],storageKey:"images(first:1)"},fd],storageKey:null}],storageKey:null},gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,Qc,Rc,rd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[sd,td,ud,vd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[wd,xd,yd,zd,Ad,Bd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Ob,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,Ta,Za,$a,ab,bb,cb,db,Ua,fb,ib,xb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Ed,Fd,Gd,Hd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,b,P],storageKey:null},Jd,Kd,Ld,Md,Nd,b,Od],type:"Event",abstractKey:null},Pd,Qd,{kind:"InlineFragment",selections:[b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,Nb,G],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Rd,Xd,Yd,mc,Sd,Zd,$d,ae,be,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[ce,de,ee,fe,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[ge,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[he,ie,je,ke,le,me,ne,oe,pe,ue,jd,ve,we,xe,ye,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:J,storageKey:null},ze,Ae,Be,Ce],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[De,Ee,Fe,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Ge,b,He,N,Kb,Ie,Je,a],storageKey:null},Sa,Le,Me,Ke,Ne,Oe,F,Pe,Qe,Re,Se,Te,Ue],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Ve,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$,storageKey:null},We,Xe,jb,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[We,jb],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Ze,$e,Va,af,b,Fb,bf],type:"Page",abstractKey:null},ef,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,ff,gf,hf,se,Bc,Xb,mf,nf],storageKey:null},of,pf,U,qf,ze],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[ff,gf,hf,se,Bc,Xb,qe,lf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ke,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Qb,storageKey:null},ze],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[rf,sf,b,tf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[uf],type:"UserLeadGenInfo",abstractKey:null},vf,{kind:"InlineFragment",selections:[b,wf,l,Bb,Cb],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[s,Ab,Bb,Cb,zb,o,xf,p],type:"WECMessageVideo",abstractKey:null},Af,{kind:"InlineFragment",selections:[Bb,Ef,Hf],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[If,Jf,Kf,Lf,Mf,Nf,Of],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[Pf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[B,Pb,a],storageKey:null}],storageKey:null},Rf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[Rf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[Rf,Sf,Tf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[B,Wf,Xf,Yf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,P],storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[$f,ag,bg,{alias:null,args:dg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[eg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},fg,gc,gg,kg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,hg,jg,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[$a,n,Za,Pa,u,ng,{alias:null,args:cg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[og,{alias:"files",args:pg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[ng,gb],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:rg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[gb],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[sg,tg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[u],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[b,D,Xa,xg,yg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,zg,Ag,Bg,Xa,lb,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Dg,Eg,Fg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Gg,b,Hg,Ig,a],storageKey:null},Jg,Kg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Mb,tb,Lg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[Nb],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[Mg],type:"ApplicationReferralXMA",abstractKey:null},Og,{kind:"InlineFragment",selections:[Pg],type:"XFBP2MXMA",abstractKey:null},Qg],storageKey:null};nb={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,Ta,Za,$a,ab,bb,cb,db,Ua,fb,ib,xb,mb,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Pa,i,Ta,Za,$a,ab,bb,cb,db,Ua,fb,ib,xb,mb],storageKey:null}],storageKey:null};ob={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Oa,nb,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,b,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},nb],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null};pb=[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},Ye,Ac,qg,uc,vg,P];qb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:pb,storageKey:null};rb={alias:"last_message",args:La,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[B,c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$,storageKey:null},a],storageKey:null},Ma,Na,Q,k,a,{kind:"InlineFragment",selections:[ob,I,qb],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[eb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,cc],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"};x={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Ff,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Gf,a],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};r={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[dh,gh,hh,a],storageKey:null};Lb={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,jh,kh,lh,mh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[nh,oh,ph,qh,a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null};lc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$,storageKey:null};oc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[B,xh,a],storageKey:null};nc={alias:null,args:dd,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,zh,df,Ah,Bh,Cc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Ch,a],storageKey:null},Dh,Eh,Fh,cf,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V,a],storageKey:null},Gh,Hh,Ih,Jh],storageKey:null}],storageKey:"event_reminders(first:1)"};rc={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Oh,sd,Sh,Uh,Xh,a],storageKey:null};xc={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Zh,$h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$,storageKey:null}],storageKey:null};Wa={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Lc,Xe,We,re,bi,ci,di,ei,fi,gi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,K,a],storageKey:null},hi,ii],storageKey:null},ji,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[B,a,li],storageKey:null},ni],storageKey:null};Ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[pi,b,D,lb,qi,ri,si,ti,vi,wi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[pi,b,D,qi,ri,si,Od,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,xi,P],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};lg={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Fi,Gi,Hi,Ii,Ji,Mi,Ni,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pi,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[B,K,P,{kind:"InlineFragment",selections:d,type:"CatalogMarketplaceEnhancementTransformedImage",abstractKey:null},{kind:"InlineFragment",selections:d,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},Qi],storageKey:null};tm={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a],storageKey:null}],storageKey:null};um={kind:"TypeDiscriminator",abstractKey:"__isMessage"};vm={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[fj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$,storageKey:null}],storageKey:null};wm={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b,hg],storageKey:null},a],storageKey:null};y={kind:"InlineFragment",selections:[kj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Uf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,lj,mj,Ja,P],storageKey:null},nj],storageKey:null}],storageKey:null},oj,ob,I,qb,mi],type:"UserMessage",abstractKey:null};yb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:pb,storageKey:null}];Db={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:yb,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};E={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Df,Oa,wc,a],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null};Eb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,vj,wj,xj,yj,zj,Aj,Bj,Cj,X,jf,Ej,Fj,fh,Gj,Hj,Jj,{kind:"InlineFragment",selections:[wb,Kj,Lj,Mj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[B,{kind:"InlineFragment",selections:[Nj,Ng,hb,Oj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Pj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Qj,Rj,Wj,Yj,Zj,ak,bk,ck,zc,$j,dk,fk,gk,hk,jk,kk,ik,{kind:"InlineFragment",selections:[lk,mk,nk,Ij,ok,pk,qk,rk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:yb,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Sj,sk,Vj,uk,vk,ek,wk,xk,zk,yk,Ak,Bk,Ck],storageKey:null},eb,c],type:"GenericAdminTextMessage",abstractKey:null};ub=[B,um,Ui,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,vm,hj,wm,jj,k,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[jd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[B,um,Ui,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,vm,hj,wm,jj,k,a,y,pj,Db,rj,E,tj,uj,Eb,Yb,w],storageKey:null}],storageKey:null},a,y,pj,Db,rj,E,tj,uj,Eb,Yb,w];Rb={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ti,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:ub,storageKey:null}]}],storageKey:null};Sb={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,zg,R,D,vi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[qj,a],storageKey:null}],storageKey:null}],storageKey:null};C={alias:null,args:dd,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Fk,Cd,{alias:null,args:dd,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gk,Hk,a],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"};Tb={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Qb,storageKey:null},wg],storageKey:null};Ub={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Ob,storageKey:null};Vb={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Ki,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},a,b,{kind:"InlineFragment",selections:[Li,n,Y,Pb,Mk,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Tb],type:"User",abstractKey:null},Vk,Wk,Yk,Zk,al,Xk,bl,{kind:"InlineFragment",selections:[n,Y,Mk,cl,Pk,Tb],type:"ReducedMessagingActor",abstractKey:null},el,dl,j,gl,fl,hl,il,jl,$k,{kind:"InlineFragment",selections:[Y,kl,ll,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Ub,og],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Ub],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};vb={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Dd,ml,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null};Zb={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:ub,storageKey:null}]};$b=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ka,b,rb,Cf,x,S,qc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,r,Lb,lc,th,uh,vh,oc,nc,Lh,Nh,rc,xc,Wa,Ya,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,lg,Ri,Si,tm,Rb,Sb,N,Dk,Ek,C,Jk,Kk,Lk,ki,Uj,Vb,vb,pc,Zb,ol],storageKey:null},Ia];Ra=[ql,D,a];bc=[ql,Mk,b,D,a];L={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:bc,storageKey:null};dc={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:bc,storageKey:null};Gb=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,Ge,Xj,Ll,Ml,e,Nl,Ol,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Bl,Ql,Rl,Sl,L],storageKey:null},Vl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[B,dc,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Bl,Wl,Rl,Sl,L],storageKey:null},Xl,Zl,Yl,yf,$l],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[am,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:Ra,storageKey:null},bm],storageKey:null},{alias:null,args:Pl,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[dc,cm],storageKey:null},$c,Yc,Zc,kf,em,im,sb,dm,T,fm,gm,a],storageKey:null},Z];Jb={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null};ec=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}];fc=[{kind:"Literal",name:"first",value:20}];O={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};M={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]};hc={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null};ac=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}];v={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null};ic={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:vc,storageKey:null};yc={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[Qa,hm],storageKey:null};Dc=[{kind:"Literal",name:"first",value:400}];Ec={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null};Fc={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null};Gc={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null};Hc=[{kind:"Literal",name:"first",value:2}];Jc=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}];Ic=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];Kc={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'};Nc={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null};Oc=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}];Pc={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null};Sc={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null};Tc={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null};Uc={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null};Mc={alias:null,args:Dc,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,O,W,Qh,Rh,Ec,Uc,Fc,Gc,{alias:null,args:null,kind:"ScalarField",name:"is_immutable",storageKey:null},B],storageKey:null},H],storageKey:null},Z],storageKey:"custom_labels(first:400)"};Vc={alias:null,args:Dc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"};Xc={alias:null,args:Dc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"};ad={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:d,storageKey:null};bd=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}];cd=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];ed=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}];fd=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];gd=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}];hd=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[Fa,{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:pl,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:pl,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:rl,storageKey:null},Ha,sl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:dd,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Ul,storageKey:"thread_items(first:1)"}]}],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Tl,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:jm,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Ul,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,Ka,b,Bf,Cf,q,S,qc,pc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,ih,rh,sh,th,uh,vh,yh,Kh,Lh,Nh,Yh,ai,oi,Cg,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,Wb,Ri,Si,ig,ij,sj,ug,N,Dk,Ek,Ik,Jk,Kk,Lk,ki,Uj,Id,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[lm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:gj,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[nl]},Mh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[om],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:nm,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[pm]}]}],storageKey:null},mm],storageKey:null},rm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},sm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:nm,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:qm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},pm,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ia,fa,ga,ja,Ba,Aa,Ea,da,na,ma,wa,ea,ta,Ca,ua,Da,sa,aa,qa,ra,oa,la,ka,pa,va,ca,ya,xa,za,ha,ba],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[Fa,{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:Ra,storageKey:null},Ha,sl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:dd,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Gb,storageKey:"thread_items(first:1)"}]},a],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Tl,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:jm,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Gb,storageKey:null}]},a],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,Ka,b,rb,Cf,x,S,qc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,r,Lb,lc,th,uh,vh,oc,nc,Lh,Nh,rc,xc,Wa,Ya,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,lg,Ri,Si,tm,Rb,Sb,N,Dk,Ek,C,Jk,Kk,Lk,ki,Uj,Vb,pc,Zb,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[lm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:ub,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[vb]},Mh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[om,g,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Jb,{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Dj,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:m,storageKey:null},{alias:null,args:ec,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:m,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},Wi,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},te,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_wec_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Hi,{alias:null,args:fc,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,Qh,O,W,Vh,Wh,Rh,B],storageKey:null},H],storageKey:null},Z,M],storageKey:"corp_label_list(first:20)"},{alias:null,args:fc,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:fc,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,a,b,Ph,{kind:"InlineFragment",selections:[wh,mg,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},H],storageKey:null},Z,M],storageKey:"suggested_labels(first:20)"},{alias:null,args:fc,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"},{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[hc,e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Tj,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,n,P],storageKey:null},z,Uf],storageKey:null},e],storageKey:null},hc],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:ac,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},P,{kind:"InlineFragment",selections:[v,K,ic],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[v,K,ic,s],type:"MessageVideo",abstractKey:null}],storageKey:null},H],storageKey:null},yc],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:ac,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:Dc,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,O,W,Qh,Rh,Ec,Fc,Gc,B],storageKey:null},H],storageKey:null},Z,M],storageKey:"label_list(first:400)"},{alias:null,args:Dc,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:Th,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:Hc,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:f,storageKey:null},Lg,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[B,b,a],storageKey:null},B],storageKey:null},H],storageKey:null},yc,M],storageKey:"notes_list(first:2)"},{alias:null,args:Hc,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ic,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},Kc,a,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null},{alias:null,args:[{kind:"Literal",name:"tab",value:"DATA_SHARING"}],kind:"ScalarField",name:"wa_settings_uri_in_business_view",storageKey:'wa_settings_uri_in_business_view(tab:"DATA_SHARING")'},{alias:null,args:null,concreteType:"WhatsAppBusinessAccount",kind:"LinkedField",name:"linked_whatsapp_business_account",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_ctwa_data_sharing",storageKey:null},a],storageKey:null}],storageKey:null},Nc,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:Oc,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[B,Lg,Ib,g,He,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:f,storageKey:null},kb,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},Hb,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},tk,Pc],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:d,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[tk,W,Pc,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[W],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},H],storageKey:null},yc],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:Oc,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},Sc,{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Tc],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Tc,a],storageKey:null}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:ec,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Mc,Vc,{alias:null,args:Dc,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,Qh,O,W,Vh,Wh,Rh,Uc,B],storageKey:null},H],storageKey:null},Z],storageKey:"corp_labels(first:400)"},Xc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},ad,{alias:"is_in_kbank_rollout",args:bd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:cd,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ic,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Mc,Vc,{alias:null,args:Dc,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,O,W,Qh,Vh,Wh,Rh,Uc,B],storageKey:null},H],storageKey:null},Z],storageKey:"corp_labels(first:400)"},Xc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},ad,{alias:"is_in_kbank_rollout",args:bd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:cd,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:nm,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null}],storageKey:null}]}],storageKey:null},mm],storageKey:null},rm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:Hc,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},H],storageKey:null},yc,M],storageKey:"actions(first:2)"},{alias:null,args:Hc,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:ui,storageKey:null}],storageKey:null},a,Nc,{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Tj],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Jb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},Sc,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Kc,a,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ic,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},sm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:nm,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:ed,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:fd,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:hd,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:qm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:ed,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:fd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:hd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}]}]},params:{id:"24450288948004961",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}}();ba("relay-runtime").PreloadableQueryRegistry.set(aa.params.id,aa);ea.exports=aa}),null);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("CometFriendNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9754477301332178"}),null);
__d("CometFriendNotificationsStateChangeSubscription.graphql",["CometFriendNotificationsStateChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometFriendNotificationsStateChangeSubscription",selections:d,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometFriendNotificationsStateChangeSubscription",selections:d},params:{id:b("CometFriendNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometFriendNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("FriendingCometSubscriptionToastHelper",["react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("FriendingCometConfirmedFriendRequestToast.react").__setRef("FriendingCometSubscriptionToastHelper"),k=c("requireDeferred")("FriendingCometFriendRequestToast.react").__setRef("FriendingCometSubscriptionToastHelper"),l=new Set(),m={};function a(a,b){var c,d,e=a==null?void 0:a.friend_request_receive_subscribe,f=e==null||(c=e.notif)==null?void 0:c.seen_state,g=e==null||(d=e.notif)==null?void 0:d.notif_id;f==="UNSEEN_AND_UNREAD"&&g!=null&&(l.add(g),k.onReadyImmediately(function(c){if(!l.has(g))return;l["delete"](g);var d=b.push(i.jsx(c,{onCloseClick:function(){return b.expire(d)},response:a}),5e3);m[g]=d}))}function b(a,b){var c,d,e=a==null?void 0:a.friend_request_confirm_subscribe,f=e==null||(c=e.notif)==null?void 0:c.seen_state,g=e==null||(d=e.notif)==null?void 0:d.notif_id;f==="UNSEEN_AND_UNREAD"&&g!=null&&(l.add(g),j.onReadyImmediately(function(c){if(!l.has(g))return;l["delete"](g);var d=b.push(i.jsx(c,{onCloseClick:function(){return b.expire(d)},response:a}),5e3);m[g]=d}))}function e(a,b,c){var d=c.getState();a!=="UNSEEN_AND_UNREAD"&&b in m&&((a=d[m[b]])==null?void 0:a.shown)!==!0&&(c["delete"](m[b]),delete m[b],l["delete"](b))}g.pushFriendingCometToast=a;g.pushFriendingConfirmedCometToast=b;g.deleteToastIfSeen=e}),98);
__d("CometFriendNotificationsStateChangeSubscription",["CometFriendNotificationsStateChangeSubscription.graphql","CometRelay","FriendingCometSubscriptionToastHelper"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometFriendNotificationsStateChangeSubscription.graphql");function a(a,b){var c=function(a){var c;a=a==null||(c=a.notification_state_change_subscribe)==null?void 0:c.notification;var e=a==null?void 0:a.seen_state;a=a==null?void 0:a.notif_id;e!=null&&a!=null&&d("FriendingCometSubscriptionToastHelper").deleteToastIfSeen(e,a,b)};return d("CometRelay").requestSubscription(a,{onNext:c,subscription:i,variables:{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB"}}})}g.subscription=i;g.subscribeToFriendNotifs=a}),98);
__d("DedupMiThreadCreationCache",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();a=function(a){var b=c("justknobx")._("4749");b&&h.add(a)};g.DedupMiThreadCreationCache=h;g.addToDedupMiThreadCreationCache=a}),98);
__d("EBSMMainthreadAPI",["EBAPIQPLPoints","EBDeps","EBGating","EBMainThreadEBDBApiDeferred","EBSMWorkerThreadAPI","I64","LSIntEnum","MAWBridgeSendAndReceive","MAWWaitForBackendSetup","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLFlow","ReQL","WAHashStringToNumber","WebSession","gkx","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(a=c("requireDeferred"))("EBAddDeviceWithRecoveryCode").__setRef("EBSMMainthreadAPI"),k=a("EBAddVirtualDevice").__setRef("EBSMMainthreadAPI"),l=a("EBFetchBackupIds").__setRef("EBSMMainthreadAPI"),m=a("EBInitializeBackup").__setRef("EBSMMainthreadAPI"),n=a("EBOtcAddDevice").__setRef("EBSMMainthreadAPI");b=babelHelpers.extends({},c("EBSMWorkerThreadAPI"),{addDeviceWithRecoveryCode:function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];if(b.length===0||b[0]==null)return Promise.reject("Missing args");var g=d("QPLFlow").startQPLFlow(c("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:d("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1}},timeoutInMs:c("justknobx")._("2444")});void d("EBMainThreadEBDBApiDeferred").trackOverprompting(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent);if(c("gkx")("17731")&&b.length>0&&b[0]!=null)return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithRecoveryCodeInWorker",{qplInstanceKeyMainthread:g.getQPLAttrs().instanceKey,recoveryCode:b[0].recoveryCode,userId:b[0].userId});else return j.load().then(function(a){return a.addDeviceWithRecoveryCode(babelHelpers.extends({},b[0],{qplFlow:g}))})},addVirtualDevice:async function(a){var b=a.actionType,e=d("QPLFlow").startQPLFlow(c("qpl")._(521483240,"615"),{annotations:{int:{actionType:b}},timeoutInMs:c("justknobx")._("4211")});e.addPoint("add_virtual_device_start");var g=await o();if(g==null){e.addPoint("add_virtual_device_no_recovery_code_data");return Promise.reject("Missing recovery code data for addVirtualDevice")}if(c("gkx")("12707"))return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addVirtualDeviceInWorker",{actionType:b,qplInstanceKeyMainthread:e.getQPLAttrs().instanceKey,recoveryCodeData:g});else return k.load().then(function(a){return a.addVirtualDevice({actionType:b,qplFlow:e,recoveryCodeData:g})})},fetchBackupIds:function(a,b){var e=d("QPLFlow").startQPLFlow(c("qpl")._(521471024,"2275"),{annotations:{bool:{isBackendSetupOnStart:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},string:{ebSessionIdentifier:d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId(),source:a}}});e.addPoint("eb_fetch_backup_ids_start");if(d("EBGating").isFetchBackupIdsFromWorker()){e.addPoint("eb_fetch_backup_ids_bridge_call_start");return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","fetchBackupIdsInWorker",{qplInstanceKeyMainthread:e.getQPLAttrs().instanceKey,source:a})}else return l.load().then(function(b){return b.fetchBackupIds(a,e)})},initializeBackup:async function(a){var b=a.virtualDeviceId,e=a.virtualDeviceType;a=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());var g=d("QPLFlow").startQPLFlow(c("qpl")._(521478750,"2850"),{annotations:{int:{instanceKey:a,virtualDeviceType:(h||(h=d("I64"))).to_int32(e)}},instanceKey:a,timeoutInMs:c("justknobx")._("4211")});g.addPoint(d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_START);b!=null&&g.addAnnotations({string:{virtualDeviceId:b}});if(c("gkx")("17731")){a=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(16));b=a?null:await o();if(b==null&&!a){g.endFail(d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_FAIL_NO_RECOVERY_CODE);return Promise.reject("Missing recovery code data for initializeBackup")}b!=null&&void p();return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","initializeBackupInWorker",{qplInstanceKeyMainthread:g.getQPLAttrs().instanceKey,recoveryCodeData:b,virtualDeviceType:e})}else return m.load().then(function(a){return a.initializeBackup(g,e)})},otcAddDevice:function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];var g=d("QPLFlow").startQPLFlow(c("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:d("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!1,isOtc:!0}},timeoutInMs:c("justknobx")._("2444")});if(c("gkx")("17731")&&b.length>0&&b[0]!=null)return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithOtcInWorker",{initiatorId:b[0].initiatorId,qplInstanceKeyMainthread:g.getQPLAttrs().instanceKey,secrets:b[0].secrets});else return n.load().then(function(a){return a.otcAddDevice(babelHelpers.extends({},b[0],{qplFlow:g}))})}});async function o(){var a=await d("EBDeps").getDeps().getLSDB();a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_generated_recovery_code));if(a.length===0)return Promise.resolve(null);a=a[0];return Promise.resolve({cloud_service_account:a.cloudServiceAccount,hsm_pin_normalization_status:a.hsmPinNormalizationStatus,recovery_code:a.recoveryCode,security_question_type:null,trusted_contact_id:null,virtual_device_type:a.virtualDeviceType})}async function p(){var a=await d("EBDeps").getDeps().getLSDB();return a.runInTransaction(async function(a){a=a.secure_encrypted_backups_generated_recovery_code;var b=a.entries(new WeakMap()),c=await b.next();while(!c.done)await a.delete.apply(a,c.value[0]),c=await b.next()},"readwrite")}e=b;g.default=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("FDSMinusCircleOutline20Icon",["cr:15284"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15284")}),98);
__d("FriendingCometConfirmedFriendRequestToast.react",["fbt","CometNotificationsListItem.react","CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l="MARK_SEEN",m="comet_toast",n="beeper";function a(a){var b,e,f=d("react-compiler-runtime").c(18),g=a.onCloseClick;a=a.response;a=a==null?void 0:a.friend_request_confirm_subscribe;var i=a==null?void 0:a.notif,p=i==null?void 0:i.id,q=i==null?void 0:i.seen_state,r=a==null?void 0:a.new_friend;a=a==null||(b=a.viewer)==null?void 0:b.actor;var s=i==null||(e=i.body)==null?void 0:e.text,t=k(!1),u=d("CometRelay").useRelayEnvironment(),v;f[0]!==u||f[1]!==p||f[2]!==q?(v=function(){if(p==null||q!=="UNSEEN_AND_UNREAD"||t.current===!0)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(u,{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB",is_comet:!0,last_notif_sync_time:0,notif_ids:[p],source:m,update_type:l}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAsSeenStart,onError:o,onSuccess:function(){t.current=!0},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateSingleNotifReadState(a,p)}})},f[0]=u,f[1]=p,f[2]=q,f[3]=v):v=f[3];v=v;if(r==null||i==null)return null;f[4]!==p||f[5]!==s?(r=p==null||s==null?null:{id:p,text:s},f[4]=p,f[5]=s,f[6]=r):r=f[6];s=r;f[7]!==a||f[8]!==i||f[9]!==g?(r=j.jsx("div",{role:"grid",children:j.jsx(c("CometNotificationsListItem.react"),{actor:a,loggerContext:n,notification:i,onClick:g})}),f[7]=a,f[8]=i,f[9]=g,f[10]=r):r=f[10];f[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"New notification"),f[11]=a):a=f[11];f[12]!==s||f[13]!==v||f[14]!==g||f[15]!==r||f[16]!==a?(i=j.jsx(c("CometToastCard.react"),{accessibilityAnnouncement:s,content:r,headline:a,onCloseClick:g,onMouseEnter:v}),f[12]=s,f[13]=v,f[14]=g,f[15]=r,f[16]=a,f[17]=i):i=f[17];return i}function o(a){c("FBLogger")("growth_friending").catching(a).mustfix("Failed to mark friend confirmed notification as seen in the toast")}g["default"]=a}),226);
__d("FriendingCometFriendRequestToast.react",["fbt","CometNotificationsListItem.react","CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","FBLogger","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l="MARK_SEEN",m="comet_toast",n="beeper";function a(a){var b,e,f=d("react-compiler-runtime").c(18),g=a.onCloseClick;a=a.response;a=a==null?void 0:a.friend_request_receive_subscribe;var i=a==null?void 0:a.notif,p=i==null?void 0:i.id,q=i==null?void 0:i.seen_state;a=a==null||(b=a.viewer)==null?void 0:b.actor;var r=i==null||(e=i.body)==null?void 0:e.text,s=k(!1),t=d("CometRelay").useRelayEnvironment(),u;f[0]!==t||f[1]!==p||f[2]!==q?(u=function(){if(p==null||q!=="UNSEEN_AND_UNREAD"||s.current===!0)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(t,{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB",is_comet:!0,last_notif_sync_time:0,notif_ids:[p],source:m,update_type:l}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAsSeenStart,onError:o,onSuccess:function(){s.current=!0},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateSingleNotifSeenState(a,p),d("CometNotificationsUpdateSeenStateMutation").lowerBadgeCountByOne(a)}})},f[0]=t,f[1]=p,f[2]=q,f[3]=u):u=f[3];u=u;if(i==null)return null;var v;f[4]!==p||f[5]!==r?(v=p==null||r==null?null:{id:p,text:r},f[4]=p,f[5]=r,f[6]=v):v=f[6];r=v;f[7]!==a||f[8]!==i||f[9]!==g?(v=j.jsx("div",{role:"grid",children:j.jsx(c("CometNotificationsListItem.react"),{actor:a,loggerContext:n,notification:i,onClick:g})}),f[7]=a,f[8]=i,f[9]=g,f[10]=v):v=f[10];f[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"New notification"),f[11]=a):a=f[11];f[12]!==r||f[13]!==u||f[14]!==g||f[15]!==v||f[16]!==a?(i=j.jsx(c("CometToastCard.react"),{accessibilityAnnouncement:r,content:v,headline:a,onCloseClick:g,onMouseEnter:u}),f[12]=r,f[13]=u,f[14]=g,f[15]=v,f[16]=a,f[17]=i):i=f[17];return i}function o(a){c("vulture")("2RjYPjnZKGeXehXQgTvWJwJ6z9k="),c("FBLogger")("growth_friending").catching(a).mustfix("Failed to mark friend notification as seen in the toast: ")}g["default"]=a}),226);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",void 0),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",void 0),d[0].set("is_message_deletion",!1),d[0].set("is_unbump",a[3]),d[1]=d[0].get("thread_key"),c.storedProcedure(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",void 0),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",void 0),d[2].set("is_message_deletion",!1),d[2].set("is_unbump",a[3]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxBumpE2EEMetadataThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBumpE2EEMetadataThread"),e.threadKey,e.serverAuthoritativeTimestampMs,e.bumpedByLocalDeviceSend,e.isUnbump);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateE2EEMetadataThread",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][createE2EEMetadataThread] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("device_creation_timestamp_sec",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1])})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("device_creation_timestamp_sec"),d[37]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[39]=void 0,c.i64.neq(d[39],void 0)?c.resolve(d[40]=d[39]):c.sequence([function(a){return d[52]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[62]=(d[52].push(c.i64.cast([0,0])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[62]=(d[52].push(c.i64.cast([0,2])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[62]=(d[52].push(c.i64.cast([0,3])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]?d[62]=(d[52].push(c.i64.cast([0,4])),d[52]):0,d[57]=c.createArray(),d[58]=c.i64.of_int32(d[52].length),c.i64.gt(d[58],c.i64.cast([0,0]))?c.loopAsync(d[58],function(a){return d[62]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[52],d[62]).then(function(a){return a=a,d[63]=a[0],d[64]=a[1],a})},function(a){return d[65]=(d[57].push(d[63]),d[57])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[62]=c.createArray(),d[63]=c.i64.of_int32(d[57].length),c.i64.gt(d[63],c.i64.cast([0,0]))?c.loopAsync(d[63],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[57],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=(d[62].push(c.i64.to_string(d[66])),d[62])}])}):c.resolve()},function(a){return d[64]=d[62].join(","),d[59]=d[64]}])},function(a){return d[57].some(function(a){return c.i64.eq(d[33],a)})?d[60]=d[33]:d[60]=void 0,c.i64.neq(d[60],void 0)?d[61]=d[60]:d[61]=void 0,d[40]=d[61]}])},function(a){return c.i64.neq(d[40],void 0)?d[41]=d[40]:d[41]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[42]=d[32]:d[42]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=new c.Map(),d[45].set("ocmf_client_state_blob",d[43]==null?"":d[43]),d[45].set("mailbox_root_key",d[44]==null?"":d[44]),d[46]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[52]=(d[46].push(a.epochId),d[46])})},function(a){return d[50]="Queried locally available epochs. Count: ",d[47]=c.i64.of_int32(d[46].length),d[51]=c.i64.to_string(d[47]),d[48]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[48],d[50],d[48],d[51]].join("")),c.resolve()},function(a){return d[49]=new c.Map(),d[49].set("device_id",d[31]),d[49].set("raw_tokens",d[45]),d[49].set("locally_available_epochs",d[46]),d[38]=d[49]}]):c.resolve(d[38]=void 0)},function(a){return d[7]=d[38]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(a){return d[8]=c.i64.random(),d[9]=void 0==null?c.i64.to_string(d[8]):void 0,d[9]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[9],!0,void 0):c.resolve()},function(a){return d[9]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[9],"issue_task"):c.resolve()},function(a){return d[9]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[9],"request_type","THREAD_POINT_QUERY"):c.resolve()},function(a){return d[9]!==void 0?c.nativeOperation(b("LSQplAnnotateInt.nop"),c.i64.cast([0,679677570]),d[9],"task_creation_source",c.i64.cast([0,76])==null?c.i64.cast([-1,4294967295]):c.i64.cast([0,76])):c.resolve()},function(e){return d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("offline_thread_key",a[1]),d[10].set("thread_type",a[2]),d[10].set("folder_type",a[3]),d[10].set("bump_timestamp_ms",a[4]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("created_by_local_device",a[5]),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[10].set("should_run_privacy_and_folder_checks",!1),d[10].set("should_only_create_server_thread",!1),d[11]=d[10].get("offline_thread_key"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,388]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][createE2EEMetadataThread] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"createE2EEMetadataThread",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateE2EEMetadataThreadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateE2EEMetadataThread"),e.waJid,e.offlineThreadKey,e.threadType,e.folderType,e.bumpTimestampMs,e.createdByLocalDevice);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateOfflineThreadingID"),e.timestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSEncryptedBackupsOnboardingDecision",[],(function(a,b,c,d,e,f){a=Object.freeze({FAILURE:-1,NO_DECISION_MADE:0,BACKUP_CREATED:1,STORE_ON_DEVICE_ONLY:2});f["default"]=a}),66);
__d("LSEncryptedBackupsVirtualDeviceType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,HSM:2,BLOCK_STORE:3,KEYCHAIN:5,ICLOUD_KVS:6,GOOGLE_DRIVE:7,CLOUDKIT:8,ICLOUD_DRIVE:9,PASSKEY:10,ICLOUD_KEYCHAIN:11,GOOGLE_ONE_AUTO_BACKUP:12,SECURITY_QUESTION_HSM:13,TRUSTED_CONTACT:14,META_OWNED:15,AUTOMATIC_EB:16});f["default"]=a}),66);
__d("LSIssueAttachmentBackupTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] Beginning execution."),a[5]!==void 0?c.resolve(d[1]=a[5]):c.sequence([function(a){return d[27]=c.i64.random(),d[28]=c.i64.to_string(d[27]),d[28]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,637738637]),d[28],!0,void 0):c.resolve()},function(a){return d[1]=d[28]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,637738637]),d[1],"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?(d[27]=c.i64.to_string(d[2]),d[27]!==void 0?c.sequence([function(e){return d[28]=c.createArray(),d[63]=(d[28].push(d[27]),d[28]),d[63]=(d[28].push(a[0]),d[28]),d[29]=c.toJSON(d[28]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[27]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(e){return d[38]=new c.Map(),d[38].set("attachment_index_key",d[33]==null?"":d[33]),d[38].set("delivery_object_id",a[0]),d[38].set("device_id",d[3]),d[38].set("mailbox_partial_id",d[37]==null?"":d[37]),d[38].set("media_type",a[2]),d[38].set("product_type",a[1]),d[38].set("trace_id",d[1]),d[39]=new c.Map(),d[39].set("otid",a[3]),d[39].set("server_thread_key",a[6]),d[39].set("timestamp",void 0),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(e){return d[38].set("salt_partial_id",d[43]==null?"":d[43]),c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return d[38].set("thread_partial_id",d[47]==null?"":d[47]),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return d[38].set("message_partial_id",d[51]==null?"":d[51]),d[52]=c.createArray(),d[63]=(d[52].push(a[3]),d[52]),d[63]=(d[52].push(a[0]),d[52]),d[53]=c.toJSON(d[52]),d[38].set("raw_identifiers",d[39]),d[38].set("backup_id",d[27]),d[38].set("thread_id",a[4]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[38].set("salt_partial_access_token",d[57]==null?"":d[57]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[38].set("salt_partial_attachment_index_key",d[61]==null?"":d[61]),d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!0):c.resolve()},function(a){return d[62]=c.toJSON(d[38]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_upload",c.i64.cast([0,50012]),d[62],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[29]="Missing backup_id for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))},function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}])):c.sequence([function(a){return d[28]="Missing device_id for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[28]].join("")),d[27]=c.createArray(),void 0!==void 0?d[30]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[28],d[27],c.i64.cast([0,3]))},function(a){return d[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[29]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[29]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}]):c.sequence([function(a){return d[28]="Missing ocmf_client_state_blob for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[28]].join("")),d[27]=c.createArray(),void 0!==void 0?d[30]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[28],d[27],c.i64.cast([0,3]))},function(a){return d[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[29]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[29]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}])},function(a){return d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentBackupTaskStoredProcedure",["LSIssueAttachmentBackupTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentBackupTask"),e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.traceId,e.serverThreadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] Beginning execution."),a[7]!==void 0?c.resolve(d[1]=a[7]):c.sequence([function(a){return d[28]=c.i64.random(),d[29]=c.i64.to_string(d[28]),d[29]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679684335]),d[29],!0,void 0):c.resolve()},function(a){return d[1]=d[29]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679684335]),d[1],"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[33]=e.backupTenancy,d[32]=e.encryptionVersion,d[28]=void 0,c.i64.neq(d[28],void 0)?c.resolve(d[29]=d[28]):c.sequence([function(a){return d[34]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[32],a)})?d[42]=d[32]:d[42]=void 0,c.i64.neq(d[42],void 0)?d[43]=d[42]:d[43]=void 0,d[29]=d[43]}])},function(a){return c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=c.i64.cast([0,0]),c.i64.neq(d[33],void 0)?d[31]=d[33]:d[31]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[30],d[31],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?d[21]!==void 0?c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[28]=c.createArray(),d[35]=(d[28].push(d[21]),d[28]),d[35]=(d[28].push(a[1]),d[28]),d[29]=c.toJSON(d[28]),d[30]=c.createArray(),d[35]=(d[30].push(c.i64.cast([0,32])),d[30]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[31],void 0,d[4],d[30]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!1:d[33]=!0,d[33]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[36]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[37]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[36],d[35],c.i64.cast([0,3]))},function(a){return d[34]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[34]=d[35]}])},function(e){return c.blobs.neq(d[34],void 0)?c.sequence([function(e){return c.i64.neq(a[9],void 0)?d[35]=a[9]:d[35]=c.i64.cast([-1,4294967295]),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[34],d[37],c.i64.cast([0,16])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[38]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(e){return d[60]=new c.Map(),d[60].set("attachment_index_key",d[43]==null?"":d[43]),d[60].set("backup_ent_fbid",a[0]),d[60].set("delivery_object_id",a[1]),d[60].set("device_id",d[3]),d[60].set("mailbox_partial_id",d[47]==null?"":d[47]),d[60].set("media_type",a[3]),d[60].set("message_partial_id",d[51]==null?"":d[51]),d[60].set("product_type",a[2]),d[60].set("salt_partial_id",d[55]==null?"":d[55]),d[60].set("sort_key",d[39]==null?"":d[39]),d[60].set("thread_partial_id",d[59]==null?"":d[59]),d[60].set("trace_id",d[1]),d[60].set("source",d[35]),d[61]=new c.Map(),d[61].set("otid",a[4]),d[61].set("server_thread_key",a[8]),d[61].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(e){return d[64]=new c.Map(),d[64].set("ocmf_client_state_blob",d[62]==null?"":d[62]),d[64].set("mailbox_root_key",d[63]==null?"":d[63]),d[65]=c.createArray(),d[76]=(d[65].push(a[4]),d[65]),d[76]=(d[65].push(a[1]),d[65]),d[66]=c.toJSON(d[65]),d[60].set("raw_identifiers",d[61]),d[60].set("backup_id",d[21]),d[60].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[67]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[68]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[60].set("salt_partial_access_token",d[70]==null?"":d[70]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[60].set("salt_partial_attachment_index_key",d[74]==null?"":d[74]),d[60].set("raw_tokens",d[64]),void 0!==void 0?d[60].set("access_token_secret",void 0):0,void 0!==void 0?d[60].set("primary_key_secret",void 0):0,d[75]=c.toJSON(d[60]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_restore",c.i64.cast([0,50020]),d[75],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[37]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","OPE_key_is_null"].join(""),d[1]!==void 0?d[37]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[37]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[36]="OPE key is null for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[38]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[36],d[35],c.i64.cast([0,3]))}])}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_mailbox_root_key"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing mailbox_root_key for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing backup_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing device_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing ocmf_client_state_blob for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}])},function(a){return d[22]=c.i64.of_float(Date.now()),d[23]=c.i64.random(),d[25]="Finishing execution. Execution time: ",d[26]=c.i64.to_string(c.i64.sub(d[22],d[0])),d[27]=" ms",d[24]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ",d[24],d[25],d[24],d[26],d[24],d[27]].join("")),c.i64.eq(c.i64.mod_(d[23],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[28]=",",d[29]=c.createArray(),void 0!==void 0?d[30]=(d[29].push(void 0),d[29]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",[d[25],d[28],d[26],d[28],d[27]].join(""),d[29],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentRestoreTaskStoredProcedure",["LSIssueAttachmentRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentRestoreTask"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.traceId,e.serverThreadKey,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[29],a)})?d[51]=d[29]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[37]=d[52]}])},function(e){return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),d[40]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[40],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[40],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[41],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message backup task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued thread remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve())},function(a){return d[42]=new c.Map(),d[42].set("task_id",d[41]),a=[d[42],void 0],d[34]=a[0],d[35]=a[1]}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping thread remove since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1]}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping thread remove since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1]}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueThreadRemove"),e.actThreadId,e.sortKey,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRefetchContactRowIfExists"),e.id);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateBackupsTableStoredProcedure",["LSSynchronousPromise","LSUpdateBackupsTable","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateBackupsTable"),e.isSuccess,e.backupIds,e.virtualDevices,e.deviceIds,e.backupMetadata,e.traceId,e.isUserOptedOut,e.hasOtcEligibleDevices,e.encryptionManagementDelegatorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_self_remove",!1),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateE2EEMetadataParticipantsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSSynchronousPromise","LSUpdateE2EEMetadataParticipants","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateE2EEMetadataParticipants"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),i=null;async function a(){i=await h.load();return k}function j(a){return new(c("nullthrows")(i))().tokenize(a)}function k(a,b){a=Array.from(j(a)).filter(function(a){return a.length>1});if(a.length===0)return!1;var c=Array.from(j(b));return a.every(function(a){return c.some(function(b){return b.startsWith(a)})})}g.load=a}),98);
__d("addMAWBridgeSearchMessagesToUniversalSearch",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("LSIntEnum")).ofNumber(c("LSMessageSearchType").THREAD);async function a(a,b,e,g,h){var k;d("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(b,g.length);var l=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.message_search_results).getKeyRange(j,e,b)),m=l==null;k=(i||(i=d("I64"))).to_int32((k=l==null?void 0:l.matchCount)!=null?k:(i||(i=d("I64"))).zero);var n=k+g.length;k=await d("MWSearchThreadUtils").getThreadDataByThreadKey(a,b,i.of_string(d("MAWCurrentUser").getID()),j);if(k==null)return;var o=k.profilePicUrl,p=k.secondaryProfilePicUrl,q=k.threadDisplayName,r=k.threadType,s=l==null?void 0:l.globalIndex,t=d("MWContentSearchUtils").getGlobalIndex(g[0].sortOrderMs,l==null?void 0:l.globalIndex),u=async function(a){var c;await a.message_search_results.upsert([j,e,b,s!=null?s:t],babelHelpers.extends({},d("MWContentSearchUtils").getContextLineAndMatches(e,n,(c=g[0].msg)==null?void 0:c.content,j),{displayName:q,globalIndex:t,matchCount:(i||(i=d("I64"))).of_int32(n),messageTimestampMs:d("MWContentSearchUtils").getMessageTimestamp(g[0].sortOrderMs),profilePicUrl:o,query:e,secondaryProfilePicUrl:p,threadKey:b,threadType:r,type_:j}));m&&await a.message_search_queries.put(babelHelpers.extends({},h,{resultCount:(i||(i=d("I64"))).add(h.resultCount,i.one)}))};c("promiseDone")(a.runInTransaction(async function(a){await u(a)},"readwrite",void 0,void 0,f.id+":113"))}g.default=a}),98);
__d("MAWBridgeAddMessageSearchResultHandler",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWFTSRawStringMatcher","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MWInboxSecureContentSearch","ReQL","addMAWBridgeSearchMessagesToUniversalSearch","emptyFunction","isMAWUniversalSearchWithEBEnabled","promiseDone","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),k=h.ofNumber(c("LSMessageSearchType").THREAD);function a(a,b,d){return d.length===0?Promise.resolve():Promise.all([m(a,b,d),n(a,b,d)]).then(c("emptyFunction"))}async function l(a,b){var c=await d("MAWFTSRawStringMatcher").load();return b.filter(function(b){b=(b=b.msg)==null?void 0:b.content;return b==null?!1:c(a,b)})}async function m(a,b,e){var f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.message_search_queries).getKeyRange(j));if(f.length===0)return;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(b,e[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(b,g){return async function(){var c=f.filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,g)})[0];if(c==null)return;var h=c.query;if(h==null||h.length<2)return;var j=(i||(i=d("I64"))).to_int32(c.resultCount);h=await l(h,e);if(h.length===0)return;await d("MWInboxSecureContentSearch").addBridgeSearchMsgsToSearchResult(a,b,c.query,h,j+h.length,i.of_string(d("MAWCurrentUser").getID()))}().then(c("emptyFunction"))})}async function n(a,b,e){if(!c("isMAWUniversalSearchWithEBEnabled")())return;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.message_search_queries).getKeyRange(k).filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,i.one)}));if(f==null)return;var g=f.query;if(g==null||g.length<2)return;var h=await l(g,e);if(h.length===0)return;c("promiseDone")(c("waitForMiActMappingForUniversalSearch")(a,e[0].chatJid),function(b){if(b!=null)return c("addMAWBridgeSearchMessagesToUniversalSearch")(a,b.serverThreadKey,g,h,f)})}g.call=a}),98);
__d("MAWBridgeCallRestoreNativeOpHandler",["I64","MAWMpsGating","Promise","WAJids","WALogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSProtobufRestoreHandler").__setRef("MAWBridgeCallRestoreNativeOpHandler"),l=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("MAWBridgeCallRestoreNativeOpHandler");function a(a,c){var e=c.chatJid,f=c.decryptedMessagesProtobufs,g=c.echoMessages,m=c.hasMoreAfter,n=c.hasMoreBefore,o=c.isPointQuery,p=c.nextMessageTimestampMsAfter,q=c.nextMessageTimestampMsBefore,r=c.referenceTimestamp,s=c.requestId,t=c.taskSource;if(d("MAWMpsGating").isFullMpsEnabled())return(j||(j=b("Promise"))).resolve();if(f!=null)return k.load().then(function(a){return a.handleProtobufRestoreHelper(d("WAJids").threadIdForChatJid(e),{convertedProtobufs:f,type:"convertedProtobufs"},n,q,m,p,o,s,r,void 0,void 0,t,e)});else if(g!=null)return l.load().then(function(c){return c(a,0,(i||(i=d("I64"))).zero,g,n,q,m,p,o,d("WAJids").threadIdForChatJid(e),s,r,t,e).then(function(){return(j||(j=b("Promise"))).resolve()})});else d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to call restore native op - echo and protobuf messages are both null"])));return(j||(j=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["LSThreadBitOffset","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteGroupInviteHandler",async function(b,e){var f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.group_invites).getKeyRange(e));return Promise.all(f.map(function(a){return b.group_invites.delete(a.threadKey,a.inviterId,a.inviteeId)})).then(function(){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)),function(b){if(b==null)return;var c=d("LSThreadBitOffset").clear([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),e=c[0],f=c[1],g=c[2],h=c[3];c=c[4];return a.threads.put(babelHelpers.extends({},b,{capabilities:e,capabilities2:f,capabilities3:g,capabilities4:h,capabilities5:c,snippet:void 0}))})})})}g.call=a}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["EBIsEbEnabled","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){if(b.actionType===2){if(!await d("EBIsEbEnabled").isEbEnabledLS(a))return;await c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}}g.call=a}),98);
__d("MAWBridgeEphemeralSettingsUpdatedForUIHandler",["MAWChatJid","MAWEphemeralSettingsUpdate","cr:17100"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,c){var e=await d("MAWChatJid").toThreadKeyMaybe(a,c.chatJid);return e!=null?d("MAWEphemeralSettingsUpdate").updateEphemeralSettingsWithTxn(a,c.ephemeralSettingArgs.ephemeralExpirationInSec,await b("cr:17100").castUnixTimeToMillisTime(c.ephemeralSettingArgs.ephemeralLastUpdatedOrSetTimestamp),c.isEphemeralSettingReset,e,!1,c.author):Promise.resolve()}g.call=a}),98);
__d("MAWBridgeFulfillRestorePromisePayloadHandler",["MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a.success?(d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(a.value.traceId),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(a.value.traceId)):(d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a.error.traceId,c("err")(a.error.message)),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a.error.traceId));return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["I64","MAWMiActMappingTableAPI","MWFBLogger","ODS","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("MWFBLogger").MWLogger().tags(["bridgeUIEvent","Occam","Middleware"]);async function a(a,b){var c,e=await d("MAWMiActMappingTableAPI").getMappingRowForChatJid(a,b.chatJid);if(e==null){m.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Missing thread key for chatJid: ",""])),b.chatJid);return}c=(c=b.threadName)!=null?c:void 0;e=e.serverThreadKey;a=a.threads;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e));if(f==null){(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_group_info_update","missing_thread");m.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for updating group with threadKey: ",""])),(l||(l=d("I64"))).to_string(e));return}else c==null&&(c=f.threadName,m.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(['MAWDB groupInfo is missing "name" field for threadKey: ',""])),(l||(l=d("I64"))).to_string(e)));e=b.memberAddMode!=="all_member_add";await a.put(babelHelpers.extends({},f,{needsAdminApprovalForNewParticipant:e,threadName:c}))}g.call=a}),98);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,f,g)]).then(c("emptyFunction"))})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,c){return a.attachments["delete"](c,b.msgId,String(b.plaintextHash))})}g.call=a}),98);
__d("MAWBridgeMsgUpdatedHandler",["FBLogger","MAWAdminMsgCTA","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsgFetchLSReplyMsgAndAttachment","MAWUpdateMsg","MsgrWebGating","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeMsgUpdatedHandler",async function(e,f){var g,i=await (g=d("ReQL")).firstAsync(g.fromTableAscending(e.messages.index("messageId")).getKeyRange(b.msgId));g=await g.firstAsync(g.fromTableAscending(e.attachments).getKeyRange(f,b.msgId));if(i==null){c("FBLogger")("messenger_web").info("existing message is null for type %s, and attachment is null: %s",b.type_,g==null);return}g=await d("MAWAdminMsgCTA").getAdminMsgCtaStep(e,f,b);f=await h(a,b);return d("MAWUpdateMsg").call(e,f,i,g)})}async function h(a,b){if(d("MsgrWebGating").isQuotedMessagesInLsEnabled()){a=await d("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(a,b);return a!=null?a:b}return Promise.resolve(b)}g.call=a}),98);
__d("MAWBridgeNoteReplyStartCountdownHandler",["MAWMessageExpirationStorage","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return c.msgs.reduce(function(a,b){return a.then(function(){d("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:b,expirationEvent:d("MAWMessageExpirationStorage").expirationNoteReplyEvent})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a){a=await c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())});a=a[0];return a}async function k(a,b){var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:(h||(h=d("I64"))).of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};await a.threads.put(e);return b}async function a(a){var b=await j(a);await k(a,b);return b}g.createOfflineThreadingId=j;g.createOptimisticThreadWithThreadKey=k;g.createOptimisticThread=a}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2",["DedupMiThreadCreationCache","FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadLoadingState","MAWThreadUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="[Occamadillo][CreateE2EEMetadataThreadHandlerV2]";async function a(a,b){var e=b.bumpTimestampMs,f=b.creationSource,g=b.folderId,i=b.jid;b=b.optimisticThreadKey;m(f,i);b=b!=null?await a.threads.get((h||(h=d("I64"))).of_string(b)):null;if(b!=null&&d("DedupMiThreadCreationCache").DedupMiThreadCreationCache.has(i)){q(i);return}if(b!=null&&k(b)){n(i,(h||(h=d("I64"))).to_string(b.threadKey));return}e={bumpTimestampMs:e,createdByLocalDevice:f==="outgoing_message",folderType:d("MAWFolderUtils").systemFolderToLSCoreClientFolder(g),offlineThreadKey:await l(b,i,a),threadType:d("MAWThreadUtils").getLSThreadTypeFromJid(i),waJid:d("MAWJids").convertChatJidToIntJid(i)};p(e);return c("LSCreateE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),e).then(function(){d("DedupMiThreadCreationCache").addToDedupMiThreadCreationCache(i)})}function k(a){a=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.authorityLevel);switch(a){case c("LSAuthorityLevel").CLIENT_PARTIAL:case c("LSAuthorityLevel").OPTIMISTIC:case c("LSAuthorityLevel").SERVER_PARTIAL:return!1;case c("LSAuthorityLevel").AUTHORITATIVE:case c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case c("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!0;default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}}async function l(a,b,c){if(a!=null)return Promise.resolve(a.threadKey);a=await d("MAWCreateOptimisticThread").createOfflineThreadingId(c);o(b,a);await Promise.all([d("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(c,a),d("MAWThreadLoadingState").markActThreadLoadingAsCompleted(c,{intJid:d("MAWJids").convertChatJidToIntJid(b),threadKey:a})]);return a}function m(a,b){c("FBLogger")("messenger_web").info(j+" handler called from %s for jid %s",a,b)}function n(a,b){c("FBLogger")("messenger_web").info(j+" handler returned early for jid %s because thread %s was already authoritative",a,b)}function o(a,b){c("FBLogger")("messenger_web").info(j+" no thread exists for jid %s, creating optimistic thread with key %s",a,(h||(h=d("I64"))).to_string(b))}function p(a){c("FBLogger")("messenger_web").info(j+" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: bumpTimestampMs: %s, createdByLocalDevice: %s, folderType: %s, offlineThreadKey: %s, offlineThreadKeySource: %s, threadType: %s, waJid: %s",(h||(h=d("I64"))).to_string(a.bumpTimestampMs),a.createdByLocalDevice,h.to_string(a.folderType),h.to_string(a.offlineThreadKey),h.to_string(a.threadType),h.to_string(a.waJid))}function q(a){c("FBLogger")("messenger_web").info(j+" LSCreateE2EEMetadataThreadStoredProcedure has already been called for jid %s, early returning",a)}g.call=a}),98);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsg","MAWRavenUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h=["ephemeralMediaState"],i;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeRavenActionMsgForUIHandler",async function(a,c){a=a.attachments;c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c,b.ravenMsgId));if(c==null)return Promise.resolve();if(c.ephemeralMediaState==null)return Promise.resolve();var e=(i||(i=d("I64"))).to_int32(c.ephemeralMediaState);if(c.ephemeralMediaViewMode==null)return Promise.resolve();var f=i.to_int32(c.ephemeralMediaViewMode);e=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(e);f=d("MAWMsg").MAWRavenMsgEphemeralType.cast(f);if(e==null||f==null)return Promise.resolve();e=d("MAWRavenUtils").getNextRavenMessageEphemeralState(e,f);if(e==null)return Promise.resolve();c.ephemeralMediaState;f=babelHelpers.objectWithoutPropertiesLoose(c,h);c=babelHelpers.extends({ephemeralMediaState:i.of_int32(e)},f,{transportKey:"WhatsApp"});e=[f.threadKey,f.messageId,f.attachmentFbid];return a.upsert(e,c)})}g.call=a}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid);b=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e));c!=null&&await a.participants.put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:b,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:c.readActionTimestampMs,readWatermarkTimestampMs:c.readWatermarkTimestampMs,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero})}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeRefreshContactHandler",["LSFactory","LSRefetchContactRowIfExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:b})}g.call=a}),98);
__d("MAWBridgeRemoveMessageSearchResultHandler",["ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return async function(){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.message_search_results).filter(function(a){return b.includes(a.messageOtid)}));await Promise.all(c.map(function(b){return a.message_search_results.delete(b.type_,b.query,b.threadKey,b.globalIndex)}))}().then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeResignAttachmentCDNUrlHandler",["I64","LSFactory","LSIssueAttachmentRestoreTaskStoredProcedure","MAWAsyncEBMediaDownloadPromise","MAWBridgeFireAndForget","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h,i="-8";function a(a,b){var e,f=b.traceId,g=(e=b.skipLegacyMediaDownloadFlow)!=null?e:!1;function j(a,b,c){!g&&f!=null&&d("MAWBridgeFireAndForget").fireAndForget("backend","addMediaDownloadQpl",{annotations:c!=null?c:void 0,pointName:b,qplInstanceKey:f,qplType:a})}j("point","resign_cdn_url_bridge_handler_start");return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeResignAttachmentCDNUrlHandler",function(a,e){e={backupEntFbid:(h||(h=d("I64"))).of_string(i),deliveryObjectId:b.deliveryObjectId,mediaType:b.mediaType,messageId:b.messageId,productType:b.productType,serverThreadKey:h.to_string(e),sortOrder:h.of_float(b.sortOrder),threadId:b.threadId,traceId:f.toString()};b.skipLegacyMediaDownloadFlow!==!0&&d("MAWAsyncEBMediaDownloadPromise").setMediaDownloadPayload({messageId:b.msgId,objectId:b.deliveryObjectId,plaintextHash:b.plaintextHash,threadId:b.threadId});j("point","resign_cdn_url_issue_attachment_task",{string:{taskTraceId:e.traceId}});return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(a),e).then(function(){j("point","resign_cdn_url_issue_attachment_task_end")})["catch"](function(a){j("fail","resign_cdn_url_issue_attachment_task_fail",{string:{error:a.toString()}})})})}g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=String(b.xmaId);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,f){return a.attachments.get(f,b.msgId,e).then(function(g){if(g==null)return Promise.resolve();g=[g.defaultCtaId,g.attachmentCta1Id,g.attachmentCta2Id,g.attachmentCta3Id].filter(Boolean);g=g.map(function(b){return a.attachment_ctas.delete(b)});return Promise.all(g).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(f,b.msgId,e)).then(async function(b){if(b!=null){b=babelHelpers.extends({},b,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});await a.attachments.put(b)}c("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return Promise.resolve()})})})})}g.call=a}),98);
__d("MAWBridgeStoryReplyStartCountdownHandler",["I64","MAWBridgeXMAShareTombstonedHandler","MAWDbXMA","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b.msgs.reduce(function(b,c){return b.then(function(){d("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:c,expirationEvent:d("MAWMessageExpirationStorage").expirationStoryReplyEvent});(h||(h=d("I64"))).of_int32(c.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c.msgId)).then(async function(b){await Promise.all(b.map(function(b){b=d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(b.attachmentFbid,10));b={msgId:c.msgId,threadJid:c.threadJid,xmaId:b};return d("MAWBridgeXMAShareTombstonedHandler").call(a,b)}))})})})},Promise.resolve())}g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(c("emptyFunction"))},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}async function i(a,b,e){e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e));if(e==null)return;var f=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet),g=h(e,b),i=c("getMAWLastMessageCtaType")(b.snippetType);g=babelHelpers.extends({},e,{cannotReplyReason:g,folderName:e.folderName,lastMessageCtaType:i,parentThreadKey:e.parentThreadKey,snippet:f,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)});await a.threads.put(g)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(1056849266,"1765"),b,{instanceKey:a})}function d(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function e(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.addAnnotations=b;g.endSuccess=d;g.endFailure=e}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeUpdateContactAsConnectedHandler",["FBLogger","I64","LSAddMessengerContactStoredProcedure","LSContactViewerRelationship","LSFactory","LSIntEnum","LSOptimisticAcceptMessageRequestStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){var e=b.contactUserId;b=b.threadJid;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((h||(h=d("I64"))).of_string(e)));if(f==null){c("FBLogger")("messenger_web").warn("Missing contact in MAWBridgeUpdateContactAsConnectedHandler");return}var g=babelHelpers.extends({},f,{contactViewerRelationship:(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)});return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeUpdateContactAsConnectedHandler",async function(a,b){await Promise.allSettled([a.contacts.upsert([f.id],g),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:f.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,b),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:b})])})}g.call=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateThreadActivityHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MWFBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MWFBLogger").MWLogger().tags(["bridgeUIEvent","Occam","ActivityUpdate"]);async function a(a,b){var c=await d("MAWChatJid").toThreadMaybe(a,b.chatJid);if(c==null){await n(a,b.chatJid);return}switch(b.source){case"outgoing_msg":case"incoming_msg":return j(a,c,b);case"deleted_msg":return k(a,c,b);case"inserted_admin_msg":return m(c,b,"No bump for admin message");case"eb_restore":return i.warn("Attempted bump from EB restore");default:b.source;throw i.mustfixThrow("Unknown source")}}async function j(a,b,d){if(l(b,d)){m(b,d,"Stale incoming bump");return}await c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:d.source==="outgoing_msg",isUnbump:!1,serverAuthoritativeTimestampMs:d.bumpTimestampMs,threadKey:b.threadKey});m(b,d,"Thread bumped")}async function k(a,b,c){await a.threads.put(babelHelpers.extends({},b,{lastActivityTimestampMs:(h||(h=d("I64"))).min(b.lastActivityTimestampMs,c.bumpTimestampMs),lastReadWatermarkTimestampMs:h.min(b.lastReadWatermarkTimestampMs,c.bumpTimestampMs)})),m(b,c,"Thread unbumped")}function l(a,b){return b.source==="incoming_msg"&&(h||(h=d("I64"))).le(b.bumpTimestampMs,a.lastActivityTimestampMs)}function m(a,b,c){b=[(h||(h=d("I64"))).to_string(a.threadKey),b.source,h.to_string(b.bumpTimestampMs),h.to_string(a.lastActivityTimestampMs),h.to_string(a.lastReadWatermarkTimestampMs)];i.debug.apply(i,[c+". threadKey: %s, source: %s, bumpTimestampMs: %s, originalLastActivityTimestampMs: %s, originalLastReadWatermarkTimestampMs: %s"].concat(b))}async function n(a,b){a=await d("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"MAWBridgeUpdateThreadActivityHandler");i.mustfix("Missing LSDBThread when updating thread activity. jid: %s, thread state: %s",b,a.type)}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeUploadAttachmentHandler",["I64","LSFactory","LSIssueAttachmentBackupTaskStoredProcedure","LSRequestId","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","Promise","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){var f;if(c("isInstamadilloEB")())return(i||(i=b("Promise"))).resolve();var g=(f=e.traceId)!=null?f:c("LSRequestId").generate();f=e.mediaType;return f==="document"?(i||(i=b("Promise"))).resolve():d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeUploadAttachmentHandler",function(a,f){var j=(h||(h=d("I64"))).to_string(f),k=d("MAWTimeUtils").isTimestampNewerThanXDays(e.ts,30);return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){var h=e.productType;if(f!=null&&k)if(g!=null){d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:e.deliveryObjectId,flow:"old",mediaType:e.mediaType,messageId:e.messageId,threadId:e.threadId,traceId:g});return c("LSIssueAttachmentBackupTaskStoredProcedure")(c("LSFactory")(a),{deliveryObjectId:e.deliveryObjectId,mediaType:e.mediaType,messageId:e.messageId,productType:h,serverThreadKey:j,threadId:e.threadId,traceId:g})}else return c("LSIssueAttachmentBackupTaskStoredProcedure")(c("LSFactory")(a),{deliveryObjectId:e.deliveryObjectId,mediaType:e.mediaType,messageId:e.messageId,productType:h,serverThreadKey:j,threadId:e.threadId});else{d("MAWEBFrontendQPLLogger").endFlowUploadAttachmentBackup(g,!1,"old");return(i||(i=b("Promise"))).resolve()}})})}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","QPLUserFlow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}async function a(a,b){h(b.messages,"upload_tracking_bridge_batch_handler");b.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});b.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(b of b.messages)await d("MAWBridgeUploadMessageHandler").call(a,b);return Promise.resolve()}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("isInstamadilloDYI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("665")===!0}g["default"]=a}),98);
__d("MAWBridgeUIEventHandler",["EBLogger","MAWAbPropsClient","MAWBridgeAddMessageSearchResultHandler","MAWBridgeCallRestoreNativeOpHandler","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteMessagesOfThreadHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeEphemeralSettingsUpdatedForUIHandler","MAWBridgeFulfillRestorePromisePayloadHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeNoteReplyStartCountdownHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeRefreshContactHandler","MAWBridgeRemoveMessageSearchResultHandler","MAWBridgeResignAttachmentCDNUrlHandler","MAWBridgeStartTraceHandler","MAWBridgeStoryReplyStartCountdownHandler","MAWBridgeSyncContacts","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadUpdatedHandler","MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateContactAsConnectedHandler","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateThreadActivityHandler","MAWBridgeUpdateTraceHandler","MAWBridgeUploadAttachmentHandler","MAWBridgeUploadMessageByBatchHandler","MAWBridgeUploadMessageHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWLoggerUtils","MAWMessageExpirationStorage","MWFBLogger","WAResultOrError","WATimeUtils","emptyFunction","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("MWFBLogger").MWLogger().tags(["MAWBridgeUIEvent"]);function l(a,b,c){switch(c.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(b,c.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(b,c.value);case"StoryReplyStartCountdown":return d("MAWBridgeStoryReplyStartCountdownHandler").call(b,c.value);case"NoteReplyStartCountdown":return d("MAWBridgeNoteReplyStartCountdownHandler").call(b,c.value);case"MsgClearCountdown":return Promise.resolve(d("MAWMessageExpirationStorage").clearMessageFromExpiration(c.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(b);case"VerifyThreadExists":var e=c.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(b,e);case"CreateE2EEMetadataThreadV2":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2").call(b,c.value);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,b,c.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(b,c.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(b,c.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(b,c.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(b,c.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(b,c.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(b,c.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(b,c.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(b,c.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(b,c.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(b,c.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(b,c.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(b,c.value);case"UpdateThreadActivity":return d("MAWBridgeUpdateThreadActivityHandler").call(b,c.value);case"StartTrace":return d("MAWBridgeStartTraceHandler").call(b,c.value);case"UpdateTrace":return d("MAWBridgeUpdateTraceHandler").call(b,c.value);case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(b,c.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(b,c.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(b,c.value);case"ClockSkewUpdated":return Promise.resolve(d("WATimeUtils").setClockSkew(c.value));case"ABPropsUpdated":k.warn("ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return Promise.resolve(d("MAWAbPropsClient").rewrite(c.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(b,c.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(b,c.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(b,c.value);case"UploadMessage":return d("MAWBridgeUploadMessageHandler").call(b,c.value);case"UploadMessageByBatch":return d("MAWBridgeUploadMessageByBatchHandler").call(b,c.value);case"DeleteMessagesOfThread":return d("MAWBridgeDeleteMessagesOfThreadHandler").call(b,c.value);case"UploadAttachment":return d("MAWBridgeUploadAttachmentHandler").call(b,c.value);case"ResignAttachmentCDNUrl":return d("MAWBridgeResignAttachmentCDNUrlHandler").call(b,c.value);case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(b,c.value);case"RestoreMessageBatch":d("EBLogger").EBLogger().tags(["labyrinth_dyi"]).WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"])));return Promise.resolve();case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(b,c.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(b,c.value);case"UpdateDyiStatus":d("EBLogger").EBLogger().tags(["labyrinth_dyi"]).WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"])));return Promise.resolve();case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(b,c.value);case"TraceRecordCheckpoint":return d("MAWBridgeTraceRecordCheckpointHandler").call(b,c.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(b,c.value);case"StartTraceWithTraceId":return Promise.resolve();case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(b,c.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(b,c.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(b,c.value);case"EphemeralSettingsUpdatedForUI":return d("MAWBridgeEphemeralSettingsUpdatedForUIHandler").call(b,c.value);case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(b,c.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(b,c.value);case"RemoveMessageSearchResult":return d("MAWBridgeRemoveMessageSearchResultHandler").call(b,c.value);case"AddMessageSearchResult":return d("MAWBridgeAddMessageSearchResultHandler").call(a,b,c.value);case"FulfillRestorePromise":return d("MAWBridgeFulfillRestorePromisePayloadHandler").call(c.value);case"UpdateContactAsConnected":return d("MAWBridgeUpdateContactAsConnectedHandler").call(b,c.value);case"RefreshContact":return d("MAWBridgeRefreshContactHandler").call(b,c.value);case"NewReceiverFetchInfo":return d("MAWBridgeNewReceiverFetchInfoHandler").call(b,c.value);case"RestoreNativeOp":return d("MAWBridgeCallRestoreNativeOpHandler").call(b,c.value);case"NewPoll":return d("MAWBridgeNewPollHandler").call(b,c.value);default:return Promise.resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){k.mustfix("User is neither part of armadillo QE and dual send QE but somehow loaded this handler");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var d={};d=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},d);k.DEBUG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""])),JSON.stringify(d))}c("promiseDone")(m(a,b),c("emptyFunction"),function(a){k.catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",b.map(function(a){return a.tag}).join(", "))})}async function m(a,b){var e=await a;a=d("MAWLoggerUtils").getInstanceKey();var g=b.map(function(a){return a.tag}),h="";d("MAWBridgeUIEventQueueQPLLogger").start(a,g);d("MAWBridgeUIEventQueueQPLLogger").addAnnotations(a,{int:{queue_size:b.length}});var i;try{i=await e.runInTransaction(async function(a){for(var f=0;f<b.length;f++){var g=b[f];try{await l(e,a,g)}catch(a){h=g.tag;return d("WAResultOrError").makeError(c("getErrorSafe")(a))}}return d("WAResultOrError").makeResult(!0)},"readwrite","background",{events:b,type:"maw_ui_bridge"},f.id+":290")}catch(a){i=d("WAResultOrError").makeError(c("getErrorSafe")(a))}!i.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,h),k.catching(i.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB, failed at %s, all events: %s",h,g.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)}async function b(a,b,d){try{await l(a,b,d)}catch(b){a=c("getErrorSafe")(b);k.catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",d.tag);throw b}}g.handleEvents=a;g.handleShimEvent=b}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EBLogger","EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","QPLUserFlow","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)}async function a(a){var b=a.qplEvent,e=a.qplInstanceKeyE2E;a=a.status;var f=d("EBLogger").EBLogger().tags(["dyi"]);if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw f.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var g=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,i=await d("EncryptedBackupsDYIFileUtils").getRootFolderHandle(),j=await d("EncryptedBackupsDYIFileUtils").readFile(i,g);await h(g,j,async function(){await i.removeEntry(g)});f.info("Saving file with filename ",g);b!=null&&e!=null&&c("QPLUserFlow").endSuccess(b,{instanceKey:e});f.info("DYI Complete")}catch(a){f.catching(c("getErrorSafe")(a)).mustfix("Failed to download the DYI archive");b!=null&&e!=null&&c("QPLUserFlow").endFailure(b,c("getErrorSafe")(a).message,{instanceKey:e});return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&(b!=null&&e!=null&&c("QPLUserFlow").endFailure(b,"Unknown error",{instanceKey:e}));return a}g.call=a}),98);
__d("MWChatEncryptedBackupsAddDeviceWithEBKeys",["EBMainThreadEBDBApiDeferred","EBSMAPI","EBWorkerODSEntityName.enum","MAWBridgeFireAndForget"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.backupId,e=a.db,f=a.newDeviceRegistrationId,g=a.previousDeviceId;return c("EBSMAPI").addDeviceWithEBKeys({backupId:b,db:e,newDeviceRegistrationId:f,previousDeviceId:g,source:c("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_MAIN_THREAD,trackAddingDevice:function(a){void d("EBMainThreadEBDBApiDeferred").addNewDevice(a)}}).then(function(){return d("MAWBridgeFireAndForget").fireAndForget("backend","addDeviceWithKeysInWorker",{backupId:b,deviceRegistrationId:f,isAutoRestore:!0,previousDeviceId:g,source:c("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_WORKER})})}g.addDeviceWithEBKeys=a}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapper.react",["cr:27510","cr:6736","cr:8598","cr:8601"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:8598")==null||b("cr:8598")();b("cr:27510")==null||b("cr:27510")();b("cr:8601")==null||b("cr:8601")();b("cr:6736")==null||b("cr:6736")();return null}g["default"]=a}),98);
__d("useMWV2ChatCloseTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MessengerWebEventsFalcoEvent","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=d("MWChatStateContext").useChatState(j),f=d("MWChatStateV2.react").useDispatch(),g;a[0]!==f||a[1]!==b||a[2]!==e?(g=function(){b(Date.now(),"","messenger");c("MessengerWebEventsFalcoEvent").log(i);var a=Date.now();return f(Array.from(e.values()).flatMap(function(b){return d("MWChatStateActions").closeTab(a,b.tabId)}))},a[0]=f,a[1]=b,a[2]=e,a[3]=g):g=a[3];return g}function i(){return{event_name:"close_all_chat_tabs"}}function j(a){return a.tabs}g["default"]=a}),98);
__d("useMWV2ChatMinimizeTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsOpen","MessengerWebEventsFalcoEvent","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=d("MWChatStateContext").useChatState(k),f=d("MWChatStateV2.react").useDispatch(),g;a[0]!==f||a[1]!==b||a[2]!==e?(g=function(){b(Date.now(),"","messenger");c("MessengerWebEventsFalcoEvent").log(j);var a=Date.now();return f(Array.from(e.values()).filter(i).flatMap(function(b){return d("MWChatStateActions").minimizeTab(a,b.tabId)}))},a[0]=f,a[1]=b,a[2]=e,a[3]=g):g=a[3];return g}function i(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)}function j(){return{event_name:"minimize_all_chat_tabs"}}function k(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatOptionsHeadPopover.react",["fbt","FDSCrossCircleOutline20Icon","FDSMinusCircleOutline20Icon","MWXMenu.react","MWXMenuItem.react","react","react-compiler-runtime","useMWV2ChatCloseTabs","useMWV2ChatMinimizeTabs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12);a=a.hasOpenTabs;var e=c("useMWV2ChatCloseTabs")(),f=c("useMWV2ChatMinimizeTabs")(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Chat options menu"),b[0]=g):g=b[0];var i;b[1]!==e?(i=function(a){return e()},b[1]=e,b[2]=i):i=b[2];var k;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Close all chats"),b[3]=k):k=b[3];b[4]!==i?(k=j.jsx(c("MWXMenuItem.react"),{icon:c("FDSCrossCircleOutline20Icon"),onClick:i,primaryText:k,testid:void 0}),b[4]=i,b[5]=k):k=b[5];b[6]!==a||b[7]!==f?(i=a?j.jsx(c("MWXMenuItem.react"),{icon:c("FDSMinusCircleOutline20Icon"),onClick:function(a){return f()},primaryText:h._(/*BTDS*/"Minimize open chats"),testid:void 0}):null,b[6]=a,b[7]=f,b[8]=i):i=b[8];b[9]!==k||b[10]!==i?(a=j.jsxs(c("MWXMenu.react"),{"aria-label":g,withArrow:!0,children:[k,i]}),b[9]=k,b[10]=i,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("MWV2ChatTabRootLoader.react",["FBLogger","MWV2ChatTabRoot.entrypoint","RelayHooks","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isMinimized,f=a.tab;a=a.threadKeyDescriptor;e=e===void 0?!1:e;var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h=f.tabRootEntryPointRef;if(h==null){c("FBLogger")("messenger_web").warn("Missing chat tab entrypoint ref. Loading dynamically.");var j;b[0]!==g?(j=d("RelayHooks").loadEntryPoint(g,c("MWV2ChatTabRoot.entrypoint"),{}),b[0]=g,b[1]=j):j=b[1];h=j}b[2]!==e||b[3]!==f||b[4]!==a?(g={isMinimized:e,tab:f,threadKeyDescriptor:a},b[2]=e,b[3]=f,b[4]=a,b[5]=g):g=b[5];b[6]!==g||b[7]!==h?(j=i.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:h,props:g}),b[6]=g,b[7]=h,b[8]=j):j=b[8];return j}g["default"]=a}),98);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);
__d("mwEBSetBackupState",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.setBackupState;a=a.state;switch(a){case 1:break;case 2:b(2);break;case 3:b(3);break;case 4:b(4);break;case-1:b(-1);break;case 0:break}}f["default"]=a}),66);
__d("mwEBUpdateBackupsTable",["LSFactory","LSUpdateBackupsTableStoredProcedure","LSVec"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.backupIds,d=a.deviceIds,e=a.encryptionManagementDelegatorId,g=a.hasOtcEligibleDevices,h=a.isSuccess,i=a.isUserOptedOut,j=a.storage,k=a.virtualDevices;return j.runInTransaction(function(a){return c("LSUpdateBackupsTableStoredProcedure")(c("LSFactory")(a),{backupIds:b,backupMetadata:c("LSVec").ofArray([]),deviceIds:d,encryptionManagementDelegatorId:e,hasOtcEligibleDevices:g,isSuccess:h,isUserOptedOut:i,virtualDevices:k})},"readwrite",void 0,void 0,f.id+":48")}g["default"]=a}),98);
__d("mwProcessBackupIds",["I64","LSAuthorityLevel","LSIntEnum","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLEvent","QPLUserFlow","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="-1";function l(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+a+"."),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent})}function m(a){var b=a.clientStateData;a=a.encryptedBackupData;a=a==null?void 0:a.backupId;if(a==null){l("NO_BACKUPS_PRESENT");return 2}if((h||(h=d("I64"))).to_string(a)===k){d("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR",event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return-1}if(b==null||!(h||(h=d("I64"))).equal(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){l("DEVICE_NOT_ONBOARDED");return 4}if(!(h||(h=d("I64"))).equal(b.backupId,a)){l("DEVICE_NOT_ONBOARDED_BACKUP_ID_MISMATCH");return 4}l("DEVICE_ONBOARDED");return 3}function a(a){var b=a.clientStateData;a=a.encryptedBackupData;if(a==null)return 0;var e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((j||(j=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,processBackupIdsVersion:"JS",sessionTabId:d("WebSession").getId()}}});if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){l("FETCH_IN_PROGRESS");return 1}else if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return m({clientStateData:b,encryptedBackupData:a});else{d("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR_WRONG_AUTHORITY_LEVEL",event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return-1}}g["default"]=a}),98);
__d("useMWChatDisplayEncryptedBackupsRestoreToast",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMAWEncryptedBackupsRestoreToast","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useState;function a(){var a=d("react-compiler-runtime").c(10),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.encrypted_backups_client_restore_status?(e=function(){return d("ReQL").fromTableAscending(b.tables.encrypted_backups_client_restore_status)},a[0]=b.tables.encrypted_backups_client_restore_status,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];var i=d("ReQLSuspense").useArray(e,g,f.id+":27");e=c("useMAWEncryptedBackupsRestoreToast")();var j=e.showInProgressToast,k=e.showSuccessToast;g=m(!1);var o=g[0],p=g[1];a[4]!==o||a[5]!==i||a[6]!==j||a[7]!==k?(e=function(){var a=i.some(n);o&&!a?(p(!1),k()):!o&&a&&(p(!0),j())},g=[o,i,j,k],a[4]=o,a[5]=i,a[6]=j,a[7]=k,a[8]=e,a[9]=g):(e=a[8],g=a[9]);l(e,g)}function n(a){a=a.restoreStatus;return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS))}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestoreEffect",["EBSMGatingUI","MWChatEncryptedBackupsAddDeviceWithEBKeys","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsInitializeRestoreDeferred","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","WALogger","promiseDone","qex","react","react-compiler-runtime","useLabyrinthLogging","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.backupState,g=a.clientData,i=a.epochData,k=a.isSubscribedToData,o=a.setIsSubscribedToData,p=c("MWChatEncryptedBackupsQPLSource.enum").AUTO_RESTORE;a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var q=a.startFlow,r=m(!1),s=(j||(j=c("useReStore")))(),t;b[0]!==k||b[1]!==s?(a=function(){return k?d("ReQL").fromTableAscending(s.tables.experiences_shared_state):d("ReQL").empty()},t=[k,s],b[0]=k,b[1]=s,b[2]=a,b[3]=t):(a=b[2],t=b[3]);var u=d("ReQLSuspense").useArray(a,t,f.id+":68");b[4]!==e||b[5]!==g||b[6]!==i||b[7]!==o||b[8]!==u||b[9]!==q||b[10]!==s?(a=function(){if(r.current||e===1||e===0)return;if(e===3){var a=g==null?void 0:g.deviceId,b=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:s,sharedStateTable:u,stateKey:"auto_restored"}),f=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:s,sharedStateTable:u,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}),j=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:s,sharedStateTable:u,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY});b=b||f||j;f=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(!b&&f!==""&&g!=null&&i!=null&&a!=null){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);q({additionalAnnotations:{device_type:"auto_restore"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH,source:p});j=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();q({additionalAnnotations:{eb_session_identifier:j,restore_upsell_first_impression_time:j},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:p});if(c("qex")._("2481"))d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:s,onFailure:n,onSuccess:function(){c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:s,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY})),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM(),without_add_device:!0},string:{restore_type:"auto_restore"}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[wmi][eb] initialize auto-restore success"])))}});else{b={backupId:g.backupId,db:s,newDeviceRegistrationId:f,previousDeviceId:a};d("MWChatEncryptedBackupsAddDeviceWithEBKeys").addDeviceWithEBKeys(b)}}}r.current=!0;o(!1)},t=[e,g,i,u,p,q,s,o],b[4]=e,b[5]=g,b[6]=i,b[7]=o,b[8]=u,b[9]=q,b[10]=s,b[11]=a,b[12]=t):(a=b[11],t=b[12]);l(a,t)}function n(){d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM(),without_add_device:!0}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[wmi][eb] initialize auto-restore failed"])))}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestore",["I64","LSAuthorityLevel","LSIntEnum","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWChatEncryptedBackupsAutoRestoreEffect","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useState;function a(){var a=d("react-compiler-runtime").c(14),b=l(!0),e=b[0];b=b[1];var g=(h||(h=c("useReStore")))(),i,j;a[0]!==e||a[1]!==g?(i=function(){return e?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_epochs):d("ReQL").empty()},j=[e,g],a[0]=e,a[1]=g,a[2]=i,a[3]=j):(i=a[2],j=a[3]);i=d("ReQLSuspense").useFirst(i,j,f.id+":27");var k;a[4]!==e||a[5]!==g?(j=function(){return e?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state).filter(m):d("ReQL").empty()},k=[e,g],a[4]=e,a[5]=g,a[6]=j,a[7]=k):(j=a[6],k=a[7]);j=d("ReQLSuspense").useFirst(j,k,f.id+":34");a[8]===Symbol["for"]("react.memo_cache_sentinel")?(k={entrypoint:c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE},a[8]=k):k=a[8];k=c("useMWEBBackupState")(k);a[9]!==k||a[10]!==j||a[11]!==i||a[12]!==e?(b={backupState:k,clientData:j,epochData:i,isSubscribedToData:e,setIsSubscribedToData:b},a[9]=k,a[10]=j,a[11]=i,a[12]=e,a[13]=b):b=a[13];c("useMWChatEncryptedBackupsAutoRestoreEffect")(b)}function m(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestorePicker",["cr:27509"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:27509")()}g["default"]=a}),98);
__d("useMWEBListenForChangesToBackupStateXDevice",["I64","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.encrypted_backups_status_trigger?(g=function(){return d("ReQL").fromTableAscending(e.tables.encrypted_backups_status_trigger)},b[0]=e.tables.encrypted_backups_status_trigger,b[1]=g):g=b[1];var j;b[2]!==e?(j=[e],b[2]=e,b[3]=j):j=b[3];var m=d("ReQLSuspense").useFirst(g,j,f.id+":27"),n=l(null);b[4]!==m||b[5]!==a?(g=function(){m!=null&&n.current!==m.pk&&!(i||(i=d("I64"))).equal(m.pk,(i||(i=d("I64"))).of_float(0))&&(n.current=m.pk,a())},j=[m,a],b[4]=m,b[5]=a,b[6]=g,b[7]=j):(g=b[6],j=b[7]);k(g,j)}g["default"]=a}),98);
__d("useMWEBPropagateEbStateChangesThroughRelay",["CometRelay","EBLogger","ReQL","ReQLSuspense","promiseDone","react","requireDeferred","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useEffect,n=b.useRef,o=c("requireDeferred")("mwEBSetBackupState").__setRef("useMWEBPropagateEbStateChangesThroughRelay"),p=c("requireDeferred")("mwProcessBackupIds").__setRef("useMWEBPropagateEbStateChangesThroughRelay");function a(a){var b=a.listenForChangesToBackupState,e=a.onStateChange,g=(j||(j=c("useReStore")))(),k=d("CometRelay").useRelayEnvironment(),q=d("ReQLSuspense").useFirst(function(){return b?d("ReQL").fromTableAscending(g.tables.encrypted_backups):d("ReQL").empty()},[g,b],f.id+":43"),r=d("ReQLSuspense").useFirst(function(){return b?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state):d("ReQL").empty()},[g,b],f.id+":50"),s=n(null),t=l(function(a){d("EBLogger").EBLogger().DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[useMWEBPropagateEbStateChangesThroughRelay] update: ",""])),a);var b=s.current;b!==null&&b!==a&&e&&(d("EBLogger").EBLogger().DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["mwEB Backup state changed from "," to "," - triggering onStateChange"])),b,a),e());s.current=a;d("CometRelay").commitLocalUpdate(k,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){d("EBLogger").EBLogger().mustfix("[backup_state] A viewer record does not exist when propagating EB state.");return}b.setValue(a,"backup_state")})},[k,e]);a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();a=a.shouldHideEBFlow;var u=c("useMAWHasUserVisibleErrors")(),v=a||u;m(function(){async function a(){var a=null;(q!=null||r!=null)&&(a=v?0:(await p.load())({clientStateData:r,encryptedBackupData:q}));a!=null&&(await o.load())({setBackupState:t,state:a})}c("promiseDone")(a())},[r,g,q,k,v,t])}g.default=a}),98);
__d("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23961239003493663"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql",["useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},a],storageKey:null}]},params:{id:b("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:[],operation:b("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql")}},name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29473760965600491"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},a],storageKey:null}]},params:{id:b("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2Query",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2",["Base64Utils","CometRelay","EBGating","EBSMAPI","FBLogger","I64","LSEncryptedBackupsBackupTenancy","LSEncryptedBackupsOnboardingDecision","LSEncryptedBackupsVirtualDeviceType","LSIntEnum","LSShape","LSVec","MAWWaitForBackendSetup","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsListenForChangesToBackupStateInitPath","Promise","QPLEvent","QPLUserFlow","WebSession","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useMWEBListenForChangesToBackupStateXDevice","useMWEBPropagateEbStateChangesThroughRelay","useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql","useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;e=k||d("react");var o=e.useEffect,p=e.useRef,q=e.useState,r=c("requireDeferred")("mwEBUpdateBackupsTable").__setRef("useMWEncryptedBackupsFetchBackupIdsV2");function s(a){if(a!=null){a=a;a=c("LSEncryptedBackupsOnboardingDecision")[a];return a}return void 0}function t(a){if(a!=null){a=a;a=c("LSEncryptedBackupsBackupTenancy")[a];return(l||(l=d("LSIntEnum"))).ofNumber(a)}return void 0}function u(a){var e=a.data,f=a.dbPromise,g=a.isInitalLoad,h=a.setListenForChangesToBackupState,i=e.xfb_backup,k=i==null?void 0:i.id;if(i!=null&&k!=null){var m=!1;(i==null?void 0:i.has_otc_eligible_devices)!=null?m=i==null?void 0:i.has_otc_eligible_devices:c("FBLogger")("wmi_eb").mustfix("failed to retrieve has_otc_eligible_devices. defaulting to false");var o=c("LSVec").ofArray([d("LSShape").ofRecord({backup_id:(n||(n=d("I64"))).of_string(k),backup_tenancy:t(i.backup_tenancy)})]),p=[];i.virtual_devices.forEach(function(a){var b,e=a.client_generated_id;if(k==null||e==null||a.device_type==null){c("FBLogger")("wmi_eb").warn("Invalid virtual device fetched in fetchBackupsIdsV2.");return}var f="REQUIRES_MIGRATION";f=a.migration_status===f;var g=a.device_type;g=c("LSEncryptedBackupsVirtualDeviceType")[g];p.push(d("LSShape").ofRecord({backup_id:(n||(n=d("I64"))).of_string(k),virtual_device_ids:c("LSVec").ofArray([d("LSShape").ofRecord({virtual_device_id:d("Base64Utils").toArrayBuffer(e)})]),virtual_devices:c("LSVec").ofArray([d("LSShape").ofRecord({creation_time:(b=a.creation_time)!=null?b:void 0,device_created_on:(b=a.device_created_on)!=null?b:void 0,requires_hsm_migration:f,virtual_device_id:d("Base64Utils").toArrayBuffer(e),virtual_device_type:(l||(l=d("LSIntEnum"))).ofNumber(g)})])}))});var q=[];(a=i.devices)==null||a.edges.forEach(function(a){var b;if(((b=a.node)==null?void 0:b.id)==null)return;q.push(d("LSShape").ofRecord({device_id:(n||(n=d("I64"))).of_string((b=a.node)==null?void 0:b.id)}))});var u=i.encryption_management_delegator_id!=null?(n||(n=d("I64"))).of_string(i.encryption_management_delegator_id):void 0;c("promiseDone")((j||(j=b("Promise"))).all([r.load(),f]),function(a){var b=a[0],d=a[1];c("promiseDone")(b({backupIds:o,deviceIds:c("LSVec").ofArray(q),encryptionManagementDelegatorId:u,hasOtcEligibleDevices:m,isSuccess:!0,isUserOptedOut:(a=i.is_user_opted_out)!=null?a:void 0,storage:d,virtualDevices:c("LSVec").ofArray(p)}),function(){h(!0),g.current===!0&&(g.current=!1,c("MWEncryptedBackupsListenForChangesToBackupStateInitPath").preloadEBData(d))})})}else{var v=s((a=e.xfb_eb_user_preferences)==null?void 0:a.onboarding_decision)===c("LSEncryptedBackupsOnboardingDecision").STORE_ON_DEVICE_ONLY;c("promiseDone")((j||(j=b("Promise"))).all([r.load(),f]),function(a){var b=a[0];a=a[1];c("promiseDone")(b({backupIds:c("LSVec").ofArray([]),deviceIds:c("LSVec").ofArray([]),hasOtcEligibleDevices:!1,isSuccess:!0,isUserOptedOut:v,storage:a,virtualDevices:c("LSVec").ofArray([])}),function(){h(!0)})})}}function v(a){var e=d("react-compiler-runtime").c(10),f=c("useAsyncReStore")(),g=p(!0),i=p(!1),j=q(!1),k=j[0],l=j[1];j=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql"),a);var n=j[0],r=j[1];e[0]!==n||e[1]!==r?(a=function(){var a=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((m||(m=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:a,fetchBackupIdsVersion:"GQL",sessionTabId:d("WebSession").getId()}}});r({},{fetchPolicy:"network-only",onComplete:function(a){i.current=!1;if(c("QPLUserFlow").getActiveFlowIDs().includes((m||(m=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent)))if(a!=null)d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{error:a.message,error_stack:a.stack}},errorName:"fetch_backup_ids_error",event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent});else{d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{isUserOptedOut:(a=n.xfb_backup)==null?void 0:a.is_user_opted_out},string:{backup_id:(a=(a=n.xfb_backup)==null?void 0:a.id)!=null?a:"null"}},event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent})}}})},e[0]=n,e[1]=r,e[2]=a):a=e[2];j=a;c("useMWEBListenForChangesToBackupStateXDevice")(j);e[3]!==k||e[4]!==j?(a={listenForChangesToBackupState:k,onStateChange:j},e[3]=k,e[4]=j,e[5]=a):a=e[5];c("useMWEBPropagateEbStateChangesThroughRelay")(a);e[6]!==n||e[7]!==f?(k=function(){if(i.current===!0)return;i.current=!0;d("MAWWaitForBackendSetup").isBackendSetupSuccessful()&&d("EBGating").isFetchBackupIdsFromWorker()?c("promiseDone")(c("EBSMAPI").fetchBackupIds("useMWEncryptedBackupsFetchBackupIdsV2").then(function(){l(!0),n.xfb_backup!=null&&n.xfb_backup.id!=null&&g.current===!0&&(g.current=!1)})):u({data:n,dbPromise:f,isInitalLoad:g,setListenForChangesToBackupState:l})},j=[n,f],e[6]=n,e[7]=f,e[8]=k,e[9]=j):(k=e[8],j=e[9]);o(k,j)}function a(){var a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"),{},{fetchPolicy:"network-only"});v(a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometVideoPictureInPictureManager.react",["CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManagerContext","CometWatchAndScrollVideoContext","XCometWatchControllerRouteBuilder","clearTimeout","gkx","react","requireDeferred","setTimeout","useCometRouterDispatcher","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometVideoPictureInPictureManager.react"),q=c("gkx")("22889"),r=50;e=["286211568997787","214604021960500","108677131037"];var s=window.document.pictureInPictureEnabled;function a(a){var b=a.children;a=a.isPipEnabled;var e=c("useCometRouterDispatcher")(),f=a;a=o(null);var g=a[0],h=a[1];a=o(!1);var t=a[0],u=a[1];a=o(!1);var v=a[0],w=a[1],x=n(!1);a=j(function(a){x.current=a},[]);var y=m(function(){return{hasNextChainedVideo:v,isPipEnabled:f,setHasNextChainedVideo:w,setSkippedFromPipPlayer:u,skippedFromPipPlayer:t}},[t,u,v,w,f]),z=o(null),A=z[0],B=z[1],C=k(c("CometWatchAndScrollVideoContext")),D=k(c("CometSetWatchAndScrollVideoContext")),E=n(null),F=n(null),G=c("useMinifiedProductAttribution")(),H=j(function(a){a===void 0&&(a=null),p.onReady(function(b){b.log({attribution_id_v2:G,click_point:a,event:"click"})})},[]),I=j(function(){var a=C==null?void 0:C.videoID,b=C==null?void 0:C.videoUrl;if(a!=null&&b!=null){var d=C==null?void 0:C.routeTracePolicy,f=C==null?void 0:C.subOrigin;b=q?b:c("XCometWatchControllerRouteBuilder").buildURL({v:a});e&&(e.go(b,{passthroughProps:{portableVideoID:A,portalingRouteTracePolicy:d,portalingSubOrigin:f}}),D(null))}},[e,C,A,D]),J=j(function(){g!=null&&(E.current=c("setTimeout")(function(){var a=g.getCurrentState(),b=a.lastPauseReason;a=a.paused;x.current||(f&&(a===!1||a===!0&&b==="product_initiated")?(I(),H("control_pip_player_return_to_tab")):window.document.pictureInPictureElement===null&&(D(null),H("control_pip_player_close")))},r))},[g,f,I,D,H]),K=j(function(){g!=null&&(x.current||(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("pause",function(){g.pause("product_initiated")})),v||window.navigator.mediaSession.setActionHandler("nexttrack",null))},[g,v,H,a]),L=j(function(a){a.requestPictureInPicture();R(!1);a=a.internal_getVideoElement();F.current=a==null?void 0:a.currentSrc},[]),M=j(function(){if(g!=null){var a=g.getIsDesktopPictureInPicture();if(a){g.exitPictureInPicture();return}L(g)}},[L,g]),N=j(function(a){h(a)},[h]),O=j(function(a){a!=null&&B(a)},[B]);z=m(function(){return{openPipPlayer:M,setController:N,setPipPortableVideoID:O}},[M,N,O]);var P=n(!1);a=o(!1);var Q=a[0],R=a[1];l(function(){var a=null;if(s&&g!=null&&window.document.pictureInPictureElement){var b=g.internal_getVideoElement();b=b==null?void 0:b.currentSrc;var c=!1,d=!1;a=g.subscribe(function(){var a=g.getCurrentState(),b=a.playing;a=a.isDesktopPictureInPicture;!c&&b&&P.current&&!x.current&&(P.current=!1,R(!0));d&&!a&&J();!d&&a&&K();c=b;d=a});b!==F.current?!Q?(g.play("user_initiated"),P.current=!0):L(g):f&&(K(),F.current=b)}return function(){a!=null&&a.remove()}},[L,g,M,v,K,J,f,Q]);l(function(){return function(){E.current!=null&&(c("clearTimeout")(E.current),E.current=null)}},[]);return i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext.Provider,{value:y,children:i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext.Provider,{value:z,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.EXCLUDED_PROVIDERS=e;g.CometVideoPictureInPictureManager=a}),98);
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24610591811969724"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:e,storageKey:null}],storageKey:null},g={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"};e={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null};var h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g,d],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},d],storageKey:null},{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","react-compiler-runtime","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e,f){var g=d("react-compiler-runtime").c(8),i;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useLiveCostreamerTagSubscription.graphql"),g[0]=i):i=g[0];i=i;var k;g[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("uuidv4")(),g[1]=k):k=g[1];g[2]!==a||g[3]!==e?(k={input:{client_subscription_id:k,tagged_page_id:a,tagged_video_id:e}},g[2]=a,g[3]=e,g[4]=k):k=g[4];a=k;g[5]!==f||g[6]!==a?(e={onNext:f,subscription:i,updater:j,variables:a},g[5]=f,g[6]=a,g[7]=e):e=g[7];k=e;i=k;d("CometRelay").useSubscription(i)}function j(a){var b;a=a.getRootField("live_video_tag_subscribe");var c=a==null||(b=a.getLinkedRecord("tagged_page"))==null?void 0:b.getLinkedRecord("currently_live_video");a=a==null?void 0:a.getLinkedRecord("tagged_video");c==null&&a!=null&&a.setValue(null,"if_viewer_can_see_costreaming_tools")}g["default"]=a}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onNext,d=a.pageID;a=a.videoID;c("useLiveCostreamerTagSubscription.react")(d,a,b);return null}g["default"]=a}),98);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","FBLogger","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","react","react-compiler-runtime","useSelectedLatencySetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useMemo;f=h._(/*BTDS*/"Latency");var m=[o("low"),o("normal")],n=l.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function o(a){switch(a){case"low":return{description:h._(/*BTDS*/"A near-realtime experience."),title:h._(/*BTDS*/"Low latency"),value:a};case"normal":return{description:h._(/*BTDS*/"Best for performance and slower connections."),title:h._(/*BTDS*/"Normal"),value:a};case"ultra-low":return{description:h._(/*BTDS*/"Best for interactive broadcasts."),title:h._(/*BTDS*/"Ultra-low"),value:a};default:a;c("FBLogger")("gaming_video").mustfix("Setting %s is not valid",a);return{description:h._(/*BTDS*/"Error"),title:h._(/*BTDS*/"Error"),value:a}}}function a(a,b){var e=d("react-compiler-runtime").c(10),f=(k||(k=d("VideoPlayerHooks"))).useController(),g=k.useLatencyLevel();a=c("useSelectedLatencySetting")(a,b);var h=a[1];e[0]!==g?(b=o(g),e[0]=g,e[1]=b):b=e[1];a=b;b=a.title;e[2]!==f||e[3]!==g||e[4]!==h?(a=function(a){g!==a&&(h(a),f.setLatencyLevel(a))},e[2]=f,e[3]=g,e[4]=h,e[5]=a):a=e[5];a=a;var i;e[6]!==g||e[7]!==a||e[8]!==b?(i={selectedLatencySetting:g,selectedLatencySettingTitle:b,setSelectedLatencySetting:a},e[6]=g,e[7]=a,e[8]=b,e[9]=i):i=e[9];return i}var p=i!==void 0?i:i=b("LiveVideoLatencyMenuContextProvider_video.graphql");function e(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.video;a=d("CometRelay").useFragment(p,a);bb0:{if(a==null){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null},b[0]=e):e=b[0];e=e;break bb0}var f;b[1]!==a.if_viewer_can_use_latency_menu||b[2]!==a.if_viewer_can_use_latency_menu_toggle?(f={liveVideoLatencyMenuPaneMatchPointer:a.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:a.if_viewer_can_use_latency_menu_toggle},b[1]=a.if_viewer_can_use_latency_menu,b[2]=a.if_viewer_can_use_latency_menu_toggle,b[3]=f):f=b[3];e=f}a=e;b[4]!==c||b[5]!==a?(f=l.jsx(n.Provider,{value:a,children:c}),b[4]=c,b[5]=a,b[6]=f):f=b[6];return f}g.LATENCY_MENU_TITLE=f;g.LATENCY_SETTING_OPTIONS=m;g.LiveVideoLatencyMenuContext=n;g.getLiveVideoLatencySettingToInfoMapping=o;g.useLatencySettingState=a;g.LiveVideoLatencyMenuContextProvider=e}),226);
__d("VideoPlayerCaptionsControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCaptionsMenu.react",["fbt","$InternalEnum","CometKeys","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsMenuCaptionsDisplayPane.react","VideoPlayerCaptionsMenuMainPane.react","VideoPlayerHooks","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useEffect;e.useMemo;var m=e.useRef,n=e.useState,o=b("$InternalEnum")({CAPTIONS_BG_COLOR:"captionsBackgroundColor",CAPTIONS_BG_OPACITY:"captionsBackgroundOpacity",CAPTIONS_DISPLAY_MAIN:"captionsDisplayMain",CAPTIONS_TEXT_COLOR:"captionsTextColor",CAPTIONS_TEXT_SIZE:"captionsTextSize",CAPTIONS_MAIN:"captionsMain"});function a(a){var b=d("react-compiler-runtime").c(36),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,i=a.onClose,p=a.onPressLog,q=a.selectedCaptionsLocale,r=a.setCaptionsListExpanded;a=a.setSelectedCaptionsLocale;g=g===void 0?null:g;var s=(j||(j=d("VideoPlayerHooks"))).useCaptionDisplayStyle(),t=n(o.CAPTIONS_MAIN),u=t[0];t=t[1];var v=m(null),w=m(null),x;b[0]!==i?(x=function(a){v.current&&w.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!v.current.contains(a.target)&&w.current.contains(a.target)&&i()},b[0]=i,b[1]=x):x=b[1];var y=x,z;b[2]!==y?(x=function(){document.addEventListener("click",y);return function(){document.removeEventListener("click",y)}},z=[y],b[2]=y,b[3]=x,b[4]=z):(x=b[3],z=b[4]);l(x,z);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={key:c("CometKeys").ESCAPE},z=h._(/*BTDS*/"Close captions menu"),b[5]=x,b[6]=z):(x=b[5],z=b[6]);b[7]!==i?(x=[{command:x,description:z,handler:function(){i()}}],b[7]=i,b[8]=x):x=b[8];z=x;x=z;c("useLayerKeyCommands")(x);b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==p||b[13]!==q||b[14]!==r||b[15]!==a?(z=k.jsx(d("VideoPlayerCaptionsMenuMainPane.react").VideoPlayerCaptionsMenuMainPane,{availableCaptionsLocales:e,captionsListExpanded:f,onPressLog:p,selectedCaptionsLocale:q,setCaptionsListExpanded:r,setPane:t,setSelectedCaptionsLocale:a,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=p,b[13]=q,b[14]=r,b[15]=a,b[16]=z):z=b[16];x=z;bb0:switch(u){case o.CAPTIONS_MAIN:break bb0;case o.CAPTIONS_DISPLAY_MAIN:b[17]!==s||b[18]!==p?(e=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").VideoPlayerCaptionsMenuCaptionsDisplayMainPane,{currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[17]=s,b[18]=p,b[19]=e):e=b[19];x=e;break bb0;case o.CAPTIONS_BG_COLOR:b[20]!==s||b[21]!==p?(f=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[20]=s,b[21]=p,b[22]=f):f=b[22];x=f;break bb0;case o.CAPTIONS_BG_OPACITY:b[23]!==s||b[24]!==p?(g=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundOpacity",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[23]=s,b[24]=p,b[25]=g):g=b[25];x=g;break bb0;case o.CAPTIONS_TEXT_SIZE:b[26]!==s?(q=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextSize",currentCaptionsDisplay:s,setPane:t}),b[26]=s,b[27]=q):q=b[27];x=q;break bb0;case o.CAPTIONS_TEXT_COLOR:b[28]!==s||b[29]!==p?(r=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[28]=s,b[29]=p,b[30]=r):r=b[30];x=r}b[31]!==x?(a=k.jsx("div",{ref:v,children:x}),b[31]=x,b[32]=a):a=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",{className:"x5yr21d x1o0tod xixxii4 x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:w}),b[33]=z):z=b[33];b[34]!==a?(u=k.jsxs(k.Fragment,{children:[a,z]}),b[34]=a,b[35]=u):u=b[35];return u}g.VideoPlayerCaptionsMenuPaneType=o;g.VideoPlayerCaptionsMenu=a}),226);
__d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;var l={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",width:"xafpxmx",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},m={captionsBackgroundColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsBackgroundOpacity:{"0%":"TRANSPARENT","25%":"LIGHT","45%":"DEFAULT","75%":"DARK","100%":"OPAQUE"},captionsTextColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsTextSize:{"(50%)":"SMALLEST","(75%)":"SMALL","(100%)":"DEFAULT","(125%)":"MEDIUM","(150%)":"BIG","(175%)":"BIGGER","(200%)":"BIGGEST"}},n={"Background Color":{ftbLabel:h._(/*BTDS*/"Background Color"),name:"captionsBackgroundColor"},"Background Opacity":{ftbLabel:h._(/*BTDS*/"Background Opacity"),name:"captionsBackgroundOpacity"},"Text Color":{ftbLabel:h._(/*BTDS*/"Text Color"),name:"captionsTextColor"},"Text Size":{ftbLabel:h._(/*BTDS*/"Text Size"),name:"captionsTextSize"}},o={Black:h._(/*BTDS*/"Black"),Blue:h._(/*BTDS*/"Blue"),Cyan:h._(/*BTDS*/"Cyan"),Green:h._(/*BTDS*/"Green"),Magenta:h._(/*BTDS*/"Magenta"),Red:h._(/*BTDS*/"Red"),White:h._(/*BTDS*/"White"),Yellow:h._(/*BTDS*/"Yellow")};function p(a){var b=null,c=null;switch(a){case"(50%)":b=h._(/*BTDS*/"Small");c="X-";break;case"(75%)":b=h._(/*BTDS*/"Small");break;case"(125%)":b=h._(/*BTDS*/"Large");break;case"(150%)":b=h._(/*BTDS*/"Large");c="X-";break;case"(175%)":b=h._(/*BTDS*/"Large");c="XX-";break;case"(200%)":b=h._(/*BTDS*/"Large");c="XXX-";break;case"(100%)":b=h._(/*BTDS*/"Medium")}return k.jsxs("span",{children:[c!=null&&c,b,a]})}p.displayName=p.name+" [from "+f.id+"]";var q={captionsBackgroundColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_COLOR,captionsBackgroundOpacity:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_OPACITY,captionsTextColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_COLOR,captionsTextSize:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_SIZE};function r(a){var b=d("react-compiler-runtime").c(24),e=a.onPressLog,f=a.option,g=a.optionVal,h=a.setPane,j=n[f].name;b[0]!==j||b[1]!==e||b[2]!==f||b[3]!==h?(a=function(){h(q[j]),e&&e("captions_display_main_menu",f)},b[0]=j,b[1]=e,b[2]=f,b[3]=h,b[4]=a):a=b[4];a=a;var m;bb0:switch(j){case"captionsTextColor":case"captionsBackgroundColor":m=o[g];break bb0;default:m=g}var r=f.replace(" ","");r="video-player-captions-menu-captions-display-main-"+r;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1nxh6w3 x1s688f x1uncgzr"},b[5]=s):s=b[5];var t=n[f],u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1nxh6w3 xo1l8bm"},b[6]=u):u=b[6];var v;b[7]!==j||b[8]!==g||b[9]!==m?(v=j==="captionsTextSize"?p(g):m,b[7]=j,b[8]=g,b[9]=m,b[10]=v):v=b[10];b[11]!==v||b[12]!==r?(g=k.jsx("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:v})),b[11]=v,b[12]=r,b[13]=g):g=b[13];b[14]!==t.ftbLabel||b[15]!==g?(u=k.jsxs("div",babelHelpers["extends"]({},s,{children:[t.ftbLabel,g]})),b[14]=t.ftbLabel,b[15]=g,b[16]=u):u=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1rg5ohu"},r={className:"x1lliihq"},s={display:"table-cell"},b[17]=s,b[18]=v,b[19]=r):(s=b[17],v=b[18],r=b[19]);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx("div",{style:s,children:k.jsx(c("CometImage.react"),{src:i("480588")})})}))})),b[20]=t):t=b[20];b[21]!==a||b[22]!==u?(g=k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.menuOptionRow,children:[u,t]}),b[21]=a,b[22]=u,b[23]=g):g=b[23];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.setPane;b[0]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_MAIN)},b[0]=g,b[1]=a):a=b[1];a=a;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[2]=j):j=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x3nfvp2"},b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx("span",babelHelpers["extends"]({},o,{children:k.jsx(c("CometImage.react"),{src:i("480580")})})),p=k.jsx("span",{className:"x1nxh6w3 x1s688f x1diwwjn",children:h._(/*BTDS*/"Subtitle Options")}),b[4]=o,b[5]=p):(o=b[4],p=b[5]);b[6]!==a?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.pressableOption,children:[o,p]})})),b[6]=a,b[7]=j):j=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1anpbxc"},b[8]=o):o=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=Object.keys(n),b[9]=p):p=b[9];b[10]!==e||b[11]!==f||b[12]!==g?(a=k.jsx("div",babelHelpers["extends"]({},o,{"data-testid":void 0,children:p.map(function(a){var b=n[a].name,c=m[b];c=Object.fromEntries(Object.entries(c).map(s));c=e!=null?c[e[b]]:"";return k.jsx(r,{onPressLog:f,option:a,optionVal:c,setPane:g},a)})})),b[10]=e,b[11]=f,b[12]=g,b[13]=a):a=b[13];b[14]!==j||b[15]!==a?(o=k.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[j,a]}),b[14]=j,b[15]=a,b[16]=o):o=b[16];return o}function s(a){var b=a[0];a=a[1];return[a,b]}g.captionsDisplayOptionsMap=m;g.colorsFBTMap=o;g.getFontSizeDivWithFBTLabel=p;g.VideoPlayerCaptionsMenuCaptionsDisplayMainPane=a}),226);
__d("VideoPlayerCaptionsSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8917695971664599"}),null);
__d("VideoPlayerCaptionsSettingMutation.graphql",["VideoPlayerCaptionsSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPlayerCaptionsSettingResponsePayload",kind:"LinkedField",name:"video_player_captions_setting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoPlayerCaptionsSettingMutation",selections:c},params:{id:b("VideoPlayerCaptionsSettingMutation_facebookRelayOperation"),metadata:{},name:"VideoPlayerCaptionsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoPlayerCaptionsSettingMutation",["CometRelay","VideoPlayerCaptionsSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("VideoPlayerCaptionsSettingMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_captions_setting:{success:!0}},variables:{input:{captions_background_color:b.captions_background_color,captions_background_opacity:b.captions_background_opacity,captions_text_color:b.captions_text_color,captions_text_size:b.captions_text_size,client_mutation_id:"www_captions_settings"}}})}g.commit=a}),98);
__d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react",["fbt","ix","CometImage.react","CometPressable.react","CometRelay","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsSettingMutation","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react")),m=j.useCallback,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},o={captionsBackgroundColor:h._(/*BTDS*/"Background Color"),captionsBackgroundOpacity:h._(/*BTDS*/"Background Opacity"),captionsTextColor:h._(/*BTDS*/"Text Color"),captionsTextSize:h._(/*BTDS*/"Text Size")},p=function(a){return{captions_background_color:a.captionsBackgroundColor,captions_background_opacity:a.captionsBackgroundOpacity,captions_text_color:a.captionsTextColor,captions_text_size:a.captionsTextSize}};function q(a){var b=a.captionsDisplayOption,e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.option,h=a.selected,j=a.setPane,o=(k||(k=d("VideoPlayerHooks"))).useController();a=h;var q=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[b];h=null;switch(b){case"captionsTextColor":case"captionsBackgroundColor":h=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").colorsFBTMap[g];break;default:h=g}var r="video-player-captions-menu-captions-display-pane-"+b+"-"+g;r=m(function(){a=!0;if(e!=null){e[b]=q[g];o.setCaptionsDisplayStyle(babelHelpers["extends"]({},e));var c=p(e);d("VideoPlayerCaptionsSettingMutation").commit(s,c)}j(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN);f&&f(b)},[e,q,b,o,g]);var s=d("CometRelay").useRelayEnvironment();return l.jsxs(c("CometPressable.react"),{"aria-pressed":a,onPress:r,testid:void 0,xstyle:n.menuOptionRow,children:[l.jsx("div",{className:"x1rg5ohu x1849jeq",children:a&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})}),b==="captionsTextSize"?d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").getFontSizeDivWithFBTLabel(g):l.jsx("div",{className:"x1ypdohk x1rg5ohu",children:h})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(26),e=a.captionsDisplayOption,f=a.currentCaptionsDisplay,g=a.onPressLog,h=a.setPane;a=o[e];var j=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[e],k=f!=null?f[e]:null,m;b[0]!==h?(m=function(){h(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN)},b[0]=h,b[1]=m):m=b[1];m=m;var p="video-player-captions-menu-captions-display-pane-"+e,r;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1nxh6w3 x1s688f x1lku1pv"},b[2]=r):r=b[2];var s=p+"-topBar",t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x3nfvp2 x1849jeq"},b[3]=t):t=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx("span",babelHelpers["extends"]({},t,{children:l.jsx(c("CometImage.react"),{src:i("480580")})})),b[4]=t):t=b[4];b[5]!==m||b[6]!==a||b[7]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:l.jsxs(c("CometPressable.react"),{onPress:m,testid:void 0,xstyle:n.pressableOption,children:[t,a]})})),b[5]=m,b[6]=a,b[7]=s,b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1nxh6w3 xo1l8bm x1anpbxc"},b[9]=t):t=b[9];b[10]!==j?(m=Object.keys(j),b[10]=j,b[11]=m):m=b[11];b[12]!==j||b[13]!==k||b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==m?(a=m.map(function(a){var b=k===j[a];return l.jsx(q,{captionsDisplayOption:e,currentCaptionsDisplay:f,onPressLog:g,option:a,selected:b,setPane:h},a)}),b[12]=j,b[13]=k,b[14]=e,b[15]=f,b[16]=g,b[17]=h,b[18]=m,b[19]=a):a=b[19];b[20]!==a||b[21]!==p?(s=l.jsx("div",babelHelpers["extends"]({},t,{"data-testid":void 0,children:a})),b[20]=a,b[21]=p,b[22]=s):s=b[22];b[23]!==s||b[24]!==r?(m=l.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[r,s]}),b[23]=s,b[24]=r,b[25]=m):m=b[25];return m}g.VideoPlayerCaptionsMenuCaptionsDisplayPane=a}),226);
__d("VideoPlayerCaptionsMenuMainPane.react",["fbt","ix","CometPressable.react","CometScrollableArea.react","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenuTopBar.react","VideoPlayerHooks","fbicon","focusScopeQueries","isTruthy","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;var m=b.useEffect,n=b.useRef,o={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",fontSize:"x1nxh6w3",fontWeight:"xo1l8bm",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",":hover_backgroundColor":"xx8nu07",$$css:!0}},p=5;function q(a){var b,e=d("react-compiler-runtime").c(27),f=a.captions,g=a.captionsVisible,j=a.controller,m=a.focused,n=a.onPressLog,p=a.setSelectedCaptionsLocale;a=(k||(k=d("VideoPlayerHooks"))).useIsVideoBroadcast();a=f.localizedCreationMethod!=null||a;b="video-player-captions-menu-language-list-item-"+((b=f.localizedLanguage)!=null?b:"");var q;e[0]!==f.captionsUrl||e[1]!==f.locale||e[2]!==f.localizedLanguage||e[3]!==g||e[4]!==j||e[5]!==n||e[6]!==p?(q=function(){var a;f.locale!=null&&p(f.locale);g||j.setCaptionsVisible(!0);f.captionsUrl!=null&&j.setCaptionsUrl(f.captionsUrl);n&&n("captions_language_selector",(a=f.localizedLanguage)!=null?a:"")},e[0]=f.captionsUrl,e[1]=f.locale,e[2]=f.localizedLanguage,e[3]=g,e[4]=j,e[5]=n,e[6]=p,e[7]=q):q=e[7];var r;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1rg5ohu xw4jnvo"},e[8]=r):r=e[8];var s;e[9]!==m||e[10]!==b?(s=m&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),e[9]=m,e[10]=b,e[11]=s):s=e[11];e[12]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:s})),e[12]=s,e[13]=r):r=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},e[14]=s):s=e[14];var t=c("isTruthy")(f.localizedCountry)?" "+f.localizedCountry:null,u;e[15]!==a?(u=!a&&l.jsxs(l.Fragment,{children:[" ",h._(/*BTDS*/"(Provided by Author)")]}),e[15]=a,e[16]=u):u=e[16];e[17]!==f.localizedLanguage||e[18]!==t||e[19]!==u?(a=l.jsxs("div",babelHelpers["extends"]({},s,{children:[f.localizedLanguage,t,u]})),e[17]=f.localizedLanguage,e[18]=t,e[19]=u,e[20]=a):a=e[20];e[21]!==m||e[22]!==q||e[23]!==r||e[24]!==a||e[25]!==b?(s=l.jsxs(c("CometPressable.react"),{"aria-pressed":m,onPress:q,testid:void 0,xstyle:o.menuOptionRow,children:[r,a]}),e[21]=m,e[22]=q,e[23]=r,e[24]=a,e[25]=b,e[26]=s):s=e[26];return s}var r="Toggle On";function a(a){var b=d("react-compiler-runtime").c(66),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,j=a.onPressLog,s=a.selectedCaptionsLocale,t=a.setCaptionsListExpanded,u=a.setPane,v=a.setSelectedCaptionsLocale,w=(k||(k=d("VideoPlayerHooks"))).useController(),x=k.useCaptionsVisible(),y=e!=null?e.length:0,z=n(!1),A;b[0]!==y||b[1]!==x||b[2]!==v?(a=function(){x||v(""),x&&y===0&&!z.current&&(z.current=!0,v(r))},A=[x,v,y],b[0]=y,b[1]=x,b[2]=v,b[3]=a,b[4]=A):(a=b[3],A=b[4]);m(a,A);if(e==null)return null;b[5]!==e||b[6]!==j||b[7]!==u?(a=l.jsx(c("VideoPlayerCaptionsMenuTopBar.react"),{availableCaptionsLocales:e,onPressLog:j,setPane:u}),b[5]=e,b[6]=j,b[7]=u,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1anpbxc x15eivr9"},b[9]=A):A=b[9];b[10]!==y||b[11]!==w||b[12]!==s||b[13]!==v?(u=y===0&&l.jsxs(c("CometPressable.react"),{"aria-pressed":s===r,onPress:function(){v(r),w.setCaptionsVisible(!0)},xstyle:o.menuOptionRow,children:[l.jsx("div",{className:"x1rg5ohu xw4jnvo",children:s===r&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),l.jsx("div",{className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf",children:h._(/*BTDS*/"On")})]}),b[10]=y,b[11]=w,b[12]=s,b[13]=v,b[14]=u):u=b[14];var B=s==="",C;b[15]!==w||b[16]!==v?(C=function(){v(""),w.setCaptionsVisible(!1)},b[15]=w,b[16]=v,b[17]=C):C=b[17];var D;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"x1rg5ohu xw4jnvo"},b[18]=D):D=b[18];var E;b[19]!==s?(E=s===""&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)}),b[19]=s,b[20]=E):E=b[20];b[21]!==E?(D=l.jsx("div",babelHelpers["extends"]({},D,{children:E})),b[21]=E,b[22]=D):D=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(E=l.jsx("div",{className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf",children:h._(/*BTDS*/"Off")}),b[23]=E):E=b[23];b[24]!==D||b[25]!==B||b[26]!==C?(E=l.jsxs(c("CometPressable.react"),{"aria-pressed":B,onPress:C,xstyle:o.menuOptionRow,children:[D,E]}),b[24]=D,b[25]=B,b[26]=C,b[27]=E):E=b[27];if(b[28]!==e||b[29]!==x||b[30]!==w||b[31]!==j||b[32]!==s||b[33]!==v){b[35]!==x||b[36]!==w||b[37]!==j||b[38]!==s||b[39]!==v?(D=function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,onPressLog:j,setSelectedCaptionsLocale:v},a.locale):null},b[35]=x,b[36]=w,b[37]=j,b[38]=s,b[39]=v,b[40]=D):D=b[40];B=e.slice(0,4).map(D);b[28]=e;b[29]=x;b[30]=w;b[31]=j;b[32]=s;b[33]=v;b[34]=B}else B=b[34];b[41]!==y||b[42]!==f||b[43]!==t?(C=y>=p&&!f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!0)},xstyle:o.menuOptionRow,children:l.jsx("div",{className:"x1ypdohk x1rg5ohu x9pbi5e",children:h._(/*BTDS*/"See more")})}),b[41]=y,b[42]=f,b[43]=t,b[44]=C):C=b[44];b[45]!==e||b[46]!==f||b[47]!==x||b[48]!==w||b[49]!==s||b[50]!==v?(D=f&&e.slice(4).map(function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,setSelectedCaptionsLocale:v},a.locale):null}),b[45]=e,b[46]=f,b[47]=x,b[48]=w,b[49]=s,b[50]=v,b[51]=D):D=b[51];b[52]!==f||b[53]!==t?(e=f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!1)},xstyle:o.menuOptionRow,children:l.jsx("div",{className:"x1ypdohk x1rg5ohu x9pbi5e",children:h._(/*BTDS*/"See less")})}),b[52]=f,b[53]=t,b[54]=e):e=b[54];b[55]!==E||b[56]!==B||b[57]!==C||b[58]!==D||b[59]!==e||b[60]!==u?(f=l.jsx(c("CometScrollableArea.react"),{hideScrollbar:!0,children:l.jsxs("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:[u,E,B,C,D,e]}))}),b[55]=E,b[56]=B,b[57]=C,b[58]=D,b[59]=e,b[60]=u,b[61]=f):f=b[61];b[62]!==g||b[63]!==f||b[64]!==a?(A=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,g,f]})}),b[62]=g,b[63]=f,b[64]=a,b[65]=A):A=b[65];return A}g.VideoPlayerCaptionsMenuMainPane=a}),226);
__d("VideoPlayerCaptionsMenuTopBar.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerCaptionsMenu.react","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));j.useCallback;var m={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.availableCaptionsLocales,f=a.onPressLog,g=a.setPane;b[0]!==f||b[1]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),f&&f("captions_main_menu_top_bar")},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var j=(k||(k=d("VideoPlayerHooks"))).useIsLive(),o=k.useIsVideoBroadcast();o=o&&!j;b[3]!==e||b[4]!==o?(j=(e==null?void 0:e.some(n))||o,b[3]=e,b[4]=o,b[5]=j):j=b[5];e=j;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14ctfv x78zum5 x1jzhcrs"},b[6]=o):o=b[6];var p,q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",{className:"x1nxh6w3 x1s688f",children:h._(/*BTDS*/"Subtitles")}),p={className:"x6s0dn4 x14ctfv x1ypdohk x3nfvp2 x1bhwmg6 x13a6bvl xymharo"},q={className:"x3nfvp2"},b[7]=j,b[8]=p,b[9]=q):(j=b[7],p=b[8],q=b[9]);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsxs("div",babelHelpers["extends"]({},p,{children:[l.jsx("span",babelHelpers["extends"]({},q,{children:l.jsx(c("CometImage.react"),{src:i("492300")})})),l.jsx("div",{className:"x3nfvp2 xo1l8bm xdzw4kq",children:h._(/*BTDS*/"Options")})]})),b[10]=p):p=b[10];b[11]!==a?(q=l.jsx("div",babelHelpers["extends"]({},o,{children:l.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:m.pressableOption,children:[j,p]})})),b[11]=a,b[12]=q):q=b[12];b[13]!==e?(o=e!=null&&e&&l.jsx("div",{className:"x1nxh6w3 x1k4tb9n",children:h._(/*BTDS*/"Auto-generated")}),b[13]=e,b[14]=o):o=b[14];b[15]!==q||b[16]!==o?(j=l.jsxs("div",{children:[q,o]}),b[15]=q,b[16]=o,b[17]=j):j=b[17];return j}function n(a){return a.localizedCreationMethod!=null}g["default"]=a}),226);
__d("VideoPlayerCaptionsControl.react",["fbt","ix","CometRelay","IntlCurrentLocale","VideoPlayerCaptionsControl_video.graphql","VideoPlayerCaptionsMenu.react","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerLoggingSuboriginContext","VideoPlayerUserInteractionCounter","fbicon","react","requireDeferred","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;var n=e.useCallback,o=e.useContext,p=e.useEffect,q=e.useMemo,r=e.useRef,s=e.useState,t=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerCaptionsControl.react"),u="asr",v=function(a){return a.length<2?null:a.substr(0,2)};function a(a){var e=a.alignMenuToIcon;e=e===void 0?!1:e;var f=a.availableCaptionsLocales,g=a.captionsVisible,k=a.children;k=k===void 0?null:k;var w=a.compactMenu,x=a.icon,y=a.initialCaptionsUrl,z=a.menuOpened,A=a.onMenuOpen,B=a.onUserInteraction,C=a.setMenuOpened;a=a.video;var D=h._(/*BTDS*/"Captions");d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_captions_menu",z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,B);B=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerCaptionsControl_video.graphql"),a);var E=(l||(l=d("VideoPlayerHooks"))).useMuted(),F=l.useController(),G=c("usePlayerOriginRouteTracePolicy")(),H=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(B),I=q(function(){var a;return((a=f!=null?f:H)!=null?a:[]).slice().sort(function(a,b){return((a=a.localizedLanguage)!=null?a:"")>((a=b.localizedLanguage)!=null?a:"")?1:-1})},[f,H]),J=y!=null?y:B==null?void 0:B.captions_url;a=s("");var K=a[0],L=a[1],M=r(null),N=r(null);p(function(){I.forEach(function(a){a.captionsUrl===J&&a.locale!=null&&(M.current==null&&(M.current=a.locale),L(a.locale))})},[I,J]);var O=c("IntlCurrentLocale").code;p(function(){var a;a=v((a=M.current)!=null?a:"");M.current!==u&&a!=null&&a!==v(O)&&N.current===null?(F.setCaptionsVisible(!1),N.current=!1):E&&!g&&K!==""&&N.current===null?(N.current=!0,F.setCaptionsVisible(!0)):!E&&N.current===!0&&(F.setCaptionsVisible(!1),N.current=!1)},[g,F,E,O,K]);var P=z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU;y=s(!1);B=y[0];a=y[1];var Q=o(c("VideoPlayerLoggingSuboriginContext")),R=c("useMinifiedProductAttribution")(),S=n(function(a,b){a===void 0&&(a=null),b===void 0&&(b=null),t.onReady(function(c){c.log({attribution_id_v2:R,click_point:a,event:"click",event_target_info:G,event_target_sub_type:b,player_suborigin:Q})})},[R,G,Q]);return m.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],{"data-testid":void 0,children:[P&&m.jsx("div",babelHelpers["extends"]({role:"dialog"},{0:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk xk6ci0l x1602a87"},2:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 xwjie4w"},1:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"},3:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"}}[!!(w===!0)<<1|!!(e===!0)<<0],{children:m.jsx(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenu,{availableCaptionsLocales:I,captionsListExpanded:B,onClose:function(){C!=null&&C(null)},onPressLog:S,selectedCaptionsLocale:K,setCaptionsListExpanded:a,setSelectedCaptionsLocale:L,children:k})})),m.jsx(c("VideoPlayerControlIcon.react"),{icon:x==null?g?d("fbicon")._(i("662652"),20):d("fbicon")._(i("662655"),20):x,label:D,onPress:function(){C!=null&&C(P?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU),!P&&A!=null&&A(),S("closed_captions_button")},tooltip:D})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));g["default"]=a}),98);
__d("VideoPlayerCastControlShim.react",["CometPlaceholder.react","VideoPlayerCastControlShimImpl.modern.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isVisible"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,g;b[0]!==a?(e=a.isVisible,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=g):(e=b[1],g=b[2]);b[3]!==g?(a=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(c("VideoPlayerCastControlShimImpl.modern.react"),babelHelpers["extends"]({},g))}),b[3]=g,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(g=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:e,noPaddingEnd:!0,noPaddingStart:!0,children:a}),b[5]=e,b[6]=a,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerExpandSidePanelControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailExpanded,f=b.setRightRailExpanded;a[0]!==e?(b=e?h._(/*BTDS*/"Collapse comments"):h._(/*BTDS*/"Expand comments"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("557039"),20):d("fbicon")._(i("557052"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerLiveVideoControls_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_clipping_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_rewind_enabled",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"LiveVideoLatencyMenuContextProvider_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_community_moderation_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video",fragmentName:"VideoPlayerModeratorControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_live_rewind",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_live_rewind",fragmentName:"VideoPlayerLiveRewindControlsGroup_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_see_costreaming_tools",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("VideoPlayerQuietModeControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailHidden,f=b.setRightRailHidden;a[0]!==e?(b=e?h._(/*BTDS*/"Show comments and reactions"):h._(/*BTDS*/"Hide comments and reactions"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("942218"),20):d("fbicon")._(i("942221"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.selectedVideoQuality,f=a.setPane;a=a.targetVideoQuality;var g;b[0]!==f?(g=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},b[0]=f,b[1]=g):g=b[1];var j,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("div",{className:"x1ypdohk x1s688f",children:h._(/*BTDS*/"Quality")}),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=j,b[3]=m):(j=b[2],m=b[3]);var n;b[4]!==e||b[5]!==a?(n=e==="notselected"?k.jsx("span",{"data-testid":void 0,children:"\xa0"}):e==="auto"?k.jsxs(k.Fragment,{children:[k.jsx("span",{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}),a!=null?k.jsxs(k.Fragment,{children:[k.jsx("span",{children:"\xa0"}),k.jsx("span",{"data-testid":void 0,children:a})]}):null]}):k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=a,b[6]=n):n=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[8]=a):a=b[8];b[9]!==n?(e=k.jsxs("div",babelHelpers["extends"]({},m,{children:[n,a]})),b[9]=n,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(m=k.jsxs(c("CometPressable.react"),{onPress:g,testid:void 0,xstyle:l.pressableOption,children:[j,e]}),b[11]=g,b[12]=e,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","FBLogger","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuAudioTrackPane.react","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","react","react-compiler-runtime","useLayerKeyCommands","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=b("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function a(a){var b=d("react-compiler-runtime").c(57),e=a.children,g=a.forceShowPlaybackRateControl,i=a.onClose,q=a.originalVideoLanguage;a=a.videoID;e=e===void 0?null:e;var r=(j||(j=d("VideoPlayerHooks"))).useCaptionsLoaded(),s=j.useCaptionsVisible(),t=j.useSelectedVideoQuality(),u=j.useController(),v;b[0]!==u?(v=function(){return u.getCurrentState().availableAudioTracks},b[0]=u,b[1]=v):v=b[1];var w=c("useVideoPlayerControllerSubscription")(v);b[2]!==u?(v=function(){return u.getCurrentState().targetAudioTrack},b[2]=u,b[3]=v):v=b[3];v=c("useVideoPlayerControllerSubscription")(v);var x=j.useInbandCaptionsAutogenerated(),y=j.useTargetVideoQuality(),z=o(p.MAIN),A=z[0],B=z[1];z=o(s);s=z[0];z=z[1];var C=j.usePlaybackRate(),D=j.useIsLive(),E=j.useIsLiveRewindActive(),F=l(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);F=F.liveVideoLatencyMenuPaneMatchPointer;var G=j.useShouldShowPlaybackRateControl(),H;b[4]!==g||b[5]!==G?(H=g===!0||d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&G,b[4]=g,b[5]=G,b[6]=H):H=b[6];g=H;b[7]!==D||b[8]!==E||b[9]!==A?(G=function(){D&&!E&&A===p.PLAYBACK_SPEED&&B(p.MAIN)},H=[E,B,D,A],b[7]=D,b[8]=E,b[9]=A,b[10]=G,b[11]=H):(G=b[10],H=b[11]);m(G,H);b[12]!==w.length||b[13]!==A?(G=function(){w.length<=1&&A===p.AUDIO&&B(p.MAIN)},b[12]=w.length,b[13]=A,b[14]=G):G=b[14];b[15]!==w||b[16]!==A?(H=[w,A],b[15]=w,b[16]=A,b[17]=H):H=b[17];m(G,H);var I=n(null),J=n(null);b[18]!==i?(G=function(a){I.current&&J.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!I.current.contains(a.target)&&J.current.contains(a.target)&&i()},b[18]=i,b[19]=G):G=b[19];var K=G;b[20]!==K?(H=function(){document.addEventListener("click",K);return function(){document.removeEventListener("click",K)}},G=[K],b[20]=K,b[21]=H,b[22]=G):(H=b[21],G=b[22]);m(H,G);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(H={key:c("CometKeys").ESCAPE},G=h._(/*BTDS*/"Close video settings menu"),b[23]=H,b[24]=G):(H=b[23],G=b[24]);b[25]!==i?(H=[{command:H,description:G,handler:function(){i()}}],b[25]=i,b[26]=H):H=b[26];G=H;H=G;c("useLayerKeyCommands")(H);G=v!=null?v:null;b[27]!==w||b[28]!==r||b[29]!==s||b[30]!==e||b[31]!==x||b[32]!==D||b[33]!==C||b[34]!==t||b[35]!==g||b[36]!==G||b[37]!==y?(H=k.jsx(c("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:w,captionsLoaded:r,captionsVisibleOptimistic:s,inbandCaptionsAutogenerated:x,isLive:D,playbackRate:C,selectedVideoQuality:t,setIsCaptionsVisible:z,setPane:B,shouldEnablePlaybackRateSupport:g,targetAudioTrack:G,targetVideoQuality:y,children:e}),b[27]=w,b[28]=r,b[29]=s,b[30]=e,b[31]=x,b[32]=D,b[33]=C,b[34]=t,b[35]=g,b[36]=G,b[37]=y,b[38]=H):H=b[38];z=H;bb0:switch(A){case p.LATENCY:if(F==null){c("FBLogger")("gaming_video").mustfix("Latency components should not be null");break bb0}b[39]===Symbol["for"]("react.memo_cache_sentinel")?(r={setPane:B},b[39]=r):r=b[39];b[40]!==F?(s=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(d("CometRelay").MatchContainer,{match:F,props:r})})}),b[40]=F,b[41]=s):s=b[41];z=s;break bb0;case p.MAIN:break bb0;case p.PLAYBACK_SPEED:b[42]!==C?(e=k.jsx(c("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:C,setPane:B}),b[42]=C,b[43]=e):e=b[43];z=e;break bb0;case p.QUALITY:b[44]!==t?(x=k.jsx(c("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:t,setPane:B}),b[44]=t,b[45]=x):x=b[45];z=x;break bb0;case p.AUDIO:b[46]!==w||b[47]!==D||b[48]!==q||b[49]!==v||b[50]!==a?(g=!D&&w.length>1?k.jsx(c("VideoPlayerSettingsMenuAudioTrackPane.react"),{availableAudioTracks:w,originalVideoLanguage:q!=null?q:null,setPane:B,targetAudioTrack:v!=null?v:null,videoID:a!=null?a:null}):null,b[46]=w,b[47]=D,b[48]=q,b[49]=v,b[50]=a,b[51]=g):g=b[51];z=g}b[52]!==z?(G=k.jsx("div",{ref:I,children:z}),b[52]=z,b[53]=G):G=b[53];b[54]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx("div",{className:"xjbqb8w x5yr21d x1o0tod xg6iff7 x1g81zrj xixxii4 x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:J}),b[54]=y):y=b[54];b[55]!==G?(H=k.jsxs(k.Fragment,{children:[G,y]}),b[55]=G,b[56]=H):H=b[56];return H}g.VideoPlayerSettingsMenuPaneType=p;g.VideoPlayerSettingsMenu=a}),226);
__d("VideoPlayerSettingsMenuAudioTrackPane.react",["ix","AutoDubbingConsumptionFalcoEvent","CometAudioLanguageMenuItemsMutation","CometFeedStoryMetaSectionMiddot.react","CometImage.react","CometPressable.react","CometRelay","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","FDSTextPairing.react","FocusRegion.react","VideoPlayerAudioTrackUtils","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.availableAudioTracks,f=a.originalVideoLanguage,g=a.setPane,i=a.targetAudioTrack,o=a.videoID,p=(j||(j=d("VideoPlayerHooks"))).useController();a=d("CometRelay").useMutation(d("CometAudioLanguageMenuItemsMutation").setUserPreferredAudioLanguageDataMutation);var q=a[0];b[0]!==q?(a=function(a){a!=null&&q({variables:{input:{language_code:a}}})},b[0]=q,b[1]=a):a=b[1];var r=a;b[2]!==o?(a=function(a,b,d,e,f){var g={client_extra_data:{dubbing_type_from:d==null?"original":d,dubbing_type_to:e==null?"original":e,lang_from:a!=null?a:"original",lang_to:b!=null?b:"original"},event:f,video_id:o!=null?o:""};c("AutoDubbingConsumptionFalcoEvent").log(function(){return g})},b[2]=o,b[3]=a):a=b[3];var s=a;b[4]!==f?(a=function(a){var b;b=(b=a==null?void 0:a.lang)!=null?b:null;(a==null?void 0:a.lang)===null&&a.role==null&&(b=f!=null?f:null);return b},b[4]=f,b[5]=a):a=b[5];var t=a,u=m(null),v=function(a){var b=t(a),c=t(i);p.selectVideoVariant({lang:a.lang,role:a.role});r(b);s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption_preferred_language_changed");u.current!=null&&u.current.remove();u.current=p.subscribe(function(){var d;if(((d=p.getCurrentState().targetAudioTrack)==null?void 0:d.id)===a.id){s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption");(d=u.current)==null||d.remove()}})};b[6]!==p?(a=[p],b[6]=p,b[7]=a):a=b[7];l(function(){return function(){var a;(a=u.current)==null||a.remove()}},a);b[8]!==f?(a=function(a){var b=a==null?void 0:a.lang;b==null&&(a==null?void 0:a.role)==null&&(b=f!=null?f:null);b=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),b);var e=null;a.role==null?e=b==null?k.jsx("div",{children:d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL}):k.jsxs("div",{children:[d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b),k.jsx(c("CometFeedStoryMetaSectionMiddot.react"),{}),d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL]}):b!=null&&(e=d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b));return e},b[8]=f,b[9]=a):a=b[9];var w=a;a=d("FocusRegion.react").FocusRegion;var x=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,y=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,z="VideoPlayerSettingsMenu/changeAudioTrackPane";b[10]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[10]=z):z=b[10];var A;b[11]!==g?(A=function(){return g(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[11]=g,b[12]=A):A=b[12];var B;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[13]=B):B=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("span",babelHelpers["extends"]({},B,{children:k.jsx(c("CometImage.react"),{src:h("480579")})})),b[14]=B):B=b[14];b[15]!==A?(z=k.jsx("div",babelHelpers["extends"]({},z,{children:k.jsxs(c("CometPressable.react"),{onPress:A,testid:void 0,xstyle:n.pressableOption,children:[B,d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM]})})),b[15]=A,b[16]=z):z=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("div",{className:"x1j9u4d2 xyamay9",children:k.jsx(c("FDSTextPairing.react"),{body:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_DESCRIPTION,bodyColor:"white",level:4})}),A={className:"x1hm9lzh x1anpbxc xn80e1m"},b[17]=B,b[18]=A):(B=b[17],A=b[18]);var C="VideoPlayerSettingsMenu/changeAudioTrackPaneList";C=e.map(function(a){var b=(i==null?void 0:i.id)===a.id,d=w(a);if(d!=null)return k.jsx("div",{children:k.jsxs(c("CometPressable.react"),{onPress:function(){return v(a)},testid:void 0,xstyle:n.menuOptionRow,children:[k.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:b&&k.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:d}))]})},a.id)});b[19]!==A||b[20]!==C?(e=k.jsx("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:C})),b[19]=A,b[20]=C,b[21]=e):e=b[21];b[22]!==z||b[23]!==B||b[24]!==e?(A=k.jsxs("div",{"data-testid":void 0,children:[z,B,e]}),b[22]=z,b[23]=B,b[24]=e,b[25]=A):A=b[25];b[26]!==a||b[27]!==A||b[28]!==x||b[29]!==y?(C=k.jsx(a,{autoFocusQuery:x,recoverFocusQuery:y,children:A}),b[26]=a,b[27]=A,b[28]=x,b[29]=y,b[30]=C):C=b[30];return C}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["ix","CometImage.react","CometPressable.react","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(30),e=a.setPane;a=a.targetAudioTrack;var f,g,i,l,m,n,o;if(b[0]!==e||b[1]!==(a==null?void 0:a.lang)||b[2]!==(a==null?void 0:a.role)){var p=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),a==null?void 0:a.lang);f=c("CometPressable.react");b[11]!==e?(l=function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},b[11]=e,b[12]=l):l=b[12];m="VideoPlayerSettingsMenu/mainPaneAudioTrackItem";n=k.pressableOption;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",{className:"x1ypdohk x1s688f",children:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM}),i={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j xn80e1m"},b[13]=i,b[14]=o):(i=b[13],o=b[14]);g="VideoPlayerSettingsMenu/mainPaneAudioTrackItemLabelManuallySelected";p=(a==null?void 0:a.role)===null?d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_OFF:(a==null?void 0:a.role)==="dub"&&p!=null?d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(p):null;b[0]=e;b[1]=a==null?void 0:a.lang;b[2]=a==null?void 0:a.role;b[3]=f;b[4]=g;b[5]=p;b[6]=i;b[7]=l;b[8]=m;b[9]=n;b[10]=o}else f=b[3],g=b[4],p=b[5],i=b[6],l=b[7],m=b[8],n=b[9],o=b[10];b[15]!==g||b[16]!==p?(a=j.jsx("span",{"data-testid":void 0,children:p}),b[15]=g,b[16]=p,b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x3nfvp2 xmgb6t1 xwklpps"},b[18]=g):g=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx("span",babelHelpers["extends"]({},g,{children:j.jsx(c("CometImage.react"),{src:h("480587")})})),b[19]=p):p=b[19];b[20]!==i||b[21]!==a?(g=j.jsxs("div",babelHelpers["extends"]({},i,{children:[a,p]})),b[20]=i,b[21]=a,b[22]=g):g=b[22];b[23]!==f||b[24]!==g||b[25]!==l||b[26]!==m||b[27]!==n||b[28]!==o?(p=j.jsxs(f,{onPress:l,testid:void 0,xstyle:n,children:[o,g]}),b[23]=f,b[24]=g,b[25]=l,b[26]=m,b[27]=n,b[28]=o,b[29]=p):p=b[29];return p}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuAudioTrackPaneToggle.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.availableAudioTracks,g=a.children,h=a.isLive,k=a.playbackRate,l=a.selectedVideoQuality,m=a.setPane,n=a.shouldEnablePlaybackRateSupport,o=a.targetAudioTrack;a=a.targetVideoQuality;var p=j(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);p=p.liveVideoLatencyMenuPaneToggleMatchPointer;h=!h&&e.length>1?c("gkx")("24336"):!1;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[0]=e):e=b[0];b[1]!==l||b[2]!==m||b[3]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:l,setPane:m,targetVideoQuality:a})})),b[1]=l,b[2]=m,b[3]=a,b[4]=e):e=b[4];b[5]!==m||b[6]!==h||b[7]!==o?(l=h&&i.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:i.jsx(c("VideoPlayerSettingsMenuAudioTrackPaneToggle.react"),{setPane:m,targetAudioTrack:o})}),b[5]=m,b[6]=h,b[7]=o,b[8]=l):l=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[9]=a):a=b[9];b[10]!==k||b[11]!==m||b[12]!==n?(h=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:k,setPane:m,shouldEnablePlaybackRateSupport:n})})),b[10]=k,b[11]=m,b[12]=n,b[13]=h):h=b[13];b[14]!==p||b[15]!==m?(o=p!=null&&i.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(d("CometRelay").MatchContainer,{match:p,props:{setPane:m}})})})}),b[14]=p,b[15]=m,b[16]=o):o=b[16];b[17]!==g||b[18]!==e||b[19]!==l||b[20]!==h||b[21]!==o?(a=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:i.jsxs("div",{"data-testid":void 0,children:[e,l,h,o,g]})}),b[17]=g,b[18]=e,b[19]=l,b[20]=h,b[21]=o,b[22]=a):a=b[22];return a}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.playbackRate,f=a.setPane;a=a.shouldEnablePlaybackRateSupport;if(!a)return null;b[0]!==f?(a=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},b[0]=f,b[1]=a):a=b[1];var g,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:"x1ypdohk x1s688f",children:h._(/*BTDS*/"Playback Speed")}),j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=g,b[3]=j):(g=b[2],j=b[3]);var m;b[4]!==e?(m=k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[7]=e):e=b[7];b[8]!==m?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,e]})),b[8]=m,b[9]=j):j=b[9];b[10]!==a||b[11]!==j?(e=k.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:l.pressableOption,children:[g,j]}),b[10]=a,b[11]=j,b[12]=e):e=b[12];return e}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.playbackRate,f=a.setPane,g=(k||(k=d("VideoPlayerHooks"))).useController();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=a):a=b[0];var j;b[1]!==f?(j=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=j):j=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x3nfvp2 xmgb6t1 x165d6jo"},b[3]=n):n=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx("span",babelHelpers["extends"]({},n,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),o=h._(/*BTDS*/"Playback Speed"),b[4]=n,b[5]=o):(n=b[4],o=b[5]);b[6]!==j?(a=l.jsx("div",babelHelpers["extends"]({},a,{children:l.jsxs(c("CometPressable.react"),{onPress:j,testid:void 0,xstyle:m.pressableOption,children:[" ",n,o]})})),b[6]=j,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1hm9lzh x1anpbxc"},b[8]=n):n=b[8];b[9]!==g||b[10]!==e?(o=l.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(a){var b=e===a,d=h._(/*BTDS*/"Set the playback speed to {playback_rate_option}{is_playback_rate_option_selected}",[h._param("playback_rate_option",a),h._param("is_playback_rate_option_selected",b?", selected":"")]);return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{"aria-checked":b,"aria-label":d,onPress:function(){g.setPlaybackRate(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",{className:"x17j41np x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:b&&l.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)})})),b[9]=g,b[10]=e,b[11]=o):o=b[11];b[12]!==a||b[13]!==o?(j=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,o]})}),b[12]=a,b[13]=o,b[14]=j):j=b[14];return j}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.selectedVideoQuality,f=a.setPane;a=(k||(k=d("VideoPlayerHooks"))).useAvailableVideoQualities();var g=k.useIsAbrEnabled(),j=k.useController(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=n):n=b[0];var o;b[1]!==f?(o=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=o):o=b[2];var p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[3]=p):p=b[3];var q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("span",babelHelpers["extends"]({},p,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),q=h._(/*BTDS*/"Quality"),b[4]=p,b[5]=q):(p=b[4],q=b[5]);b[6]!==o?(n=l.jsx("div",babelHelpers["extends"]({},n,{children:l.jsxs(c("CometPressable.react"),{onPress:o,testid:void 0,xstyle:m.pressableOption,children:[p,q]})})),b[6]=o,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1hm9lzh x1anpbxc"},b[8]=p):p=b[8];b[9]!==j||b[10]!==g||b[11]!==e?(q=g?l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality("auto")},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:e==="auto"&&l.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!(e==="auto")<<0],{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}))]})},"auto"):null,b[9]=j,b[10]=g,b[11]=e,b[12]=q):q=b[12];if(b[13]!==a||b[14]!==j||b[15]!==e){b[17]!==j||b[18]!==e?(o=function(a){var b=e===a;return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:b&&l.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)},b[17]=j,b[18]=e,b[19]=o):o=b[19];g=a.map(o).reverse();b[13]=a;b[14]=j;b[15]=e;b[16]=g}else g=b[16];b[20]!==q||b[21]!==g?(o=l.jsxs("div",babelHelpers["extends"]({},p,{"data-testid":void 0,children:[q,g]})),b[20]=q,b[21]=g,b[22]=o):o=b[22];b[23]!==o||b[24]!==n?(a=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[n,o]})}),b[23]=o,b[24]=n,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=d("react-compiler-runtime").c(29),e=a.alignMenuToIcon,f=a.children,g=a.compactMenu,j=a.forceShowPlaybackRateControl,m=a.icon,n=a.menuOpened,o=a.onMenuOpen,p=a.onUserInteraction,q=a.originalVideoLanguage,r=a.ref,s=a.setMenuOpened;a=a.videoID;e=e===void 0?!1:e;f=f===void 0?null:f;var t=l(!1),u=t[0],v=t[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Settings"),b[0]=t):t=b[0];t=t;var w=s!=null;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u,p);var x=w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u;b[1]!==e?(p={0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],b[1]=e,b[2]=p):p=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==j||b[7]!==w||b[8]!==x||b[9]!==q||b[10]!==s||b[11]!==a?(n=x&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x1fwd5yv"},2:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk xwjie4w"},1:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"},3:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"}}[!!(g===!0)<<1|!!(e===!0)<<0],{children:k.jsx(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{forceShowPlaybackRateControl:j,onClose:function(){w?s!=null&&s(null):v(!1)},originalVideoLanguage:q!=null?q:null,videoID:a!=null?a:null,children:f})})),b[3]=e,b[4]=f,b[5]=g,b[6]=j,b[7]=w,b[8]=x,b[9]=q,b[10]=s,b[11]=a,b[12]=n):n=b[12];b[13]!==m?(e=m==null?d("fbicon")._(i("497567"),20):m,b[13]=m,b[14]=e):e=b[14];b[15]!==w||b[16]!==x||b[17]!==u||b[18]!==o||b[19]!==s?(f=function(){w?s!=null&&s(x?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):v(!u),!x&&o!=null&&o()},b[15]=w,b[16]=x,b[17]=u,b[18]=o,b[19]=s,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(g=k.jsx(c("VideoPlayerControlIcon.react"),{icon:e,label:t,onPress:f,tooltip:t}),b[21]=e,b[22]=f,b[23]=g):g=b[23];b[24]!==r||b[25]!==p||b[26]!==n||b[27]!==g?(j=k.jsxs("div",babelHelpers["extends"]({},p,{ref:r,children:[n,g]})),b[24]=r,b[25]=p,b[26]=n,b[27]=g,b[28]=j):j=b[28];return j}a.displayName="VideoPlayerSettingsControl";g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchAndScrollControl_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29450006731309811"}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery.graphql",["useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9347}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:"nux(nux_id:9347)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:9347)"}]},params:{id:b("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"),metadata:{},name:"useVideoPlayerWatchAndScrollControlNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUX",["fbt","CometRelay","CometWatchAndScrollTriggerContext","FBLogger","react","react-compiler-runtime","requireDeferred","useFDSCallout","useVideoPlayerWatchAndScrollControlNUXQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");e.useCallback;var k=e.useContext,l=e.useEffect,m=e.useState,n=c("requireDeferred")("CometDismissFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),o=c("requireDeferred")("CometLogImpressionFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}},q=9347,r=i!==void 0?i:i=b("useVideoPlayerWatchAndScrollControlNUXQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(19),e=k(c("CometWatchAndScrollTriggerContext")),f=e.setIsTriggerDisabled;e=m(null);var g=e[0],i=e[1],j=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==f?(e=function(){f!=null&&f(!0),i(!1),n.onReady(function(a){a.commit(j,q)})},b[0]=j,b[1]=f,b[2]=e):e=b[2];var u=e,v;b[3]!==a||b[4]!==j||b[5]!==g?(e=function(){if(a&&g===null){var b=d("CometRelay").fetchQuery(j,r,{fetchPolicy:"store-or-network"}).subscribe({next:function(b){var c;b=(b==null||(c=b.nux)==null?void 0:c.should_show)||!1;i(b);b&&a&&o.onReady(function(a){a.commit(j,q,t,s)})}});return function(){b.unsubscribe()}}},v=[j,a,g],b[3]=a,b[4]=j,b[5]=g,b[6]=e,b[7]=v):(e=b[6],v=b[7]);l(e,v);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Watch and scroll feature tooltip"),b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Continue watching while you browse Facebook."),b[9]=v):v=b[9];var w;b[10]!==u?(w=function(){u()},b[10]=u,b[11]=w):w=b[11];var x;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){i(!1)},b[12]=x):x=b[12];b[13]!==w?(e={align:"end","aria-label":e,arrowStyle:"inset",content:v,disableAutoFlip:!0,hasCloseButton:!0,onClose:w,onHide:x,position:"below",type:"accent",xstyle:p.nux},b[13]=w,b[14]=e):e=b[14];v=c("useFDSCallout")(e,g===!0&&a||!1);x=v.anchorRef;b[15]!==x||b[16]!==u||b[17]!==g?(w={handleDismissNUX:u,nuxRef:x,shouldShowNUX:g},b[15]=x,b[16]=u,b[17]=g,b[18]=w):w=b[18];return w}function s(){c("FBLogger")("watch_www_and_off_platform").mustfix("logimpression fb nux mutation failed for video player watch and scroll control.")}function t(){}g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl.react",["fbt","ix","CastingStateHooks","CometPictureInPictureExpContext","CometRelay","CometRouteRenderType","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometWatchAndScrollControlNUXContext","CometWatchAndScrollTriggerContext","JSResourceForInteraction","StoryAttachmentContext","VideoPlayerControlIcon.react","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerWatchAndScrollControl_video.graphql","VideoPlayerWithWatchAndScrollTrigger.react","emptyFunction","fbicon","gkx","react","react-compiler-runtime","requireDeferred","useCometLazyDialog","useCometRouterDispatcher","useCometRouterState","useIsVideoHomePlayerOriginFromTracePolicy","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerWatchAndScrollControlNUX","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;e.useCallback;var n=e.useContext,o=e.useEffect,p=e.useState,q=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWatchAndScrollControl.react"),r=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerWatchAndScrollControl.react"),s=6e4,t=window.document.pictureInPictureEnabled;function a(a){var e,f,g=d("react-compiler-runtime").c(56),k=a.subOrigin;a=a.video;var u=n(c("CometWatchAndScrollTriggerContext")),v=u.isControlShown,w=u.setIsControlShown;u=d("CometRouteRenderType").useIsPushView();var x=(l||(l=d("VideoPlayerHooks"))).useIsFullscreen(),y=c("useCometRouterDispatcher")(),z=c("useCometRouterState")(),A=(z=z==null?void 0:z.main.route.tabKey)!=null?z:"undefined";z=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWatchAndScrollControl_video.graphql"),a);var B=z==null?void 0:z.id;a=(a=z==null?void 0:z.playable_duration_in_ms)!=null?a:0;var C=z==null?void 0:z.is_huddle,D=z==null?void 0:z.url,E,F;g[0]!==w?(E=function(){w!=null&&w(!0)},F=[w],g[0]=w,g[1]=E,g[2]=F):(E=g[1],F=g[2]);o(E,F);var G=c("usePlayerOriginRouteTracePolicy")();E=c("useIsVideoHomePlayerOriginFromTracePolicy")(G);F=(z==null||(e=z.owner)==null?void 0:e.has_professional_features_for_watch)===!0&&a>=s&&v&&!E;var H=l.usePlaying(),I=l.useController();a=l.useCurrentTimeThrottled(200);var J=a>=10;v=p(!1);E=v[0];var K=v[1];a=p(!1);var L=a[0],aa=a[1];v=p(!1);a=v[0];var ba=v[1];v=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsStateValue();v=v==="STARTING_INDICATOR"||v==="PLAY_NI_VIDEO"||v==="START_AD"||v==="PLAY_LONGER_AD";var M=c("useMinifiedProductAttribution")(),N,O;g[3]!==J||g[4]!==H?(N=function(){H&&J&&K(!0)},O=[J,H],g[3]=J,g[4]=H,g[5]=N,g[6]=O):(N=g[5],O=g[6]);o(N,O);var P=d("CastingStateHooks").useIsCastingAnyVideo();N=c("useCometLazyDialog")(r);var Q=N[0];O=!v&&E&&F;N=c("useVideoPlayerWatchAndScrollControlNUX")(O);var R=N.handleDismissNUX;v=N.nuxRef;E=N.shouldShowNUX;var S=E===!0&&O;F=n(c("CometWatchAndScrollControlNUXContext"));var T=F.setIsVideoPlayerWatchAndScrollControlNUXVisible,U=n(c("CometPictureInPictureExpContext"));g[7]!==S||g[8]!==T?(N=function(){T&&T(S)},E=[S,T],g[7]=S,g[8]=T,g[9]=N,g[10]=E):(N=g[9],E=g[10]);o(N,E);O=d("StoryAttachmentContext").useStoryAttachmentContext();F=O.videoPlayerSessionID;var V=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(k,d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL,B,D,F),W=l.useIsPremiumMusicVideo(),X=z==null||(f=z.owner)==null?void 0:f.id;g[11]!==W||g[12]!==X||g[13]!==U?(N=function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp(),b=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExpControlGroup();U.setPictureInPictureExpConfig({isInPictureInPictureExp:a,isInPictureInPictureExpControlGroup:b,isSkipAndChainingDisabled:!1});t&&a&&aa(!0);a=(a||b)&&(W||d("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(X));a&&ba(!0)},g[11]=W,g[12]=X,g[13]=U,g[14]=N):N=g[14];E=N;var Y=G==="comet.videos.tahoe";g[15]!==P||g[16]!==V||g[17]!==Q||g[18]!==B?(O=function(){P&&B!=null?Q({onClose:c("emptyFunction"),onContinue:V,startingVideoType:"wns"},c("emptyFunction")):V()},g[15]=P,g[16]=V,g[17]=Q,g[18]=B,g[19]=O):O=g[19];var Z=O;g[20]!==I||g[21]!==y||g[22]!==R||g[23]!==L||g[24]!==S||g[25]!==Z||g[26]!==M||g[27]!==G||g[28]!==k||g[29]!==A?(D=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),y&&y.popPushView()},g[20]=I,g[21]=y,g[22]=R,g[23]=L,g[24]=S,g[25]=Z,g[26]=M,g[27]=G,g[28]=k,g[29]=A,g[30]=D):D=g[30];F=D;var $=k==="live_producer";g[31]!==I||g[32]!==y||g[33]!==Y||g[34]!==R||g[35]!==L||g[36]!==x||g[37]!==S||g[38]!==Z||g[39]!==M||g[40]!==$||g[41]!==G||g[42]!==k||g[43]!==A?(z=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),x&&I.requestSetIsFullscreen(!1),y!=null&&($||Y)&&y.go("/",{})},g[31]=I,g[32]=y,g[33]=Y,g[34]=R,g[35]=L,g[36]=x,g[37]=S,g[38]=Z,g[39]=M,g[40]=$,g[41]=G,g[42]=k,g[43]=A,g[44]=z):z=g[44];N=z;O=u?F:N;if(c("gkx")("20836")){g[45]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"Continue watching while you use Workplace"),g[45]=D):D=g[45];z=D}else if(C===!0){g[46]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Continue listening while you browse Facebook."),g[46]=u):u=g[46];z=u}else{g[47]===Symbol["for"]("react.memo_cache_sentinel")?(F=h._(/*BTDS*/"Continue watching while you browse Facebook."),g[47]=F):F=g[47];z=F}if(L){g[48]===Symbol["for"]("react.memo_cache_sentinel")?(N=h._(/*BTDS*/"Enter Picture in Picture Mode"),g[48]=N):N=g[48];z=N}g[49]!==a||g[50]!==S||g[51]!==z||g[52]!==v||g[53]!==E||g[54]!==O?(D=a?null:m.jsx("div",{onMouseEnter:E,ref:v,children:m.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:d("fbicon")._(i("150489"),20),label:z,onPress:O,tooltip:S?null:z})}),g[49]=a,g[50]=S,g[51]=z,g[52]=v,g[53]=E,g[54]=O,g[55]=D):D=g[55];return D}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls.react",["CometPlaceholder.react","CometRelay","CometTahoeCustomVideoAreaContext","CometTahoeSidePaneContext","CometTrackingNodeProvider.react","LiveCostreamerTagSubscription.react","LiveVideoLatencyMenu.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerLiveVideoControls_video.graphql","VideoPlayerPlaybackControl.react","VideoPlayerQuietModeControl.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState,n=h!==void 0?h:h=b("VideoPlayerLiveVideoControls_video.graphql");function o(a){var b,e,g=d("react-compiler-runtime").c(85),h=d("CometRelay").useFragment(n,a.video),i=(j||(j=d("VideoPlayerHooks"))).useEnded(),o=j.useIsFullscreen(),p=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),q=l(c("CometTahoeSidePaneContext"));q=q.rightRailHidden;var r=c("useVideoPlayerBigPlayButtonOverlay")();r=r.bigPlayButtonIsVisible;var s=j.useCaptionsLoaded(),t=j.useCaptionsVisible(),u=m(null),v=u[0];u=u[1];var w=l(d("CometTahoeCustomVideoAreaContext").CometTahoeCustomVideoAreaContext);w=w.customVideoAreaHidden;if(i)return null;i=a.disablePlaybackControls;var x=a.expandControl,y=a.isControlsVisible,z=a.isExpandControlVisible,A=a.isVolumeControlVisible,B=a.isWatchAndScrollControlVisible,C=a.onUserInteraction,D=a.shouldRenderCaptionsControl,E=a.shouldRenderCostreamControl,F=a.shouldRenderModeratorControl,G=a.subOrigin;z=z===void 0?!1:z;B=B===void 0?!1:B;D=D===void 0?!0:D;E=E===void 0?!1:E;F=F===void 0?!1:F;var H=h==null?void 0:h.id,I=h==null||(b=h.owner)==null?void 0:b.id,J=h==null?void 0:h.if_viewer_can_see_costreaming_tools,K=J!=null,L=h==null?void 0:h.if_viewer_can_use_clipping,M=(h==null?void 0:h.is_clipping_enabled)===!0,N=h==null?void 0:h.if_viewer_can_see_community_moderation_tools,O=N!=null,P=h==null?void 0:h.if_viewer_can_use_live_rewind;e=((e=h==null?void 0:h.live_rewind_enabled)!=null?e:!1)&&a.shouldHideRewindControls!==!0;z=z||y||i===!0&&!r;B=B||y||i===!0&&!r;g[0]!==x||g[1]!==z?(r=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:z,noPaddingEnd:!0,noPaddingStart:!0,children:x}),g[0]=x,g[1]=z,g[2]=r):r=g[2];x=r;g[3]!==a.shouldRenderWatchAndScrollControl||g[4]!==B||g[5]!==G||g[6]!==h?(z=a.shouldRenderWatchAndScrollControl===!0&&G!=null&&h!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:B,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:G,video:h})}):null,g[3]=a.shouldRenderWatchAndScrollControl,g[4]=B,g[5]=G,g[6]=h,g[7]=z):z=g[7];r=z;B=G==="watch_scroll";z=c("gkx")("24335")?D===!0:!B;g[8]!==P||g[9]!==i||g[10]!==y||g[11]!==e||g[12]!==C||g[13]!==a.shouldRenderPauseControl?(D=e?k.jsx(d("CometRelay").MatchContainer,{match:P,props:{isControlsVisible:y&&!i,onUserInteraction:C,video:P}}):k.jsxs(k.Fragment,{children:[Boolean(a.shouldRenderPauseControl)?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y&&!i,children:k.jsx(c("VideoPlayerPlaybackControl.react"),{})}):null,k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(k.Fragment,{})})]}),g[8]=P,g[9]=i,g[10]=y,g[11]=e,g[12]=C,g[13]=a.shouldRenderPauseControl,g[14]=D):D=g[14];g[15]!==I||g[16]!==H?(B=I!=null&&H!=null&&k.jsx(c("LiveCostreamerTagSubscription.react"),{pageID:I,videoID:H}),g[15]=I,g[16]=H,g[17]=B):B=g[17];g[18]!==K||g[19]!==J||g[20]!==o||g[21]!==E||g[22]!==H?(P=K&&E&&H!=null&&!o&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(d("CometRelay").MatchContainer,{match:J,props:{video:J}})}),g[18]=K,g[19]=J,g[20]=o,g[21]=E,g[22]=H,g[23]=P):P=g[23];g[24]!==o||g[25]!==a.shouldRenderQuietModeControl?(e=a.shouldRenderQuietModeControl===!0&&!o&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}),g[24]=o,g[25]=a.shouldRenderQuietModeControl,g[26]=e):e=g[26];g[27]!==o||g[28]!==a.shouldRenderExpandSidePanelControl||g[29]!==q?(I=a.shouldRenderExpandSidePanelControl===!0&&!o&&!q&&k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{}),g[27]=o,g[28]=a.shouldRenderExpandSidePanelControl,g[29]=q,g[30]=I):I=g[30];g[31]!==L||g[32]!==M||g[33]!==H?(K=M&&H!=null&&k.jsx(d("CometRelay").MatchContainer,{match:L,props:{video:L,videoID:H}}),g[31]=L,g[32]=M,g[33]=H,g[34]=K):K=g[34];g[35]!==O||g[36]!==N||g[37]!==F||g[38]!==H?(J=O&&F?k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(d("CometRelay").MatchContainer,{match:N,props:{video:N,videoID:H}})}):null,g[35]=O,g[36]=N,g[37]=F,g[38]=H,g[39]=J):J=g[39];g[40]!==p||g[41]!==i||g[42]!==v||g[43]!==C||g[44]!==h?(E=i===!0?null:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:k.jsx(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContextProvider,{video:h,children:k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:(p==null?void 0:p.getBottomRowAddOn())!=null,menuOpened:v,onUserInteraction:C,setMenuOpened:u})})}),g[40]=p,g[41]=i,g[42]=v,g[43]=C,g[44]=h,g[45]=E):E=g[45];g[46]!==p||g[47]!==s||g[48]!==t||g[49]!==z||g[50]!==y||g[51]!==v||g[52]!==C||g[53]!==h?(o=s&&z?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{alignMenuToIcon:(p==null?void 0:p.getBottomRowAddOn())!=null,captionsVisible:t,menuOpened:v,onUserInteraction:C,setMenuOpened:u,video:h})}):null,g[46]=p,g[47]=s,g[48]=t,g[49]=z,g[50]=y,g[51]=v,g[52]=C,g[53]=h,g[54]=o):o=g[54];g[55]!==i||g[56]!==y||g[57]!==a.shouldRenderCastControl||g[58]!==G||g[59]!==h?(q=a.shouldRenderCastControl===!0&&G!=null&&h!=null?k.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:y&&!i,subOrigin:G}):null,g[55]=i,g[56]=y,g[57]=a.shouldRenderCastControl,g[58]=G,g[59]=h,g[60]=q):q=g[60];g[61]!==y||g[62]!==e||g[63]!==I||g[64]!==K||g[65]!==J||g[66]!==E||g[67]!==o||g[68]!==q||g[69]!==B||g[70]!==P?(L=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,children:[B,P,e,I,K,J,E,o,q]}),g[61]=y,g[62]=e,g[63]=I,g[64]=K,g[65]=J,g[66]=E,g[67]=o,g[68]=q,g[69]=B,g[70]=P,g[71]=L):L=g[71];g[72]!==C?(M=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:C})}),g[72]=C,g[73]=M):M=g[73];g[74]!==A||g[75]!==M?(O=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,noPaddingStart:!0,children:M}),g[74]=A,g[75]=M,g[76]=O):O=g[76];g[77]!==w||g[78]!==x||g[79]!==y||g[80]!==L||g[81]!==O||g[82]!==D||g[83]!==r?(N=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:y,isVisible:w,children:[D,L,x,r,O]}),g[77]=w,g[78]=x,g[79]=y,g[80]=L,g[81]=O,g[82]=D,g[83]=r,g[84]=N):N=g[84];return N}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplLive.react",["CometRelay","VideoPlayerDefaultControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(17),f=a.expandControl,g=a.isControlsVisible,i=a.isVolumeControlVisible,k=a.onUserInteraction,l=a.pictureInPictureControl,m=a.shouldHideRewindControls,n=a.shouldRenderCaptionsControl,o=a.shouldRenderCostreamControl,p=a.shouldRenderExpandSidePanelControl,q=a.shouldRenderModeratorControl,r=a.shouldRenderPauseControl,s=a.shouldRenderQuietModeControl,t=a.shouldRenderWatchAndScrollControl,u=a.subOrigin,v=a.video;a=a.videoTahoeUrl;v=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplLive_video.graphql"),v);var w;e[0]!==f||e[1]!==g||e[2]!==i||e[3]!==k||e[4]!==l||e[5]!==m||e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==q||e[10]!==r||e[11]!==s||e[12]!==t||e[13]!==u||e[14]!==v||e[15]!==a?(w=j.jsx(c("VideoPlayerLiveVideoControls.react"),{expandControl:f,isControlsVisible:g,isVolumeControlVisible:i,onUserInteraction:k,pictureInPictureControl:l,shouldHideRewindControls:m,shouldRenderCaptionsControl:n,shouldRenderCostreamControl:o,shouldRenderExpandSidePanelControl:p,shouldRenderModeratorControl:q,shouldRenderPauseControl:r,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,subOrigin:u,video:v,videoTahoeUrl:a}),e[0]=f,e[1]=g,e[2]=i,e[3]=k,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t,e[13]=u,e[14]=v,e[15]=a,e[16]=w):w=e[16];return w}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplNotLive_video",selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerDefaultControlsImplNotLive_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberRenderer_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","VideoPlayerScrubberRenderer.react","VideoPlayerScrubberWithPreview_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.onUserInteraction,g=a.timelinePlayedXStyle;a=a.video;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberWithPreview_video.graphql"),a);e[0]!==g||e[1]!==i?(a=function(a){return j.jsx(c("VideoPlayerScrubberRenderer.react"),{scrubberProps:babelHelpers["extends"]({},a,{timelinePlayedXStyle:g}),video:i})},e[0]=g,e[1]=i,e[2]=a):a=e[2];var k;e[3]!==i?(k=function(a){return j.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:i})},e[3]=i,e[4]=k):k=e[4];var l;e[5]!==f||e[6]!==a||e[7]!==k?(l=j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f,renderScrubber:a,renderTooltip:k}),e[5]=f,e[6]=a,e[7]=k,e[8]=l):l=e[8];return l}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplNotLive.react",["CometRelay","CometTahoeSidePaneContext","VideoPlayerCaptionsControl.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplNotLive_video.graphql","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerQuietModeControl.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState;function a(a){var e=d("react-compiler-runtime").c(71),f=a.availableCaptionsLocales,g=a.expandControl,i=a.initialCaptionsUrl,o=a.isControlsVisible,p=a.isVolumeControlVisible,q=a.onUserInteraction,r=a.scrubberTimelinePlayedXStyle,s=a.shouldRenderCaptionsControl,t=a.shouldRenderExpandSidePanelControl,u=a.shouldRenderQuietModeControl,v=a.shouldRenderWatchAndScrollControl,w=a.skipControl,x=a.subOrigin;a=a.video;s=s===void 0?!0:s;t=t===void 0?!1:t;u=u===void 0?!1:u;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplNotLive_video.graphql"),a);var y=(j||(j=d("VideoPlayerHooks"))).useIsFullscreen(),z;if(e[0]!==(a==null?void 0:a.dubbed_track_mapping)){var A;z=a==null||(A=a.dubbed_track_mapping)==null||(A=A.find(n))==null?void 0:A.audio_lang;e[0]=a==null?void 0:a.dubbed_track_mapping;e[1]=z}else z=e[1];z=z;var B=a==null?void 0:a.id,C=a==null?void 0:a.if_viewer_can_use_clipping,D=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),E=l(c("CometTahoeSidePaneContext"));E=E.rightRailHidden;var F;e[2]!==o||e[3]!==y||e[4]!==u?(F=u===!0&&!y?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}):null,e[2]=o,e[3]=y,e[4]=u,e[5]=F):F=e[5];u=F;e[6]!==o||e[7]!==y||e[8]!==E||e[9]!==t?(F=t===!0&&!y&&!E&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{})}),e[6]=o,e[7]=y,e[8]=E,e[9]=t,e[10]=F):F=e[10];y=F;e[11]!==C||e[12]!==o||e[13]!==u||e[14]!==B?(E=C!=null&&B!=null&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,noPaddingStart:u!=null,children:k.jsx(d("CometRelay").MatchContainer,{match:C,props:{video:C,videoID:B}})}),e[11]=C,e[12]=o,e[13]=u,e[14]=B,e[15]=E):E=e[15];t=E;F=m(null);C=F[0];B=F[1];E=u!=null||t!=null;F=(D==null?void 0:D.getBottomRowAddOn())!=null;D=z!=null?z:null;e[16]!==C||e[17]!==q||e[18]!==D||e[19]!==F?(z=k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:F,menuOpened:C,onUserInteraction:q,originalVideoLanguage:D,setMenuOpened:B}),e[16]=C,e[17]=q,e[18]=D,e[19]=F,e[20]=z):z=e[20];e[21]!==o||e[22]!==z||e[23]!==E?(D=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,noPaddingStart:E,children:z}),e[21]=o,e[22]=z,e[23]=E,e[24]=D):D=e[24];F=D;e[25]!==o||e[26]!==v||e[27]!==x||e[28]!==a?(z=v===!0&&x!=null&&a!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:x,video:a})}):null,e[25]=o,e[26]=v,e[27]=x,e[28]=a,e[29]=z):z=e[29];E=z;e[30]!==g||e[31]!==o?(D=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,children:g}),e[30]=g,e[31]=o,e[32]=D):D=e[32];v=D;e[33]!==q?(z=k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:q}),e[33]=q,e[34]=z):z=e[34];e[35]!==p||e[36]!==z?(g=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p,noPaddingStart:!0,children:z}),e[35]=p,e[36]=z,e[37]=g):g=e[37];D=g;e[38]!==q||e[39]!==r||e[40]!==a?(p=k.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:q,timelinePlayedXStyle:r,video:a}),e[38]=q,e[39]=r,e[40]=a,e[41]=p):p=e[41];e[42]!==o||e[43]!==p?(z=k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:o,children:p}),e[42]=o,e[43]=p,e[44]=z):z=e[44];g=z;e[45]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsx(c("VideoPlayerPlaybackControl.react"),{}),e[45]=r):r=e[45];e[46]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("VideoPlayerPlaybackTimer.react"),{}),e[46]=p):p=e[46];e[47]!==o||e[48]!==w?(z=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,children:[r,w,p]}),e[47]=o,e[48]=w,e[49]=z):z=e[49];r=z;p=c("gkx")("21034")?!1:c("gkx")("24335")?s===!0:x!=="watch_scroll";w=j.useCaptionsLoaded();z=j.useCaptionsVisible();s=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(a);x=f!=null?f:s;s=w||((f=x==null?void 0:x.length)!=null?f:0)>0;w=p&&s;e[50]!==x||e[51]!==z||e[52]!==i||e[53]!==o||e[54]!==C||e[55]!==q||e[56]!==w||e[57]!==a?(f=w?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:x,captionsVisible:z,initialCaptionsUrl:i,menuOpened:C,onUserInteraction:q,setMenuOpened:B,video:a})}):null,e[50]=x,e[51]=z,e[52]=i,e[53]=o,e[54]=C,e[55]=q,e[56]=w,e[57]=a,e[58]=f):f=e[58];p=f;e[59]!==p||e[60]!==t||e[61]!==y||e[62]!==o||e[63]!==r||e[64]!==u||e[65]!==v||e[66]!==g||e[67]!==F||e[68]!==D||e[69]!==E?(s=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:o,children:[r,g,u,y,t,F,p,E,v,null,D]}),e[59]=p,e[60]=t,e[61]=y,e[62]=o,e[63]=r,e[64]=u,e[65]=v,e[66]=g,e[67]=F,e[68]=D,e[69]=E,e[70]=s):s=e[70];return s}function n(a){return a.dubbing_type==="NONE"}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSCleanupSession",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][cleanupSession] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[1],c.i64.cast([0,0]))?d[2]=c.i64.cast([0,21]):(c.i64.eq(a[1],c.i64.cast([0,1]))?d[10]=c.i64.cast([0,20]):d[10]=c.i64.cast([0,20]),d[2]=d[10]),c.filter(c.db.table(258).fetch(),function(b){return(b.initiatorId===a[0]||b.responderId===a[0])&&c.i64.eq(b.clientType,a[2])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.filter(c.db.table(258).fetch(),function(b){return c.i64.eq(b.clientType,a[2])}).next().then(function(f,h){var e=f.done;f=f.value;return e?c.db.table(258).add({sessionId:c.i64.cast([-1,4294967295]),responderId:a[0],initiatorId:a[0],messageType:d[2],clientType:a[2]}):(h=f.item,c.sequence([function(a){return d[19]=h.sessionId,d[20]=h.responderId,d[21]=h.initiatorId,d[17]=h.responderUserId,d[18]=h.initiatorUserId,c.forEach(c.db.table(258).fetch([[[d[19]]]]),function(a){var b=a.update;a.item;return b({messageType:d[2]})})},function(e){return a[0]===d[21]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[22]=d[17]:d[22]=void 0,d[11]=d[22]):(a[0]===d[20]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[23]=d[18]:d[23]=void 0,d[22]=d[23]):d[22]=void 0,d[11]=d[22]),c.i64.eq(a[2],c.i64.cast([0,1]))?d[12]=d[17]:d[12]=void 0,c.i64.eq(a[2],c.i64.cast([0,1]))?d[13]=d[18]:d[13]=void 0,d[14]=new c.Map(),d[14].set("session_id",d[19]),d[14].set("responder_id",d[20]),d[14].set("initiator_id",d[21]),d[14].set("message_payload",h.messagePayload),d[14].set("pake_secret",h.pakeSecret),d[14].set("sender_id",a[0]),d[14].set("message_type",d[2]),d[14].set("client_type",a[2]),d[14].set("message_recipient_id",d[11]),d[14].set("initiator_user_id",d[13]),d[14].set("responder_user_id",d[12]),d[15]=c.toJSON(d[14]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[15],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[16]=a[0],a})}]))}):(f=e.item,d[13]=f.sessionId,d[14]=f.responderId,d[15]=f.initiatorId,d[10]=f.messageType,d[11]=f.responderUserId,d[12]=f.initiatorUserId,c.i64.eq(d[10],c.i64.cast([0,15]))||c.i64.eq(d[10],c.i64.cast([0,21]))||c.i64.eq(d[10],c.i64.cast([0,20]))?c.resolve(0):c.sequence([function(a){return c.forEach(c.db.table(258).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({messageType:d[2]})})},function(e){return a[0]===d[15]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[22]=d[11]:d[22]=void 0,d[16]=d[22]):(a[0]===d[14]?(c.i64.eq(a[2],c.i64.cast([0,1]))?d[23]=d[12]:d[23]=void 0,d[22]=d[23]):d[22]=void 0,d[16]=d[22]),c.i64.eq(a[2],c.i64.cast([0,1]))?d[17]=d[11]:d[17]=void 0,c.i64.eq(a[2],c.i64.cast([0,1]))?d[18]=d[12]:d[18]=void 0,d[19]=new c.Map(),d[19].set("session_id",d[13]),d[19].set("responder_id",d[14]),d[19].set("initiator_id",d[15]),d[19].set("message_payload",f.messagePayload),d[19].set("pake_secret",f.pakeSecret),d[19].set("sender_id",a[0]),d[19].set("message_type",d[2]),d[19].set("client_type",a[2]),d[19].set("message_recipient_id",d[16]),d[19].set("initiator_user_id",d[18]),d[19].set("responder_user_id",d[17]),d[20]=c.toJSON(d[19]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[20],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})}]))})},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][cleanupSession] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"cleanupSession",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesCleanupSessionStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSCleanupSessionStoredProcedure",["LSCleanupSession","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCleanupSession"),e.deviceId,e.cleanupReason,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("CleanupPakeSession",["LSCleanupSessionStoredProcedure","LSFactory","LSIntEnum","MAWOneTimeCodeGating","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.cleanupReason,g=a.clientType,j=a.deviceId;a=a.storage;return!d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()?(i||(i=b("Promise"))).resolve():a.runInTransaction(function(a){return c("LSCleanupSessionStoredProcedure")(c("LSFactory")(a),{cleanupReason:(h||(h=d("LSIntEnum"))).ofNumber(e),clientType:h.ofNumber(g),deviceId:j})},"readwrite",void 0,void 0,f.id+":41")}g["default"]=a}),98);
__d("FBIconCautionCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m101.5 200.17.5 4.83.5-4.83s0-.42-.5-.42-.5.42-.5.42",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m100.754 200.247.5 4.83c.093.897 1.4.897 1.492 0l.5-4.83.004-.077c0-.176-.04-.38-.168-.594-.214-.36-.6-.576-1.082-.576-.481 0-.868.216-1.082.576a1.144 1.144 0 0 0-.168.594l.004.077zm.996-.077h.5c0 .07-.01.117-.043.174-.058.097-.163.156-.207.156-.044 0-.149-.059-.207-.156a.302.302 0 0 1-.043-.174z",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M103 207.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102 193.5c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10m0 1.304c4.795 0 8.696 3.901 8.696 8.696s-3.901 8.696-8.696 8.696-8.696-3.901-8.696-8.696 3.901-8.696 8.696-8.696",transform:"translate(354 204.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTabletOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{transform:"translate(355.5 191.5)",children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M93.5 211.5 107.5 211.5 107.5 210 93.5 210z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.078 226.5H94.922a2.422 2.422 0 0 1-2.422-2.422v-15.156a2.422 2.422 0 0 1 2.422-2.422h11.156a2.422 2.422 0 0 1 2.422 2.422v15.156a2.422 2.422 0 0 1-2.422 2.422zm0-1.5c.51 0 .922-.413.922-.922v-15.156a.922.922 0 0 0-.922-.922H94.922a.922.922 0 0 0-.922.922v15.156c0 .51.413.922.922.922h11.156z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M93.5 222 107.5 222 107.5 220.5 93.5 220.5z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.5 223.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSDecryptPakeSecret",["LSLogMebClientEvent.nop","LSQplInteractionHelper.nop","LSSymmetricEncryptionCreateDecryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][decryptPakeSecret] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_NO_SESSION_ONGOING_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[12]="PAKE: Failed to decrypt PAKE secrets as no session was ongoing.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,7]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,7]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,7])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[12]].join("")),d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[12]].join(""),d[13],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(e){return d[13]=f.responderId,d[14]=f.initiatorId,d[15]=f.pakeSecret,d[13]!==void 0?c.sequence([function(e){return d[14]!==void 0?c.sequence([function(e){return d[15]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_GENERATE_PAKE_AAD_START",c.i64.cast([0,0]),void 0)},function(a){return d[20]="_",c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_NATIVE_OP_START",c.i64.cast([0,0]),void 0)},function(e){return c.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[1],c.blobs.of_string(["v1",d[20],c.i64.to_string(a[0]),d[20],d[13],d[20],d[14],d[20],c.i64.to_string(f.clientType)].join("")),d[15]).then(function(a){return a=a,d[21]=a[0],a})},function(e){return d[21]!==void 0?c.resolve((e=[d[21],c.i64.cast([0,0])],d[22]=e[0],d[23]=e[1],e)):c.sequence([function(a){return d[25]="PAKE: Failed to decrypt PAKE secrets as key was incorrect.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,10]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,10]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,10])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[25]].join("")),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[25]].join(""),d[26],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967295])],d[22]=a[0],d[23]=a[1],a}])},function(a){return a=[d[22],d[23]],d[18]=a[0],d[19]=a[1],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_PAKE_SECRET_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[21]="PAKE: Failed to decrypt PAKE secrets as there was no secret to decrypt.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[21]].join("")),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[21]].join(""),d[22],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[18]=a[0],d[19]=a[1],a}])},function(a){return a=[d[18],d[19]],d[16]=a[0],d[17]=a[1],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_INITIATOR_ID_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[19]="PAKE: Failed to decrypt PAKE secrets as initiator id was null.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[19]].join("")),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[19]].join(""),d[20],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[16]=a[0],d[17]=a[1],a}])},function(a){return a=[d[16],d[17]],d[11]=a[0],d[12]=a[1],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_DECRYPT_SECRET_RESPONDER_ID_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return d[17]="PAKE: Failed to decrypt PAKE secrets as responder id was null.",c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[2])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[2]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})},function(a){return function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSPakeMessagesDecryptPakeSecretStoredProcedure] ","",d[17]].join("")),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSPakeMessagesDecryptPakeSecretStoredProcedure",[d[17]].join(""),d[18],c.i64.cast([0,3]))},function(a){return a=[void 0,c.i64.cast([-1,4294967294])],d[11]=a[0],d[12]=a[1],a}])},function(a){return a=[d[11],d[12]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][decryptPakeSecret] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"decryptPakeSecret",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesDecryptPakeSecretStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSDecryptPakeSecretStoredProcedure",["LSDecryptPakeSecret","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDecryptPakeSecret"),e.sessionId,e.encryptionKey,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchOTCEligibleEBDevicesV2",["LSIssueNewEbTaskAndGetTaskIDV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return c.forEach(c.db.table(261).fetch(),function(a){return a["delete"]()})},function(a){return d[0]="",c.forEach(c.filter(c.db.table(261).fetch([[[d[0]]]]),function(a){return a.deviceId===d[0]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(261).add({deviceId:d[0],authorityLevel:c.i64.cast([0,20])})},function(a){return d[1]=new c.Map(),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_fetch_otc_eligible_devices",c.i64.cast([0,50028]),d[2],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFetchOTCEligibleEBDevicesV2StoredProcedure";a.__tables__=["encrypted_backups_otc_devices"];e.exports=a}),null);
__d("LSFetchOTCEligibleEBDevicesV2StoredProcedure",["LSFetchOTCEligibleEBDevicesV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSFetchOTCEligibleEBDevicesV2"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSGetActiveSession",["LSLogMebClientEvent.nop","LSQplInteractionHelper.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][getActiveSession] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.count(c.filter(c.db.table(258).fetch(),function(b){return c.i64.eq(b.messageType,c.i64.cast([0,0]))&&c.i64.eq(b.clientType,a[1])&&b.initiatorId===void 0||c.i64.eq(b.clientType,a[1])&&b.initiatorId===a[0]&&![c.i64.cast([0,1]),c.i64.cast([0,2]),c.i64.cast([0,3]),c.i64.cast([0,4]),c.i64.cast([0,21]),c.i64.cast([0,15]),c.i64.cast([0,23])].some(function(a){return c.i64.eq(b.messageType,a)})&&c.i64.neq(b.sessionId,c.i64.cast([-1,4294967295]))})).then(function(a){return d[2]=a})},function(e){return c.i64.le(d[2],c.i64.cast([0,1]))?c.sequence([function(e){return c.filter(c.db.table(258).fetch(),function(b){return c.i64.eq(b.messageType,c.i64.cast([0,0]))&&c.i64.eq(b.clientType,a[1])&&b.initiatorId===void 0||c.i64.eq(b.clientType,a[1])&&b.initiatorId===a[0]&&![c.i64.cast([0,1]),c.i64.cast([0,2]),c.i64.cast([0,3]),c.i64.cast([0,4]),c.i64.cast([0,21]),c.i64.cast([0,15]),c.i64.cast([0,23])].some(function(a){return c.i64.eq(b.messageType,a)})&&c.i64.neq(b.sessionId,c.i64.cast([-1,4294967295]))}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,17]))},function(a){return a=[c.i64.cast([-1,4294967295]),void 0,void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):(e=a.item,c.sequence([function(a){return d[19]=e.responderId,d[19]!==void 0?c.resolve((a=[c.i64.cast([0,0]),e.sessionId,d[19]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a)):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),"PAKE_DS_SESSION_ONGOING_RESPONDER_ID_NULL_FAILURE",c.i64.cast([0,0]),void 0)},function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(a){return a=[c.i64.cast([-1,4294967294]),void 0,void 0],d[16]=a[0],d[17]=a[1],d[18]=a[2],a}])},function(a){return a=[d[16],d[17],d[18]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[3]=a[0],d[4]=a[1],d[5]=a[2],a}]):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,18]))},function(a){return a=[c.i64.cast([-1,4294967294]),void 0,void 0],d[3]=a[0],d[4]=a[1],d[5]=a[2],a}])},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][getActiveSession] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"getActiveSession",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4],d[5]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesGetActiveSessionStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSGetActiveSessionStoredProcedure",["LSGetActiveSession","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSGetActiveSession"),e.initiatorId,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendPakeMessage",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][sendPakeMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[4])&&c.i64.eq(b.sessionId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[4])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,7]),clientType:a[4]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,7])})}))}):(f=e.item,d[17]=f.responderId,d[18]=f.initiatorId,d[15]=f.responderUserId,d[16]=f.initiatorUserId,a[1]===d[18]?(c.i64.eq(a[4],c.i64.cast([0,1]))?d[19]=d[15]:d[19]=void 0,d[9]=d[19]):(a[1]===d[17]?(c.i64.eq(a[4],c.i64.cast([0,1]))?d[20]=d[16]:d[20]=void 0,d[19]=d[20]):d[19]=void 0,d[9]=d[19]),c.i64.eq(a[4],c.i64.cast([0,1]))?d[10]=d[15]:d[10]=void 0,c.i64.eq(a[4],c.i64.cast([0,1]))?d[11]=d[16]:d[11]=void 0,d[12]=new c.Map(),d[12].set("session_id",a[0]),d[12].set("responder_id",d[17]),d[12].set("initiator_id",d[18]),d[12].set("message_payload",a[2]==null?f.messagePayload:a[2]),d[12].set("pake_secret",f.pakeSecret),d[12].set("sender_id",a[1]),d[12].set("message_type",a[3]),d[12].set("client_type",a[4]),d[12].set("message_recipient_id",d[9]),d[12].set("initiator_user_id",d[11]),d[12].set("responder_user_id",d[10]),d[13]=c.toJSON(d[12]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[13],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[14]=a[0],a}))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][sendPakeMessage] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"sendPakeMessage",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesSendPakeMessageStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSSendPakeMessageOne",["LSBase64Encode.nop","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSQplInteractionHelper.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][sendPakeMessageOne] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.nativeOperation(b("LSBase64Encode.nop"),a[2]).then(function(a){return a=a,d[2]=a[0],a})},function(e){return c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[3])&&c.i64.eq(b.sessionId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,7]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[3])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,7]),clientType:a[3]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,7])})}))})}]):(f=e.item,d[10]=f.responderId,d[10]!==void 0?(c.i64.eq(a[3],c.i64.cast([0,1]))?d[11]=f.responderUserId:d[11]=void 0,c.i64.eq(a[3],c.i64.cast([0,1]))?d[12]=f.initiatorUserId:d[12]=void 0,d[13]=new c.Map(),d[13].set("session_id",a[0]),d[13].set("responder_id",d[10]),d[13].set("initiator_id",a[1]),d[13].set("message_payload",d[2]==null?"":d[2]),d[13].set("message_payload_v2",void 0),d[13].set("pake_secret",void 0),d[13].set("sender_id",a[1]),d[13].set("message_type",c.i64.cast([0,1])),d[13].set("client_type",a[3]),d[13].set("message_recipient_id",d[11]),d[13].set("initiator_user_id",d[12]),d[13].set("responder_user_id",d[11]),d[14]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"PakeMessages",c.i64.cast([0,717]),d[14],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[15]=a[0],a})):c.sequence([function(a){return c.nativeOperation(b("LSQplInteractionHelper.nop"),void 0,c.i64.cast([0,3]),c.i64.cast([0,8]))},function(b){return c.islc(c.filter(c.db.table(258).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.clientType,a[3])&&c.i64.eq(b.sessionId,a[0])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,d){d=b.done;b=b.value;return d?c.db.table(258).add({sessionId:a[0],messageType:c.i64.cast([0,8]),clientType:a[3]}):(b.item,c.forEach(c.db.table(258).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({messageType:c.i64.cast([0,8])})}))})}]))})},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][sendPakeMessageOne] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"sendPakeMessageOne",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPakeMessagesSendPakeMessageOneStoredProcedure";a.__tables__=["pake_messages"];e.exports=a}),null);
__d("LSSendPakeMessageOneStoredProcedure",["LSSendPakeMessageOne","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendPakeMessageOne"),e.sessionId,e.initiatorId,e.messagePayload,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendPakeMessageStoredProcedure",["LSSendPakeMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendPakeMessage"),e.sessionId,e.senderId,e.messagePayload,e.messageType,e.clientType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWChatEncryptedBackupsAccessCodeInput.react",["fbt","BaseTextArea.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l={input:{backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",fontSize:"x1lkfr7t",fontWeight:"x1s688f",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,letterSpacing:null,lineHeight:"x11m8ghp",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"x18d9i69",paddingTop:"x1y1aw1k",top:"x1jzctok",width:"xh8yej3","::placeholder_color":"xha3pab",$$css:!0}},m="---- ---- ---- ---- ----\n---- ---- ---- ---- ----",n=40;function a(a){var b=d("react-compiler-runtime").c(30),e=a.autoSubmit,f=a.disabled,g=a.onComplete,i=a.onValueChange,r=a.smallInput,s=a.value,t=e===void 0?!1:e;a=f===void 0?!1:f;e=k();var u=o;b[0]!==t||b[1]!==g||b[2]!==i||b[3]!==s?(f=function(a){a=u(a).substring(0,n);var b=u(s);if(a===b)return;i(a);a.length===n&&t&&(g==null||g(a))},b[0]=t,b[1]=g,b[2]=i,b[3]=s,b[4]=f):f=b[4];f=f;var v;b[5]!==r?(v={0:{className:"x443n21 x16qb05n xi7iut8 x1dm3dyd x1pv694p x1g2khh7 xyamay9 x2b8uid x10bruuh x1xmf6yo x67w97k xx281p9"},1:{className:"x443n21 x16qb05n xi7iut8 x1dm3dyd x1pv694p xyamay9 x2b8uid x10bruuh x12nagc x18d9i69 x1s1gtqi"}}[!!r<<0],b[5]=r,b[6]=v):v=b[6];var w,x,y;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("MWXText.react"),{type:"meta3",children:h._(/*BTDS*/"Includes numbers and letters")}),w={className:"xwzfr38 xr1yuqi x11t971q x4ii5y1 xvc5jky x1n2onr6 x1hfn5x7"},x="x5yr21d x10l6tqk xh8yej3",y={fontFamily:"var(--font-family-code)"},b[7]=r,b[8]=w,b[9]=x,b[10]=y):(r=b[7],w=b[8],x=b[9],y=b[10]);var z;b[11]!==s?(z=s===""?m:q(s),b[11]=s,b[12]=z):z=b[12];b[13]!==a||b[14]!==z?(x=j.jsx("div",{className:x,style:y,children:j.jsx(c("BaseTextArea.react"),{disabled:a,maxRows:2,placeholder:m,readOnly:!0,suppressFocusRing:!0,unresizable:!0,value:z,xstyle:l.input})}),b[13]=a,b[14]=z,b[15]=x):x=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(y="x5yr21d x10l6tqk xh8yej3",z={fontFamily:"var(--font-family-code)"},b[16]=y,b[17]=z):(y=b[16],z=b[17]);var A;b[18]!==s?(A=s===""?s:p(s),b[18]=s,b[19]=A):A=b[19];b[20]!==a||b[21]!==f||b[22]!==A?(y=j.jsx("div",{className:y,style:z,children:j.jsx(c("BaseTextArea.react"),{disabled:a,maxRows:2,onValueChange:f,ref:e,suppressFocusRing:!0,testid:void 0,unresizable:!0,value:A,xstyle:l.input})}),b[20]=a,b[21]=f,b[22]=A,b[23]=y):y=b[23];b[24]!==x||b[25]!==y?(z=j.jsxs("div",babelHelpers["extends"]({},w,{children:[x,y]})),b[24]=x,b[25]=y,b[26]=z):z=b[26];b[27]!==z||b[28]!==v?(e=j.jsxs("div",babelHelpers["extends"]({},v,{children:[r,z]})),b[27]=z,b[28]=v,b[29]=e):e=b[29];return e}function o(a){return a.toUpperCase().replace(/[^A-Z0-9]/g,"")}function p(a){a=a.split("");var b=0,c=[];for(a of a)c.length===24?c.push("\n"):b>0&&b%4===0&&c.push(" "),c.push(a),b+=1;return c.join("")}function q(a){var b=a.split("");return m.split("").map(function(a){if(a===" "||a==="\n"||b.length===0)return a;else{b.pop();return" "}}).join("")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsLayout.react",["FocusRegion.react","MWXColumn.react","MWXColumnItem.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actionsDirection;b=b===void 0?"row":b;var e=a.children,f=a.focusRegionId,g=a.icon,h=a.innerContentPaddingHorizontal;h=h===void 0?20:h;var j=a.innerContentPaddingVertical;j=j===void 0?20:j;var k=a.outerContentPaddingHorizontal;k=k===void 0?20:k;var l=a.outerContentPaddingVertical;l=l===void 0?20:l;var m=a.primaryAction,n=a.ref,o=a.secondaryAction,p=a.showTopMargin;p=p===void 0?!0:p;var q=a.showTopMarginSmall;q=q===void 0?!1:q;var r=a.tertiaryAction,s=a.title,t=a.useBigTitle;t=t===void 0?!1:t;var u=a.useCompressedIcon;u=u===void 0?!1:u;var v=a.useScrollBar;v=v===void 0?!1:v;var w=a.useStretchContent;w=w===void 0?!1:w;a=a.useTightTitle;a=a===void 0?!1:a;f=f==null?m:i.jsx(d("FocusRegion.react").FocusRegion,{id:f,children:m});t=g!=null||t?"headlineEmphasized2":"headlineEmphasized3";a=i.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"x106a9eq x1xnnf8n"}}[!!a<<0],{children:i.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,type:t,children:s})}));return i.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:k,paddingVertical:l,ref:d("xplatToDOMRef").xplatToDOMRef(n),spacing:16,children:[g&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx("div",babelHelpers["extends"]({},{0:{className:"x1sy10c2 x1y1aw1k xwib8y2"},1:{className:"x4arcmf x1cxtvei x6mlq2k x4m0w28"}}[!!u<<0],{children:g}))}),s!=null&&i.jsx(c("MWXColumnItem.react"),{align:"center",children:g!=null?a:i.jsx("div",babelHelpers["extends"]({},{0:{className:"x1iorvi4 x1lr1uin"},2:{className:"x4i7bpe x1lr1uin"},1:{className:"x1xy6bms x1lr1uin"},3:{className:"x1xy6bms x1lr1uin"}}[!!p<<1|!!q<<0],{children:a}))}),i.jsx(c("MWXColumnItem.react"),{align:w?"stretch":"center",paddingHorizontal:h,paddingVertical:j,children:i.jsx("div",babelHelpers["extends"]({},{0:{className:"xvc51xn x1dqj196 x2b8uid"},2:{className:"x1lziwak x14z9mp"},1:{className:"xvc51xn x1dqj196 x2b8uid x1jcbksy x1odjw0f"},3:{className:"x1lziwak x14z9mp x1jcbksy x1odjw0f"}}[!!w<<1|!!v<<0],{children:e}))}),(m!=null||o!=null||r!=null)&&i.jsx(c("MWXColumnItem.react"),{align:"stretch",children:b==="row"?i.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,spacing:8,children:[r!=null&&i.jsx(c("MWXRowItem.react"),{expanding:!0,children:r}),o!=null&&i.jsx(c("MWXRowItem.react"),{expanding:!0,children:o}),i.jsx(c("MWXRowItem.react"),{expanding:!0,children:f})]}):i.jsxs(c("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[i.jsx(c("MWXColumnItem.react"),{children:f}),o!=null&&i.jsx(c("MWXColumnItem.react"),{children:o}),r!=null&&i.jsx(c("MWXColumnItem.react"),{align:"center",children:r})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsAccessCodeInputStep.react",["fbt","EBSMGatingUI","FDSProgressButtonIndeterminate.react","MWChatEncryptedBackupsAccessCodeInput.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBNoMobileEOTRInformationalDialog.entrypoint","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUntrustedMobileEOTRInformationalDialog.entrypoint","MWEBVirtualDevicesContext.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsOtcRestoreSteps","MWXButton.react","MWXText.react","QPLUserFlow","RelayHooks","UserMobileEBState","promiseDone","react","react-compiler-runtime","requireDeferred","useEncryptedBackupsQplImpressionRef","useGetUserMobileEBState","useLabyrinthLogging","useMAWEncryptedBackupsRestoreToast","useMWChatEncryptedBackupsAddDevice","useMWEBFlowSourceContext","usePushPage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useContext,n=b.useState,o=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWChatEncryptedBackupsAccessCodeInputStep.react"),p=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("MWChatEncryptedBackupsAccessCodeInputStep.react"),q=h._(/*BTDS*/"Submit");function a(a){var b=d("react-compiler-runtime").c(55),e=a.onClose,f=a.onComplete,g=a.onForgotRC,k=a.onSkip,s=a.pushPage;a=a.shouldShowForgotButton;a=a===void 0?!0:a;var t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t={},b[0]=t):t=b[0];t=c("usePushPage")(c("MWEBNoMobileEOTRInformationalDialog.entrypoint"),t);var u=t[0];t=t[1];if(b[1]!==t){t.onHighIntent;var v=babelHelpers.objectWithoutPropertiesLoose(t,i);v=v;b[1]=t;b[2]=v}else v=b[2];var w=c("useGetUserMobileEBState")();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={},b[3]=t):t=b[3];t=c("usePushPage")(c("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint"),t);var x=t[0],y=(j||(j=c("useReStore")))();b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Enter your 40-character code to restore messages on this device."),b[4]=t):t=b[4];t=t;var z=n(""),A=z[0],B=z[1];z=n(!1);var C=z[0],D=z[1];z=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var E=z.startFlow,F=m(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;b[5]!==F?(z=function(){d("MWChatEncryptedBackupsLogging").endFailure({errorName:"wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_RECOVERY_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"invalid_recovery_code_input"),D(!0),F==null||F(!1)},b[5]=F,b[6]=z):z=b[6];z=z;var G=c("useMAWEncryptedBackupsRestoreToast")(),H=G.showErrorToast,I=c("useMWEBFlowSourceContext")();b[7]!==C?(G=function(a){C&&D(!1),B(a)},b[7]=C,b[8]=G):G=b[8];G=G;var J=d("RelayHooks").useRelayEnvironment(),K;b[9]!==y||b[10]!==f?(K=function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");p.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:y,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});o.onReady(r);d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH});f()},b[9]=y,b[10]=f,b[11]=K):K=b[11];K=K;var L;b[12]!==F||b[13]!==H?(L=function(a){d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH}),H(),F==null||F(!1)},b[12]=F,b[13]=H,b[14]=L):L=b[14];L=L;var M;b[15]!==z||b[16]!==K||b[17]!==L||b[18]!==J?(M={environment:J,onComplete:K,onFailure:L,onInvalidRecoveryCode:z},b[15]=z,b[16]=K,b[17]=L,b[18]=J,b[19]=M):M=b[19];z=c("useMWChatEncryptedBackupsAddDevice")(M);var N=z[0];K=z[1];L=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_ENTER_RECOVERY_CODE_SCREEN_IMPRESSION",void 0,function(){P!=null&&c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_OPTION_DISPLAYED_RESTORE_SCREEN")});b[20]!==e||b[21]!==f||b[22]!==g||b[23]!==v||b[24]!==s||b[25]!==u||b[26]!==x||b[27]!==a||b[28]!==w?(J=a?l.jsx(c("MWXButton.react"),babelHelpers["extends"]({},w.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE?v:null,{label:h._(/*BTDS*/"Don\u2019t have your code?"),onPress:function(){w.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE?u({onClose:e,onComplete:f}):w.state===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE?x({onClose:e,onComplete:f,pushPage:s}):(c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_ENTER_RECOVERY_CODE_SCREEN_ACTION_DONT_HAVE_RC"),g())},testid:void 0,type:"secondary"})):null,b[20]=e,b[21]=f,b[22]=g,b[23]=v,b[24]=s,b[25]=u,b[26]=x,b[27]=a,b[28]=w,b[29]=J):J=b[29];M=J;b[30]!==e||b[31]!==f||b[32]!==k||b[33]!==s?(z=function(){d("MWEncryptedBackupsOtcRestoreSteps").pushByOneTimeCodePage({onClose:e,onOtcComplete:f,onSkip:k,pushPage:s})},b[30]=e,b[31]=f,b[32]=k,b[33]=s,b[34]=z):z=b[34];var O=z;v=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();a=v.virtualDeviceInfo;var P=a.doesUserHaveOtcEligibleDevices?l.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Use a one-time code instead"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),O()},reduceEmphasis:!1,testid:void 0,type:"secondary"}):null;J=P!=null?P:M;b[35]!==A||b[36]!==N||b[37]!==I||b[38]!==K||b[39]!==F||b[40]!==E?(z=K?l.jsx(c("FDSProgressButtonIndeterminate.react"),{label:q}):l.jsx(c("MWXButton.react"),{disabled:A.length<40,label:q,onPress:function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreQplEvent,"RESTORE_ENTER_RECOVERY_CODE_SCREEN_ACTION_SUBMIT");var b=I();c("QPLUserFlow").addAnnotations(a.restoreQplEvent,{string:{restore_type:"recovery_code",source:b}});E({additionalAnnotations:{device_type:"OFFLINE"},event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH,source:b});c("QPLUserFlow").addPoint(a.restoreDeviceAuthQplEvent,"add_device_begin");F==null||F(!0);N(A)},testid:void 0}),b[35]=A,b[36]=N,b[37]=I,b[38]=K,b[39]=F,b[40]=E,b[41]=z):z=b[41];v=K?null:J;b[42]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Restore your chat history"),M=l.jsx("div",{className:"xwib8y2",children:l.jsx(c("MWXText.react"),{type:"meta3",children:t})}),b[42]=a,b[43]=M):(a=b[42],M=b[43]);b[44]!==A||b[45]!==G?(K=l.jsx(c("MWChatEncryptedBackupsAccessCodeInput.react"),{onValueChange:G,smallInput:!1,value:A}),b[44]=A,b[45]=G,b[46]=K):K=b[46];b[47]!==C?(J=C?l.jsx("div",{className:"x106a9eq x1xnnf8n xz9dl7a",children:l.jsx(c("MWXText.react"),{align:"center",color:"negative",testid:void 0,type:"meta3",children:h._(/*BTDS*/"Incorrect 40-character code. Try again.")})}):null,b[47]=C,b[48]=J):J=b[48];b[49]!==L||b[50]!==z||b[51]!==v||b[52]!==K||b[53]!==J?(t=l.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",primaryAction:z,ref:L,secondaryAction:v,showTopMargin:!1,title:a,children:[M,K,J]}),b[49]=L,b[50]=z,b[51]=v,b[52]=K,b[53]=J,b[54]=t):t=b[54];return t}function r(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}g["default"]=a}),226);
__d("MWChatEncryptedBackupsChevronRightIconMedium.react",["MWXIconChevronRight","MWXIconStrict.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.disabled;a=a===void 0?!1:a;a=a?"disabled":"primary";var e;b[0]!==a?(e=i.jsx(c("MWXIconStrict.react"),{color:a,icon:c("MWXIconChevronRight"),size:24}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsRecoveryCodeIcon.react",["ix","CometImageFromIXValue.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var j;b[0]!==g?(j=g?h("232768"):h("232770"),b[0]=g,b[1]=j):j=b[1];g=j;b[2]!==e||b[3]!==f||b[4]!==g?(j=k.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g}),b[2]=e,b[3]=f,b[4]=g,b[5]=j):j=b[5];e=j;b[6]!==e||b[7]!==a?(f=a==null?e:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a),{children:e})),b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupsInterstitialIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var j;b[0]!==g?(j=c("gkx")("23219")?g?h("230225"):h("230227"):h("835202"),b[0]=g,b[1]=j):j=b[1];g=j;b[2]!==e||b[3]!==f||b[4]!==g?(j=k.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g}),b[2]=e,b[3]=f,b[4]=g,b[5]=j):j=b[5];e=j;b[6]!==e||b[7]!==a?(f=a==null?e:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a),{children:e})),b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react",["fbt","MWChatEncryptedBackupsInterstitialIcon.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWXButton.react","MWXIconCalendar","MWXIconDocument","MWXIconStrict.react","MWXLink.react","MWXListCell.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more";function a(a){var b=d("react-compiler-runtime").c(16),e=a.onClose,f=a.onDontRestore;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_END_OF_ROAD_IMPRESSION");var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWChatEncryptedBackupsInterstitialIcon.react"),{}),b[0]=g):g=b[0];var i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Go to chats"),b[1]=i):i=b[1];b[2]!==e||b[3]!==f?(i=j.jsx(c("MWXButton.react"),{label:i,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_END_OF_THE_ROAD_ACTION_GO_TO_CHATS"),f==null||f(),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"END_OF_THE_ROAD_GO_TO_CHATS",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),e()}}),b[2]=e,b[3]=f,b[4]=i):i=b[4];var m,n;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Other steps you can take to restore your messages"),n={className:"xfdjxqc"},b[5]=m,b[6]=n):(m=b[5],n=b[6]);var o;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("MWXIconStrict.react"),{backgroundEnabled:!0,color:"primary",icon:c("MWXIconCalendar"),size:36}),b[7]=o):o=b[7];var p;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Skip restoring for now and try again later from Settings."),b[8]=p):p=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("MWXListCell.react"),{addOnStart:o,content:j.jsx(c("MWXTextPairing.react"),{body:p,bodyColor:"secondary",headline:h._(/*BTDS*/"Restore messages later"),headlineColor:"primary",level:4})}),b[9]=o):o=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("MWXIconStrict.react"),{backgroundEnabled:!0,color:"primary",icon:c("MWXIconDocument"),size:36}),b[10]=p):p=b[10];var q;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Find other ways to restore your messages in the {helpCenterLink}.",[h._param("helpCenterLink",j.jsx(c("MWXLink.react"),{display_DEPRECATED:"inline",href:k,onClick:l,rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Help Center")})}))]),b[11]=q):q=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsxs("div",babelHelpers["extends"]({},n,{children:[o,j.jsx(c("MWXListCell.react"),{addOnEndVerticalAlign:"center",addOnStart:p,addOnStartVerticalAlign:"center",content:j.jsx(c("MWXTextPairing.react"),{body:q,bodyColor:"secondary",headline:h._(/*BTDS*/"See all restore options"),headlineColor:"primary",level:4})})]})),b[12]=n):n=b[12];b[13]!==a||b[14]!==i?(o=j.jsx(c("MWChatEncryptedBackupsLayout.react"),{icon:g,primaryAction:i,ref:a,title:m,children:n}),b[13]=a,b[14]=i,b[15]=o):o=b[15];return o}function l(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_END_OF_THE_ROAD_ACTION_OPEN_HELP_CENTER_LINK")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsCreatePinInstruction.react",["fbt","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRecoveryCodeIcon.react","MWChatEncryptedBackupsRestoreEndOfRoadDialog.react","MWXButton.react","MWXLink.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useEncryptedBackupsQplImpressionRef","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsPinCodeRestoreStep.react").__setRef("MWChatEncryptedBackupsCreatePinInstruction.react")),m="https://www.facebook.com/help/messenger-app/3357856081116516?ref=learn_more";function a(a){var b=d("react-compiler-runtime").c(31),e=a.onClose,f=a.onComplete,g=a.pushPage;a=k(!0);var i=a[0];a=a[1];var o=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(),p=o.vestaClientID;i&&p!=null&&a(!1);b[0]!==e||b[1]!==g?(o=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react"),{onClose:e})})},b[0]=e,b[1]=g,b[2]=o):o=b[2];var q=o;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==p?(a=function(){return g(function(){return p==null?null:j.jsx(l,{onClose:e,onComplete:f,onSkip:e,pushPage:g})})},b[3]=e,b[4]=f,b[5]=g,b[6]=p,b[7]=a):a=b[7];var r=a;o=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_IMPRESSION");b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWChatEncryptedBackupsRecoveryCodeIcon.react"),{}),b[8]=a):a=b[8];var s;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Enter PIN"),b[9]=s):s=b[9];var t;b[10]!==r?(t=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_ENTER_PIN_CLICK"),r()},b[10]=r,b[11]=t):t=b[11];b[12]!==i||b[13]!==t?(s=j.jsx(c("MWXButton.react"),{disabled:i,label:s,onPress:t}),b[12]=i,b[13]=t,b[14]=s):s=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Can\u2019t create PIN?"),b[15]=i):i=b[15];b[16]!==q?(t=j.jsx(c("MWXButton.react"),{label:i,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_CANT_CREATE_PIN_CLICK"),q()},type:"secondary"}),b[16]=q,b[17]=t):t=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xewm4ob"},b[18]=i):i=b[18];var u;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._(/*BTDS*/"Create a PIN to restore your chats")})})),u={className:"x162z183 xd9ej83 xm77wn2 xvue9z"},b[19]=i,b[20]=u):(i=b[19],u=b[20]);var v;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Step 1 \u00b7 Find your mobile device"),b[21]=v):v=b[21];var w;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"It needs to have secure storage turned on."),b[22]=w):w=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:v,level:4,meta:j.jsxs(j.Fragment,{children:[w," ",j.jsx(c("MWXLink.react"),{href:m,onClick:n,rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Learn more")})})]})})}),w=j.jsx("br",{}),b[23]=v,b[24]=w):(v=b[23],w=b[24]);var x;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"Step 2 \u00b7 Create a PIN on that device"),b[25]=x):x=b[25];b[26]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsxs("div",babelHelpers["extends"]({},u,{children:[v,w,j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:x,level:4,meta:j.jsxs(c("MWXText.react"),{type:"meta4",children:[h._(/*BTDS*/"1. Go to Messenger Settings"),j.jsx("br",{}),h._(/*BTDS*/"2. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Privacy & safety")}))]),j.jsx("br",{}),h._(/*BTDS*/"3. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"End-to-end encrypted chats")}))]),j.jsx("br",{}),h._(/*BTDS*/"4. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Message storage")}))]),j.jsx("br",{}),h._(/*BTDS*/"5. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Create PIN")}))])]})})})]})),b[26]=u):u=b[26];b[27]!==o||b[28]!==s||b[29]!==t?(v=j.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",icon:a,primaryAction:s,ref:o,secondaryAction:t,children:[i,u]}),b[27]=o,b[28]=s,b[29]=t,b[30]=v):v=b[30];return v}function n(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_PIN_SCREEN_LEARN_MORE_LINK_CLICK")}g["default"]=a}),226);
__d("pushRCRestoreStep",["MWEncryptedBackupsForgotRCStep","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsAccessCodeInputStep.react").__setRef("pushRCRestoreStep"));function a(a){var b=a.onClose,c=a.onComplete,e=a.onForgotRC,f=a.pushPage,g=a.shouldShowForgotButton;a=function(){d("MWEncryptedBackupsForgotRCStep").pushForgotRCPage({onClose:b,onComplete:c,pushPage:f})};var h=e!=null?e:a;f(function(){return i.jsx(j,{onClose:b,onComplete:c,onForgotRC:h,onSkip:b,pushPage:f,shouldShowForgotButton:g})})}g["default"]=a}),98);
__d("MWChatEncryptedBackupsGenerateNewRecoveryCodeInstruction.react",["fbt","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRecoveryCodeIcon.react","MWChatEncryptedBackupsRestoreEndOfRoadDialog.react","MWEBHasSeenAutoRestoreNoticeContext","MWXButton.react","MWXLink.react","MWXListCell.react","MWXMultiStepDialogHeader.react","MWXTextPairing.react","QPLUserFlow","pushRCRestoreStep","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWEBAutoRestoreNoticeStep"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l="https://www.facebook.com/help/messenger-app/3357856081116516?ref=learn_more";function a(a){var b=d("react-compiler-runtime").c(28),e=a.onClose,f=a.onCloseDialogWithConfirmation,g=a.onComplete,i=a.onDontRestore,n=a.pushPage,o=f!=null;a=k(c("MWEBHasSeenAutoRestoreNoticeContext"));var p=a.hasSeenNotice,q=c("useMWEBAutoRestoreNoticeStep")();b[0]!==o||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==n?(a=function(){n(function(){return j.jsxs(j.Fragment,{children:[o?j.jsx(c("MWXMultiStepDialogHeader.react"),{onClose:f,title:null,withCloseButton:!0,withoutBackButton:!0}):null,j.jsx(c("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react"),{onClose:g,onDontRestore:i})]})})},b[0]=o,b[1]=f,b[2]=g,b[3]=i,b[4]=n,b[5]=a):a=b[5];var r=a;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_RC_SCREEN_IMPRESSION");var s;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(s=j.jsx(c("MWChatEncryptedBackupsRecoveryCodeIcon.react"),{}),b[6]=s):s=b[6];var t;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Enter new code"),b[7]=t):t=b[7];b[8]!==q||b[9]!==p||b[10]!==e||b[11]!==g||b[12]!==n?(t=j.jsx(c("MWXButton.react"),{label:t,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_RC_SCREEN_ACTION_ENTER_CODE"),c("pushRCRestoreStep")({onClose:e,onComplete:function(){q({hasSeenNotice:p,onNextStep:g,pushPage:n})},pushPage:n,shouldShowForgotButton:!1})},testid:void 0}),b[8]=q,b[9]=p,b[10]=e,b[11]=g,b[12]=n,b[13]=t):t=b[13];var u;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Can\u2019t generate code?"),b[14]=u):u=b[14];b[15]!==r?(u=j.jsx(c("MWXButton.react"),{label:u,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_RC_SCREEN_ACTION_CANT_GENERATE_CODE"),r()},type:"secondary"}),b[15]=r,b[16]=u):u=b[16];var v,w;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Generate a new code to restore your chats"),w={className:"xvue9z"},b[17]=v,b[18]=w):(v=b[17],w=b[18]);var x;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"It needs to have secure storage turned on. It\u2019s likely to be the device you used to create your original 40-character code."),b[19]=x):x=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(x=j.jsxs(j.Fragment,{children:[x," ",j.jsx(c("MWXLink.react"),{display_DEPRECATED:"inline",href:l,onClick:m,rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Learn more")})})]}),b[20]=x):x=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(x=j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{body:x,bodyColor:"secondary",headline:h._(/*BTDS*/"Step 1 \u00b7 Find your other device"),level:4})}),b[21]=x):x=b[21];var y;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(y=j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"1. Go to Messenger Settings"),j.jsx("br",{}),h._(/*BTDS*/"2. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Privacy & safety")}))]),j.jsx("br",{}),h._(/*BTDS*/"3. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"End-to-end encrypted chats")}))]),j.jsx("br",{}),h._(/*BTDS*/"4. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Message storage")}))]),j.jsx("br",{}),h._(/*BTDS*/"5. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Generate recovery code")}))])]}),b[22]=y):y=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsxs("div",babelHelpers["extends"]({},w,{children:[x,j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{body:y,bodyColor:"secondary",headline:h._(/*BTDS*/"Step 2 \u00b7 Generate a new code on that device"),level:4})})]})),b[23]=w):w=b[23];b[24]!==a||b[25]!==t||b[26]!==u?(x=j.jsx(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",icon:s,primaryAction:t,ref:a,secondaryAction:u,title:v,children:w}),b[24]=a,b[25]=t,b[26]=u,b[27]=x):x=b[27];return x}function m(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_TROUBLESHOOT_SCREEN_ACTION_OPEN_LEARN_MORE_LINK")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsCreateRecoveryCodeInstruction.react",["fbt","MWChatEncryptedBackupsGenerateNewRecoveryCodeInstruction.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRecoveryCodeIcon.react","MWChatEncryptedBackupsRestoreEndOfRoadDialog.react","MWEBHasSeenAutoRestoreNoticeContext","MWXButton.react","MWXLink.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","pushRCRestoreStep","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWEBAutoRestoreNoticeStep","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useState,m="https://www.facebook.com/help/messenger-app/3357856081116516?ref=learn_more";function a(a){var b=d("react-compiler-runtime").c(34),e=a.onClose,f=a.onComplete,g=a.pushPage;a=l(!0);var i=a[0];a=a[1];var o=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")();o=o.offlineDevicesCount;var p=c("useMWEBAutoRestoreNoticeStep")(),q=k(c("MWEBHasSeenAutoRestoreNoticeContext")),r=q.hasSeenNotice;i&&o>0&&a(!1);b[0]!==e||b[1]!==g?(q=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsRestoreEndOfRoadDialog.react"),{onClose:e})})},b[0]=e,b[1]=g,b[2]=q):q=b[2];var s=q;b[3]!==e||b[4]!==f||b[5]!==g?(o=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsGenerateNewRecoveryCodeInstruction.react"),{onClose:e,onComplete:f,pushPage:g})})},b[3]=e,b[4]=f,b[5]=g,b[6]=o):o=b[6];var t=o;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_IMPRESSION");b[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWChatEncryptedBackupsRecoveryCodeIcon.react"),{}),b[7]=q):q=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Enter 40-character code"),b[8]=o):o=b[8];var u;b[9]!==p||b[10]!==r||b[11]!==e||b[12]!==t||b[13]!==g?(u=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_ENTER_CODE_CLICK"),c("pushRCRestoreStep")({onClose:e,onComplete:function(){p({hasSeenNotice:r,onNextStep:e,pushPage:g})},onForgotRC:t,pushPage:g,shouldShowForgotButton:!1})},b[9]=p,b[10]=r,b[11]=e,b[12]=t,b[13]=g,b[14]=u):u=b[14];b[15]!==i||b[16]!==u?(o=j.jsx(c("MWXButton.react"),{disabled:i,label:o,onPress:u}),b[15]=i,b[16]=u,b[17]=o):o=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Can\u2019t generate code?"),b[18]=i):i=b[18];b[19]!==s?(u=j.jsx(c("MWXButton.react"),{label:i,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_CANT_GENERATE_CODE_CLICK"),s()},type:"secondary"}),b[19]=s,b[20]=u):u=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xewm4ob"},b[21]=i):i=b[21];var v;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._(/*BTDS*/"Generate a 40-character code to restore your chats")})})),v={className:"x162z183 xd9ej83 xm77wn2 xvue9z"},b[22]=i,b[23]=v):(i=b[22],v=b[23]);var w;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Step 1 \u00b7 Find your mobile device"),b[24]=w):w=b[24];var x;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"It needs to have secure storage turned on."),b[25]=x):x=b[25];b[26]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:w,level:4,meta:j.jsxs(j.Fragment,{children:[x," ",j.jsx(c("MWXLink.react"),{display_DEPRECATED:"inline",href:m,onClick:n,rel:"noreferrer",target:"_blank",children:j.jsx("b",{children:h._(/*BTDS*/"Learn more")})})]})})}),x=j.jsx("br",{}),b[26]=w,b[27]=x):(w=b[26],x=b[27]);var y;b[28]===Symbol["for"]("react.memo_cache_sentinel")?(y=h._(/*BTDS*/"Step 2 \u00b7 Generate a 40-character code on that device"),b[28]=y):y=b[28];b[29]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsxs("div",babelHelpers["extends"]({},v,{children:[w,x,j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXTextPairing.react"),{headline:y,level:4,meta:j.jsxs(c("MWXText.react"),{type:"meta4",children:[h._(/*BTDS*/"1. Go to Messenger Settings"),j.jsx("br",{}),h._(/*BTDS*/"2. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Privacy & safety")}))]),j.jsx("br",{}),h._(/*BTDS*/"3. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"End-to-end encrypted chats")}))]),j.jsx("br",{}),h._(/*BTDS*/"4. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Message storage")}))]),j.jsx("br",{}),h._(/*BTDS*/"5. Tap {=m1}",[h._implicitParam("=m1",j.jsx("b",{children:h._(/*BTDS*/"Generate recovery code")}))])]})})})]})),b[29]=v):v=b[29];b[30]!==a||b[31]!==o||b[32]!==u?(w=j.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"column",icon:q,primaryAction:o,ref:a,secondaryAction:u,children:[i,v]}),b[30]=a,b[31]=o,b[32]=u,b[33]=w):w=b[33];return w}function n(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_TROUBLESHOOT_RC_SCREEN_LEARN_MORE_LINK_CLICK")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsDots3HorizontalIconSmall.react",["ix","FDSDots3HorizontalFilled20Icon","MWXIcon_DEPRECATED.react","cr:1376","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var e=b("cr:1376")!=null?new(b("cr:1376"))(h("275834"),24,24):c("FDSDots3HorizontalFilled20Icon");e=j.jsx(c("MWXIcon_DEPRECATED.react"),{color:"primary",icon:e});a[0]=e}else e=a[0];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsTextIconSmall.react",["ix","FDSTextFilled20Icon","MWXIcon_DEPRECATED.react","cr:1376","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var e=b("cr:1376")!=null?new(b("cr:1376"))(h("275886"),24,24):c("FDSTextFilled20Icon");e=j.jsx(c("MWXIcon_DEPRECATED.react"),{color:"primary",icon:e});a[0]=e}else e=a[0];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsEOTRPhaseOne",["fbt","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsChevronRightIconMedium.react","MWChatEncryptedBackupsCreatePinInstruction.react","MWChatEncryptedBackupsCreateRecoveryCodeInstruction.react","MWChatEncryptedBackupsDots3HorizontalIconSmall.react","MWChatEncryptedBackupsInterstitialIcon.react","MWChatEncryptedBackupsLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsTextIconSmall.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(28),e=a.onClose,f=a.onComplete,g=a.pushPage;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsCreatePinInstruction.react"),{onClose:e,onComplete:f,pushPage:g})})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];var i=a;b[4]!==e||b[5]!==f||b[6]!==g?(a=function(){return g(function(){return j.jsx(c("MWChatEncryptedBackupsCreateRecoveryCodeInstruction.react"),{onClose:e,onComplete:f,pushPage:g})})},b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];var k=a;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_OPTIONS_IMPRESSION");var l;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("MWChatEncryptedBackupsInterstitialIcon.react"),{}),b[8]=l):l=b[8];var m;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Restore your end-to-end encrypted chats with your mobile device"),b[9]=m):m=b[9];var n,o;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:h._(/*BTDS*/"Try one of these methods to get your chats on this device.")}),o={className:"x1miatn0 x2b8uid xk68kj7"},b[10]=n,b[11]=o):(n=b[10],o=b[11]);var p;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[12]=p):p=b[12];var q;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:j.jsx(c("MWChatEncryptedBackupsDots3HorizontalIconSmall.react"),{})}),b[13]=q):q=b[13];var r;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("MWXTextPairing.react"),{headline:h._(/*BTDS*/"Learn how to create a PIN"),level:4}),b[14]=r):r=b[14];b[15]!==i?(p=j.jsx(c("MWXListCellPressable.react"),{addOnEnd:p,addOnEndVerticalAlign:"center",addOnStart:q,addOnStartVerticalAlign:"center",content:r,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_PIN_CODE_CLICK"),i()}}),b[15]=i,b[16]=p):p=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[17]=q):q=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:j.jsx(c("MWChatEncryptedBackupsTextIconSmall.react"),{})}),b[18]=r):r=b[18];var s;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(s=j.jsx(c("MWXTextPairing.react"),{headline:h._(/*BTDS*/"Learn how to generate a 40-character code"),level:4}),b[19]=s):s=b[19];b[20]!==k?(q=j.jsx(c("MWXListCellPressable.react"),{addOnEnd:q,addOnEndVerticalAlign:"center",addOnStart:r,addOnStartVerticalAlign:"center",content:s,onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_KVS_RECOVERY_CODE_CLICK"),k()}}),b[20]=k,b[21]=q):q=b[21];b[22]!==p||b[23]!==q?(r=j.jsxs("div",babelHelpers["extends"]({},o,{children:[p,q]})),b[22]=p,b[23]=q,b[24]=r):r=b[24];b[25]!==a||b[26]!==r?(s=j.jsxs(c("MWChatEncryptedBackupsLayout.react"),{actionsDirection:"row",icon:l,ref:a,title:m,children:[n,r]}),b[25]=a,b[26]=r,b[27]=s):s=b[27];return s}g["default"]=a}),226);
__d("MWChatEncryptedBackupsKVSOnlyRestoreStep.react",["MWChatEncryptedBackupsEOTRPhaseOne","UserMobileEBState","cr:27431","react","react-compiler-runtime","useGetUserMobileEBState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.onClose,g=a.onComplete;a=a.pushPage;var h=c("useGetUserMobileEBState")();h=h.state===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE||h.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE;if(h&&b("cr:27431")!=null){e[0]!==f||e[1]!==g||e[2]!==a?(h=i.jsx(b("cr:27431"),{onClose:f,onComplete:g,pushPage:a}),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];return h}e[4]!==f||e[5]!==g||e[6]!==a?(h=i.jsx(c("MWChatEncryptedBackupsEOTRPhaseOne"),{onClose:f,onComplete:g,pushPage:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=h):h=e[7];return h}g["default"]=a}),98);
__d("MWEBAutoRestoreNoticeDialogStep.react",["fbt","CometRelay","MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialog.entrypoint","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXDialogHeader.react","MWXDialogPage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","gkx","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider","useEncryptedBackupsQplImpressionRef","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useRef,n=c("gkx")("23219");function o(){var a=d("react-compiler-runtime").c(2),b=l(c("MWChatEncryptedBackupsDismissalDialogContext")),e=b.isDismissedDisabled,f=b.setIsDismissedDisabled,g=m(e);a[0]!==f?(b={onHidden:function(){f(g.current)},onVisible:function(){f(!0)}},a[0]=f,a[1]=b):b=a[1];return c("useVisibilityObserver")(b)}function p(){}function a(a){var b=a.onComplete,e=a.pushPage;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_IMPRESSION");var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=k(function(){var a=d("CometRelay").loadEntryPoint(f,c("MWChatEncryptedBackupsSettingsDialog.entrypoint"),{});e(function(){return j.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:a,props:{onClose:b,pushPageFromParent:e}})},{withoutBackButton:!0})},[f,b,e]),i=c("gkx")("14456");i=i?o:p;i=i();a=c("useMergeRefs")(a,i);return j.jsx(c("MWXDialogPage.react"),{footer:null,header:j.jsx(c("MWXDialogHeader.react"),{onClose:b,title:h._(/*BTDS*/"Changes to secure storage settings"),withBackButton:!1,withCloseButton:!0}),children:j.jsx("div",{ref:a,children:j.jsxs(c("MWXColumn.react"),{paddingVertical:8,testid:void 0,children:[j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:n?8:0,paddingTop:12,children:j.jsx(c("MWXText.react"),{align:"start",type:"body3",children:h._(/*BTDS*/"After you restore chat history, messages will continue to sync automatically even if you log out and log back in. You can turn this off in {[Armadillo] Inline settings link parameter.}.",[h._param("[Armadillo] Inline settings link parameter.",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink3",children:j.jsx(c("MWXLink.react"),{onClick:g,children:h._(/*BTDS*/"Settings")})}))])})}),j.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:j.jsx(c("MWXRow.react"),{align:"end",paddingHorizontal:0,paddingTop:16,children:j.jsx(c("MWXRowItem.react"),{expanding:n,children:j.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"OK"),onPress:b,padding:"wide",testid:void 0})})})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEBRestoreOTCFirstStep.react",["fbt","MWChatEncryptedBackupsQPLEvents","MWEBOTCInterstitialIllustration.react","MWXColumn.react","MWXColumnItem.react","MWXDialogFooter.react","MWXDialogPage.react","MWXText.react","QPLUserFlow","react","react-compiler-runtime","requireDeferredForDisplay","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferredForDisplay")("MWEncryptedBackupsOtcRestoreSteps").__setRef("MWEBRestoreOTCFirstStep.react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.onCloseDialog,f=a.onComplete,g=a.onSkip,i=a.pushPage;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={onVisible:l},b[0]=a):a=b[0];a=c("useVisibilityObserver")(a);var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Send code"),b[1]=m):m=b[1];b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==i?(m=j.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:{label:m,onPress:function(){k.onReadyImmediately(function(a){a=a.pushByOneTimeCodePage;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_SEND_CODE_CLICK");a({onClose:e,onOtcComplete:f,onSkip:g,pushPage:i})})}}}),b[2]=e,b[3]=f,b[4]=g,b[5]=i,b[6]=m):m=b[6];var n;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:20,paddingVertical:4}),b[7]=n):n=b[7];var o;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:0,paddingVertical:8,children:j.jsx(c("MWEBOTCInterstitialIllustration.react"),{})}),b[8]=o):o=b[8];var p;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"headlineEmphasized2",children:h._(/*BTDS*/"Send a one-time code to restore your chat history")})}),b[9]=p):p=b[9];var q;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:h._(/*BTDS*/"Get a one-time code from the Messenger or Facebook mobile app to restore your chat history on this device.")})}),b[10]=q):q=b[10];b[11]!==a?(n=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:8,ref:a,spacing:16,children:[n,o,p,q]}),b[11]=a,b[12]=n):n=b[12];b[13]!==m||b[14]!==n?(o=j.jsx(c("MWXDialogPage.react"),{footer:m,header:null,children:n}),b[13]=m,b[14]=n,b[15]=o):o=b[15];return o}function l(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_DIALOG_STEP_IMPRESSION")}g["default"]=a}),226);
__d("MWEncryptedBackupsDeviceUtils",[],(function(a,b,c,d,e,f){"use strict";a=[6628568379,173847642670370,350685531728];b=[173847642670370];f.FB_APP_IDS=a;f.TABLET_APP_IDS=b}),66);
__d("MWXIconTablet",["MWXSvgIcon","SVGIcon","cr:22506","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22506")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEncryptedBackupsDeviceListCell.react",["fbt","AddOnStartOverride.react","BaseMiddot.react","FDSRelativeTimestamp.react","I64","MWEncryptedBackupsDeviceUtils","MWXIconForListCell.react","MWXIconMobile","MWXIconTablet","MWXListCell.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useMemo;function a(a){var b=a.device;a=l(function(){return b.appId!=null?(j||(j=d("I64"))).to_float(b.appId):null},[b.appId]);var e=d("MWEncryptedBackupsDeviceUtils").TABLET_APP_IDS.includes(a);a=d("MWEncryptedBackupsDeviceUtils").FB_APP_IDS.includes(a)?h._(/*BTDS*/"Facebook"):h._(/*BTDS*/"Messenger");return k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:e?c("MWXIconTablet"):c("MWXIconMobile"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:b.lastUploadTime!=null&&h._(/*BTDS*/"Last seen {last_seen}",[h._param("last_seen",k.jsx(c("FDSRelativeTimestamp.react"),{date:new Date(Number(b.lastUploadTime)*1e3)}))]),bodyColor:"secondary",headline:b.model!=null?k.jsxs(k.Fragment,{children:[a,k.jsx(c("BaseMiddot.react"),{}),b.model]}):a,level:4})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconExclamationMarkCircleOutline",["MWXSvgIcon","SVGIcon","cr:22308","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22308")),c("gkx")("23219"));g["default"]=a}),98);
__d("useFetchOTCEligibleEBDevices",["FBLogger","LSAuthorityLevel","LSFactory","LSFetchOTCEligibleEBDevicesV2StoredProcedure","LSIntEnum","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(30),e=a===void 0?"store-or-network":a,g=(h||(h=c("useReStore")))(),j=l(!1);b[0]!==g.tables.encrypted_backups_otc_devices?(a=function(){return d("ReQL").fromTableAscending(g.tables.encrypted_backups_otc_devices)},b[0]=g.tables.encrypted_backups_otc_devices,b[1]=a):a=b[1];var p;b[2]!==g?(p=[g],b[2]=g,b[3]=p):p=b[3];var q=d("ReQLSuspense").useArray(a,p,f.id+":39");b[4]!==g?(a=function(){return g.runInTransaction(o,"readwrite",void 0,void 0,f.id+":45")},b[4]=g,b[5]=a):a=b[5];var r=a;b[6]!==r?(p=function(){c("promiseDone")(r(),null,n)},b[6]=r,b[7]=p):p=b[7];var s=p;b[8]!==e||b[9]!==q.length||b[10]!==s?(a=function(){j.current!==!0&&(q.length===0||e==="network-only")&&(j.current=!0,s())},p=[e,q.length,s],b[8]=e,b[9]=q.length,b[10]=s,b[11]=a,b[12]=p):(a=b[11],p=b[12]);k(a,p);a=q.length>0&&(i||(i=d("LSIntEnum"))).toNumber(q[0].authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC;p=a;a=!p&&q.length>0&&q[0].deviceId==="-1";var t=a;b[13]!==t?(a=function(){t&&c("FBLogger")("wmi_eb").mustfix("Encrypted Backups OTC: Failed to fetch otc eligible devices.")},b[13]=t,b[14]=a):a=b[14];var u;b[15]!==t||b[16]!==r||b[17]!==e||b[18]!==p||b[19]!==q||b[20]!==s?(u=[t,r,e,p,q,s],b[15]=t,b[16]=r,b[17]=e,b[18]=p,b[19]=q,b[20]=s,b[21]=u):u=b[21];k(a,u);b[22]!==q?(a=q.filter(m),b[22]=q,b[23]=a):a=b[23];u=a;a=u;u=a.length>0;var v;b[24]!==t||b[25]!==p||b[26]!==a||b[27]!==u||b[28]!==s?(v={doesUserHaveOtcEligibleDevices:u,failedToFetchOtcDevices:t,isFetchOtcDevicesInFlight:p,otcEligibleDevices:a,triggerFetchOtcEligibleDevices:s},b[24]=t,b[25]=p,b[26]=a,b[27]=u,b[28]=s,b[29]=v):v=b[29];return v}function m(a){return(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel)!==c("LSAuthorityLevel").OPTIMISTIC&&a.deviceId!==""}function n(){c("FBLogger")("wmi_eb").mustfix("Failed to fetch OTC eligible devices")}async function o(a){var b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_otc_devices));b=b!=null&&(i||(i=d("LSIntEnum"))).toNumber(b.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC;if(!b)return c("LSFetchOTCEligibleEBDevicesV2StoredProcedure")(c("LSFactory")(a))}g.default=a}),98);
__d("MWEncryptedBackupsOTCEligibleDevicesList.react",["fbt","AddOnStartOverride.react","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsDeviceListCell.react","MWXGlimmer.react","MWXIconExclamationMarkCircleOutline","MWXIconForListCell.react","MWXLink.react","MWXList.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useFetchOTCEligibleEBDevices"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={glimmerBody:{borderStartStartRadius:"x10c0hgg",borderStartEndRadius:"x17hxvv9",borderEndEndRadius:"xys2atg",borderEndStartRadius:"x18dcsfh",height:"xlzyvqe",width:"x3hqpx7",$$css:!0},glimmerHeadline:{borderStartStartRadius:"x10c0hgg",borderStartEndRadius:"x17hxvv9",borderEndEndRadius:"xys2atg",borderEndStartRadius:"x18dcsfh",height:"xlzyvqe",width:"xktia5q",$$css:!0},glimmerIcon:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",height:"xc9qbxq",width:"x14qfxbe",$$css:!0}};function n(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:m.glimmerIcon})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWXListCell.react"),{addOnStart:b,content:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXGlimmer.react"),{index:2,xstyle:m.glimmerBody}),headline:j.jsx(c("MWXGlimmer.react"),{index:1,xstyle:m.glimmerHeadline}),level:4})}),a[1]=b):b=a[1];return b}function a(){var a=d("react-compiler-runtime").c(13),b=c("useFetchOTCEligibleEBDevices")(),e=b.failedToFetchOtcDevices,f=b.isFetchOtcDevicesInFlight,g=b.otcEligibleDevices;b=b.triggerFetchOtcEligibleDevices;var i=l(!1),m,q;a[0]!==e||a[1]!==f||a[2]!==g.length?(m=function(){f||(c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{"int":{otc_eligible_devices:g.length}}),e?i.current||(i.current=!0,c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_DEVICES_LIST_FAILURE")):!i.current&&g.length>0&&(i.current=!0,c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_DEVICES_LIST_LOADED")))},q=[e,f,g.length],a[0]=e,a[1]=f,a[2]=g.length,a[3]=m,a[4]=q):(m=a[3],q=a[4]);k(m,q);if(f){a[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(n,{}),a[5]=m):m=a[5];return m}else if(e){a[6]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconExclamationMarkCircleOutline"),size:"large"})}),a[6]=q):q=a[6];a[7]!==b?(m=j.jsx(c("MWXListCell.react"),{addOnStart:q,content:j.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._(/*BTDS*/"Unable to show your devices. {try_again}",[h._param("try_again",j.jsx(c("MWXText.react"),{color:"blueLink",type:"headlineEmphasized4",children:j.jsx(c("MWXLink.react"),{onClick:b,children:h._(/*BTDS*/"Refresh")})}))])})}),a[7]=b,a[8]=m):m=a[8];return m}else{a[9]!==g?(q=g.toSorted(p).map(o),a[9]=g,a[10]=q):q=a[10];a[11]!==q?(b=j.jsx(c("MWXList.react"),{testid:void 0,children:q}),a[11]=q,a[12]=b):b=a[12];return b}}function o(a){return j.jsx(c("MWEncryptedBackupsDeviceListCell.react"),{device:a},a.deviceId)}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){return Number(b.lastUploadTime)-Number(a.lastUploadTime)}g["default"]=a}),226);
__d("MWEncryptedBackupsOTCEligibleDevicesPopover.react",["MWEncryptedBackupsOTCEligibleDevicesList.react","MWXPopover.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=d("react-compiler-runtime").c(1);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWXPopover.react"),{withArrow:!0,children:i.jsx("div",{className:"x1xiyphd x1odjw0f x1y1aw1k xf159sx xwib8y2 xmzvs34 x168biu4",children:i.jsx(c("MWEncryptedBackupsOTCEligibleDevicesList.react"),{})})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWFDSExclamationMarkCircleOutline.svg.react",["cr:21639"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21639")}),98);
__d("MWFDSTablet.svg.react",["FBIconTabletOutline20.svg.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("FBIconTabletOutline20.svg.react")}),98);
__d("PAKEDecryptSecretSprocStatusEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:0,WRONG_KEYS:-1,FAILURE:-2});f["default"]=a}),66);
__d("PAKEGetActiveSessionSprocStatusEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:0,NO_SESSION:-1,FAILURE:-2});f["default"]=a}),66);
__d("PAKEMessageTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({AWAITING_CLIENT:0,PAKE_MESSAGE_1:1,PAKE_MESSAGE_2_AND_SECRET:2,SESSION_EXPIRED_ERROR:3,MAX_ATTEMPTS_ERROR:4,GENERIC_ERROR:5,MESSAGE_SENT_ERROR:6,PREVIOUS_MESSAGE_MISSING_ERROR:7,INVALID_PREVIOUS_MESSAGE_ERROR:8,ENCRYPTION_ERROR:9,DECRYPTION_ERROR:10,CPACE_STEP_2_ERROR:11,FETCH_SECRETS_ERROR:12,CPACE_STEP_1_ERROR:13,CPACE_STEP_3_ERROR:14,PAKE_HANDSHAKE_SUCCESS:15,SERIALIZATION_ERROR:16,NO_ACTIVE_SESSION:17,MULTIPLE_ACTIVE_SESSIONS_ERROR:18,PROCESS_SECRETS_ERROR:19,TIMEOUT_ERROR:20,FLOW_ABANDONED_ERROR:21,DESERIALIZE_SECRETS_ERROR:22,CODE_REQUESTED:23,PQ_PAKE_MESSAGE_2:24,PQ_PAKE_MESSAGE_3:25,PQ_PAKE_SECRETS:26});f["default"]=a}),66);
__d("PakeInitiatorSprocCalls",["LSDecryptPakeSecretStoredProcedure","LSFactory","LSGetActiveSessionStoredProcedure","LSIntEnum","LSSendPakeMessageOneStoredProcedure","LSSendPakeMessageStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.clientType,e=a.initiatorId,g=a.messagePayload,i=a.sessionId;a=a.storage;c("promiseDone")(a.runInTransaction(function(a){return c("LSSendPakeMessageOneStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),initiatorId:e,messagePayload:g,sessionId:i})},"readwrite",void 0,void 0,f.id+":45"))}function b(a){var b=a.clientType,e=a.initiatorId;a=a.storage;return a.runInTransaction(function(a){return c("LSGetActiveSessionStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),initiatorId:e})},"readwrite",void 0,void 0,f.id+":71")}function e(a){var b=a.clientType,e=a.encryptionKey,g=a.sessionId;a=a.storage;return a.runInTransaction(function(a){return c("LSDecryptPakeSecretStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),encryptionKey:e,sessionId:g})},"readwrite",void 0,void 0,f.id+":92")}function i(a){var b=a.clientType,e=a.messagePayload,g=a.messageType,i=a.senderId,j=a.sessionId;a=a.storage;return a.runInTransaction(function(a){return c("LSSendPakeMessageStoredProcedure")(c("LSFactory")(a),{clientType:(h||(h=d("LSIntEnum"))).ofNumber(b),messagePayload:e,messageType:h.ofNumber(g),senderId:i,sessionId:j})},"readwrite",void 0,void 0,f.id+":116")}g.sendPakeMessageOne=a;g.joinPakeSession=b;g.decryptPakeSecret=e;g.sendPakeMessage=i}),98);
__d("PakeQplLogging",["MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","QPLEvent","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){c("QPLUserFlow").getActiveFlowIDs().includes((h||(h=d("QPLEvent"))).getMarkerId(a))||((i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EB_OTC_AUTH,c("MWEBODSEntityKey.enum").START),c("QPLUserFlow").start(a,{annotations:{string:babelHelpers["extends"]({},b)}}))}function b(a){var b=a.annotations,e=a.errorName,f=a.event;a=a.isUserError;c("QPLUserFlow").endFailure(f,e,{annotations:b});f=a===!0?c("MWEBODSEntityKey.enum").SUCCESS:c("MWEBODSEntityKey.enum").FAIL;(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EB_OTC_AUTH,f)}function e(a,b){c("QPLUserFlow").endSuccess(a,{annotations:b}),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EB_OTC_AUTH,c("MWEBODSEntityKey.enum").SUCCESS)}g.startPakeQPLFlow=a;g.endPakeQPLFlowFailure=b;g.endPakeQPLFlowSuccess=e}),98);
__d("deserializeSecretsAndAddDevice",["EBLogger","EBSMAPI","MWEncryptedBackupsInitializeRestoreDeferred","MWPakeQPLEvents","PAKEMessageTypeEnum","PakeQplLogging","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.db,e=a.initiatorId,f=a.onAddDeviceFailure,g=a.onAddDeviceFinish;a=a.secrets;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_START");e=await c("EBSMAPI").otcAddDevice({initiatorId:e,secrets:a});if(e.success){c("QPLUserFlow").addPoint((a=d("MWPakeQPLEvents")).pakeInitiatorQplEvent,"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_END");g();c("QPLUserFlow").addPoint(a.pakeInitiatorQplEvent,"MEB_INITIALIZE_RESTORE_START");d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:b,onFailure:function(){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1}},errorName:"MEB_INITIALIZE_RESTORE_FAILURE",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1})}});c("QPLUserFlow").addPoint(a.pakeInitiatorQplEvent,"MEB_INITIALIZE_RESTORE_END");d("PakeQplLogging").endPakeQPLFlowSuccess(a.pakeInitiatorQplEvent)}else if(e.error.status==="OTC_ADD_DEVICE_SPROC_FAILURE")d("EBLogger").EBLogger().mustfix("PAKE: deserializeSecretsAndAddDevice sproc failed"),d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").DESERIALIZE_SECRETS_ERROR}},errorName:"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_FAILURE",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),f();else if(e.error.status==="OTC_ADD_DEVICE_SYSTEM_ERROR")d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").DESERIALIZE_SECRETS_ERROR}},errorName:"MEB_FINISH_ADD_PEER_DEVICE_FAILURE",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),f();else if(e.error.status==="OTC_ADD_DEVICE_UNEXPECTED_RECOVERY_CODE_STATUS"){g=e.error.errorMessage;g!=null&&d("EBLogger").EBLogger().mustfix(g)}else if(e.error.status==="OTC_ADD_DEVICE_SPROC_ERROR"){b=e.error.errorMessage;b!=null&&d("EBLogger").EBLogger().mustfix(b);d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").DESERIALIZE_SECRETS_ERROR},string:{exceptionMessage:b!=null?b:"<null>"}},errorName:"MEB_DESERIALIZE_SECRETS_AND_ADD_DEVICE_EXCEPTION",event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});f()}return function(){}}g.default=a}),98);
__d("establishPakeHandshakeAsInitiator",["Base64Utils","FBLogger","I64","MWEncryptedBackupsDeviceRegistrationId","MWPakeQPLEvents","PAKECleanupSessionReasonEnum","PAKEDecryptSecretSprocStatusEnum","PAKEGetActiveSessionSprocStatusEnum","PAKEMessageTypeEnum","PakeCpaceUtils","PakeCpaceWasm","PakeQplLogging","QPLUserFlow","ReQL","clearTimeout","promiseDone","requireDeferred","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("CleanupPakeSession").__setRef("establishPakeHandshakeAsInitiator"),j=c("requireDeferred")("PakeInitiatorSprocCalls").__setRef("establishPakeHandshakeAsInitiator"),k=(h||(h=d("I64"))).of_int32(-1),l=3e3,m="PAKE_INITIATOR_FAILURE";async function a(a){var b=a.clientType,e=a.onGeneralFailure,f=a.onMaxAttemptsReached,g=a.onNoSessionExists,n=a.onSessionExpired,o=a.onSuccessfulSecretDecryption,p=a.onWrongOtc,q=a.otc,r=a.pakeCpaceModule,s=a.storage,t=a.timeout,u=function(){},v=function(){z&&c("clearTimeout")(z)},w=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(w===""){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});return{pakeClient:null,stopTimeout:v,unsubFromMessagesTable:u}}var x=r!=null?r:await d("PakeCpaceWasm").PakeCPaceWasm(),y=x.createCPaceClient(w),z=null,A=null,B=!1,C=d("ReQL").fromTableAscending(s.tables.pake_messages),D=function(){z&&c("clearTimeout")(z),z=c("setTimeout")(function(){e(),u(),i.onReady(function(a){c("promiseDone")(a({cleanupReason:c("PAKECleanupSessionReasonEnum").TIMEOUT,clientType:b,deviceId:w,storage:s}))}),c("FBLogger")("wmi_eb").mustfix("PAKE handshake failed by timeout")},t)},E=function(){A&&c("clearTimeout")(A),A=c("setTimeout")(function(){c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_CPACE_RETRY_JOIN_SESSION"),B=!0,M()},l)},F=function(a){var d=a.messageType,f=a.sessionId;e();j.onReady(function(a){c("promiseDone")(a.sendPakeMessage({clientType:b,messageType:d,senderId:w,sessionId:f,storage:s}))})},G=function(a){var e=a.messagePayload,f=a.responderId,g=a.sessionId;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_CPACE_STEP_THREE_START");if(e==null){c("FBLogger")("wmi_eb").mustfix("PAKE: When executing step 3 of CPace Handshake messagePayload was null");d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").INVALID_PREVIOUS_MESSAGE_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});return}if(f==null){c("FBLogger")("wmi_eb").mustfix("PAKE: When executing step 3 of CPace Handshake responderId was null");d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").INVALID_PREVIOUS_MESSAGE_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});return}a=d("Base64Utils").toArrayBuffer(e);var i;try{f=x.clientFinalize(y,new Uint8Array(a));i=f.clientKey1}catch(a){F({messageType:c("PAKEMessageTypeEnum").CPACE_STEP_3_ERROR,sessionId:g});d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").CPACE_STEP_3_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});throw c("FBLogger")("wmi_eb").mustfixThrow("PAKE: Error executing CPace step 3")}c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_DECRYPT_SECRET_START");j.onReady(function(a){c("promiseDone")(a.decryptPakeSecret({clientType:b,encryptionKey:d("PakeCpaceUtils").typedArrayToBuffer(i),sessionId:g,storage:s}),function(e){var f=e[0];e=e[1];v();switch((h||(h=d("I64"))).to_int32(e)){case c("PAKEDecryptSecretSprocStatusEnum").SUCCESS:if(f==null){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});throw c("FBLogger")("wmi_eb").mustfixThrow("PAKE: decryptedSecret is null despite SPROC success")}c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_DECRYPT_SECRET_END");c("promiseDone")(a.sendPakeMessage({clientType:b,messageType:c("PAKEMessageTypeEnum").PAKE_HANDSHAKE_SUCCESS,senderId:w,sessionId:g,storage:s}));o({decryptedSecret:f,initiatorId:w});break;case c("PAKEDecryptSecretSprocStatusEnum").WRONG_KEYS:d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!0}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!0});p();break;case c("PAKEDecryptSecretSprocStatusEnum").FAILURE:d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});F({messageType:c("PAKEMessageTypeEnum").DECRYPTION_ERROR,sessionId:g});break}},function(a){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},string:{exceptionMessage:a}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),F({messageType:c("PAKEMessageTypeEnum").DECRYPTION_ERROR,sessionId:g})})})},H=function(a){var b=a.annotations,e=a.fbLoggerMessage,f=a.isUserError,g=a.messageType,h=a.onFinish;a=a.unsubFromTable;v();a();h();e!=null&&c("FBLogger")("wmi_eb").mustfix(e,g);d("PakeQplLogging").endPakeQPLFlowFailure({annotations:b,errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:f})},I=function(a){var b=a.onPakeStepOneSuccess;u=C.subscribe(function(a,f){if(f.operation!=="put"&&f.operation!=="add")return;a=f.value;f=(h||(h=d("I64"))).to_int32(a.messageType);switch(f){case c("PAKEMessageTypeEnum").PAKE_MESSAGE_1:c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_SEND_PAKE_MESSAGE_ONE_END");u();b();break;case c("PAKEMessageTypeEnum").INVALID_PREVIOUS_MESSAGE_ERROR:case c("PAKEMessageTypeEnum").PREVIOUS_MESSAGE_MISSING_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:f}},fbLoggerMessage:"PAKE: Failed to send PAKE message one due to invalid state",isUserError:!1,messageType:f,onFinish:function(){return e()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").MESSAGE_SENT_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:f}},fbLoggerMessage:"PAKE: Failed to send PAKE message one",isUserError:!1,messageType:f,onFinish:function(){return e()},unsubFromTable:function(){u()}});default:break}})},J=function(a){var b=a.sessionId;u=C.subscribe(function(a,g){if(g.operation!=="put"&&g.operation!=="add")return;a=g.value;g=(h||(h=d("I64"))).to_int32(a.messageType);switch(g){case c("PAKEMessageTypeEnum").PAKE_MESSAGE_2_AND_SECRET:u();G({messagePayload:a.messagePayload,responderId:a.responderId,sessionId:b});break;case c("PAKEMessageTypeEnum").MAX_ATTEMPTS_ERROR:return H({annotations:{bool:{isUserError:!0},int:{errorCode:g}},isUserError:!0,messageType:g,onFinish:function(){return f()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").SESSION_EXPIRED_ERROR:return H({annotations:{bool:{isUserError:!0},int:{errorCode:g}},isUserError:!0,messageType:g,onFinish:function(){return n()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").GENERIC_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:g}},fbLoggerMessage:"PAKE: Something went wrong in the responder device",isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").FETCH_SECRETS_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:g}},fbLoggerMessage:"PAKE: Responder device failed to fetch secrets.",isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}});case c("PAKEMessageTypeEnum").FLOW_ABANDONED_ERROR:return H({annotations:{bool:{isUserError:!1},int:{errorCode:g}},fbLoggerMessage:"PAKE: Responder device flow was abandoned.",isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}});default:return H({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},fbLoggerMessage:"PAKE: Unexpected Message Type when listening for pake step two success "+g,isUserError:!1,messageType:g,onFinish:function(){return e()},unsubFromTable:function(){u()}})}})},K=function(a){var f=a.onJoinSessionSuccess;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_GET_ACTIVE_SESSION_START");j.onReady(function(a){c("promiseDone")(a.joinPakeSession({clientType:b,initiatorId:w,storage:s}),function(a){var b=a[0],i=a[1];a=a[2];i=i!=null?i:k;switch((h||(h=d("I64"))).to_int32(b)){case c("PAKEGetActiveSessionSprocStatusEnum").SUCCESS:if(a==null||i===k){c("FBLogger")("wmi_eb").mustfix("PAKE: When joining session, responderId or joinedSessionId were unexpectedly null");d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});e();return}f(a,i);c("QPLUserFlow").addAnnotations(d("MWPakeQPLEvents").pakeInitiatorQplEvent,{string:{session_id:(h||(h=d("I64"))).to_string(i)}});break;case c("PAKEGetActiveSessionSprocStatusEnum").NO_SESSION:if(B===!1){E();return}d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!0},int:{errorCode:c("PAKEMessageTypeEnum").NO_ACTIVE_SESSION}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!0});g();v();break;case c("PAKEGetActiveSessionSprocStatusEnum").FAILURE:d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});c("FBLogger")("wmi_eb").mustfix("PAKE: When joining session, sproc failed");e();v();break}},function(){d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").GENERIC_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1}),c("FBLogger")("wmi_eb").mustfix("PAKE: When joining session, sproc failed"),e(),v()})})},L=function(a){var e=a.responderId,f=a.sessionId,g;c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_CPACE_STEP_ONE_START");try{g=x.clientBegin(y,q,e)}catch(a){F({messageType:c("PAKEMessageTypeEnum").CPACE_STEP_1_ERROR,sessionId:f});d("PakeQplLogging").endPakeQPLFlowFailure({annotations:{bool:{isUserError:!1},int:{errorCode:c("PAKEMessageTypeEnum").CPACE_STEP_1_ERROR}},errorName:m,event:d("MWPakeQPLEvents").pakeInitiatorQplEvent,isUserError:!1});throw c("FBLogger")("wmi_eb").mustfixThrow("PAKE: Error executing CPace step 1")}c("QPLUserFlow").addPoint(d("MWPakeQPLEvents").pakeInitiatorQplEvent,"PAKE_SEND_MESSAGE_ONE_START");j.onReady(function(a){a.sendPakeMessageOne({clientType:b,initiatorId:w,messagePayload:d("PakeCpaceUtils").typedArrayToBuffer(g),sessionId:f,storage:s})});I({onPakeStepOneSuccess:function(){J({sessionId:f})}})},M=function(){D();d("PakeQplLogging").startPakeQPLFlow(d("MWPakeQPLEvents").pakeInitiatorQplEvent);K({onJoinSessionSuccess:function(a,b){L({responderId:a,sessionId:b})}});return{pakeClient:y,stopTimeout:v,unsubFromMessagesTable:u}};return M()}g.default=a}),98);/*FB_PKG_DELIM*/
__d("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24784488421147370"}),null);
__d("EBBatchRequestResignCdnUrlQuery.graphql",["EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"payloads",variableName:"request"}],concreteType:"XFBResignCdnUrlResponse",kind:"LinkedField",name:"batch_resigned_attachment_cdn_url",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"instance_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_enum",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBBatchRequestResignCdnUrlQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBBatchRequestResignCdnUrlQuery",selections:c},params:{id:b("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"),metadata:{},name:"EBBatchRequestResignCdnUrlQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBBatchRequestResignCdnUrl",["EBBatchRequestResignCdnUrlQuery.graphql","EBEnqueueResignCdnUrlRequests","FBLogger","WADirectPath","WAErrorMessage","WAMediaUtils","WAResultOrError","createWorkerQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r=function(){return c("FBLogger")("wmi").tags(["labyrinth_web","resign_cdn_url"])};async function a(a){var b=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap(),c=[];for(b of b.entries()){var e=b[0],f=b[1];f.pending||c.push([e,f])}if(c.length<1)return;e=c.map(function(a){return{instance_key:a[0],payload:a[1].payload}});c.forEach(function(b){var a=b[0];b=b[1];d("EBEnqueueResignCdnUrlRequests").setGqlRestoredCdnUrlMap(a,{payload:b.payload,pending:!0,resolvable:b.resolvable})});await s(a,e)}async function s(a,b){if(b.length<1)return;var e=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();a==null||a.addPoint("resign_cdn_url_query_start");try{var f,g,h=await c("createWorkerQuery")(t,{request:b.map(function(a){return{instance_key:a.instance_key,payload:a.payload.payload}})});a==null||a.addPoint("resign_cdn_url_query_end");h=h==null||(f=h.viewer)==null||(f=f.messenger_default_encrypted_backup)==null||(f=f.mailbox)==null?void 0:f.batch_resigned_attachment_cdn_url;r().DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Received "," requests"])),h==null?void 0:h.length);a==null||a.addAnnotations({int:{resign_cdn_url_gql_batch_size:(g=h==null?void 0:h.length)!=null?g:0}});h==null||h.forEach(function(b){var c=b.instance_key!=null?d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key):null,f=b.path;if(c!=null){var g=d("WADirectPath").validateDirectPath(f);if(!g.success){r().WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),g.error,b.exception_message);a==null||a.addAnnotations({string:{resign_cdn_url_exception_enum:(b=b.exception_enum)!=null?b:"unknown"}})}b=(b=e.get(c))==null?void 0:b.resolvable;b!=null?b.resolve(g):r().MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found for instance key: ",""])),c);e.delete(c)}else r().MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url came back with no instance key, ",""])),f)})}catch(c){g=d("WAErrorMessage").maybeGetMessageFromError(c);a==null||a.addPoint("resign_cdn_url_query_fail");a==null||a.addAnnotations({string:{resign_cdn_url_gql_error:g}});r().WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),g);b.forEach(function(a){var b;b=(b=e.get(d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key)))==null?void 0:b.resolvable;b!=null?b.resolve(d("WAResultOrError").makeError("resign-cdn-url-gql-error")):r().MUSTFIX(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found during error for instance key: ",""])),a.instance_key)})}finally{b.forEach(function(a){var b=d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key);b=(b=e.get(b))==null?void 0:b.resolvable;(b==null?void 0:b.isSettled)===!1&&r().MUSTFIX(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Resolvable was not properly settled"])));e.delete(d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key))})}}async function e(a,b,e){a==null||a.addPoint("resign_cdn_url_query_start");try{var f;b=await c("createWorkerQuery")(t,{request:[{instance_key:b,payload:e.payload}]});a==null||a.addPoint("resign_cdn_url_query_end");e=b==null||(f=b.viewer)==null||(f=f.messenger_default_encrypted_backup)==null||(f=f.mailbox)==null?void 0:f.batch_resigned_attachment_cdn_url;(e==null?void 0:e.length)!==1&&(a==null||a.addPoint("resign_cdn_url_should_have_one_response"));b=e==null?void 0:e[0];e=b==null?void 0:b.path;e=d("WADirectPath").validateDirectPath(e);if(!e.success){r().WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),e.error,b==null?void 0:b.exception_message);a==null||a.addAnnotations({string:{resign_cdn_url_exception_enum:(b=b==null?void 0:b.exception_enum)!=null?b:"unknown"}})}return e}catch(c){b=d("WAErrorMessage").maybeGetMessageFromError(c);a==null||a.addPoint("resign_cdn_url_query_fail");a==null||a.addAnnotations({string:{resign_cdn_url_gql_error:b}});r().WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),b);return d("WAResultOrError").makeError("resign-cdn-url-gql-error")}}var t=h!==void 0?h:h=b("EBBatchRequestResignCdnUrlQuery.graphql");g.batchedResignCdnUrlFromMap=a;g.batchedResignCdnUrlWithGraphQL=s;g.resignCdnUrlWithGraphQL=e}),98);
__d("EBEnqueueResignCdnUrlRequests",["EBBatchRequestResignCdnUrl","WACustomError","WAPromiseDelays","WAPromiseTimeout","WAResolvable","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=!0;return{get:function(){return a},set:function(b){a=b}}}(),i=function(){var a=window.performance.now();return{get:function(){return a},set:function(b){a=b}}}(),j=new Map(),k=c("justknobx")._("4662"),l=c("justknobx")._("3244");function a(a,b,c){var e;e=(e=j.get(a))==null?void 0:e.resolvable;if(e!=null){c==null||c.addPoint("resign_cdn_url_map_hit");return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise})}e=new(d("WAResolvable").Resolvable)();var f=j.size===0;j.set(a,{payload:b,pending:!1,resolvable:e});if(!h.get())return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise});void n(f);return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise})}function m(a){var b=a.mediaDownloadFlow,c=a.objectId,e=a.payload;a=a.promise;return d("WAPromiseTimeout").promiseTimeout(a,l).then(function(a){if(!a.success&&a.error==="direct-path-undefined"){j["delete"](c);return d("WAPromiseDelays").delayMs(l).then(function(){return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e)})}return a})["catch"](function(a){var f=a instanceof Error&&["NetworkTransportError","NetworkTimeoutError","NetworkRequestError"].includes(a.name);if(a instanceof d("WACustomError").TimeoutError||f){b==null||b.addPoint("resign-cdn-url-gql-timeout");j["delete"](c);return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e)}else{b==null||b.addPoint("resign-cdn-url-gql-unexpected-error");b==null||b.addAnnotations({string:{resign_cdn_url_payload_fail_reason:a.message}});throw a}})}function n(a,b){h.set(!1);if(a){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(b)}else{a=Math.max(k-(window.performance.now()-i.get()),0);return d("WAPromiseDelays").delayMs(a).then(function(){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(b)})}}function b(){return j}function e(a,b){j.set(a,b)}g.enqueueResignCdnUrl=a;g.getGqlRestoredCdnUrlMap=b;g.setGqlRestoredCdnUrlMap=e}),98);
__d("EBCreateResignCDNUrlPayload",["CreateDerivedKeys","EBBase64Encode","EBWorkerEBDBApi","GetBlobFromInt64BE","Hmac_v2","I64","LSVec","OcmfClientMap","OpeEncrypt","TruncateSortKey","WAArrayBufferUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i="thread_ope_key",j="__DEVICE_ID_PLACEHOLDER__";async function a(a){var b=a.accessTokenSecret,c=a.deliveryObjectId,e=a.mediaType,f=a.messageId,g=a.primaryKeySecret,h=a.productType,i=a.sort;i=i===void 0?!1:i;var l=a.sortOrderMs;a=a.threadId;b=await k({accessTokenSecret:b,deliveryObjectId:c,mediaType:e,messageId:f,primaryKeySecret:g,productType:h,sortOrderMs:l,threadId:a});if(!b.success)return b;c=b.value;e=c.device_id;f=babelHelpers.extends({},c,{device_id:j});g=i?JSON.stringify(f,Object.keys(f).sort()):JSON.stringify(f);return d("WAResultOrError").makeResult(g.replace('"'+j+'"',String(e)))}async function k(a){var b=a.accessTokenSecret,e=a.deliveryObjectId,f=a.mediaType,g=a.messageId,h=a.primaryKeySecret,i=a.productType,j=a.sortOrderMs;a=a.threadId;var k=await d("EBWorkerEBDBApi").getSecureEBClientState();if(k==null)return d("WAResultOrError").makeError("no-eb-client-state");var n=String(k.backupId),o=k.deviceId;if(o==null)return d("WAResultOrError").makeError("no-device-id");var p=c("EBBase64Encode")(k.mailboxRootKeyBlob),q=c("EBBase64Encode")(k.ocmfClientStateBlob);k=await Promise.all([l("attachment_key_scope",JSON.stringify([n,e]),k.ocmfClientStateBlob),l("mailbox_id_scope",n,k.ocmfClientStateBlob),l("message_id_scope",g,k.ocmfClientStateBlob),l("attachment_token_salt_scope",g,k.ocmfClientStateBlob),l("attachment_key_salt_scope",JSON.stringify([n,e]),k.ocmfClientStateBlob),l("attachment_token_salt_scope",JSON.stringify([g,e]),k.ocmfClientStateBlob),l("thread_id_scope",a,k.ocmfClientStateBlob),m(k.mailboxRootKeyBlob,j,a)]);var r=k[0],s=k[1],t=k[2],u=k[3],v=k[4],w=k[5],x=k[6];k=k[7];return k==null?d("WAResultOrError").makeError("no-encrypted-sort-key"):d("WAResultOrError").makeResult({access_token_secret:b,attachment_index_key:c("EBBase64Encode")(r),backup_ent_fbid:-8,backup_id:n,delivery_object_id:e,device_id:o,isOpenEB:0,mailbox_partial_id:c("EBBase64Encode")(s),media_type:f,message_partial_id:c("EBBase64Encode")(t),primary_key_secret:h,product_type:i,raw_identifiers:{otid:g,server_thread_key:null,timestamp:j.toString()},raw_tokens:{mailbox_root_key:p,ocmf_client_state_blob:q},salt_partial_access_token:c("EBBase64Encode")(w),salt_partial_attachment_index_key:c("EBBase64Encode")(v),salt_partial_id:c("EBBase64Encode")(u),sort_key:k,thread_id:a,thread_partial_id:c("EBBase64Encode")(x)})}function l(a,b,e){return c("Hmac_v2")(d("WAArrayBufferUtils").stringToArrayBuffer(a),d("WAArrayBufferUtils").stringToArrayBuffer(b)).then(function(a){return c("OcmfClientMap")(e,a[0])})}async function m(a,b,e){e=new TextEncoder().encode(i+"_"+e).buffer;e=(await d("CreateDerivedKeys").CreateDerivedKeys(e,void 0,a,[(h||(h=d("I64"))).of_int32(32)]))[0];if(e==null)return null;a=await d("GetBlobFromInt64BE").GetBlobFromInt64BE(h.of_float(b));b=await d("TruncateSortKey").TruncateSortKey(a[0]);a=await d("OpeEncrypt").OpeEncrypt(c("LSVec").toArray(e)[0],b[0],h.of_int32(16));e=Array.from(new Uint8Array(a[0]));b=e.map(function(a){return a.toString(16).padStart(2,"0")});return b.join("").toUpperCase()}g.createStringifiedMediaRestorePayloadFromEBDB=a}),98);
__d("EBMinosWasmDeriveAttachmentTokenPrimaryKey",["EBMinosWasmDeriveAttachmentAccessTokenSecret","EBMinosWasmDeriveAttachmentPrimaryKeySecret","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=await d("EBMinosWasmDeriveAttachmentPrimaryKeySecret").deriveAttachmentPrimaryKeySecret({mediaKey:a});if(!b.success)return d("WAResultOrError").makeError("derive-primary-key-secret-error");a=await d("EBMinosWasmDeriveAttachmentAccessTokenSecret").deriveAttachmentAccessTokenSecret({mediaKey:a});return!a.success?d("WAResultOrError").makeError("derive-access-token-secret-error"):d("WAResultOrError").makeResult({accessToken:a.value,primaryKey:b.value})}g.deriveAttachmentTokenPrimaryKeySecret=a}),98);
__d("LSCreateResignCDNUrlPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[10]?c.sequence([function(e){return c.blobs.neq(a[11],void 0)?c.sequence([function(e){return c.i64.neq(a[8],void 0)?c.sequence([function(e){return a[9]!==void 0?c.sequence([function(e){return c.blobs.neq(a[12],void 0)?c.sequence([function(e){return d[10]=c.createArray(),d[19]=(d[10].push(a[9]),d[10]),d[19]=(d[10].push(a[1]),d[10]),d[11]=c.toJSON(d[10]),d[12]=c.createArray(),d[19]=(d[12].push(c.i64.cast([0,32])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,a[12],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[20]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[20]].join("")),d[19]=c.createArray(),void 0!==void 0?d[21]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[20],d[19],c.i64.cast([0,3]))},function(a){return d[16]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[16]=d[19]}])},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[16],d[20],c.i64.cast([0,16])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[9]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(e){return d[43]=new c.Map(),d[43].set("attachment_index_key",d[26]==null?"":d[26]),d[43].set("backup_ent_fbid",a[0]),d[43].set("delivery_object_id",a[1]),d[43].set("device_id",a[8]),d[43].set("mailbox_partial_id",d[30]==null?"":d[30]),d[43].set("media_type",a[3]),d[43].set("message_partial_id",d[34]==null?"":d[34]),d[43].set("product_type",a[2]),d[43].set("salt_partial_id",d[38]==null?"":d[38]),d[43].set("sort_key",d[22]==null?"":d[22]),d[43].set("thread_partial_id",d[42]==null?"":d[42]),d[43].set("isOpenEB",a[10]===!0),d[44]=new c.Map(),d[44].set("otid",a[4]),d[44].set("server_thread_key",a[7]),d[44].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),a[11]).then(function(a){return a=a,d[45]=a[0],a})},function(e){return c.nativeOperation(b("LSBase64Encode.nop"),a[12]).then(function(a){return a=a,d[46]=a[0],a})},function(e){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),d[60]=(d[48].push(a[4]),d[48]),d[60]=(d[48].push(a[1]),d[48]),d[49]=c.toJSON(d[48]),d[43].set("raw_identifiers",d[44]),d[43].set("backup_id",a[9]),d[43].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[43].set("salt_partial_access_token",d[53]==null?"":d[53]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(b){return d[43].set("salt_partial_attachment_index_key",d[57]==null?"":d[57]),d[43].set("raw_tokens",d[47]),a[13]!==void 0?d[43].set("access_token_secret",a[13]):0,a[14]!==void 0?d[43].set("primary_key_secret",a[14]):0,d[58]=c.toJSON(d[43]),d[59]=new c.Map(),d[59].set("payload",d[58]),b=[d[59],void 0],d[17]=b[0],d[18]=b[1]}]):c.resolve((d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,25])),d[19].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[19].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1]))},function(a){return a=[d[17],d[18]],d[8]=a[0],d[9]=a[1],a}]):c.resolve((d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,20])),d[10].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[10].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[10]],d[8]=e[0],d[9]=e[1]))},function(a){return a=[d[8],d[9]],d[6]=a[0],d[7]=a[1],a}]):c.resolve((d[8]=new c.Map(),d[8].set("error_code",c.i64.cast([0,1])),d[8].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[8].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[8]],d[6]=e[0],d[7]=e[1]))},function(a){return a=[d[6],d[7]],d[4]=a[0],d[5]=a[1],a}]):c.resolve((d[6]=new c.Map(),d[6].set("error_code",c.i64.cast([0,24])),d[6].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[6].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[6]],d[4]=e[0],d[5]=e[1]))},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):c.resolve((d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,22])),d[4].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[4].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[4]],d[2]=e[0],d[3]=e[1]))},function(a){return a=[d[2],d[3]],d[0]=a[0],d[1]=a[1],a}]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[29]=e.backupTenancy,d[28]=e.encryptionVersion,d[24]=void 0,c.i64.neq(d[24],void 0)?c.resolve(d[25]=d[24]):c.sequence([function(a){return d[30]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[40]=(d[30].push(c.i64.cast([0,0])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[40]=(d[30].push(c.i64.cast([0,2])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[40]=(d[30].push(c.i64.cast([0,3])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[40]=(d[30].push(c.i64.cast([0,4])),d[30]):0,d[35]=c.createArray(),d[36]=c.i64.of_int32(d[30].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(a){return d[40]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[30],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return d[43]=(d[35].push(d[41]),d[35])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[40].push(c.i64.to_string(d[44])),d[40])}])}):c.resolve()},function(a){return d[42]=d[40].join(","),d[37]=d[42]}])},function(a){return d[35].some(function(a){return c.i64.eq(d[28],a)})?d[38]=d[28]:d[38]=void 0,c.i64.neq(d[38],void 0)?d[39]=d[38]:d[39]=void 0,d[25]=d[39]}])},function(a){return c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=c.i64.cast([0,0]),c.i64.neq(d[29],void 0)?d[27]=d[29]:d[27]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[26],d[27],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.sequence([function(e){return c.i64.neq(d[3],void 0)?c.sequence([function(e){return d[21]!==void 0?c.sequence([function(e){return c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[30]=c.createArray(),d[39]=(d[30].push(d[21]),d[30]),d[39]=(d[30].push(a[1]),d[30]),d[31]=c.toJSON(d[30]),d[32]=c.createArray(),d[39]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[33],void 0,d[4],d[32]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!1:d[35]=!0,d[35]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[40]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[40]].join("")),d[39]=c.createArray(),void 0!==void 0?d[41]=(d[39].push(void 0),d[39]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[40],d[39],c.i64.cast([0,3]))},function(a){return d[36]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[36]=d[39]}])},function(e){return c.blobs.neq(d[36],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[36],d[40],c.i64.cast([0,16])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[43]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[61]).then(function(a){return a=a,d[62]=a[0],a})},function(e){return d[63]=new c.Map(),d[63].set("attachment_index_key",d[46]==null?"":d[46]),d[63].set("backup_ent_fbid",a[0]),d[63].set("delivery_object_id",a[1]),d[63].set("device_id",d[3]),d[63].set("mailbox_partial_id",d[50]==null?"":d[50]),d[63].set("media_type",a[3]),d[63].set("message_partial_id",d[54]==null?"":d[54]),d[63].set("product_type",a[2]),d[63].set("salt_partial_id",d[58]==null?"":d[58]),d[63].set("sort_key",d[42]==null?"":d[42]),d[63].set("thread_partial_id",d[62]==null?"":d[62]),d[63].set("isOpenEB",a[10]===!0),d[64]=new c.Map(),d[64].set("otid",a[4]),d[64].set("server_thread_key",a[7]),d[64].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(e){return d[67]=new c.Map(),d[67].set("ocmf_client_state_blob",d[65]==null?"":d[65]),d[67].set("mailbox_root_key",d[66]==null?"":d[66]),d[68]=c.createArray(),d[80]=(d[68].push(a[4]),d[68]),d[80]=(d[68].push(a[1]),d[68]),d[69]=c.toJSON(d[68]),d[63].set("raw_identifiers",d[64]),d[63].set("backup_id",d[21]),d[63].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[70]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[63].set("salt_partial_access_token",d[73]==null?"":d[73]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(b){return d[63].set("salt_partial_attachment_index_key",d[77]==null?"":d[77]),d[63].set("raw_tokens",d[67]),a[13]!==void 0?d[63].set("access_token_secret",a[13]):0,a[14]!==void 0?d[63].set("primary_key_secret",a[14]):0,d[78]=c.toJSON(d[63]),d[79]=new c.Map(),d[79].set("payload",d[78]),b=[d[79],void 0],d[37]=b[0],d[38]=b[1]}]):c.resolve((d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,25])),d[39].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[39].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[39]],d[37]=e[0],d[38]=e[1]))},function(a){return a=[d[37],d[38]],d[28]=a[0],d[29]=a[1],a}]):c.resolve((d[30]=new c.Map(),d[30].set("error_code",c.i64.cast([0,20])),d[30].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[30].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[30]],d[28]=e[0],d[29]=e[1]))},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.resolve((d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,1])),d[28].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[28].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[28]],d[26]=e[0],d[27]=e[1]))},function(a){return a=[d[26],d[27]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,24])),d[26].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[26].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1]))},function(a){return a=[d[24],d[25]],d[22]=a[0],d[23]=a[1],a}]):c.resolve((d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,22])),d[24].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[24].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]))},function(a){return a=[d[22],d[23]],d[0]=a[0],d[1]=a[1],a}])},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayloadStoredProcedure",["LSCreateResignCDNUrlPayload","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateResignCDNUrlPayload"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.serverThreadKey,e.deviceId,e.backupId,e.isOpenEb,e.ocmfClientState,e.mailboxRootKey,e.accessTokenSecret,e.primaryKeySecret);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("EBLSResignCdnUrl",["Base64Utils","EBCreateResignCDNUrlPayload","EBEnqueueResignCdnUrlRequests","EBLS","EBMinosCheckWasmFeatureSupport","EBMinosWasmDeriveAttachmentTokenPrimaryKey","FBLogger","I64","LSCreateResignCDNUrlPayloadStoredProcedure","LSFactory","LSShape","MAWConfig","WAJids","WAResultOrError","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=function(){return c("FBLogger")("wmi").tags(["labyrinth_web","resign_cdn_url"])};e="-8";var x=(v||(v=d("I64"))).of_string(e);async function a(a){var b=a.chatJid,e=a.deliveryObjectId,g=a.externalId,o=a.mediaDownloadFlow,p=a.mediaKey,q=a.mediaType;a=a.sortOrderMs;w().INFO(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL"])));var r=await d("EBMinosCheckWasmFeatureSupport").checkWasFeatureSupportAndGK();o==null||o.addPoint("resign_cdn_url_gql_ebls_start");var s=(await d("EBLS").init()).db;o==null||o.addPoint("resign_cdn_url_gql_ebls_end");var t=null,u=null;if(r){r=await d("EBMinosWasmDeriveAttachmentTokenPrimaryKey").deriveAttachmentTokenPrimaryKeySecret(p);!r.success?w().WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),r.error):(t=d("Base64Utils").fromArrayBuffer(r.value.accessToken),u=d("Base64Utils").fromArrayBuffer(r.value.primaryKey))}var y={accessTokenSecret:t,backupEntFbid:x,deliveryObjectId:e,mediaType:q,messageId:g,primaryKeySecret:u,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(v||(v=d("I64"))).of_float(a),threadId:d("WAJids").threadIdForChatJid(b)};o==null||o.addPoint("resign_cdn_url_gql_payload_start");p=[s.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),y)},"readwrite",void 0,void 0,f.id+":108").then(function(a){var b=a[0];a=a[1];if(b!=null)return d("LSShape").toRecord(b);b=a==null?{}:d("LSShape").toRecord(a);w().MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),b.stored_procedure,b.error_code,b.error_message);return null}).catch(function(a){a=c("getErrorSafe")(a);o==null||o.addPoint("resign_cdn_url_gql_lsdb_payload_fail");w().catching(a).MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to create lsdb payload"])));return null}),d("EBCreateResignCDNUrlPayload").createStringifiedMediaRestorePayloadFromEBDB({accessTokenSecret:t,deliveryObjectId:e,mediaType:q,messageId:g,primaryKeySecret:u,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(b)}).then(function(a){if(a.success)return{payload:a.value};o==null||o.addPoint("resign_cdn_url_gql_ebdb_payload_fail");o==null||o.addAnnotations({string:{payload_fail_error:a.error}});return null}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to create ebdb payload"])));o==null||o.addAnnotations({string:{payload_fail_error:a.message}});return null})];r=await Promise.all(p);s=r[0];t=r[1];q=s!=null?s:t;s==null&&t!=null&&(o==null||o.addPoint("resign_cdn_url_fallback_to_ebdb"));if(q==null){o==null||o.addPoint("resign_cdn_url_gql_payload_fail");return d("WAResultOrError").makeError("create-payload-failed")}o==null||o.addPoint("resign_cdn_url_gql_payload_end");o==null||o.addPoint("resign_cdn_url_gql_restore_start");g=await d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(e,q,o);if(!g.success){w().MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),g.error);o==null||o.addPoint("resign_cdn_url_gql_restore_fail");return g}o==null||o.addPoint("resign_cdn_url_gql_restore_end");w().INFO(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL succeeded"])));return d("WAResultOrError").makeResult(g.value)}function y(a,b){var c=[];for(var d in a)a[d]instanceof Object?!(b[d]instanceof Object)?c.push(d):c.push.apply(c,y(a[d],b[d])):a[d]!==b[d]&&c.push(d);return c}async function b(a){var b=a.chatJid,c=a.deliveryObjectId,e=a.externalId,f=a.mediaDownloadFlow,g=a.mediaKey,h=a.mediaType;a=a.sortOrderMs;var i=await d("EBMinosCheckWasmFeatureSupport").checkWasFeatureSupportAndGK(),j=null,k=null;if(i){i=await d("EBMinosWasmDeriveAttachmentTokenPrimaryKey").deriveAttachmentTokenPrimaryKeySecret(g);!i.success?w().WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["",""])),i.error):(j=d("Base64Utils").fromArrayBuffer(i.value.accessToken),k=d("Base64Utils").fromArrayBuffer(i.value.primaryKey))}g={accessTokenSecret:j,chatJid:b,deliveryObjectId:c,externalId:e,mediaDownloadFlow:f,mediaType:h,primaryKeySecret:k,sortOrderMs:a};i=await A(g);if(i==null)return z(g);j=await C({deliveryObjectId:c,mediaDownloadFlow:f,payload:i});return!j.success?z(g):j}async function z(a){var b;(b=a.mediaDownloadFlow)==null||b.addPoint("resign_cdn_url_fallback_to_ls");b=await B(a);return b==null?d("WAResultOrError").makeError("create-payload-failed"):C({deliveryObjectId:a.deliveryObjectId,mediaDownloadFlow:a.mediaDownloadFlow,payload:b})}function A(a){var b=a.accessTokenSecret,e=a.chatJid,f=a.deliveryObjectId,g=a.externalId,h=a.mediaDownloadFlow,i=a.mediaType,j=a.primaryKeySecret;a=a.sortOrderMs;h==null||h.addPoint("resign_cdn_url_gql_payload_start");return d("EBCreateResignCDNUrlPayload").createStringifiedMediaRestorePayloadFromEBDB({accessTokenSecret:b,deliveryObjectId:f,mediaType:i,messageId:g,primaryKeySecret:j,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(e)}).then(function(a){if(a.success){h==null||h.addPoint("resign_cdn_url_gql_payload_end");return{payload:a.value}}h==null||h.addAnnotations({string:{payload_fail_error:a.error}});h==null||h.addPoint("resign_cdn_url_gql_payload_fail");return null}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload"])));h==null||h.addAnnotations({string:{payload_fail_error:a.message}});h==null||h.addPoint("resign_cdn_url_gql_payload_fail");return null})}function B(a){var b=a.accessTokenSecret,e=a.chatJid,g=a.deliveryObjectId,h=a.externalId,i=a.mediaDownloadFlow,j=a.mediaType,k=a.primaryKeySecret,l=a.sortOrderMs;i==null||i.addPoint("resign_cdn_url_gql_payload_start");return d("EBLS").init().then(function(a){return a.db.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),{accessTokenSecret:b,backupEntFbid:x,deliveryObjectId:g,mediaType:j,messageId:h,primaryKeySecret:k,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(v||(v=d("I64"))).of_float(l),threadId:d("WAJids").threadIdForChatJid(e)})},"readwrite",void 0,void 0,f.id+":362").then(function(a){var b=a[0];a=a[1];if(b!=null){i==null||i.addPoint("resign_cdn_url_gql_payload_end");return d("LSShape").toRecord(b)}b=a==null?{}:d("LSShape").toRecord(a);w().MUSTFIX(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),b.stored_procedure,b.error_code,b.error_message);i==null||i.addPoint("resign_cdn_url_gql_payload_fail");return null})}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload"])));i==null||i.addAnnotations({string:{payload_fail_error:a.message}});i==null||i.addPoint("resign_cdn_url_gql_payload_fail");return null})}function C(a){var b=a.deliveryObjectId,e=a.mediaDownloadFlow;a=a.payload;e==null||e.addPoint("resign_cdn_url_gql_restore_start");return d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(b,a,e).then(function(a){if(!a.success){w().MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with GraphQL failed: ",""])),a.error);e==null||e.addPoint("resign_cdn_url_gql_restore_fail");return a}e==null||e.addPoint("resign_cdn_url_gql_restore_end");w().INFO(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with GraphQL succeeded"])));return a}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign cdn url"])));e==null||e.addAnnotations({string:{resign_cdn_url_gql_restore_error:a.message}});e==null||e.addPoint("resign_cdn_url_gql_restore_fail");return d("WAResultOrError").makeError("resign-cdn-url-runtime-error")})}g.DEPRECATED_eblsResignCdnUrlWithGraphQL=a;g.getPayloadMismatches=y;g.resignCdnUrlUsingEbdb=b}),98);
__d("EBMinosWasmOpenEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosTypes","EBMinosWasm.pb","EBMinosWasmReactorSingleton","WACreateWasmFunction","WAResultOrError","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule,e=d("EBMinosLogger").minosLogger.TAGS(["open-epoch"]);function f(a){var b;a=a.minosSignedEpoch;var c=a.epochHead,e=a.epochPublicData;a=a.signatures;return d("WAResultOrError").makeResult({epochHead:(b=d("EBMinosTypes")).unsafeCastToEpochHead(c),epochPublicData:{epochNumber:b.unsafeCastToEpochNumber(e.epochNumber),mailboxAuthPk:b.unsafeCastToMailboxAuthPK(e.mailboxAuthPk),mailboxEncryptionPk:b.unsafeCastToMailboxEncryptionPK(e.mailboxEncryptionPk),mailboxSigningPk:b.unsafeCastToMailboxSigningPK(e.mailboxSigningPk),previousEpochHead:e.previousEpochHead==null?null:d("EBMinosTypes").unsafeCastToEpochHead(e.previousEpochHead),userFbid:d("EBMinosTypes").unsafeCastToUserFbId(e.userFbid)},signatures:{prevSignature:a.prevSignature==null?null:d("EBMinosTypes").unsafeCastToEpochPrevSig(a.prevSignature),selfSignature:d("EBMinosTypes").unsafeCastToEpochSelfSig(a.selfSignature)}})}return async function(a){var g=a.epochNumber,h=a.exportRootKey,i=a.previousEpochHead,j=a.previousEpochNumber,k=a.previousExportRootKey;a=a.userFbid;var l="EBMinosWasmOpenEpoch";if(c("gkx")("12911"))return await d("EBMinosWasmReactorSingleton").minosCommand({InputSpec:d("EBMinosWasm.pb").MinosCommandSpec,ResultSpec:d("EBMinosWasm.pb").MinosOpenEpochResultSpec,validateResult:f},{minosOpenEpoch:{epochNumber:g,exportRootKey:h,previousEpochHead:i,previousEpochNumber:j,previousExportRootKey:k,userFbid:a}});else{l=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosOpenEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosOpenEpochResultSpec,cli:"minos_cli",command:"minos-open-epoch",getWasmModule:b,logger:e,validateResult:f},l+"_CLI");l=await l({epochNumber:g,exportRootKey:h,previousEpochHead:i,previousEpochNumber:j,previousExportRootKey:k,userFbid:a});return l}}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm});g.openEpoch=b}),98);
__d("WASmaxInAbPropsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInAbPropsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInAbPropsNoRetryErrors",["WAResultOrError","WASmaxInAbPropsIQErrorBadRequestMixin","WASmaxInAbPropsIQErrorFeatureNotImplementedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorFeatureNotImplemented"],[b,c])}g.parseNoRetryErrors=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry",["WAResultOrError","WASmaxInAbPropsIQErrorResponseMixin","WASmaxInAbPropsNoRetryErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInAbPropsNoRetryErrors").parseNoRetryErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorNoRetryErrors:b.value}))}g.parseGetExperimentConfigResponseErrorNoRetry=a}),98);
__d("WASmaxInAbPropsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry",["WAResultOrError","WASmaxInAbPropsIQErrorInternalServerErrorMixin","WASmaxInAbPropsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInAbPropsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetExperimentConfigResponseErrorRetry=a}),98);
__d("WASmaxInAbPropsExperimentConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"config_code",1,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"config_value");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"config_expo_key",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({configCode:b.value,configValue:c.value,configExpoKey:a.value})}g.parseExperimentConfigMixin=a}),98);
__d("WASmaxInAbPropsSamplingConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"event_code",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"sampling_weight",-1e4,1e4);return!a.success?a:d("WAResultOrError").makeResult({eventCode:b.value,samplingWeight:a.value})}g.parseSamplingConfigMixin=a}),98);
__d("WASmaxInAbPropsConfigs",["WAResultOrError","WASmaxInAbPropsExperimentConfigMixin","WASmaxInAbPropsSamplingConfigMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsExperimentConfigMixin").parseExperimentConfigMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ExperimentConfig",value:b.value});var c=d("WASmaxInAbPropsSamplingConfigMixin").parseSamplingConfigMixin(a);return c.success?d("WAResultOrError").makeResult({name:"SamplingConfig",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ExperimentConfig","SamplingConfig"],[b,c])}g.parseConfigs=a}),98);
__d("WASmaxInAbPropsEnums",[],(function(a,b,c,d,e,f){a={"false":"false","true":"true"};f.ENUM_FALSE_TRUE=a}),66);
__d("WASmaxInAbPropsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseSuccess",["WAResultOrError","WASmaxInAbPropsConfigs","WASmaxInAbPropsEnums","WASmaxInAbPropsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxInAbPropsConfigs").parseConfigs(a);return!b.success?b:d("WAResultOrError").makeResult({configs:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"erid");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,1,100);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"props");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"erid",i);if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"protocol","1");if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"ab_key");if(!g.success)return g;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"hash");if(!j.success)return j;var k=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh",0,void 0);if(!k.success)return k;var l=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh_id",0,void 0);if(!l.success)return l;var m=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,c.value,"delta_update",d("WASmaxInAbPropsEnums").ENUM_FALSE_TRUE);if(!m.success)return m;a=d("WASmaxInAbPropsIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"prop",0,Infinity,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({propsProtocol:f.value,propsAbKey:g.value,propsHash:j.value,propsRefresh:k.value,propsRefreshId:l.value,propsDeltaUpdate:m.value},a.value,{erid:e.value,propsProp:b.value}))}g.parseGetExperimentConfigResponseSuccessPropsProp=h;g.parseGetExperimentConfigResponseSuccessErid=i;g.parseGetExperimentConfigResponseSuccess=a}),98);
__d("WASmaxOutAbPropsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutAbPropsGetExperimentConfigRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAbPropsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.propsHash;a=a.propsRefreshId;b=d("WASmaxOutAbPropsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"abt",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("props",{protocol:"1",hash:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b),refresh_id:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,a)})));return b}g.makeGetExperimentConfigRequest=a}),98);
__d("WASmaxAbPropsGetExperimentConfigRPC",["WAComms","WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry","WASmaxInAbPropsGetExperimentConfigResponseErrorRetry","WASmaxInAbPropsGetExperimentConfigResponseSuccess","WASmaxOutAbPropsGetExperimentConfigRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutAbPropsGetExperimentConfigRequest").makeGetExperimentConfigRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInAbPropsGetExperimentConfigResponseSuccess").parseGetExperimentConfigResponseSuccess(b,a);if(c.success)return{name:"GetExperimentConfigResponseSuccess",value:c.value};var e=d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry").parseGetExperimentConfigResponseErrorNoRetry(b,a);if(e.success)return{name:"GetExperimentConfigResponseErrorNoRetry",value:e.value};b=d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry").parseGetExperimentConfigResponseErrorRetry(b,a);if(b.success)return{name:"GetExperimentConfigResponseErrorRetry",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetExperimentConfig",{Success:c,ErrorNoRetry:e,ErrorRetry:b}))}g.sendGetExperimentConfigRPC=a}),98);
__d("WAGetAbPropsProtocol",["WALogger","WAResultOrError","WASmaxAbPropsGetExperimentConfigRPC"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){a=await d("WASmaxAbPropsGetExperimentConfigRPC").sendGetExperimentConfigRPC({propsHash:a});if(a.name==="GetExperimentConfigResponseSuccess"){var b=a.value,c=b.propsAbKey,e=b.propsHash,f=b.propsRefresh,g=b.propsRefreshId,j=b.propsProp;b=b.erid;j=i(j);var k=j.newProps;j=j.samplingConfigs;return d("WAResultOrError").makeResult({abKey:c,hash:e,refresh:f,refreshId:g,props:k,samplingConfigs:j,erid:b==null?void 0:b.elementValue})}d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getAbPropsProtocol failed ",""])),a.value);return d("WAResultOrError").makeError()}function i(a){var b=[],c=[];a.forEach(function(a){a=a.configs;if(a.name==="ExperimentConfig"){var d;b.push({configCode:a.value.configCode,configValue:a.value.configValue,configExpoKey:(d=a.value.configExpoKey)==null?void 0:d.toString()})}else a.name==="SamplingConfig"&&c.push({eventCode:a.value.eventCode,samplingWeight:a.value.samplingWeight})});return{newProps:b,samplingConfigs:c}}g.getAbPropsProtocol=a}),98);
__d("WAAbPropsSync",["WAAbProps","WAAbPropsHelpers","WAGetAbPropsProtocol","WALogger","WAPromiseManagement","WAResultOrError","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=d("WAPromiseManagement").cacheWhilePending(function(){return"abProps"},a);function a(a){var b=a.sendHash;b=b===void 0?!0:b;var c=a.eventFlow;c==null||c.addPoint("sync_ab_props",{bool:{sendHash:b}});return b==null||b===!1?l(null,c):d("WAAbProps").getHash().then(function(a){return l(a,c)})}c=a;async function l(a,b){b==null||b.addPoint("fetch_ab_props");a=await d("WAGetAbPropsProtocol").getAbPropsProtocol(a);if(!a.success)d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["fetchAbProps failed"])));else{a=a.value;var c=a.abKey,e=a.hash,f=a.refresh;a=a.props;a=d("WAAbPropsHelpers").parseAbProps(d("WAAbProps").getConfig(),a);b==null||b.addPoint("save_ab_props");b=await m(c,e,f,a);b.success===!1&&(b.error,d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncAbProps: detected no hash"]))))}c=await d("WAAbProps").getRefreshSecs();return{seconds:c}}async function m(a,b,c,e){var f=await d("WAAbProps").getAbProps();a={abKey:a!=null?a:f.abKey,hash:b!=null?b:f.hash,refresh:d("WAAbPropsHelpers").maybeUpdateRefresh(c),lastSyncTime:d("WATimeUtils").unixTime(),propValues:f.propValues,propExpoKeys:f.propExpoKeys,internalExpoKeys:f.internalExpoKeys,expoKeyStr:f.expoKeyStr};if(b==null){await d("WAAbProps").setAbProps(a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: detected no hash"])));return d("WAResultOrError").makeError("noHash")}d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: updating ab configs"])));c=e.values;b=e.expoKeys;e=d("WAAbPropsHelpers").maybeUpdatePropValues(c,f.propValues,d("WAAbProps").getConfig());c=d("WAAbPropsHelpers").maybeUpdateExpoKeys(b,f.propExpoKeys,d("WAAbProps").getConfig());b=c.propExpoKeys;c=c.expoKeysToDelete;var g,h;c=d("WAAbPropsHelpers").maybeUpdateInternalExpoKeys(c,f.internalExpoKeys);c!=null&&(g=c.internalExpoKeys,h=c.expoKeyStr);await d("WAAbProps").setAbProps(babelHelpers.extends({},a,{propValues:e,propExpoKeys:b,internalExpoKeys:g,expoKeyStr:h}));return d("WAResultOrError").makeResult()}g.syncAbProps=b;g.syncAbPropsDebug=c}),98);
__d("WASmaxInDevicesFetchSelfResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup").parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup:b.value}))}g.parseFetchSelfResponseError=a}),98);
__d("WASmaxInDevicesDeviceInfoMixin",["WAResultOrError","WASmaxInDevicesIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"platform");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"manufacturer");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"model");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"seen");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"creation");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function m(a){var b=d("WASmaxParseUtils").assertTag(a,"ip");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function n(a){var b=d("WASmaxParseUtils").assertTag(a,"location");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"latitude");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"longitude");if(!c.success)return c;a=d("WASmaxParseUtils").contentString(a);return!a.success?a:d("WAResultOrError").makeResult({latitude:b.value,longitude:c.value,elementValue:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"platform",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"manufacturer",i);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"model",j);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(a,"seen",k);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(a,"creation",l);if(!g.success)return g;var o=d("WASmaxParseUtils").optionalChildWithTag(a,"ip",m);if(!o.success)return o;var p=d("WASmaxParseUtils").optionalChildWithTag(a,"location",n);if(!p.success)return p;var q=d("WASmaxParseUtils").attrIntRange(a,"id",1,999);if(!q.success)return q;a=d("WASmaxInDevicesIdentityKeyMixin").parseIdentityKeyMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:q.value},a.value,{platform:b.value,manufacturer:c.value,model:e.value,seen:f.value,creation:g.value,ip:o.value,location:p.value}))}g.parseDeviceInfoPlatform=h;g.parseDeviceInfoManufacturer=i;g.parseDeviceInfoModel=j;g.parseDeviceInfoSeen=k;g.parseDeviceInfoCreation=l;g.parseDeviceInfoIp=m;g.parseDeviceInfoLocation=n;g.parseDeviceInfoMixin=a}),98);
__d("WASmaxInDevicesFetchSelfResponseSuccess",["WAResultOrError","WASmaxInDevicesDeviceInfoMixin","WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxInDevicesDeviceInfoMixin").parseDeviceInfoMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"self");if(!c.success)return c;a=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"device",1,25,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{selfDevice:b.value}))}g.parseFetchSelfResponseSuccessSelfDevice=h;g.parseFetchSelfResponseSuccess=a}),98);
__d("WASmaxOutDevicesFetchSelfRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutDevicesBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxJsx").smax("self",null)));return a}g.makeFetchSelfRequest=a}),98);
__d("WASmaxDevicesFetchSelfRPC",["WAComms","WASmaxInDevicesFetchSelfResponseError","WASmaxInDevicesFetchSelfResponseSuccess","WASmaxOutDevicesFetchSelfRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a){var b=d("WASmaxOutDevicesFetchSelfRequest").makeFetchSelfRequest();a=await d("WAComms").sendSmaxStanza(b,a);var c=d("WASmaxInDevicesFetchSelfResponseSuccess").parseFetchSelfResponseSuccess(a,b);if(c.success)return{name:"FetchSelfResponseSuccess",value:c.value};a=d("WASmaxInDevicesFetchSelfResponseError").parseFetchSelfResponseError(a,b);if(a.success)return{name:"FetchSelfResponseError",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("FetchSelf",{Success:c,Error:a}))}g.sendFetchSelfRPC=a}),98);
__d("WAGetCurrentUserDeviceList",["WAAssertUnreachable","WAGlobals","WAJids","WALogger","WAPersistedJobManager","WASignalKeys","WASmaxDevicesFetchSelfRPC","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){if(a.isCurrentDevice&&b.isCurrentDevice){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Two devices were detected as isCurrentDevice in getCurrentUserDeviceList"])));return 0}if(a.isCurrentDevice)return-1;if(b.isCurrentDevice)return 1;if(a.lastSeen!=null&&b.lastSeen==null)return-1;if(a.lastSeen==null&&b.lastSeen!=null)return 1;if(a.lastSeen!=null&&b.lastSeen!=null){a=a.lastSeen;b=b.lastSeen;return b.getTime()-a.getTime()}return 0}async function a(a){a=await d("WASmaxDevicesFetchSelfRPC").sendFetchSelfRPC();switch(a.name){case"FetchSelfResponseError":var b=a.value.errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup;switch(b.name){case"RetryableIQError":var e=b.value.backoff;if(e!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{delay:e,type:"constant"},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{first:d("WATimeUtils").HOUR_MILLISECONDS/60,type:"exponential"},jitter:.1});default:b.name;e=b.value.code;throw c("err")("Failed with an error code "+e)}case"FetchSelfResponseSuccess":var f=d("WAJids").extractDeviceId(d("WAGlobals").getMyDeviceJid());return a.value.selfDevice.map(function(a){var b=a.creation,c=a.elementValue,e=a.id,g=a.ip,h=a.location,i=a.manufacturer,j=a.model,k=a.platform;a=a.seen;return{creationTime:b==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(b.elementValue)),id:d("WAJids").interpretAsDeviceId(e),identityKey:d("WASignalKeys").serializeIdentity(c),ipAddress:(b=g==null?void 0:g.elementValue)!=null?b:null,isCurrentDevice:e===f,lastSeen:a==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(a.elementValue)),latitude:h==null?null:parseFloat(h.latitude),location:(c=h==null?void 0:h.elementValue)!=null?c:null,longitude:h==null?null:parseFloat(h.longitude),manufacturer:(g=i==null?void 0:i.elementValue)!=null?g:null,model:(b=j==null?void 0:j.elementValue)!=null?b:null,platform:(e=k==null?void 0:k.elementValue)!=null?e:null}}).sort(i);default:return c("WAAssertUnreachable")(a.name)}}g.getCurrentUserDeviceList=a}),98);
__d("WAPublishAppDataProtocol",["FBLogger","WABridge","WAEncUserMsg","WAGetCurrentUserDeviceInfoApi","WAGlobals","WAOdsEnums","WASmaxAppdataPublishPeerRPC","WATagsLogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WATagsLogger").TAGS(["sendAppDataFanout"]);async function a(a,b){var e=b.messagePayload;a=b.identities;b=b.externalId;a=a.get(d("WAGlobals").getMyUserJid());if(a==null)throw c("FBLogger")("wmi").mustfixThrow("Missing my user identities");a=Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return{identity:a,jid:b}});var f=[{devicesInfo:a,user:d("WAGlobals").getMyUserJid()}];a=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WAEncUserMsg").encryptUserMsg(f,{messageBytes:e.messageBytes,type:"appdata"},{cryptoManager:a})},{operationType:"encrypt",flush:!0});var g=a.phash,k=!1,l=[];a.participants!=null&&a.participants.forEach(function(a){a.type==="pkmsg"&&(k=!0),l.push({toJid:a.to,encTypeIndividualMixinArgs:{encType:a.type,encElementValue:a.ciphertext},encVersionFutureproofMixinArgs:{encV:parseInt(a.v,10)}})});a={appdataTo:d("WAGlobals").getMyUserJid(),toArgs:l};a={peerPeerFanout:a};var m=void 0;if(k){var n=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();n=n==null?void 0:n.identityKey;if(n==null){j.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch current device public identity key"])));throw c("FBLogger")("wmi").mustfixThrow("No public identity key")}m={deviceIdentityElementValue:n}}n={appdataDeviceListCheck:"true"};b={appdataId:b,peerMsgTypesArgs:a,deviceIdentityMixinArgs:m,withDeviceListCheckMixinArgs:n};a=await d("WASmaxAppdataPublishPeerRPC").sendPeerRPC(b);switch(a.name){case"PeerResponseSuccess":n=(m=a.value.deviceListStaleMixin)==null?void 0:m.phash;if(n!=null&&g!=null&&n!==g){j.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch on appdata, local[","] server[","]"])),g,n);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:"appdata"});return{type:"success",ts:d("WATimeUtils").castToUnixTime(a.value.t),phash:{type:"mismatch",local:g,server:n},count:null,reportingMeta:null}}else return{type:"success",ts:d("WATimeUtils").castToUnixTime(a.value.t),phash:{type:"ok"},count:null,reportingMeta:null};default:a.name;throw c("FBLogger")("wmi").mustfixThrow("Failed to send appdata %s",a.value.error)}}g.publishAppData=a}),98);
__d("WASaveReceiptApi",["MAWTransactionMode","WADbTransactor","WAMsg"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({receipts:d("MAWTransactionMode").READWRITE},"saveReceipt",function(a){return function(b){return a.receipts.put({msgId:b.id.externalId.toString(),permittedIdentitiesPerDevice:b.permittedIdentitiesPerDevice,recipientDevices:b.recipientDevices,waMsgId:d("WAMsg").craftWAMsgIdString(b.id)}).then(function(){})}});g.saveReceipt=a}),98);
__d("WAPublishMessage",["FBLogger","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b){var c=a.identities;a=a.messagePayload;a={author:a.protocolMsgId.author,chat:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId};var e=await d("WALoadReceiptApi").loadReceipt(a);if(e.success)return e.value;e=new Map();for(c of c){c[0];var f=c[1];for(f of f){var g=f[0],h=f[1];if(g===d("WAGlobals").getMyDeviceJid())continue;e.set(g,{pubKey:h})}}g=new Set();h={permittedIdentitiesPerDevice:e,recipientDevices:g,id:a};b.addPoint("save_receipts_start");await d("WASaveReceiptApi").saveReceipt(h);b.addPoint("save_receipts_end");return h}async function a(a,b){var e=a.messagePayload,f=a.identities;a=a.sendIdentity;a=a===void 0?!1:a;b.addPoint("prepare_receipt_start");f=await j({messagePayload:e,identities:f},b);b.addPoint("prepare_receipt_end");b.addPoint("calculate_recipients_start");var g=e.frankingKey,i=e.frankingVersion,m=e.messageBytes,n=e.backupDirective,o=e.messageType;e=e.protocolMsgId;f=k(f.permittedIdentitiesPerDevice);f=o.type==="text"&&o.invitedParticipantUserJid!=null?f.filter(function(a){return a.user===o.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):f;b.addPoint("calculate_recipients_end",{int:{recipientsCount:f.length}});var p=o.type==="text"&&o.invitedParticipantUserJid!=null?o.invitedParticipantUserJid:e.chat,q=e.chat===d("WAGlobals").getMyUserJid();if(f.length===0&&!q)throw c("FBLogger")("wmi").mustfixThrow("Trying to send a message with no recipients");else if(f.length===0&&q)return{serverResponse:{type:"success",ts:d("WATimeUtils").unixTime(),phash:{type:"ok"},count:null,reportingMeta:null},encryption:{type:"user",messageTo:d("WAGlobals").getMyUserJid(),participants:[],phash:""}};q=a?await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return l(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;a=await (o.isRevoked===!0?Promise.resolve(null):d("WAGenReportingMeta").genReportingMeta(m.bytes,g,i));p=await d("WASendMsgInternal").sendMessageV2({type:"chat",messageBytes:m,chat:p,deviceIdentity:q,messageType:o,protocolMsgId:e,externalId:e.externalId,recipients:f,reportingMeta:a,backupDirective:n},b);q=p.serverResponse;q.type==="success"&&await d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:q.ts,frankingKey:g,frankingVersion:i,messageBytes:m,backupDirective:n,messageType:o,protocolMsgId:e,waMsgId:d("WAMsg").craftWAMsgIdString({author:e.author,chat:e.chat,externalId:e.externalId})}).catch(function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""])),a)});return p}function k(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}async function l(a){try{a=await a.storage.loadIdentities(d("WAGlobals").getMyUserJid());a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""])),a)}}g.publishMessage=a}),98);
__d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestMixin","WASmaxInDevicesIQErrorItemNotFoundMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInDevicesIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorItemNotFound"],[b,c])}g.parseIQErrorBadRequestOrItemNotFoundMixinGroup=a}),98);
__d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup").parseIQErrorBadRequestOrItemNotFoundMixinGroup(a);return!b.success?b:d("WAResultOrError").makeResult({iQErrorBadRequestOrItemNotFoundMixinGroup:b.value})}g.parseNonRetryableRemoveDeviceIQErrorMixin=a}),98);
__d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup",["WAResultOrError","WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin","WASmaxInDevicesRetryableIQErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesRetryableIQErrorMixin").parseRetryableIQErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"RetryableIQError",value:b.value});var c=d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin").parseNonRetryableRemoveDeviceIQErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"NonRetryableRemoveDeviceIQError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["RetryableIQError","NonRetryableRemoveDeviceIQError"],[b,c])}g.parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup=a}),98);
__d("WASmaxInDevicesRemoveResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup").parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup:b.value}))}g.parseRemoveResponseError=a}),98);
__d("WASmaxInDevicesRemoveResponseSuccess",["WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRemoveResponseSuccess=a}),98);
__d("WASmaxOutDevicesKeyDataMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyElementValue;a=d("WASmaxJsx").smax("smax$any",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeKeyDataMixin=a}),98);
__d("WASmaxOutDevicesIdentityKeyMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutDevicesKeyDataMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutDevicesKeyDataMixin").mergeKeyDataMixin(d("WASmaxJsx").smax("identity",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIdentityKeyMixin=a}),98);
__d("WASmaxOutDevicesRemoveRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQSetRequestMixin","WASmaxOutDevicesIdentityKeyMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.removeId;a=a.identityKeyMixinArgs;b=d("WASmaxOutDevicesBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxOutDevicesIdentityKeyMixin").mergeIdentityKeyMixin(d("WASmaxJsx").smax("remove",{id:d("WAWap").INT(b)}),a)));return b}g.makeRemoveRequest=a}),98);
__d("WASmaxDevicesRemoveRPC",["WAComms","WASmaxInDevicesRemoveResponseError","WASmaxInDevicesRemoveResponseSuccess","WASmaxOutDevicesRemoveRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutDevicesRemoveRequest").makeRemoveRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInDevicesRemoveResponseSuccess").parseRemoveResponseSuccess(b,a);if(c.success)return{name:"RemoveResponseSuccess",value:c.value};b=d("WASmaxInDevicesRemoveResponseError").parseRemoveResponseError(b,a);if(b.success)return{name:"RemoveResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Remove",{Success:c,Error:b}))}g.sendRemoveRPC=a}),98);
__d("WARemoveDevice",["WALogger","WAPersistedJobManager","WAPushSafeTypes","WAResultOrError","WASignalOther","WASmaxDevicesRemoveRPC","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){a=d("WAPushSafeTypes").unsafeNotNullable(b);b=a.deviceId;a=a.identity;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeDevice called for device "," and identity ",""])),b,a);a=d("WASignalOther").sliceBytes(a,1,32);a=await d("WASmaxDevicesRemoveRPC").sendRemoveRPC({removeId:b,identityKeyMixinArgs:{anyElementValue:a}});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["removeDevice result for ",": "," "])),b,a);if(a.name==="RemoveResponseSuccess")return d("WAResultOrError").makeResult();else{a.name;b=a.value.errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup;if(b.name!=="RetryableIQError")return d("WAResultOrError").makeError();b.name;a=b.value.backoff;if(a!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"constant",delay:a},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"exponential",first:d("WATimeUtils").HOUR_MILLISECONDS/60},jitter:.1})}}g.removeDevice=a}),98);
__d("WARemoveCurrentDevice",["WAGetCurrentUserDeviceInfoApi","WAGlobals","WALogger","WARemoveDevice","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=async function(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeCurrentDevice called for current device"])));var b=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();if(b==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["There is no stored user info, it was already deleted or this job was called twice, possibly from another tab"])));return d("WAResultOrError").makeResult()}var c=b.deviceId;b=b.identityKey;a=await d("WARemoveDevice").removeDevice(a,{deviceId:c,identity:b});if(a.success){await d("WAGlobals").getDependencies().clearSignalAndTempStores();return d("WAResultOrError").makeResult()}return d("WAResultOrError").makeResult()};g.removeCurrentDevice=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysRequestErrors").parseRequestErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestErrors:b.value}))}g.parseRotateSignedResponseRequestError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseRotateSignedResponseServerError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseSuccess",["WASmaxInPreKeysIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRotateSignedResponseSuccess=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseValidationError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").attrString(c.value,"text");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(c.value,"code",400,499);if(!f.success)return f;c=d("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(c.value);if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorText:e.value,errorCode:f.value,errorIdentityKeyMixin:c.value},a.value))}g.parseRotateSignedResponseValidationError=a}),98);
__d("WASmaxOutPreKeysRotateSignedRequest",["WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WASmaxOutPreKeysSignedPreKeyMixin"],(function(a,b,c,d,e,f,g){function a(a){a=a.signedPreKeyMixinArgs;a=d("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(d("WASmaxJsx").smax("iq",{type:"set"},d("WASmaxOutPreKeysSignedPreKeyMixin").mergeSignedPreKeyMixin(d("WASmaxJsx").smax("rotate",null),a)));return a}g.makeRotateSignedRequest=a}),98);
__d("WASmaxPreKeysRotateSignedRPC",["WAComms","WASmaxInPreKeysRotateSignedResponseRequestError","WASmaxInPreKeysRotateSignedResponseServerError","WASmaxInPreKeysRotateSignedResponseSuccess","WASmaxInPreKeysRotateSignedResponseValidationError","WASmaxOutPreKeysRotateSignedRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutPreKeysRotateSignedRequest").makeRotateSignedRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInPreKeysRotateSignedResponseSuccess").parseRotateSignedResponseSuccess(b,a);if(c.success)return{name:"RotateSignedResponseSuccess",value:c.value};var e=d("WASmaxInPreKeysRotateSignedResponseValidationError").parseRotateSignedResponseValidationError(b,a);if(e.success)return{name:"RotateSignedResponseValidationError",value:e.value};var f=d("WASmaxInPreKeysRotateSignedResponseRequestError").parseRotateSignedResponseRequestError(b,a);if(f.success)return{name:"RotateSignedResponseRequestError",value:f.value};b=d("WASmaxInPreKeysRotateSignedResponseServerError").parseRotateSignedResponseServerError(b,a);if(b.success)return{name:"RotateSignedResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RotateSigned",{Success:c,ValidationError:e,RequestError:f,ServerError:b}))}g.sendRotateSignedRPC=a}),98);
__d("WARotateSignedPreKeyProtocol",["WACryptoManager","WAErrorMessage","WAGlobals","WAHandleFailureUtils","WAMakeSignedPreKeyMixin","WAResultOrError","WASmaxPreKeysRotateSignedRPC","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=d("WATagsLogger").TAGS(["rotateSignedPreKeyProtocol"]);async function a(){n.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start generating skey..."])));try{var a=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WACryptoManager").generateSignedPreKey(a)},{operationType:"generate_signed_prekey",flush:!0,afterInit:!0});n.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["generated skey. Start rotating skey..."])));a=await d("WASmaxPreKeysRotateSignedRPC").sendRotateSignedRPC({signedPreKeyMixinArgs:d("WAMakeSignedPreKeyMixin").makeSignedPreKeyMixin(a)});switch(a.name){case"RotateSignedResponseValidationError":var b=a.value,c=b.errorCode,e=b.errorText;b=b.errorIdentityKeyMixin;n.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["ValidationError: "," ",""])),c,e);return d("WAResultOrError").makeError({type:"validation-error",identity:b.elementValue});case"RotateSignedResponseRequestError":c=a.value.errorRequestErrors.value.code;e=a.value.errorRequestErrors.name;n.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["RequestError: "," ",""])),c,e);return d("WAResultOrError").makeError({type:"request-error"});case"RotateSignedResponseServerError":b=a.value.errorServerErrors.value.code;c=a.value.errorServerErrors.name;n.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["ServerError: "," ",""])),b,c);return d("WAResultOrError").makeError({type:"server-error"});default:a.name;n.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["successfully rotated new skey"])));return d("WAResultOrError").makeResult()}}catch(a){e=d("WAErrorMessage").maybeGetMessageFromError(a);if(e.includes("No lastSignedPrekeyId and registration")){await d("WAHandleFailureUtils").reregisterPhone();return d("WAResultOrError").makeError({type:"no-prekey-reregistered"})}throw a}}g.rotateSignedPreKeyProtocol=a}),98);
__d("WARotateSignedPreKey",["WAGenerateAndUploadPreKeys","WALoggerTag","WARotateSignedPreKeyProtocol","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekeyRotation,c("WALoggerTag").SignedPrekey]);async function a(a){a=await d("WARotateSignedPreKeyProtocol").rotateSignedPreKeyProtocol();if(a.success||a.error.type==="no-prekey-reregistered")return;if(a.error.type==="validation-error"){k.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Signed prekey failed server validation. need to upload all keys."])));d("WAGenerateAndUploadPreKeys").generateAndUploadPreKeys(null,{reason:"signed prekey failed server validation"}).catch(function(a){k.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error while generating and uploading prekeys: ",""])),a)});return Promise.resolve()}k.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["rotateSignedPreKey failed."])));throw c("err")("rotateSignedPreKey RPC failed: "+a.error.type)}g.rotateSignedPreKey=a}),98);
__d("WASendAppDataFanoutProtocol",["WAAsMessageApplication","WABridge","WAConvertAppData","WAEncUserMsg","WAErrorMessage","WAGetCurrentUserDeviceInfoApi","WAGlobals","WAMsgApplication.pb","WAOdsEnums","WAResultOrError","WASmaxAppdataPublishPeerRPC","WATagsLogger","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=d("WATagsLogger").TAGS(["sendAppDataFanout"]),p=24;function a(a,b){a=b.contents;var c=b.externalId,e=b.permittedIdentitiesPerDevice;b=b.checkPhash;b=b===void 0?"checkPhash":b;return q(a,c,e,b).catch(function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);o.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata to devices with error: ",""])),a);return d("WAResultOrError").makeError("runtime-error")})}async function q(a,b,c,e){e===void 0&&(e="checkPhash");o.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Sending appdata, externalId: ",""])),b);a=d("WAConvertAppData").convertAppData(a);var f={bytes:d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a).readByteArrayView()),version:"v3"},g=[];a=Array.from(c.entries()).map(function(a){var b=a[0];a=a[1];return{identity:a.pubKey,jid:b}});c=p;a.length>c&&(o.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to "," devices"])),a.length),o.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to more than the allowed "," devices"])),c),a=a.slice(0,c));var h=[{devicesInfo:a,user:d("WAGlobals").getMyUserJid()}];c=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WAEncUserMsg").encryptUserMsg(h,{messageBytes:f,type:"appdata"},{cryptoManager:a})},{operationType:"encrypt",flush:!0});a=c.phash;var q=!1;c.participants!=null&&c.participants.forEach(function(a){a.type==="pkmsg"&&(q=!0),g.push({toJid:a.to,encTypeIndividualMixinArgs:{encType:a.type,encElementValue:a.ciphertext},encVersionFutureproofMixinArgs:{encV:parseInt(a.v,10)}})});c={appdataTo:d("WAGlobals").getMyUserJid(),toArgs:g};c={peerPeerFanout:c};var r=void 0;if(q){var s=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();s=s==null?void 0:s.identityKey;if(s==null){o.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch current device public identity key"])));return d("WAResultOrError").makeError("no-public-identity")}r={deviceIdentityElementValue:s}}s={appdataDeviceListCheck:e==="checkPhash"?"true":"false"};e={appdataId:b,peerMsgTypesArgs:c,deviceIdentityMixinArgs:r,withDeviceListCheckMixinArgs:s};b=await d("WASmaxAppdataPublishPeerRPC").sendPeerRPC(e);switch(b.name){case"PeerResponseSuccess":r=(c=b.value.deviceListStaleMixin)==null?void 0:c.phash;if(r!=null&&a!=null&&r!==a){o.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch on appdata, local[","] server[","]"])),a,r);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:"appdata"});return d("WAResultOrError").makeResult({phashMismatch:!0,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)})}else return d("WAResultOrError").makeResult({phashMismatch:!1,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)});default:b.name;o.ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata. Error: ",""])),b.value.error);return d("WAResultOrError").makeError("ack-failure")}}g.MAX_APPDATA_RECIPIENTS=p;g.sendAppDataToDevicesProtocol=a}),98);
__d("WASendMsgUtilV2",["WADevicesState","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WAResultOrError","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;function o(a){return Promise.resolve()}function p(a,b){return d("WADevicesState").getDevicesState().waitForUserDevices(Array.from(new Set([a,d("WAGlobals").getMyUserJid()])),"GetDevicesBeforeSend: "+b)}function q(a,b){a=b.chatJid;var c=b.reason;return d("WAJids").switchOnChatJidType(a,{group:function(a){return o(a)},interopUser:function(a){return p(a,c)},lidUser:function(a){return p(a,c)},msgrUser:function(a){return p(a,c)},phoneUser:function(a){return p(a,c)}}).catch(function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error during get devices before sending: ",""])),a);return Promise.resolve()})}async function r(a,b){var c=a.messagePayload;a=a.loadThreadParticipants;var e={author:c.protocolMsgId.author,chat:c.protocolMsgId.chat,externalId:c.protocolMsgId.externalId},f=await d("WALoadReceiptApi").loadReceipt(e);if(f.success)return f;b.addPoint("get_devices_before_send_start");await q(void 0,{chatJid:c.protocolMsgId.chat,reason:"prepareReceipt"});b.addPoint("get_devices_before_send_end");var g=await a(c.protocolMsgId.chat);b.addPoint("get_identities_start");f=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{flush:!1,afterInit:!0,operationType:"prepare_receipt_load_identities"});a=[];if(f.size===0)a=[].concat(g);else for(c of f){var h=c[0],j=c[1];j.size===0&&a.push(h)}a.length>0&&(await d("WADevicesState").getDevicesState().waitForUserDevices(a,"GetDevicesBeforeSend: prepareReceipt",!0),f=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{afterInit:!0,flush:!1,operationType:"prepare_receipt_load_identities"}));j=new Map();for(h of f){h[0];c=h[1];for(a of c){f=a[0];c=a[1];if(f===d("WAGlobals").getMyDeviceJid())continue;j.set(f,{pubKey:c})}}b.addPoint("get_identities_end");f=new Set();c={permittedIdentitiesPerDevice:j,recipientDevices:f,id:e};b.addPoint("save_receipts_start");await d("WASaveReceiptApi").saveReceipt(c).catch(function(a){b.addPoint("save_receipts_fail");d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to save receipt for message with error ",""])),a);return d("WAResultOrError").makeError("missing-receipt")});b.addPoint("save_receipts_end");return d("WAResultOrError").makeResult(c)}async function a(a,b,c){a=b.messagePayload;var e=b.loadThreadParticipants,f=b.sendIdentity;f=f===void 0?!1:f;b=b.isInstamadillo;b=b===void 0?!1:b;c.addPoint("prepare_receipt_start");e=await r({messagePayload:a,loadThreadParticipants:e},c);if(e.success===!1){c.addPoint("prepare_receipt_fail");d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message that does not have a receipt in db"])));return d("WAResultOrError").makeError({type:"missing-receipt"})}c.addPoint("prepare_receipt_end");e=e.value;var g=a.frankingKey,h=a.frankingVersion,i=a.messageBytes,n=a.backupDirective,o=a.messageType,p=a.protocolMsgId;a=s(e.permittedIdentitiesPerDevice);e=o.type==="text"&&o.invitedParticipantUserJid!=null?a.filter(function(a){return a.user===o.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):a;c.addPoint("recipients-calculated",{int:{recipientsCount:e.length},string:{msgType:o.type}});a=o.type==="text"&&o.invitedParticipantUserJid!=null?o.invitedParticipantUserJid:p.chat;var q=p.chat===d("WAGlobals").getMyUserJid();if(e.length===0&&!q){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients"])));return d("WAResultOrError").makeError({type:"no-recipients",isRetriable:!1})}else if(e.length===0&&q){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients, but it is a self thread"])));return d("WAResultOrError").makeResult({baseKey:null,reportingMeta:null,serverTs:d("WATimeUtils").unixTime()})}q=f?await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return t(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;f=await (o.isRevoked===!0?Promise.resolve(null):d("WAGenReportingMeta").genReportingMeta(i.bytes,g,h));return d("WASendMsgInternal").sendMessage({type:"chat",messageBytes:i,chat:a,deviceIdentity:q,messageType:o,protocolMsgId:p,externalId:p.externalId,recipients:e,reportingMeta:f,backupDirective:n},c,b).then(function(a){if(a.success)return d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:a.value.serverTs,frankingKey:g,frankingVersion:h,messageBytes:i,backupDirective:n,messageType:o,protocolMsgId:p,waMsgId:d("WAMsg").craftWAMsgIdString({author:p.author,chat:p.chat,externalId:p.externalId})}).catch(function(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""])),a)}).then(function(){return a});else return a})}function s(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}async function t(a){try{a=await a.storage.loadIdentities(d("WAGlobals").getMyUserJid());a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""])),a)}}g.getDevicesBeforeSend=q;g.sendChatMessage=a}),98);
__d("WASetClockSkewApi",["WASetMetaApi"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.clockSkew;return d("WASetMetaApi").setMeta({clockSkew:a})};g.setClockSkew=a}),98);
__d("WASendPing",["WAComms","WALogger","WASetClockSkewApi","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendPing: sending"]))),d("WAComms").sendPing()}async function b(a,b){a=b.clockSkew;d("WATimeUtils").setClockSkew(a);await d("WASetClockSkewApi").setClockSkew({clockSkew:a})}g.sendPing=a;g.updateClockSkew=b}),98);
__d("WASyncAbProps",["WAAbPropsSync","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){b=b.sendHash;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Syncing ABProps"])));await d("WAAbPropsSync").syncAbProps({sendHash:b,eventFlow:a!=null?a:void 0})}g.syncAbProps=a}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var _EmscriptenEH3=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var _EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(_EmscriptenEH3);var _CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(_EmscriptenEH3);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new _CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("ActivityLogMenuOption",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARCHIVE:"archive",AUTO_ACTIVITY_TIME_WINDOW:"auto_activity_time_window",AUTO_ACTIVITY_OPT_IN:"auto_activity_opt_in",AUTO_ACTIVITY_OPT_OUT:"auto_activity_opt_out",BLOCK_APP:"block_app",DELETE:"delete",DELETE_GROUP_CONTENT:"delete_group_content",DELETE_NEIGHBORHOOD_CONTENT:"delete_neighborhood_content",DELETE_HISTORICAL_RELATIONSHIP:"delete_historical_relationship",DELETE_POA_SURVEY:"delete_poa_survey",DELETE_PREVIOUS_CONTACTPOINT:"delete_previous_contactpoint",DELETE_SAVE:"delete_save",DELETE_USER_EVENT_CONNECTION:"delete_user_event_connection",DOWNLOAD_LIVE_VIDEO:"download_live_video",CLEAR_SEARCH_HISTORY:"clear_search_history",EDIT_EDUCATION_WORK:"edit_education_work",EDIT_RATING_AND_REVIEW:"edit_rating_and_review",EDIT_PRIVACY:"edit_privacy",FEEDBACK_ASSISTANT_HISTORY:"feedback_assistant_history",FORGET_RECOGNIZED_DEVICE:"forget_regognized_device",HIDE_FROM_TIMELINE:"hide_from_timeline",LOG_OUT:"log_out",MOVE_TO_TRASH:"move_to_trash",REMOVE_APP:"remove_app",REMOVE_ASSISTANT_HISTORY:"remove_assistant_history",REMOVE_VISUAL_SEARCH_HISTORY:"remove_visual_search_history",REMOVE_BLOCK_APP:"remove_block_app",REMOVE_COMMENT:"remove_comment",REMOVE_COMMENT_VOTE:"remove_comment_vote",REMOVE_LIFE_EVENT_TAG:"remove_life_event_tag",REMOVE_LIGHTWEIGHT_REACTION:"remove_lightweight_reaction",REMOVE_LIVE_GAMING_EVENT_CONNECTION:"remove_live_gaming_event_connection",REMOVE_PRAYER_RESPONSE:"remove_prayer_response",REMOVE_PRAYER_RESPONSE_THANKS:"remove_prayer_response_thanks",REMOVE_REACTION:"remove_reaction",REMOVE_REPORT_TAG:"remove_and_report_tag",REMOVE_SAVE:"remove_save",REMOVE_TAG:"remove_tag",REPORT_TAG:"report_tag",REMOVE_VIDEO_WATCH:"remove_video_watch",REMOVE_FCS_AWARDS_VOTE:"remove_fcs_awards_vote",REPORT_MARK_SPAM:"report_mark_spam",RESTORE_FROM_ARCHIVE:"restore_from_archive",RESTORE_FROM_TRASH:"restore_from_trash",SHOW_ON_PROFILE:"show_on_profile",UNDO_MARK_SPAM:"undo_mark_spam",UNFAN_FBPAGE:"unfan_fbpage",UNFRIEND:"unfriend",UNLIKE:"unlike",UNREGISTER_ARENA:"unregister_arena",UNSUBSCRIBE_CALENDAR:"unsubscribe_calendar",UNVOTE:"unvote",VIEW_GROUP:"view_group",VIEW_ITEM:"view_item",VOLUNTEERING_OPT_OUT:"volunteering_opt_out"});c=a;f["default"]=c}),66);
__d("CometActivityLogUtils",["$InternalEnum","ContentAccessAndControlFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["ARCHIVE","TRASH","LOG","MANAGE"]);function a(a){return a.loadingState.isBulkActionInProgress||a.loadingState.isNavigationInProgress?!0:!1}function d(a){return a==="MANAGEYOURPOSTS"||a==="YOURTIMELINEPOSTS"||a==="YOURTIMELINEPOSTSTAO"||a==="MANAGEPHOTOSANDVIDEOS"||a==="MANAGEPOSTSPHOTOSANDVIDEOS"||a==="MANAGEALBUMS"||a==="YOURAPPSPOSTS"}function e(a){return a!==u()&&a!==A()?!1:!0}function f(a){if(a!=null)switch(a){case u():return!0;case A():return!0;case w():return!0;case y():return!0;case x():return!0;default:return!1}return!1}function i(a,b){return a.some(function(a){return a.filter_key===b})}function j(a){switch(a){case u():return h.ARCHIVE;case A():return h.TRASH;default:return h.LOG}}function k(a,b,c,d){return function(){a>0&&b!=null&&b.cancel_label!=null&&b.confirm_label!=null&&b.title!=null?d({body:b.description,cancel:b.cancel_label,confirm:b.confirm_label,title:b.title},c):c()}}function l(){return"CATEGORY"}function m(){return"PERSON"}function n(){return"DATE"}function o(){return"MEDIA_CONTENT"}function p(){return"AUDIENCE"}function q(){return h.ARCHIVE}function r(){return h.TRASH}function s(){return h.LOG}function t(){return h.MANAGE}function u(){return"ARCHIVED"}function v(){return"ARCHIVEDSTORIES"}function w(){return"MANAGEYOURPOSTS"}function x(){return"MANAGEINTERACTIONS"}function y(){return"MANAGEYOURTAGS"}function z(){return"MANAGETAGSBYOTHERSCLUSTER"}function A(){return"TRASH"}function B(){return"ALL"}function C(){return"review"}function D(){return"tagreview"}function E(){return"facealerts"}function F(){return"HIDDENSTORIES"}function G(){return"TAGSBYOTHERSCLUSTER"}function H(){return"FRIENDS"}function I(){return"FOLLOWCLUSTER"}function J(){return"SEARCH"}function K(){return"timeline"}function L(){return"homepage_stream"}function M(){return"HIDE_FROM_TIMELINE"}function N(){return[u(),A(),w(),y(),x()]}function O(a,b,d,e){b!=null&&(b===K()||b===L())&&c("ContentAccessAndControlFalcoEvent").log(function(){return{control:e,event:d,is_access:!1,is_bulk:!1,is_control:!0,post_id_str:a,surface:P(b)}})}function P(a){return a===K()?"post_chevron_menu_timeline":"post_chevron_menu_news_feed"}function Q(a){return a===u()}function R(a){return a===A()}function S(a){switch(a){case"DELETE":return"delete";case"EDIT_PRIVACY":return"edit_privacy";case"MOVE_TO_ARCHIVE":return"archive";case"MOVE_TO_TRASH":return"move_to_trash";case"UNTAG":return"remove_tag";case"RESTORE_FROM_ARCHIVE":return"restore_from_archive";case"RESTORE_FROM_TRASH":return"restore_from_trash";case"REMOVE_INTERACTION":return"delete";default:return null}}function T(a){return"category_"+a.toLowerCase()}function U(a){return"landing_page_category_"+a.toLowerCase()}function V(a){return"unimplemented_"+a}function W(a){switch(a){case"UNTAG":return"bulk_manage_tags";case"REMOVE_INTERACTION":return"bulk_manage_interactions";default:return null}}function X(a,b){if(a==null)return null;b=(b!=null?b:1)-1;return new Date(a,b,1)}function Y(a,b){if(a==null)return null;b=b!=null?b:12;return new Date(a,b,0)}function Z(a){a=a?a.getTime()/1e3:null;return a!=null?a.toString():null}function aa(a,b){return(b=b.asyncBulkActionInProgressMap.get(a))!=null?b:!1}function ba(){var a=c("gkx")("22769");return a||$()!=="control"}function $(){return c("gkx")("22769")?"cr_posts_ayti":"control"}g.ActivityLogStoreKey=h;g.isCometActivityLogLoading=a;g.isCategoryEligibleForBulkEditPrivacy=d;g.isCategoryKeyArchiveOrTrash=e;g.isOnManageMode=f;g.shouldShowManageActivityFilter=i;g.getStoreKeyForCategory=j;g.showNumItemsConfirmationDialog=k;g.getFilterKeyForCategory=l;g.getFilterKeyForPerson=m;g.getFilterKeyForDate=n;g.getFilterKeyForMediaContent=o;g.getFilterKeyForAudience=p;g.getStoreKeyForArchive=q;g.getStoreKeyForTrash=r;g.getStoreKeyForLog=s;g.getStoreKeyForManage=t;g.getCategoryKeyForArchive=u;g.getCategoryKeyForStoryArchive=v;g.getCategoryKeyForManage=w;g.getCategoryKeyForManageInteractions=x;g.getCategoryKeyForManageTags=y;g.getCategoryKeyForManageTagsByOthersCluster=z;g.getCategoryKeyForTrash=A;g.getCategoryKeyForAll=B;g.getCategoryKeyForTimelineReview=C;g.getCategoryKeyForTagReview=D;g.getCategoryKeyForPhotoReview=E;g.getCategoryKeyForHiddenFromProfile=F;g.getCategoryKeyForTagsByOthersCluster=G;g.getCategoryKeyForFriends=H;g.getCategoryKeyForFollowCluster=I;g.getCategoryKeyForSearch=J;g.getStoryRenderLocationKeyForTimeline=K;g.getStoryRenderLocationKeyForHomepage=L;g.getActionTypeForHideFromTimeline=M;g.getManageableCategories=N;g.maybeLogControl=O;g.getPrivacyLoggingSourceFromStoryRenderLocation=P;g.onArchivePage=Q;g.onTrashPage=R;g.getSingleMenuOptionFromBulkAction=S;g.getSubCategoryNameForLogging=T;g.getLandingPageCategoryNameForLogging=U;g.getSourceNameForUnimplementedMenuOption=V;g.getSourceNameForBulkActionKey=W;g.getStartDate=X;g.getEndDate=Y;g.getTimeFromDate=Z;g.getAsyncBulkActionInProgressForCatgeory=aa;g.hasActivityLogAyiTaxonomy=ba;g.getAyiTaxonomyPostsCategoriesOrder=$}),98);
__d("CometFeedStoryAttachmentDisclaimerFooterSection_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryAttachmentDisclaimerFooterSection_attachment",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"},{kind:"Literal",name:"supported",value:"47T0PR"}],concreteType:null,kind:"LinkedField",name:"comet_footer_disclaimer_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentDisclaimerFooterSection_attachment",fragmentName:"CometStoryAttachmentDisclaimerFooterDynamicAdContextStrategy_attachmentFooterDisclaimer",fragmentPropName:"attachmentFooterDisclaimer",kind:"ModuleImport"}],type:"CometStoryAttachmentDisclaimerFooterDynamicAdContextStrategy",abstractKey:null}],storageKey:null}],type:"StoryAttachment",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryAttachmentDisclaimerFooterSection.react",["CometFeedMatchRenderer.react","CometFeedStoryAttachmentDisclaimerFooterSection_attachment.graphql","CometRelay","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.adClientToken,g=a.adID,i=a.attachment;a=a.trackingData;i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryAttachmentDisclaimerFooterSection_attachment.graphql"),i);i=i==null?void 0:i.comet_footer_disclaimer_renderer;if(i==null)return null;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x6ikm8r x10wlt62"},e[0]=k):k=e[0];var l;e[1]!==f||e[2]!==g?(l={adClientToken:f,adID:g},e[1]=f,e[2]=g,e[3]=l):l=e[3];e[4]!==i||e[5]!==l||e[6]!==a?(f=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:265,children:j.jsx("div",babelHelpers["extends"]({},k,{children:j.jsx(c("CometFeedMatchRenderer.react"),{match:i,props:l,section:"attachment_footer_disclaimer",trackingData:a})}))}),e[4]=i,e[5]=l,e[6]=a,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("CometFeedStoryInfoIconSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryInfoIconSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oJzU4"}],concreteType:null,kind:"LinkedField",name:"info_icon",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryPoliticalIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryPoliticalIconStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryArticleContextIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryArticleContextIconStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryBrandedContentIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryBrandedContentIconStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryRightsManagerAttributionIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryRightsManagerAttributionIconStrategy",abstractKey:null}],storageKey:'info_icon(supported:"1oJzU4")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryInfoIconSection.react",["CometFeedMatchRenderer.react","CometFeedStoryInfoIconSection_story.graphql","CometRelay","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f,g=d("react-compiler-runtime").c(4);a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryInfoIconSection_story.graphql"),a);if((a==null||(e=a.comet_sections)==null?void 0:e.info_icon)==null)return null;var i=a==null||(f=a.comet_sections)==null?void 0:f.info_icon,k;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={},g[0]=k):k=g[0];a=a==null?void 0:a.encrypted_tracking;g[1]!==i||g[2]!==a?(k=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:303,children:j.jsx(c("CometFeedMatchRenderer.react"),{match:i,props:k,section:"info_icon",trackingData:a})}),g[1]=i,g[2]=a,g[3]=k):k=g[3];return k}g["default"]=a}),98);
__d("CometFeedStoryMenuQuery$Parameters",["CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider","CometFeedStoryMenuQuery_facebookRelayOperation","FBReels_deprecate_short_form_video_context_gk.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFeedStoryMenuQuery_facebookRelayOperation"),metadata:{},name:"CometFeedStoryMenuQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider:b("CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider")}}};e.exports=a}),null);
__d("CometFeedStoryMenu.entrypoint",["CometFeedStoryMenuEntryPointVariables","CometFeedStoryMenuQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var e=a.feedLocation,f=a.id,g=a.renderLocation,h=a.serializedFRTPIdentifiers;a=a.storyDebugInfo;return{extraProps:{originalStoryID:f},queries:{menuQueryReference:{parameters:b("CometFeedStoryMenuQuery$Parameters"),variables:{feed_location:e,feed_menu_icon_variant:c("CometFeedStoryMenuEntryPointVariables").iconVariant,id:f,renderLocation:g,scale:d("WebPixelRatio").get(),serialized_frtp_identifiers:h,story_debug_info:a}}}}},root:c("JSResourceForInteraction")("CometFeedStoryMenu.react").__setRef("CometFeedStoryMenu.entrypoint")};g["default"]=a}),98);
__d("CometFeedStoryMenuSectionBase.react",["CometActivityLogUtils","CometFeedStoryMenu.entrypoint","CometStoryRenderLocationContext.react","CometTrackingNodeProvider.react","FDSEntryPointPopoverTrigger.react","ProfileCometContext","qex","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=c("requireDeferred")("ContentAccessAndControlEventType").__setRef("CometFeedStoryMenuSectionBase.react"),l=c("requireDeferred")("ContentAccessAndControlFalcoEvent").__setRef("CometFeedStoryMenuSectionBase.react");function a(a){var b=d("react-compiler-runtime").c(24),e=a.onEdit,f=a.outerWrapperRenderer,g=a.triggerChildRenderer,h=a.feedLocation,m=a.id,n=a.onPopoverVisibilityChange,o=a.popoverPosition,p=a.renderLocation,q=a.serializedFRTPIdentifiers,r=a.storyDebugInfo;a=a.variables;var s=j(c("ProfileCometContext"));s=s.isInViewAs;var t=j(c("CometStoryRenderLocationContext.react")),u=c("qex")._("398")?"button_aggressive":"button";if(m==null)return null;if(h==="GROUP_ADMIN_TO_MEMBER_FEEDBACK")return null;if(h==="ACTOR_GATEWAY")return null;if(h==="GROUPS_MODMIN_REVIEW_FOLDER")return null;if(s)return null;b[0]!==h||b[1]!==m||b[2]!==p||b[3]!==q||b[4]!==r?(s={feedLocation:h,id:m,renderLocation:p,serializedFRTPIdentifiers:q,storyDebugInfo:r},b[0]=h,b[1]=m,b[2]=p,b[3]=q,b[4]=r,b[5]=s):s=b[5];b[6]!==h||b[7]!==e||b[8]!==p||b[9]!==a?(q={feedLocation:h,onEdit:e,renderLocation:p,variables:a},b[6]=h,b[7]=e,b[8]=p,b[9]=a,b[10]=q):q=b[10];r=o!=null?o:"below";b[11]!==m||b[12]!==t||b[13]!==g?(h=function(a,b,c,e,f,h){return g({contextRef:a,id:m,onHoverInPrerenderer:e,onHoverOutPrerenderer:f,onPress:function(){(t===d("CometActivityLogUtils").getStoryRenderLocationKeyForTimeline()||t===d("CometActivityLogUtils").getStoryRenderLocationKeyForHomepage())&&l.onReady(function(a){var b=k.getModuleIfRequireable();if(b==null)return;a.log(function(){return{event:b.IMPRESSION,is_access:!0,is_bulk:!1,is_control:!1,surface:d("CometActivityLogUtils").getPrivacyLoggingSourceFromStoryRenderLocation(t)}})}),b()},onPressInPrerenderer:h})},b[11]=m,b[12]=t,b[13]=g,b[14]=h):h=b[14];b[15]!==n||b[16]!==s||b[17]!==q||b[18]!==r||b[19]!==h?(e=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:55,children:i.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:s,onVisibilityChange:n,otherProps:q,popoverEntryPoint:c("CometFeedStoryMenu.entrypoint"),popoverType:"menu",position:r,preloadTrigger:u,tracePolicy:"comet.feed.story.menu",children:h})}),b[15]=n,b[16]=s,b[17]=q,b[18]=r,b[19]=h,b[20]=e):e=b[20];p=e;b[21]!==p||b[22]!==f?(a=f!=null?f({contents:p}):p,b[21]=p,b[22]=f,b[23]=a):a=b[23];return a}g["default"]=a}),98);
__d("CometFeedStoryMenuSection_promotion.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryMenuSection_promotion",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"local_alerts_story_menu_promotion",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometTooltipQP_quickPromotion"}],storageKey:null}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryMenuSection.react",["fbt","CometFeedStoryMenuSectionBase.react","CometFeedStoryMenuSection_promotion.graphql","CometRelay","Dots3HorizontalFilled20IconSvg.react","FDSIcon.react","mergeRefs","react","react-compiler-runtime","stylex","useCometTooltipQP"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["ref","additionalOnPressHandler"],j=["additionalIconWrapperRef","additionalOnPressHandler","color","isPostHarassed","onEdit","promotion","xstyle"],k,l,m,n=m||(m=d("react"));m.useCallback;var o={calloutWidth:{maxWidth:"xw5ewwj",$$css:!0},root:{alignSelf:"xqcrz7y",display:"x78zum5",height:"x1qx5ct2",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",width:"xw4jnvo",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(14),e,f,g;b[0]!==a?(f=a.ref,e=a.additionalOnPressHandler,g=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);b[4]!==e||b[5]!==g?(a=function(a){e&&e(),g.onPress&&g.onPress(a)},b[4]=e,b[5]=g,b[6]=a):a=b[6];a=a;if(b[7]!==g){var j;j=(j=g["aria-label"])!=null?j:h._(/*BTDS*/"Actions for this post");b[7]=g;b[8]=j}else j=b[8];var k;b[9]!==f||b[10]!==a||b[11]!==g||b[12]!==j?(k=n.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},g,{"aria-label":j,onPress:a,ref:f})),b[9]=f,b[10]=a,b[11]=g,b[12]=j,b[13]=k):k=b[13];return k}function a(a){var e=d("react-compiler-runtime").c(21),f,g,i,m;if(e[0]!==a){var q=a.additionalIconWrapperRef,r=a.additionalOnPressHandler,s=a.color;a.isPostHarassed;var t=a.onEdit,u=a.promotion,v=a.xstyle,w=babelHelpers.objectWithoutPropertiesLoose(a,j);f=q;g=r;i=s;q=t;r=u;m=v;s=w;e[0]=a;e[1]=f;e[2]=g;e[3]=i;e[4]=q;e[5]=r;e[6]=s;e[7]=m}else f=e[1],g=e[2],i=e[3],q=e[4],r=e[5],s=e[6],m=e[7];t=d("CometRelay").useFragment(k!==void 0?k:k=b("CometFeedStoryMenuSection_promotion.graphql"),r);e[8]!==f||e[9]!==g||e[10]!==i?(u=function(a){var b=a.contextRef,d=a.id;d=a.onHoverInPrerenderer;var e=a.onHoverOutPrerenderer,j=a.onPress;a=a.onPressInPrerenderer;return n.jsx(p,{additionalOnPressHandler:g,"aria-label":h._(/*BTDS*/"Actions for this post"),color:i!=null?i:"secondary",icon:c("Dots3HorizontalFilled20IconSvg.react"),onHoverIn:d,onHoverOut:e,onPress:j,onPressIn:a,ref:c("mergeRefs")(b,f),size:20,testid:void 0})},e[8]=f,e[9]=g,e[10]=i,e[11]=u):u=e[11];v=u;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(w={align:"middle",xstyle:o.calloutWidth},e[12]=w):w=e[12];var x=c("useCometTooltipQP")(t==null?void 0:t.local_alerts_story_menu_promotion,w);e[13]!==x||e[14]!==m?(a=function(a){a=a.contents;return n.jsx("div",babelHelpers["extends"]({},(l||(l=c("stylex"))).props(o.root,m),{children:n.jsx("div",{ref:x,children:a})}))},e[13]=x,e[14]=m,e[15]=a):a=e[15];r=a;e[16]!==q||e[17]!==r||e[18]!==s||e[19]!==v?(u=n.jsx(c("CometFeedStoryMenuSectionBase.react"),babelHelpers["extends"]({onEdit:q,outerWrapperRenderer:r,triggerChildRenderer:v},s)),e[16]=q,e[17]=r,e[18]=s,e[19]=v,e[20]=u):u=e[20];return u}g["default"]=a}),226);
__d("CometFeedStoryMenuXoutSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"www"}];return{argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryMenuXoutSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:null,kind:"LinkedField",name:"easy_hide_nfx_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:a,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:a,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("CometLightweightNegativeFeedbackNuxContainer.react",["fbt","nux:190","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=(f=(e=b("nux:190"))==null?void 0:e("comet_lightweight_negative_feedback_nux"))!=null?f:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"Tap to hide this post and see fewer posts like it in the future."),b[0]=c):c=b[0];c=c;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(c={"aria-label":c,content:c},b[1]=c):c=b[1];c=k(c);var e;b[2]!==a||b[3]!==c?(e=a!=null?j.jsx("div",{ref:c,children:a}):null,b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("FBNucleusCrossFilled20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("InstreamAdsHideAdBehaviorContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(null);function a(){return i(j)}g.InstreamAdsHideAdBehaviorContext=j;g.useInstreamAdsHideAdBehavior=a}),98);
__d("CometFeedStoryMenuXoutSection.react",["CometFeedStoryEncryptedTrackingContext","CometFeedStoryMenuXoutSection_story.graphql","CometLightweightNegativeFeedbackNuxContainer.react","CometRelay","CometTrackingNodeProvider.react","FBNucleusCrossFilled20.svg.react","FDSCircleButton.react","InstreamAdsHideAdBehaviorContext","JSResourceForInteraction","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useMemo,n=c("JSResourceForInteraction")("HideXoutAction").__setRef("CometFeedStoryMenuXoutSection.react");function a(a){a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryMenuXoutSection_story.graphql"),a);var e=!0,f=null,g='{"placeholder":0}',i="placeholder",o="HIDE_XOUT";try{var p=a==null?void 0:a.easy_hide_nfx_action;p==null&&(e=!1);e&&(f=p);f==null&&(e=!1);if(((p=f)==null?void 0:p.context)==null)e=!1;else{g=(p=f)==null?void 0:p.context;o=(p=(p=f)==null?void 0:p.type)!=null?p:"HIDE_XOUT"}a.id==null?(i="placeholder",e=!1):i=a.id}catch(a){e=!1}var q=d("InstreamAdsHideAdBehaviorContext").useInstreamAdsHideAdBehavior(),r=l(c("CometFeedStoryEncryptedTrackingContext"));r==null&&(e=!1);var s=m(function(){if(r!=null){var a=JSON.parse(g);a.tracking=r;return JSON.stringify(a)}return g},[g,r]),t=d("CometRelay").useRelayEnvironment();a=k(function(){(q==null?void 0:q.onOpen)&&q.onOpen();var a={context:s,type:o};c("promiseDone")(n.load().then(function(b){b.hide(a,(b=f)==null?void 0:b.can_start_curation_flow,t,i)}))},[q,s,o,t,(p=f)==null?void 0:p.can_start_curation_flow,i]);p=((p=f)==null?void 0:p.redirect_style)==="FULL_PAGE"&&((p=f)==null?void 0:p.redirect_uri)!=null?(p=f)==null?void 0:p.redirect_uri:void 0;p=j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",dynamicHoverTiltAngle:15,dynamicHoverTranslationPercent:.15,icon:c("FBNucleusCrossFilled20.svg.react"),label:"hide post",linkProps:{url:p},onPress:a,showDynamicHover:!0,size:36,testid:void 0,type_DEPRECATED:"deemphasized"});a=e===!0?j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:29,children:p}):null;return j.jsx(c("CometLightweightNegativeFeedbackNuxContainer.react"),{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryMenuXoutSection_story$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"www"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryMenuXoutSection_story$normalization",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:null,kind:"LinkedField",name:"easy_hide_nfx_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:a,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:a,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},b],storageKey:null},b]}}();e.exports=a}),null);
__d("CometStoryAttachmentFooter.react",["BaseRow.react","BaseRowItem.react","CometEmojiTransform","CometFeedGating","CometImage.react","CometPressable.react","CometTextWithEntities.react","FBLogger","FDSText.react","FDSTextPairing.react","FDSTextWithBadge.react","ODS","XPlatReactEnvironment","gkx","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useState,m={body:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},container:{marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",$$css:!0},containerWithFooterImage:{alignItems:"x6s0dn4",columnGap:"xtqikln",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"xwib8y2",paddingLeft:"xf18ygs",paddingRight:"xnuq7ks",paddingInlineStart:null,paddingInlineEnd:null,paddingTop:"x1y1aw1k",$$css:!0},ctaWithFooterImage:{display:"x78zum5",marginLeft:"xl8cphy",marginInlineStart:null,marginInlineEnd:null,paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",$$css:!0},footerImage:{alignItems:"x1cy8zhl",borderTopColor:"x1exxf4d",borderInlineEndColor:"xpv9jar",borderBottomColor:"x1nb4dca",borderInlineStartColor:"x1nmn18",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",display:"x78zum5",flexShrink:"x2lah0s",height:"xn3w4p2",width:"x187nhsf",$$css:!0},footerImageContainer:{display:"x78zum5",marginBottom:"x1jyxor1",marginTop:"x1y332i5",$$css:!0},hasBody:{boxSizing:"x9f619",fontSize:"x1lkfr7t",marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},hasBodyLineLimit1:{maxHeight:"xd183bf",$$css:!0},item:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},meta:{marginBottom:"x1e56ztr",textTransform:"xtvhhri",$$css:!0},metaWithNoHeadline:{textTransform:"xtvhhri",$$css:!0},pressable:{display:"x1lliihq",$$css:!0},root:{backgroundColor:"xmjcpbm",position:"x1n2onr6",textDecoration:"x1lku1pv",$$css:!0},rootDivider:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},textWithFooterImage:{paddingBottom:"xjkvuk6",paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",paddingTop:"x1iorvi4",$$css:!0}},n=d("CometFeedGating").shouldEnableFeedUFIUIModernization(),o=[c("CometEmojiTransform")({size:18})],p=[c("CometEmojiTransform")()];function a(a){var b=d("react-compiler-runtime").c(73),e=a.addOn,f=a.body,g=a.bodyLineLimit,h=a.centerAlignAddOn,q=a.cta,r=a.footerImageUri,s=a.headline,t=a.headlineBadge,u=a.headlineLineLimit,v=a.href,w=a.isAd,x=a.meta,y=a.metaColor,z=a.onPress,A=a.passthroughProps;a=a.xstyle;g=g===void 0?1:g;var B;b[0]!==v||b[1]!==A?(B={passthroughProps:A,url:v},b[0]=v,b[1]=A,b[2]=B):B=b[2];A=B;B=A;b[3]!==f?(A=f!=null?f.toString().trim():null,b[3]=f,b[4]=A):A=b[4];var C=A;b[5]!==x?(A=x!=null?x.toString():null,b[5]=x,b[6]=A):A=b[6];var D=A,E=c("gkx")("6877");x=c("gkx")("538");A=c("gkx")("17343");var F=l(!1),G=F[0],H=F[1];F=A&&r!=null&&r.length>0&&!G;b[7]!==C||b[8]!==D?(A=function(){d("XPlatReactEnvironment").isWeb()&&E&&((i||(i=d("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_count"),C!=null&&C.length>0&&(i||(i=d("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","body_string_count"),D!=null&&D.length>0&&(i||(i=d("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","meta_string_count"))},b[7]=C,b[8]=D,b[9]=A):A=b[9];var I;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(I=[],b[10]=I):I=b[10];k(A,I);b[11]!==G||b[12]!==r?(A=function(){var a=r!=null&&r.length>0&&!G;a&&((i||(i=d("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_image_load_count",1),i.bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_image_error_count",0),H(!1))},b[11]=G,b[12]=r,b[13]=A):A=b[13];I=A;b[14]!==r?(A=function(){c("FBLogger")("CometStoryAttachmentFooter").warn("Footer image failed to load: %s",r!=null?r:"unknown"),(i||(i=d("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_image_error_count",1),H(!0)},b[14]=r,b[15]=A):A=b[15];A=A;var J;b[16]!==G||b[17]!==r||b[18]!==A||b[19]!==I?(J=r!=null&&r.length>0&&!G?j.jsx(c("BaseRowItem.react"),{xstyle:m.footerImageContainer,children:j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,children:j.jsx(c("CometImage.react"),{alt:"Image",objectFit:"cover",onError:A,onLoad:I,src:r,xstyle:m.footerImage})})}):null,b[16]=G,b[17]=r,b[18]=A,b[19]=I,b[20]=J):J=b[20];A=J;b[21]!==a?(I=[m.root,a,!n&&m.rootDivider],b[21]=a,b[22]=I):I=b[22];J=F?m.containerWithFooterImage:m.container;b[23]!==e||b[24]!==h?(a=e!=null?j.jsx(c("BaseRowItem.react"),{verticalAlign:h!=null?"center":"top",xstyle:m.item,children:e}):null,b[23]=e,b[24]=h,b[25]=a):a=b[25];e=F?m.textWithFooterImage:m.item;b[26]!==s||b[27]!==w||b[28]!==y||b[29]!==D?(h=D!=null&&D.length>0?j.jsx(d("react-strict-dom").html.div,{"data-ad-rendering-role":"meta","data-testid":void 0,style:[(E&&w===!0||x&&w!==!0)&&s===""?m.metaWithNoHeadline:m.meta],children:j.jsx(c("FDSText.react"),{color:y,numberOfLines:1,type:"meta3",children:D})}):null,b[26]=s,b[27]=w,b[28]=y,b[29]=D,b[30]=h):h=b[30];x=f!=null&&m.hasBody;w=f!=null&&g===1&&m.hasBodyLineLimit1;b[31]!==x||b[32]!==w?(y=[m.body,x,w],b[31]=x,b[32]=w,b[33]=y):y=b[33];b[34]!==C?(f=C!=null&&C.length>0?j.jsx(d("react-strict-dom").html.span,{"data-ad-rendering-role":"description","data-testid":void 0,children:j.jsx(c("CometTextWithEntities.react"),{text:C,transforms:p})}):null,b[34]=C,b[35]=f):f=b[35];b[36]!==s?(x=s.toString(),b[36]=s,b[37]=x):x=b[37];b[38]!==x?(w=j.jsx(c("CometTextWithEntities.react"),{text:x,transforms:o}),b[38]=x,b[39]=w):w=b[39];b[40]!==t||b[41]!==w?(x=j.jsx(d("react-strict-dom").html.span,{"data-ad-rendering-role":"title","data-testid":void 0,children:j.jsx(c("FDSTextWithBadge.react"),{badgeAfter:t,children:w})}),b[40]=t,b[41]=w,b[42]=x):x=b[42];t=u!=null?u:2;b[43]!==g||b[44]!==f||b[45]!==x||b[46]!==t?(w=j.jsx(c("FDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:g,headline:x,headlineLineLimit:t,level:3}),b[43]=g,b[44]=f,b[45]=x,b[46]=t,b[47]=w):w=b[47];b[48]!==y||b[49]!==w?(u=j.jsx(d("react-strict-dom").html.div,{style:y,children:w}),b[48]=y,b[49]=w,b[50]=u):u=b[50];b[51]!==e||b[52]!==h||b[53]!==u?(g=j.jsxs(c("BaseRowItem.react"),{expanding:!0,useDeprecatedStyles:!0,xstyle:e,children:[h,u]}),b[51]=e,b[52]=h,b[53]=u,b[54]=g):g=b[54];b[55]!==q||b[56]!==F?(f=q!=null?j.jsx(c("BaseRowItem.react"),{xstyle:F?m.ctaWithFooterImage:m.item,children:q}):null,b[55]=q,b[56]=F,b[57]=f):f=b[57];b[58]!==A||b[59]!==J||b[60]!==a||b[61]!==g||b[62]!==f?(x=j.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:J,children:[A,a,g,f]}),b[58]=A,b[59]=J,b[60]=a,b[61]=g,b[62]=f,b[63]=x):x=b[63];b[64]!==I||b[65]!==x?(t=j.jsx(d("react-strict-dom").html.div,{style:I,children:x}),b[64]=I,b[65]=x,b[66]=t):t=b[66];y=t;b[67]!==y||b[68]!==s||b[69]!==v||b[70]!==B||b[71]!==z?(w=v!=null?j.jsx(c("CometPressable.react"),{display:"block",label:s,linkProps:B,onPress:z,overlayDisabled:!0,testid:void 0,xstyle:m.pressable,children:y}):y,b[67]=y,b[68]=s,b[69]=v,b[70]=B,b[71]=z,b[72]=w):w=b[72];return w}g["default"]=a}),98);
__d("TrackingNodeTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,FEED_STORY_MESSAGE_FLYOUT:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,PAGE_CALL_TO_ACTION_UNIT:224,TRANSLATION:225,FEED_STORY_ATTACHMENT_MISINFO_WARNING:226,RELATED_LOCAL_NEWS_ATTACHMENT_LINK:227,RELATED_LOCAL_NEWS_ATTACHMENT_SHARE:228,STORY_TIMESTAMP:229,STORY_HEADER:230,SPONSORED_STORY:231,EVENT_CTA_BUTTON:232,RELATED_PAGE_POSTS_ATTACHMENT_CLICK:233,RELATED_PAGE_POSTS_ATTACHMENT_SHARE:234,RELATED_PAGE_POSTS_ATTACHMENT_XOUT:235,RELATED_PAGE_POSTS_UNIT_XOUT:236,CAROUSEL_CARD_STORY:237,OFFERS_DETAILS_POPOVER:238,SPOTLIGHT:239,INSTREAM_CALL_TO_ACTION_BUTTON:240,INSTREAM_CALL_TO_ACTION_ATTACHMENT:241,SEARCH_AD_ATTACHMENT_CLICK:242,SEARCH_AD_CTA_CLICK:243,SEARCH_AD_OFFSITE_CLICK:244,MULTI_SHARE_GRID_EXPERIMENT_CARD_1:245,MULTI_SHARE_GRID_EXPERIMENT_CARD_2:246,MULTI_SHARE_GRID_EXPERIMENT_CARD_3:247,MULTI_SHARE_GRID_EXPERIMENT_CARD_4:248,MULTI_SHARE_GRID_EXPERIMENT_SEE_MORE:249,HOVERCARD:250,INSTANT_GAME_PLAYER:251,POLITICAL_AD_STORY_HEADER_CLICK:252,PHOTO_VOICE:253,PHOTO_TAG:254,ANDROID_PLAYSTORE_WATCH_AND_INSTALL_BUTTON:255,VIDEO_POLLING_IN_CREATIVE_CTA_BUTTON:256,VIDEO_SETTINGS:257,PLAYABLE_CALL_TO_ACTION_BUTTON:258,ATTACHMENT_FOOTER:259,LEAD_GEN_THANK_YOU_PAGE:260,SHOW_MENTIONS_PLUGIN:261,AD_BREAK_FULL_VIDEO_INDICATOR:262,INSTREAM_AD_IMAGE:263,INSTREAM_AD_CONTEXT:264,ATTACHMENT_FOOTER_DISCLAIMER:265,INSTREAM_LONGER_AD_CLICK_WATCH_AND_MORE:266,INSTREAM_POST_ROLL_LONGER_AD_ENDING_SCREEN:267,ACTIVATE_OFFER_CTA_BUTTON:268,INSTREAM_COLLECTION_AD_FOOTER_TITLE:269,INSTREAM_COLLECTION_AD_CONTEXT_FOOTER_SUBIMAGE:270,INSTREAM_COLLECTION_AD_DEFERRED_FOOTER_SUBIMAGE:271,WATCH_AND_MORE:272,INSTREAM_CONTEXT_CARD_IMAGE:273,INSTREAM_CONTEXT_CARD_HEADLINE:274,INSTREAM_CONTEXT_CARD_DISPLAY_LINK:275,INSTREAM_CONTEXT_CARD_STORY_MESSAGE:276,INSTREAM_CONTEXT_CARD_MAI_RATING:277,INSTREAM_DEFERRED_CTA_IMAGE:278,INSTREAM_DEFERRED_CTA_HEADLINE:279,INSTREAM_DEFERRED_CTA_DISPLAY_LINK:280,INSTREAM_DEFERRED_CTA_STORY_MESSAGE:281,BIZ_DISCO_PERSISTENT_CTA:282,STORY:301,PERMALINK_STORY:302,ARTICLE_CONTEXT_TRIGGER:303,LINK:304,ATTACHMENT_FOLLOW:305,SNOWFLAKE_STORY:306,SNOWFLAKE_PHOTO:307,BIRTHDAY_REMINDER:308,FRIEND_REQUEST:309,PYMK_JEWEL:310,BROWSE_RESULT:311,PROFILE_LINK:312,USER_PROFILE_PIC:313,GROUP_MEMBER:314,GROUP_SUGGESTION:315,REACTION_BROWSER:316,GROUP_MEMBER_SUGGESTION:317,PROFILE_NAV_ITEM:318,NOTIFICATION_JEWEL:319,NOTIFICATION_ITEM:320,SNACKS:321,PROFILE_TILE:322,FRIEND_PROFILE_TILE:323,INTRO_PROFILE_TILE:324,SUGGEST_FRIENDS_DIALOG:325,APP_COLLECTION:326,ALL_FRIENDS_COLLECTION:327,MUTUAL_FRIENDS_COLLECTION:328,OUTGOING_FRIEND_REQUESTS:329,INSTANT_ARTICLE_RECIRCULATION_STORY:330,FRIEND_CENTER_PYMK:331,PARTICIPANTS_DIALOG:332,FEED_COMPOSER:333,CONFIRM_FRIEND_REQUEST:334,GENERIC_PROFILE_BROWSER:335,INSTANT_ARTICLE_NATIVE_STORY:336,INSTANT_EXPERIENCE_DOCUMENT:337,LIVE_VIDEO_CONTEXT:338,COMMENT_ACTION:339,ATTACHED_STORY:340,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_1:341,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_2:342,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_3:343,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_4:344,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_5:345,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_6:346,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_7:347,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_8:348,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_9:349,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_10:350,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_11:351,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_12:352,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_13:353,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_14:354,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_15:355,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_16:356,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_17:357,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_18:358,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_19:359,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_20:360,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_21:361,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_22:362,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_23:363,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_24:364,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_25:365,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_26:366,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_27:367,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_28:368,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_29:369,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_30:370,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_31:371,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_32:372,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_33:373,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_34:374,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_35:375,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_36:376,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_37:377,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_38:378,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_39:379,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_40:380,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_41:381,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_42:382,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_43:383,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_44:384,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_45:385,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_46:386,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_47:387,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_48:388,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_49:389,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_50:390,AGGREGATED_STORY:391,THREADED_POSITION:392,AR_ADS_OPEN_CAMERA:393,AR_ADS_TAP_TO_CAMERA:394,AR_ADS_CTA_SWIPE:395,WORK_GALAHAD_NAV_ITEM:400,WORK_GALAHAD_TAB_HOME:401,WORK_GALAHAD_TAB_NOTIFICATIONS:402,WORK_GALAHAD_TAB_CHATS:403,WORK_GALAHAD_TAB_PROFILE:404,WORK_GALAHAD_LIST_SHORTCUTS:405,WORK_GALAHAD_LIST_GROUPS:406,WORK_GALAHAD_LIST_PEOPLE:407,WORK_GALAHAD_TAB_ADMIN_PANEL:408,WORK_GALAHAD_TAB_RESELLER_CONSOLE:409,HSCROLL_LEFT_ARROW:410,HSCROLL_RIGHT_ARROW:411,GET_SHOWTIMES_CALL_TO_ACTION:412,INTERESTED_CALL_TO_ACTION:413,OTHER_CALL_TO_ACTION:414,WORK_GALAHAD_TAB_DIRECT:415,WORK_GALAHAD_LIST_BOTS:416,INTERACTIVE_POLL_OPTION:417,INTERACTIVE_POLL_BACKGROUND_CARD:418,HSCROLL_PREVIOUS_BUTTON:419,HSCROLL_NEXT_BUTTON:420,WORK_GALAHAD_TAB_MEETING:421,WORK_GALAHAD_LIST_SEE_FIRST_GROUPS:422,AR_ADS_CTA:423,PBIA_PROFILE:424,PRODUCT_TAG:425,WAM_ENTRY_POINT:426,WORK_GALAHAD_TAB_CALL:427,WORK_GALAHAD_TAB_FILES:428,VIEW_PRODUCTS:429,USER_TAG:430,VIDEO_VIEWER_LIST:431,PRODUCT_DETAIL_PAGE:432,SHOPPING_SHEET_BUTTON:433,WORK_TEAMWORK_TAB_SEARCH:434,WORK_TEAMWORK_TAB_EXPLORE:435,WORK_GALAHAD_TAB_TOOLS:436,WORK_GALAHAD_TAB_VC:437,INSTAGRAM_EXPLORE:438,REMINDER_AD_CTA_BUTTON:439,CTC_POST_CLICK_CTA:440,KNOWLEDGE_NOTE:441,CTA_MARGIN_AREA:442,WORKPLATFORM_TAB:443,FB_SHOPS_PRODUCT:444,FB_SHOPS_FOOTER:445,WORK_GARDEN_TAB_HOME:446,KNOWLEDGE_COLLECTION:447,COMMUNITY_VIEW_INLINE:448,MORE_VIDEOS_ON_WATCH:449,VIDEO_AD_VIEWER:450,BUSINESS_CONTACT_THIRD_PARTY:451,BUSINESS_CONTACT_PHONE:452,BUSINESS_CONTACT_MESSAGE:453,BUSINESS_CONTACT_WEBSITE:454,BUSINESS_CONTACT_WHATSAPP:455,MEDIA_TO_DESTINATION:456,BUSINESS_IMAGE:460,FACEBOOK_REELS_LIKE_BS_FLOATING_CTA:461,FACEBOOK_REELS_COMMENT_BS_FLOATING_CTA:462,FACEBOOK_REELS_PROFILE_FLOATING_CTA:463,FACEBOOK_GENERIC_FLOATING_CTA:464,FACEBOOK_GENERIC_FLOATING_CTA_COMMENT:527,FACEBOOK_GENERIC_FLOATING_CTA_PERMALINK:535,FACEBOOK_GENERIC_FLOATING_CTA_GROUP:550,WORK_GALAHAD_TAB_WATCH:465,IG_STORY_SHOWCASE_ADS_CLICK:466,FACEBOOK_REELS_POST_LOOP_CONTEXT_CARD_CLICK:467,FACEBOOK_REELS_POST_LOOP_DEFERRED_CARD_CLICK:468,COLLECTION_PRODUCT_TILE:469,WORKPLACE_EMBED_HEADER:470,WORKPLACE_EMBED_UFI:471,WORKPLACE_EMBED_COMMENT_CTA:472,INLINE_COMMENT:473,STICKER_ADS_CTA_BUTTON:474,STICKER_ADS_TOOLTIP:475,STICKER_ADS_PROFILE_NAME:476,FB_NOTE:477,WORKPLACE_KNOWLEDGE_LIBRARY:478,SHOP_TILE:479,WORK_GALAHAD_TAB_SHIFTS:480,FACEBOOK_REELS:482,FACEBOOK_REELS_BANNER_ADS_CLICK:483,WORKSTREAM:484,EXPLORE_GRID_ADS_CTA_BUTTON:485,EXPLORE_GRID_ADS_PROFILE_NAME:486,FACEBOOK_REELS_BANNER_ADS_CLICK_PROFILE:487,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT:488,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT_MESSAGE_CTA:489,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_SELL_PILL:490,COMMERCE_MARKETPLACE_SELLING_CREATE_LISTING:491,COMMERCE_MARKETPLACE_CREATE_LISTING_DROPDOWN:492,COMMERCE_MARKETPLACE_YOUR_COMMERCE_PROFILE:493,COMMERCE_MARKETPLACE_FEED_CARD:494,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_COMPOSER:496,COMMERCE_MARKETPLACE_EDIT_LISTING_DROPDOWN:497,COMMERCE_MARKETPLACE_YOUR_LISTING_EDIT_BUTTON:498,COMMERCE_MARKETPLACE_DELETE_LISTING_DROPDOWN:499,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB:501,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB_AVAILABLE_LISTING:502,COMMERCE_MARKETPLACE_YOUR_LISTING_DELETE_BUTTON:503,COMMERCE_MARKETPLACE_SELL_HUB:506,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_YOUR_LISTINGS_PLINK:507,COMMERCE_MARKETPLACE_YOU_SURFACE_SELLING_SECTION:511,COMMERCE_MARKETPLACE_SELLING_ACTIVITY_MODULE:512,COMMERCE_MARKETPLACE_SURFACE_HIGHLIGHTS_MODULE:513,COMMERCE_YOU_SURFACE_COMMERCE_PROFILE:514,COMMERCE_BUY_SELL_GROUPS_PDP_ACTION_BAR:515,COMMERCE_MARKETPLACE_LIST_IN_MORE_PLACES_CTA:516,COMMERCE_MARKETPLACE_UNIFIED_SEE_POSTS_ACTION_CTA:517,COMMERCE_MARKETPLACE_SELLER_LISTING_NOTICE:518,COMMERCE_MARKETPLACE_BUYER_SELLER_FLYWHEEL:519,COMMERCE_MARKETPLACE_MANAGE_YOUR_LISTINGS_FEED_UNIT:520,COMMERCE_MARKETPLACE_ACTIVE_LISTINGS_FEED_UNIT:521,COMMERCE_MARKETPLACE_BAN_WARNING_BOTTOMSHEET:522,COMMERCE_MARKETPLACE_COMMERCE_PROFILE_FEED_CARD:523,COMMERCE_SHOPS__NAVIGATION_BAR__CART_BUTTON:600,COMMERCE_SHOPS__NAVIGATION_BAR__STOREFRONT_ENTRY:601,FACEBOOK_REELS_ADS_END_SCENE:495,SAVES_LIST_CELL:500,CONTEXTUAL_TRAY:504,CONTEXTUAL_TRAY_CARD:505,WORK_GALAHAD_TAB_CONTENT_MANAGER:508,PLINK:509,KNOWLEDGE_BUNDLE:510,PAPER_DOCUMENT_CASE:524,ADS_PRODUCT_PAGE:525,ADS_TEXT_OVERLAY:526,FACEBOOK_REELS_H_SCROLL:528,CONTEXTUAL_FEED_PROFILE:529,CONTEXTUAL_FEED_SEARCH:530,SEARCH_GRID_ADS_CTA_BUTTON:531,SEARCH_GRID_ADS_PROFILE_NAME:532,WHATSAPP_CTA_BUTTON_IN_IAB:533,TOOLTIP_CTA:534,FACEBOOK_REELS_MULTI_CARD_END_CARD:536,FACEBOOK_REELS_ADS_SWIPE_LEFT:537,AD_EXTENSIONS_CARD:41,COLLECTION_HERO_MEDIA:549,COLLECTION_TILE:538,COLLECTION_HSCROLL_TILE:539,HIDE_AD:540,REPORT_AD:541,WAIST_AD:542,BOTTOM_SHEET:543,SHARE_BROWSER:544,WORK_MEETINGS_TAB_HOME:545,IAB_FOOTER:546,IAB_PRODUCT_TILE:547,ATTRIBUTION_ROW_PILL:548,WORK_GALAHAD_TAB_EVENTS:551,UFI_COPY_LINK:552,WATCH_AND_NAVIGATION:553,WATCH_AND_NAVIGATION_CTA:554,WATCH_AND_NAVIGATION_SE:555,WATCH_AND_NAVIGATION_PE:556,AD_ACTION_CHIP:557,MUTE:558,EXPAND_TO_FULLSCREEN:559,THREE_DOTS:560,COMMENT_TIMESTAMP:561,SPONSORED_LABEL:562,UNDO:563,FACEBOOK_REELS_ADS_CTA_LONG_PRESS:648,FACEBOOK_REELS_ADS_MIDSCENE_LONG_PRESS:649,FACEBOOK_REELS_ADS_TOOLTIP:564,FACEBOOK_REELS_ADS_CAPTION_BROWSE:565,FACEBOOK_REELS_ADS_LONG_PRESS:566,FACEBOOK_FEED_ADS_LONG_PRESS:642,PROFILE_TAB_PRODUCT_TILE:567,FACEBOOK_REELS_ADS_CREATIVE:568,VIDEO_HIGHLIGHTS:569,VIDEO_ENDSCENE_CARD:570,SOCIAL_CONTEXT_SHEET:571,DYNAMIC_LANDING_PAGE:572,DYNAMIC_LANDING_PAGE_CTA:573,DYNAMIC_LANDING_PAGE_SE:574,DYNAMIC_LANDING_PAGE_PE:575,DYNAMIC_LANDING_PAGE_PE_SAVE_FOR_LATER:576,DYNAMIC_LANDING_PAGE_PE_CTA:577,DYNAMIC_LANDING_PAGE_PROFILE_PHOTO:578,DYNAMIC_LANDING_PAGE_PROFILE_NAME:579,DYNAMIC_LANDING_PAGE_SE_CTA:626,BIZ_AI_AGENT_ACTION_CHIP:580,BIZ_AI_AGENT_IAB_ACTION_CHIP:651,WATCH_AND_NAVIGATION_FOOTER:581,END_SCENE_CTA:582,END_SCENE_TOOLTIP_CTA:583,END_SCENE_PROFILE_PHOTO:584,FACEBOOK_REELS_ADS_POST_SCROLL:585,SKIP_BUTTON:586,PRODUCT_RECOMMENDER_PRODUCT_TILE:587,HALF_SHEET_EXPANSION:588,DESTINATION_AUTOMATION_IX_LANDING_PAGE:589,FEED_PHONE_NUMBER_PERMALINK:590,FINDS_PRODUCT_COMPARE_UNIT:591,PLAY_PAUSE_BUTTON:592,METADATA_BOTTOMSHEET_CTA_BUTTON:593,PROFILE_AND_BROWSE_PROFILE_CLICK:594,FB_REELS_SINGLE_IMAGE_MEDIA_TAP:595,FB_REELS_MID_SCENE_CTA:596,FB_REELS_MULTIADS_MEDIA:597,FB_REELS_ADS_PROFILE_BROWSE:598,COMMENT_KEYWORDS_IN_PRECLICK:599,COMMENT_KEYWORSD_IN_DYNAMIC_LANDING_PAGE:606,FB_FEED_HEADER_ENTITY_BASED_METADATA:602,WATCH_AND_INSTALL_APP_DETAILS_PAGE_CTA:603,FB_REELS_END_SCENE_CTA:604,SEE_LESS:605,NON_CTA_VIDEO_AD:607,MARKETPLACE_ADS_HEADER_MINI_PAGE:608,MARKETPLACE_ADS_HEADER_MINI_PAGE_PAGE_CLICK:609,MARKETPLACE_ADS_HEADER_MINI_PAGE_LINK_CLICK:610,COMMENT_PRODUCT_LINK:611,COMMENT_PRODUCT_LINK_PREVIEW:612,FACEBOOK_REELS_ADS_SCRUBBER_SWIPE_UP:613,FACEBOOK_REELS_ADS_PRODUCT_EXTENSIONS:614,PAGE_LIKE_AD_CTA:615,AD_UGC_FEED_EXTENSION_END_CARD:616,AD_UGC_FEED_EXTENSION_CARD:617,AD_UGC_POST_VIEWER_CTA:618,IG_X_AND_BROWSE:619,IG_X_AND_BROWSE_WITH_SCREENSHOT:620,IG_FEED_DESTINATION_INFO:621,IG_INSTREAM_VIEWER_CTA:622,IG_INSTREAM_RETURN_TO_AD_VIEWER_CTA:623,IG_INSTREAM_RETURN_TO_AD_CTA:624,X_AND_BROWSE_PLACEHOLDER_WEBVIEW:625,GROUP_TOPICS_STORY_TAG:628,PAGE_REVIEWS_KEYWORDS_IN_PRECLICK:629,WATCH_AND_NAVIGATION_BLOKS:630,DYNAMIC_LANDING_PAGE_FULLSCREEN:631,DYNAMIC_LANDING_PAGE_PRIMITIVES_SE:632,IG_STORY_PRODUCT_STICKER:633,FB_REELS_IMAGE_CTA:634,IG_REELS_CONSIDERATION_MID_CARD:635,AD_LIKE:636,IG_OVERFLOW_MENU_CTA:637,IG_COMMENT_LINK_PREVIEW_CARD:638,BAU_COLLECTION_LITE:639,BAU_PDP_LITE:640,IG_MEDIA_LONG_PRESS:641,INSTANT_EXPERIENCE_PRODUCT:643,IG_REELS_MIDSCENE_PILL:644,IG_COMMENT_THIRD_PARTY_REVIEW:645,FB_REELS_ADS_PRODUCT_EXTENSIONS_CTA_END_SCENE:646,METAMATE_IN_WORKPLACE:647,AFFILIATE_PRODUCT_BANNER:650});f["default"]=a}),66);
__d("TrackingNodes",["DataAttributeUtils","TrackingNodeConstants","TrackingNodeTypes","decodeTrackingNode","encodeTrackingNode","react"],(function(a,b,c,d,e,f,g){var h;h||c("react");var i={types:c("TrackingNodeTypes"),BASE_CODE_START:d("TrackingNodeConstants").BASE_CODE_START,BASE_CODE_END:d("TrackingNodeConstants").BASE_CODE_END,BASE_CODE_SIZE:d("TrackingNodeConstants").BASE_CODE_SIZE,PREFIX_CODE_START:d("TrackingNodeConstants").PREFIX_CODE_START,PREFIX_CODE_END:d("TrackingNodeConstants").PREFIX_CODE_END,PREFIX_CODE_SIZE:d("TrackingNodeConstants").PREFIX_CODE_SIZE,ENCODE_NUMBER_MAX:d("TrackingNodeConstants").ENCODE_NUMBER_MAX,ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE:d("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE,ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE:d("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE,TN_URL_PARAM:d("TrackingNodeConstants").TN_URL_PARAM,encodeTN:c("encodeTrackingNode"),decodeTN:c("decodeTrackingNode"),parseTrackingNodeString:function(a){var b=[];while(a.length>0){var c=i.decodeTN(a);if(c.length==1)return[];b.push(c[1]);a=a.substring(c[0])}return b},getTrackingInfo:function(a,b){return'{"tn":"'+i.encodeTN(a,b).replace("\\","\\\\")+'"}'},addDataAttribute:function(a,b,d){if(b===void 0)return;["data-ft","data-gt"].forEach(function(e){var f;if(a.getAttribute)f=c("DataAttributeUtils").getDataAttribute(a,e)||"{}";else if(a.props)f=a.props[e]||"{}";else return;var g=i.encodeTN(b,d);try{f=JSON.parse(f);if(f.tn&&f.tn===g)return;f.tn=g;if(a.setAttribute)a.setAttribute(e,JSON.stringify(f));else if(a.props)a.props[e]=JSON.stringify(f);else return}catch(a){}})}};f.exports=i}),34);
__d("getAggregatedStoryTrackingNodeIndex",["TrackingNodes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("TrackingNodes").parseTrackingNodeString(a.join(""));var b=0;for(var d=0;d<a.length;d++)if(a[d][0]===340&&a[d].length>1){b=a[d][1];return b}return b}g["default"]=a}),98);
__d("useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"};e.exports=a}),null);
__d("useCometFeedStoryAttachmentMatchDebugger",["CometFeedStoryMatchDebuggerDispatcherContext","CometRelay","react","react-compiler-runtime","useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext,k=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion.graphql"),a);var f=a==null?void 0:a.__typename,g=a==null?void 0:a.is_prod_eligible,i=j(c("CometFeedStoryMatchDebuggerDispatcherContext")),l;e[0]!==i||e[1]!==g||e[2]!==f?(a=function(){if(f!=null&&g===!1){i.add(f);return function(){i.remove(f)}}},l=[i,g,f],e[0]=i,e[1]=g,e[2]=f,e[3]=a,e[4]=l):(a=e[3],l=e[4]);k(a,l)}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){"undefined"!=typeof g?b():(b(),a.FileSaver={exports:{}}.exports)})(this,function(){function b(b,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(!1,a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){},d.send()}function d(b){var a=new XMLHttpRequest;a.open("HEAD",b,!1);try{a.send()}catch(a){}return 200<=a.status&&299>=a.status}function e(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(a)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(a,b,g){var h=f.URL||f.webkitURL,i=document.createElement("a");b=b||a.name||"download",i.download=b,i.rel="noopener","string"==typeof a?(i.href=a,i.origin===location.origin?e(i):d(i.href)?c(a,b,g):e(i,i.target="_blank")):(i.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(i.href)},4e4),setTimeout(function(){e(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,g){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(b(a,g),f);else if(d(a))c(a,f,g);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){e(h)})}}:function(e,a,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof e)return c(e,a,b);a="application/octet-stream"===e.type;b=/constructor/i.test(f.HTMLElement)||f.safari;var g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&b)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var a=h.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=a:location=a,d=null},h.readAsDataURL(e)}else{var i=f.URL||f.webkitURL,j=i.createObjectURL(e);d?d.location=j:location.href=j,d=null,setTimeout(function(){i.revokeObjectURL(j)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof h&&(h.exports=g)})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("file-saver",["file-saver-2.0.2"],(function(a,b,c,d,e,f){e.exports=b("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);/*FB_PKG_DELIM*/
__d("TrustedTypesChromecastScriptURLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"];function i(a){var b=h.join("|");b=new RegExp("^chrome-extension://(?:null|"+b+")/cast_sender\\.js$");return b.test(a)}a={createScriptURL:function(a){if(i(a))return a;throw c("err")("Violated policy TrustedTypesChromecastScriptURLPolicy: "+a+" is not a Chromecast extension URI.")}};b=c("TrustedTypes").createPolicy("chromecast-extension-uri",a);d=b;g["default"]=d}),98);
__d("CastingChromecastAPI",["TrustedTypesChromecastScriptURLPolicy"],(function(a,b,c,d,e,f,g){"use strict";var h=3*60*1e3,i=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],j=null;b=function(a){var b=a.appID,c=a.receiverListener,d=a.sessionListener;return l().then(function(a){var e=new a.ApiConfig(new a.SessionRequest(b),d,c,a.AutoJoinPolicy.ORIGIN_SCOPED,a.DefaultActionPolicy.CAST_THIS_TAB);return new Promise(function(b,c){a.initialize(e,b,c)})})};d=function(a){return l().then(function(b){b.addReceiverActionListener(function(c,d){switch(d){case b.ReceiverAction.CAST:a.onCast(c);break;case b.ReceiverAction.STOP:a.onStop();break}})})};e=function(a){return l().then(function(b){var c=new b.SessionRequest(a,[b.Capability.VIDEO_OUT,b.Capability.AUDIO_OUT],h);return new Promise(function(a,d){b.requestSession(a,d,c)})})};f=function(a){return l().then(function(b){return a===b.ReceiverAvailability.AVAILABLE})};var k=function(){return l().then(function(a){return a.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},l=function(){if(j)return j;if(!a.chrome){j=Promise.reject({code:"not_supported",description:null,details:null});return j}if(a.chrome.cast&&a.chrome.cast.isAvailable){j=Promise.resolve(a.chrome.cast);return j}j=Promise.resolve().then(function(){return m()}).then(function(b){return new Promise(function(d,e){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=b;a.__onGCastApiAvailable=function(b,c){c?e(c):d(a.chrome.cast)};var f=document.createElement("script");f.onerror=e;if(b==null){e({code:"extension_not_available",description:null,details:null});return}else f.src=c("TrustedTypesChromecastScriptURLPolicy").createScriptURL(o(b));var g=document.head||document.documentElement;if(g==null){e({code:"extension_no_casting_script",description:null,details:null});return}g.appendChild(f)})});return j};async function m(){for(var a=0;a<i.length;a++){var b=i[a],c=await n(b);if(c)return b}return null}function n(a){return new Promise(function(b,c){c=o(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()})}function o(a){return"chrome-extension://"+a+"/cast_sender.js"}d={addReceiverListener:d,getDefaultAppID:k,getIsAvailable:f,getSession:e,initialize:b};k=d;g.default=k}),98);
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1885117")}),98);
__d("CastingChromecastSession",["FBLogger","Promise","err","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d){var e=this;this.$3=null;this.$4=[];this.$5=[];this.$6=[];this.$7=[];this.$8=[];this.$9=[];this.$10=[];this.$11=[];this.$12=function(a,b){if(a===e.$2){var d=e.$4.slice();d.forEach(function(a){a(b)})}else e.$6.slice().forEach(function(b){b(c("err")("Namespace does not match. Expected "+e.$2+" but received "+a),"CastingChromecastSession._onMessageReceived")})};this.$1=a;this.$2=b;this.$3=d;d.addMessageListener(this.$2,this.$12)}var d=a.prototype;d.destroy=function(){var a=this.$3;a!=null&&(a.status!=null&&a.status!=="disconnected"&&c("FBLogger")("comet_cast_sender").mustfix("Destroying receiver session that is not disconnected. Status, %s",a.status),a.removeMessageListener(this.$2,this.$12));this.$3=null};d.isCasting=function(){return this.$3!=null};d.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"};d.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"};d.disconnect=function(){var a=this;this.$5.slice().forEach(function(a){a()});return new(h||(h=b("Promise")))(function(b,c){a.$3!=null?a.$3.stop(b,c):b()})["catch"](function(b){if(a.$3!=null&&a.$3.status!=="stopped"){a.$6.slice().forEach(function(a){a(b,"CastingChromecastSession.disconnect")});throw b}})["finally"](function(){var b=a.$3;a.$3=null;b&&b.removeMessageListener(a.$2,a.$12);a.$7.slice().forEach(function(a){a()})})};d.getVolume=function(){var a=this.$13();return a?a.level:null};d.getFriendlyName=function(){return this.$14()};d.setVolume=function(a){var d=this,e=this.$3;return new(h||(h=b("Promise")))(function(b,d){if(e==null){d(c("err")("Cannot set volume without a session"));return}e.setReceiverVolumeLevel(a,b,d)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.setVolume")});throw a})};d.isMuted=function(){var a=this.$13();return a?a.muted:null};d.mute=function(){return this.$15(!0)};d.unmute=function(){return this.$15(!1)};d.sendMessage=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The message can not be sent without a session"));return}f.sendMessage(d.$2,a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.sendMessage")});throw a})};d.$13=function(){var a;a=(a=this.$3)==null||(a=a.receiver)==null?void 0:a.volume;return a==null?null:a};d.$14=function(){var a;return((a=this.$3)==null?void 0:a.receiver.friendlyName)||null};d.$15=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The muted state can not be set without a session"));return}f.setReceiverMuted(a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession._setIsMuted")});throw a})};d.onMessage=function(a){var b=this.$4;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnecting=function(a){var b=this.$5;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onError=function(a){var b=this.$6;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnected=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoading=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoaded=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPlaying=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPaused=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a!=null&&typeof a==="object"&&typeof a.code==="string"&&a.code===b}function b(a){return a!=null&&typeof a==="object"&&typeof a.code==="string"?c("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:a.code})):c("getErrorSafe")(a)}function d(a,b){a.metadata==null&&(a.metadata=new(c("ErrorMetadata"))());var d=a.metadata;b=b==null?void 0:b.videoID;b!=null&&d.addEntries(["COMET_VIDEO","VIDEO_ID",b]);return a}g.isChromecastError=a;g.getCastingErrorSafe=b;g.appendCastingMetadataToExpandedError=d}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843753");b=d("FalcoLoggerInternal").create("connected_tv_logging",a);e=b;g["default"]=e}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=a,this.$2=b,this.$4=!1,this.$3=!1,this.$5=new Set()}var e=a.prototype;e.init=function(){if(this.$6!=null)return(i||(i=b("Promise"))).reject(c("err")("Scanner can only be initialized once."));this.$6=this.$16();return this.$6};e.ready=function(){return this.$6==null?(i||(i=b("Promise"))).reject(c("err")("Scanner should be initialized.")):this.$6};e.hasSupport=function(){return this.$3};e.hasFoundReceiver=function(){return this.$4};e.getSession=function(){var a=this;if(!this.$4)return(i||(i=b("Promise"))).reject(c("err")("No receivers found"));this.$13.slice().forEach(function(a){a()});return this.$17().then(function(b){var c=a.$18(b);a.$5.add(c);a.$14.slice().forEach(function(a){a(c)});return c})["catch"](function(b){a.$10.slice().forEach(function(a){a()});a.$11.slice().forEach(function(a){a()});throw b})};e.$16=function(){var a=this;this.$3=!0;return this.$19().then(function(b){c("vulture")("AemwobFsly0cl63TGBtiL5y7qig=");return a.$20()}).then(function(b){a.$9.slice().forEach(function(a){a()})}).then(function(b){return a.$21()})["catch"](function(b){!d("CastingErrorUtils").isChromecastError(b,"not_supported")&&!d("CastingErrorUtils").isChromecastError(b,"extension_not_available")&&!d("CastingErrorUtils").isChromecastError(b,"extension_no_casting_script")&&a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._init")});throw b})};e.$21=function(){var a=this,d=this.$1;if(d==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var e=function(b){var c=a.$18(b);a.$14.slice().forEach(function(a){a(c)})},f=function(b){c("promiseDone")(c("CastingChromecastAPIWrapper").getIsAvailable(b).then(function(b){a.$4=b,a.$15.slice().forEach(function(b){b({foundReceiver:a.$4})})}))};return c("CastingChromecastAPIWrapper").initialize({appID:d,receiverListener:f,sessionListener:e}).then(function(){})["catch"](function(b){a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._initializeApi")});throw b})};e.$19=function(){var a=this;return this.$1!=null?(i||(i=b("Promise"))).resolve():c("CastingChromecastAPIWrapper").getDefaultAppID().then(function(b){a.$1=b})};e.$17=function(){var a=this.$1;if(a==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var d=(h||(h=c("performanceAbsoluteNow")))();c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}});return c("CastingChromecastAPIWrapper").getSession(a).then(function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d)}});return a})["catch"](function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d),session_failure_code:typeof a.code==="string"?a.code:null,session_failure_description:a.description}});throw a})};e.$18=function(a){var b=this,d=new(c("CastingChromecastSession"))(this.$1||"",this.$2||"",a),e=d.onDisconnecting(function(){b.$12.slice().forEach(function(a){a()})}),f=d.onError(function(a,c){b.$8.slice().forEach(function(b){b(a,c)})}),g=d.onDisconnected(function(){b.$11.slice().forEach(function(a){a()}),b.$5["delete"](d),e.remove(),f.remove(),g.remove()});return d};e.$20=function(){var a=this;return c("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(b){a.$7.slice().forEach(function(a){a(b)})},onStop:function(){a.$5.forEach(function(a){return a.disconnect()})}})};e.onCast=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onError=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onInit=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionCancelled=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnecting=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionRequested=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingState",[],(function(a,b,c,d,e,f){"use strict";function a(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function b(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function c(){return{type:"photo"}}function d(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}f.initialCastingState=a;f.initialVideoChannelExperienceState=b;f.initialPhotoExperienceState=c;f.initialPhotoAlbumExperienceState=d}),66);
__d("TV2PhotoAlbumReportedState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumReportedState"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumReportedState")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumReportedState:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"media_state",js:"media_state",typ:m("MediaState")}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:d([{json:"photo_state",js:"photo_state",typ:c(void 0,m("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:c(void 0,m("VideoMediaState"))}],"any"),PhotoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:m("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:m("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};e.exports={TV2PhotoAlbumReportedStateToJson:b,toTV2PhotoAlbumReportedState:a}}),null);
__d("TV2UniqueIDs",["guid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b;b=(b=h.get(a))!=null?b:0;h.set(a,b+1);return""+a+b.toString(36)}function a(){return i("id_tv2_vcr_")}function b(){return i("id_tv2_veqe_")}function d(){return i("id_tv2_toast_")}function e(){return i("id_tv2_rvr_")}function f(){return c("guid")()}g.makeTV2VideoCastRequestID=a;g.makeTV2VideoExperienceQueueEntryID=b;g.makeTV2ToastID=d;g.makeTV2RelatedVideosRequestID=e;g.makeTV2ChainingSessionID=f}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(a,b,c,d,e,f){"use strict";function b(b){try{b=new RegExp("\\b"+b+"=([^&]*)");b=b.exec(a.location.search);return!b||b[1]==null?null:b[1]}catch(a){return null}}f["default"]=b}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return c("getTV2QueryStringCheatcodeValue")(a)==="1"}catch(a){return!1}}g["default"]=a}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("debugging")}g["default"]=a}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===null?"null":a===""?"empty string":Array.isArray(a)?"array":typeof a==="object"?"object with keys: "+JSON.stringify(Object.keys(a).sort()):typeof a}function i(a,b,d){if(typeof a!=="string"||a===""){var e=c("err")("Message parse error: %s expected JSON string, got %s",d,h(a));throw e}try{e=JSON.parse(a);return b(e,d)}catch(b){if("messageFormat"in b&&typeof b.messageFormat==="string"&&"messageParams"in b&&Array.isArray(b.messageParams))throw b;else{a=c("err")("Message parse error: %s expected JSON string, got error: %s",d,b.message);throw a}}}function j(a,b){if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function b(a,b){if(a==null)return null;if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function k(a,b){if(!Array.isArray(a)){b=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw b}return a}function e(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.map(function(a){return m(a,b)})}function l(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.filter(Boolean).map(function(a){return m(a,b)})}function m(a,b){if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected non-empty string, got %s",b,h(a));throw b}return a}function n(a,b){if(a==null)return null;if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected optional non-empty string, got %s",b,h(a));throw b}return a}function o(a,b){if(a==null)return null;if(typeof a!=="string"){b=c("err")("Message parse error: %s expected optional string, got %s",b,h(a));throw b}return a}function p(a,b){if(a==null)return null;if(!(typeof a==="number"&&Number.isFinite(a)||typeof a==="string"&&a!=="")){b=c("err")("Message parse error: %s expected optional non-empty string or number, got %s",b,h(a));throw b}return a}function q(a,b){if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected finite number, got %s",b,h(a));throw b}return a}function f(a,b){if(a==null)return null;if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected optional finite number, got %s",b,h(a));throw b}return a}function r(a,b){return a==="true"||a===!0}function s(a,b,c){c===void 0&&(c=!1);return a==null?c:a===!0}function t(a,b){if(typeof a!=="boolean"){b=c("err")("Parse error: %s expected boolean, got %s",b,h(a));throw b}return a}function u(a,b){a=a!=null?j(a,b):null;if(a==null)return null;var c=m(a.uri,b+".uri"),d=q(a.width,b+".width");a=q(a.height,b+".height");return{height:a,uri:c,width:d}}function v(a,b){a=a!=null?j(a,b):null;if(a==null)return null;a=j(a.image,b+".image");a=m(a.uri,b+".image.uri");return{uri:a}}function w(a,b){if(a==null)return null;a=k(a,b);return a.map(function(a,b){return m(a,"["+b+"]")})}function x(a,b){return i(a,function(b,a){b=k(b,a);return b.map(function(b,c){c=a+"."+c;return z(j(b,c),c)})},b)}function y(a,b){return i(a,function(b,a){return z(j(b,a),a)},b)}function z(b,e){var f=m(b.access_token,e+".access_token"),g=String(p(b.app_id,e+".app_id")),h=o(b.app_version,e+".app_version"),i=u(b.background_image,e+".background_image"),j=n(b.channel_token,e+".channel_token"),k=n(b.channel_session_id,e+".channel_session_id"),q=o(b.end_cursor,e+".end_cursor")||null,r=s(b.from_next_video_query,e+".from_next_video_query"),t=s(b.is_ad,e+".is_ad"),x=w(b.dash_prefetched_representation_ids,e+".dash_prefetched_representation_ids"),y=n(b.entry_point,e+".entry_point"),z=n(b.player_origin===""?null:b.player_origin,e+".player_origin"),A=n(b.player_suborigin===""?null:b.player_suborigin,e+".player_suborigin"),B=v(b.preferred_thumbnail,e+".preferred_thumbnail"),C=n(b.video_channel_id,e+".video_channel_id"),D=m(b.root_video_id,e+".root_video_id"),E=c("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(a.location.search):null;E=E&&E[1]?E[1]:m(b.video_id,e+".video_id");b=b.tracking_codes!=null?l(b.tracking_codes,e+".tracking_codes"):null;return{accessToken:f,appID:g,appVersion:h,backgroundImage:i,chainingEnabled:!1,channelSessionID:k,channelToken:j,dashPrefetchedRepresentationIDs:x,endCursor:q,entryPoint:y,fromNextVideoQuery:r,isAd:t,playerOrigin:z,playerSuborigin:A,preferredThumbnail:B,rootVideoID:D,startTimestamp:0,trackingCodes:b,videoCastRequestID:d("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:C,videoID:E}}function A(a,b){a=j(a,b);b=m(a.type,b+".type");switch(b){case"version_response":return a;case"version_launch_response":return a;case"experience_state":return a;case"command_result":return a;case"duration_change":return a;case"status_update":return a;case"experience_status_update":return a}b=c("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",h(a));throw b}function B(a){return i(a,A,".")}function C(a){a=B(a);switch(a.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return a}a=c("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",h(a));throw a}function D(a){return d("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(a)}g.parseJSONString=i;g.parseObject=j;g.parseOptionalObject=b;g.parseArray=k;g.parseStringArray=e;g.parseTrackingCodes=l;g.parseNonEmptyString=m;g.parseOptionalNonEmptyString=n;g.parseOptionalString=o;g.parseNumber=q;g.parseOptionalNumber=f;g.parseOptionalStringishBoolean=r;g.parseOptionalBoolean=s;g.parseBoolean=t;g.parseVideoCastingPayloadBackgroundImage=u;g.parseVideoCastingPayloadPreferredThumbnail=v;g.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=x;g.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=y;g.parseVideoCastingPayloadAsTV2VideoCastRequest=z;g.parseTV2CommsFBAppOutboundMessageFromJSON=B;g.parseCastingReceiverResponseMessageFromJSON=C;g.parseCastingReceiverPhotoAlbumReportedState=D}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},d={defaultValue:null,kind:"LocalArgument",name:"requestID"},e=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:1614120985559993},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:e},params:{id:b("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchCtvCastPayloadQuery.graphql");function a(a){var b=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:b,mediaParameters:"{}",requestID:c("guid")()}).toPromise().then(function(a){if(a!=null&&a.ctv_cast_payload!=null&&typeof a.ctv_cast_payload==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}function e(a){var b=a.albumID,e=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:e,mediaParameters:JSON.stringify({album_id:b}),requestID:c("guid")()}).toPromise().then(function(a){if(typeof (a==null?void 0:a.ctv_cast_payload)==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g.fetchPhotoCastPayload=a;g.fetchAlbumCastPayload=e}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},e={defaultValue:null,kind:"LocalArgument",name:"videoID"},f=[{kind:"Variable",name:"id",variableName:"videoID"}],g={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchVideoCastPayload",["CometRelay","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchVideoCastPayloadQuery.graphql");function a(a){var b=a.castSessionID,e=a.environment,f=a.playerOrigin,g=a.playerSubOrigin;a=a.videoID;return d("CometRelay").fetchQuery(e,i,{castSessionID:b,playerOrigin:f,playerSubOrigin:g,videoID:a}).toPromise().then(function(a){if(a==null||a.video==null||a.video.video_cast_payload==null)return{type:"video_cannot_be_casted"};else if(typeof a.video.video_cast_payload==="string")return{payload:a.video.video_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g["default"]=a}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","removeFromArray","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="PhotoAlbum",k="ChannelVideo",l="Photo";a=function(){function a(a,b){var e=this;this.$5=[];this.$6=[];this.$7=[];this.$9=function(){var a=d("CastingState").initialCastingState();e.$12(a);e.$13(null)};this.$10=function(a){switch(a.type){case"status_update":e.$16(a);break;case"experience_status_update":e.$17(a);break;default:break}};this.$11=function(a,b){var f;if(d("CastingErrorUtils").isChromecastError(a,"cancel"))c("FBLogger")("fbtv").warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((f=e.$2)==null?void 0:f.type)==="video_channel"){f=(f=e.$2)==null?void 0:f.currentVideoID;f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),babelHelpers["extends"]({},f!=null?{videoID:f}:{}));c("FBLogger")("comet_cast_sender").catching(f).mustfix("Receiver error at %s while playing video channel",b);c("promiseDone")(e.$4.stopCasting())}else{f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),{});a=((a=e.$2)==null?void 0:a.type)||"";c("FBLogger")("comet_cast_sender").catching(f).mustfix("Receiver error at %s while playing in experience %s",b,a);c("promiseDone")(e.$4.stopCasting())}};this.$1=d("CastingState").initialCastingState();this.$2=null;this.$3=b;this.$4=a;this.$8=new(c("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var e=a.prototype;e.destroy=function(){this.$8.release()};e.getCastingState=function(){return this.$1};e.getCastingExperienceState=function(){return this.$2};e.setCastingState=function(a){this.$1=a};e.setCastingExperienceState=function(a){this.$2=a};e.subscribeToCastingStateChange=function(a){var b=this;this.$5.push(a);return function(){c("removeFromArray")(b.$5,a)}};e.subscribeToCastingExperienceStateChange=function(a){var b=this;this.$6.push(a);return function(){c("removeFromArray")(b.$6,a)}};e.subscribeToCastingEvent=function(a){var b=this;this.$7.push(a);return function(){c("removeFromArray")(b.$7,a)}};e.startPlayVideoNow=function(a){var e=this,f=a.environment,g=a.origin,j=a.position,l=a.subOrigin,m=a.videoID;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"cast_requested",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([c("fetchVideoCastPayload")({castSessionID:this.$3,environment:f,playerOrigin:g,playerSubOrigin:l,videoID:m}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="video_cannot_be_casted"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("video_cannot_be_casted"),{videoID:m})).mustfix("The video is not eligible to be casted. The cast request is ignored.");return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{videoID:m})).mustfix("There was a failure retrieving video cast payload. Video failed to play.");return(h||(h=b("Promise"))).resolve()}a=e.$4.isCasting(k);a?a=e.$4.playVideoNow({position:j},f.payload):a=e.$4.startCasting(k,{position:j},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialVideoChannelExperienceState();e.$13(a)})})["catch"](function(a){e.$14({data:{type:"cast_failed",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()}),d("CastingErrorUtils").isChromecastError(a,"cancel")||c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{videoID:m})).mustfix("Failed to cast video.")})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startPhotoCasting=function(a){var e=this;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"photo_cast_requested"},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="error"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})).mustfix("There was a failure retrieving photo cast payload.");return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(l,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);e.$13(d("CastingState").initialPhotoExperienceState())})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})).mustfix("Failed to start photo casting session.")})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startAlbumSlideshow=function(a){var e=this,f=a.albumID;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:f,castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="album_cannot_be_casted"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("album_cannot_be_casted"),{})).mustfix("The album is not eligible to be casted.");return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})).mustfix("There was a failure retrieving album cast payload.");return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(j,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialPhotoAlbumExperienceState();e.$13(a)})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})).mustfix("Failed to cast album.")})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.disconnect=function(){c("promiseDone")(this.$4.stopCasting())};e.play=function(){c("promiseDone")(this.$4.playVideo())};e.pause=function(){c("promiseDone")(this.$4.pauseVideo())};e.setVolume=function(a){c("promiseDone")(this.$4.setVolume(a))};e.mute=function(){c("promiseDone")(this.$4.mute())};e.unmute=function(){c("promiseDone")(this.$4.unmute())};e.seek=function(a){c("promiseDone")(this.$4.seekVideo(a))};e.showSingleMedia=function(a){var b=null;switch(a.type){case"photo":b={photo_id:a.photoID};break;case"video":b={video_id:a.videoID};break;default:a.type;return}c("promiseDone")(this.$4.showPhoto({media_parameters:b,request_id:c("uuidv4")()}))};e.playAlbumSlideshow=function(){c("promiseDone")(this.$4.playAlbumSlideshow())};e.pauseAlbumSlideshow=function(){c("promiseDone")(this.$4.pauseAlbumSlideshow())};e.nextPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.nextPhotoAlbumSlideshow())};e.previousPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.previousPhotoAlbumSlideshow())};e.$12=function(a){a!==this.$1&&(this.$1=a,this.$5.slice().forEach(function(b){b(a)}))};e.$13=function(a){a!==this.$2&&(this.$2=a,this.$6.slice().forEach(function(b){b(a)}))};e.$14=function(a){this.$7.slice().forEach(function(b){b(a)})};e.$16=function(a){var b=this.$1,d=this.$2;if(d!=null&&d.type==="video_channel"){var e=a.data.video_id,f=this.$4.getVolume()||0,g=this.$4.isMuted()||!1;e!=null&&this.$14({data:{playbackState:a.data.state,playerInfo:(a==null?void 0:a.player_info)||null,receiverInfo:(a==null?void 0:a.receiver_info)||null,type:"video_status_update",videoID:e},timestamp:(i||(i=c("performanceAbsoluteNow")))()});g={receiverIsConnected:!0,receiverIsMuted:g,receiverVolume:f};if(e==null)this.$12(babelHelpers["extends"]({},b,g)),this.$13(babelHelpers["extends"]({},d,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{f=babelHelpers["extends"]({},b,g);this.$12(f);this.$13(babelHelpers["extends"]({},d,{currentDuration:a.data.duration!=null?a.data.duration:d.currentDuration,currentPlaybackState:a.data.state,currentPosition:a.data.position,currentVideoID:e}))}}};e.$17=function(a){var b=this.$2;if(b!=null&&b.type==="photo_album"&&a.data.name==="PhotoAlbum"){var c;a=d("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(a.data.payload);a=a.media_state;c=((c=(c=a.photo_state)==null?void 0:c.photo_id)!=null?c:(c=a.video_state)==null?void 0:c.video_id)||null;a=this.$18(a);this.$13(babelHelpers["extends"]({},b,{currentAssetID:c,currentPlaybackState:a}))}};e.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}};e.$18=function(a){if(a.photo_state!=null)return a.photo_state.photo_playback_state==="play"?"play":"paused";else if(a.video_state!=null)return["play","seeking"].includes(a.video_state.video_playback_state)?"play":"paused";else return null};return a}();g["default"]=a}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){switch(a.data.type){case"cast_requested":b.logWithAvailableContext({event:"cast_requested",video_id_override:a.data.videoID});b.$5(a);break;case"photo_cast_requested":b.logWithAvailableContext({event:"photo_cast_requested"});b.$5(a);break;case"cast_failed":b.$5(a);break;case"video_status_update":b.$6(a.data.receiverInfo,a.data.playerInfo);b.$5(a);break;default:break}};this.$1=null;this.$2=null;this.$3={cast_session_id:a,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var b=a.prototype;b.destroy=function(){this.$1!=null&&this.$1(),this.$1=null};b.bindToCastingController=function(a){this.$1=a.subscribeToCastingEvent(this.$4)};b.logWithAvailableContext=function(a){var b=this;c("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$3,a)})};b.$5=function(a){var b=a.data;switch(b.type){case"cast_requested":this.$2={data:b,timestamp:a.timestamp};break;case"cast_failed":var c=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(c!=null?a.timestamp-c.timestamp:0),video_id_override:b.videoID});this.$2=null;break;case"video_status_update":c=this.$2;if(c==null)break;var d=c.data.videoID;b.videoID===d&&b.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(a.timestamp-c.timestamp)}),this.$2=null):b.videoID!==d&&(this.$2=null);break}};b.$6=function(a,b){var c=(a==null?void 0:a.third_party_app_id)||null,d=(a==null?void 0:a.cast_receiver_logger_session_id)||null,e=(a==null?void 0:a.is_google_cast_bg)||null,f=(a==null?void 0:a.os_version)||null;a=(a==null?void 0:a.web_client_revision)||null;var g=(b==null?void 0:b.player_instance_key)||null;b=(b==null?void 0:b.player_version)||null;this.$3=babelHelpers["extends"]({},this.$3,{is_google_cast_bg:e,third_party_app_id:c,tv_os_version:f,tv_player_instance_key:g,tv_player_version:b,tv_session_id:d,tv_web_client_revision:a})};return a}();g["default"]=a}),98);
__d("TV2MessageTypes",[],(function(a,b,c,d,e,f){"use strict";a="urn:x-cast:com.facebook.fb";b="urn:x-cast:com.google.cast.media";f.FBAPP_CAST_PROTOCOL_NAMESPACE=a;f.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=b}),66);
__d("TV2PhotoShowRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoShowRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoShowRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoShowRequest:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoShowRequestToJson:b,toTV2PhotoShowRequest:a}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","FBLogger","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","promiseDone","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i="1.2.0";a=function(){function a(a){var b=this;this.$5=null;this.$6=null;this.$10=null;this.$11=[];this.$12=[];this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$18=[];this.$19=[];this.$4=new(c("CastingChromecastScanner"))(a,d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE);this.$2=null;this.$1=!1;this.$3=0;this.$6=null;this.$9=new Map();this.$20=new(c("SubscriptionsHandler"))();this.$20.addSubscriptions(this.$4.onStatusChanged(function(a){var c=a.foundReceiver;b.$15.slice().forEach(function(a){a(!!c)})}),this.$4.onSessionDisconnected(function(){b.$21(),b.$14.slice().forEach(function(a){a()})}),this.$4.onSessionStarted(function(a){b.$22(a)}),this.$4.onError(function(a,c){b.$11.slice().forEach(function(b){b(a,c)})}));this.$7=this.$4.init();c("promiseDone")(this.$7.then(function(){b.$2=!0,b.$1=!0,b.$13.slice().forEach(function(a){a()})},function(a){b.$2=!1,b.$12.slice().forEach(function(b){b(a)})}))}var e=a.prototype;e.ready=function(){return this.$7};e.hasSupport=function(){return this.$2};e.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()};e.isCasting=function(a){var b=!!this.$5&&this.$5.isCasting();b&&a!=null&&(b=this.$6!=null&&this.$6.indexOf(a)>=0);return b};e.getSession=function(){var a=this;return this.ready().then(function(){var b=a.$5;b!=null&&!b.isConnected()&&a.$21()}).then(function(){if(a.$5)return a.$5;a.$8||(a.$8=a.$23());return a.$8})["catch"](function(b){a.$11.slice().forEach(function(a){a(b,"CastingReceiverManager.getSession")});throw b})["finally"](function(){a.$8=null})};e.startCasting=function(a,b,c){var d=this;return this.$24(a,b,c).then(function(a){a.success?d.$6=a.target:d.$6=null})};e.stopCasting=function(){var a=this;return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.ready().then(function(){var b=a.$5;b!=null&&b.isDisconnected()&&a.$21();return a.$5}).then(function(a){return a==null?(h||(h=b("Promise"))).resolve(null):a.disconnect()}).then(function(){a.$21()})};e.playVideoNow=function(a,c){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_video",babelHelpers["extends"]({},a,{auto_advance:!0}),c).then(function(){})};e.skipToNextVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("skip_video").then(function(){})};e.playVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_video",{position:a||0}).then(function(){})};e.pauseVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_video").then(function(){})};e.seekVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("seek_video",{position:a}).then(function(){})};e.showPhoto=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("show_photo",void 0,d("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(a),"Photo").then(function(){})};e.stopVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("stop_video").then(function(){})};e.playAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.pauseAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.nextPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.previousPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()};e.getVolume=function(){return this.$5==null?null:this.$5.getVolume()};e.setVolume=function(a){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.setVolume(a)};e.isMuted=function(){if(!this.isCasting())return null;return this.$5==null?null:this.$5.isMuted()};e.mute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.mute()};e.unmute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.unmute()};e.$26=function(){var a=this,b=this.$27();return this.$28(function(a){return{data:{client_cast_session:b,version:i},num:a,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(b){var c=b.messageNum;return a.$29(function(a){return a.response_num===c})}).then(function(a){if(a.type!=="version_response")throw c("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_response"');if(a.data==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Version response is missing data");return a.data})};e.$24=function(a,b,d){var e=this,f=this.$27();return this.$28(function(c){return{data:{client_cast_session:f,name:a,params:b,payload:d,version:i},num:c,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(a){var b=a.messageNum;return e.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="version_launch_response")throw c("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_launch_response"');if(a.data==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Version launch response is missing data");return a.data})};e.$30=function(){var a=this;return this.$6!=null?(h||(h=b("Promise"))).resolve(this.$6):this.getSession().then(function(b){return a.$26()}).then(function(b){var d=null;typeof b.currently_running_experience==="object"&&(d=b.currently_running_experience);if(d==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Session has no target");a.$6=d;return a.$6})};e.$27=function(){var a=null;localStorage&&(a=localStorage.getItem("CastingSessionKey"));a==null&&(a=c("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",a));return a};e.$28=function(a){var b=this.$3+=2;return this.getSession().then(function(d){if(d==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("The message can not be sent without a session");var e=a(b);return d.sendMessage(e)}).then(function(){return{messageNum:b}})};e.$29=function(a){return this.getSession().then(function(e){if(e==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("The message cannot be received without a session");return new(h||(h=b("Promise")))(function(b,c){var f=e.onMessage(function(e){try{e=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(e);if(e.type==="version_response"||e.type==="version_launch_response"||e.type==="experience_state"||e.type==="command_result"){var g=!a||a(e);g&&(f.remove(),b(e))}}catch(a){f.remove(),c(a)}})})})};e.$25=function(a,b,d,e){var f=this;return this.$30().then(function(c){return f.$28(function(f){return{data:{cmd:a,name:e,params:b,payload:d},num:f,target:c,timestamp:Date.now(),type:"experience_command"}})}).then(function(a){var b=a.messageNum;return f.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="command_result")throw c("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "command_result"');return a.data})};e.$23=function(){var a=this;return this.$4.getSession().then(function(b){a.$5==null&&(a.$5=b);return a.$5})};e.$22=function(a){var b=this;this.$5=a;var e="extension";this.$8&&(e="site");c("promiseDone")(this.$26().then(function(c){var f=c.success;if(!f)return;var g=null;typeof c.currently_running_experience==="object"&&(g=c.currently_running_experience);g!=null&&(b.$6=g);b.$18.slice().forEach(function(c){c(a,{session:a,source:e,success:f,target:b.$6})});b.$10=a.onMessage(function(a){try{var c=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(a);b.$17.slice().forEach(function(a){a(c)})}catch(a){b.$11.slice().forEach(function(b){b(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))};e.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var a=this.$5;a!=null&&a.destroy();this.$5=null;this.$6=null};e.onError=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceNotSupported=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceReady=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverDisconnected=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$16;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionMessage=function(a){var b=this.$17;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$18;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStopView=function(a){var b=this.$19;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","FBLogger","Promise","guid","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=f.useState,n=null,o=c("qex")._("1648");function p(){if(n!=null)return n;if(o==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Use useIsCastAvailable first to check if casting feature is available in this browser.");var a=new(c("CastingReceiverManager"))(o),b=c("guid")(),d=new(c("CastingController"))(a,b);b=new(c("CastingEventReporter"))(b);b.bindToCastingController(d);n={castingController:d,castingEventReporter:b,castingReceiverManager:a};return n}function q(){var a=r();a=a.castingReceiverManager;return a}function r(){var a=d("react-compiler-runtime").c(1);if((i||(i=c("ExecutionEnvironment"))).canUseDOM&&c("CurrentUser").isLoggedIn()){var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=p(),a[0]=e):e=a[0];return e}throw new(h||(h=b("Promise")))(s)}function s(){}function t(){var a=r();a=a.castingController;return a}function a(){var a=d("react-compiler-runtime").c(6),b=q(),c=k(d("CastingContext").SetCastingControllerContext),e=m(!1),f=e[0],g=e[1];e=m(!1);var h=e[0],i=e[1],j;a[0]!==b?(e=function(){var a=b.onExperienceReady(function(){g(b.hasSupport()||!1)});g(b.hasSupport()||!1);return function(){return a.remove()}},j=[b],a[0]=b,a[1]=e,a[2]=j):(e=a[1],j=a[2]);l(e,j);a[3]!==b?(e=function(){var a=b.onReceiverStatusChanged(function(){i(b.hasFoundReceiver()||!1)});i(b.hasFoundReceiver()||!1);return function(){return a.remove()}},j=[b],a[3]=b,a[4]=e,a[5]=j):(e=a[4],j=a[5]);l(e,j);if(o==null)return!1;if(c==null)return!1;if(!f)return!1;return!h?!1:!0}function e(){var a=d("react-compiler-runtime").c(4),b=t(),e=k(d("CastingContext").SetCastingControllerContext);if(e==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Casting has to be initialized inside CastingProvider.");var f,g;a[0]!==b||a[1]!==e?(f=function(){e(b)},g=[e,b],a[0]=b,a[1]=e,a[2]=f,a[3]=g):(f=a[2],g=a[3]);l(f,g)}g.useCastingController=t;g.useIsCastAvailable=a;g.useCastingInitializeIfNecessary=e}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","FBLogger","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;b.useCallback;var m=b.useContext,n=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.subOrigin;d("CastingControllerHooks").useCastingInitializeIfNecessary();var f=(a=(k||(k=d("VideoPlayerHooks"))).useVideoFbid())!=null?a:"",g=(k||(k=d("VideoPlayerHooks"))).useController(),j=d("CometRelay").useRelayEnvironment(),o=d("CastingControllerHooks").useCastingController();a=m(c("CometWatchAndScrollVideoContext"));var p=c("useCometLazyDialog")(n),q=p[0],r=a==null?void 0:a.videoID;b[0]!==o||b[1]!==j||b[2]!==e||b[3]!==g||b[4]!==f?(p=function(){if(f!=null){var a=g.getPlayheadPosition();o.startPlayVideoNow({environment:j,origin:"video_home",position:a,subOrigin:e,videoID:f})}else c("FBLogger")("comet_video_player").mustfix("Could not transition to Cast player because videoID was null")},b[0]=o,b[1]=j,b[2]=e,b[3]=g,b[4]=f,b[5]=p):p=b[5];var s=p;b[6]!==s||b[7]!==q||b[8]!==r?(a=function(){r!=null?q({onClose:c("emptyFunction"),onContinue:s,startingVideoType:"cast"},c("emptyFunction")):s()},b[6]=s,b[7]=q,b[8]=r,b[9]=a):a=b[9];p=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cast video to your TV"),b[10]=a):a=b[10];a=a;var t;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("788899"),20),b[11]=t):t=b[11];b[12]!==p?(t=l.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:t,label:a,onPress:p,tooltip:a}),b[12]=p,b[13]=t):t=b[13];return t}g["default"]=a}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.subOrigin;var e=d("CastingControllerHooks").useIsCastAvailable();if(!e)return null;b[0]!==a?(e=i.jsx(c("VideoPlayerCastControlIcon.react"),{subOrigin:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBGetMinosWasm",["WAWasmModuleCache","bx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("31853"));a=function(){return d("WAWasmModuleCache").loadWasmModule(h)};g.getMinosWasm=a}),98);
__d("EBMinosWasm.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},Y={},Z={},$={};a.name="MinosMessageMetadata";a.internalSpec={mekId:[1,(d=d("WAProtoConst")).FLAGS.REQUIRED|d.TYPES.BYTES],timestamp:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],messageId:[3,d.FLAGS.REQUIRED|d.TYPES.STRING],threadId:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};b.name="MinosEncryptAndSignMessageInput";b.internalSpec={transportSigningSk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mek:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],plaintext:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],metadata:[4,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,a]};c.name="MinosEncryptAndSignMessageResult";c.internalSpec={ciphertext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[3,d.FLAGS.REQUIRED|d.TYPES.INT32]};e.name="MinosDecryptAndVerifyMessageInput";e.internalSpec={transportSigningPk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mek:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],encryptedMessageCiphertext:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],encryptedMessageSignature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],metadata:[5,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,a],messageEncryptionVersion:[6,d.TYPES.INT32]};f.name="MinosDecryptAndVerifyMessageResult";f.internalSpec={plaintext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};h.name="MekBundle";h.internalSpec={key:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mekId:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};i.name="GenerateMekInput";i.internalSpec={epochHeads:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};j.name="GenerateMekResult";j.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h]};k.name="GenerateMekRosterHashInput";k.internalSpec={epochHeads:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};l.name="GenerateMekRosterHashResult";l.internalSpec={rosterHash:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};m.name="EncryptMekForDistributionInput";m.internalSpec={senderEpochHead:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],toMailboxPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],fromKeypair:[3,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,n],mek:[4,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h],toEpochHead:[5,d.TYPES.BYTES]};n.name="EncryptMekForDistributionInput$MailboxAuthKP";n.internalSpec={sk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],pk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};o.name="EncryptMekForDistributionResult";o.internalSpec={ciphertext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};p.name="DecryptMekForDistributionInput";p.internalSpec={toMailboxSk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],fromPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],mekId:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],senderEpochHead:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],ciphertext:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES],toEpochHead:[7,d.TYPES.BYTES],mekEncryptionVersion:[8,d.TYPES.INT32]};q.name="DecryptMekForDistributionResult";q.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};r.name="EncryptMeksForDistributionFromTransportSenderInput";r.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h],transportSigningKp:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,s],recipientMailboxEncryptionPks:[3,d.FLAGS.REPEATED|d.TYPES.BYTES],recipientEpochHeads:[4,d.FLAGS.REPEATED|d.TYPES.BYTES]};s.name="EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKP";s.internalSpec={sk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],pk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};t.name="EncryptMeksForDistributionFromTransportSenderResult";t.internalSpec={encryptedMeks:[1,d.FLAGS.REPEATED|d.TYPES.BYTES],ephemeralEncryptionPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],signingPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64]};u.name="DecryptMekForDistributionFromTransportSenderInput";u.internalSpec={mekDistribution:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,v],mekId:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],recipientEncSk:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64]};v.name="DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipient";v.internalSpec={encryptedMek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],ephemeralEncryptionPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],signingPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],recipEpochHead:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES]};w.name="DecryptMekForDistributionFromTransportSenderResult";w.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};x.name="WrapTransportSigningPublicKeyInput";x.internalSpec={keyBytes:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};y.name="WrapTransportSigningPublicKeyResult";y.internalSpec={prefixedKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};z.name="WrapTransportSigningSecretKeyInput";z.internalSpec={keyBytes:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};A.name="WrapTransportSigningSecretKeyResult";A.internalSpec={prefixedKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};B.name="DeriveMailboxSigningKeypairInput";B.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};C.name="DeriveMailboxSigningKeypairResult";C.internalSpec={mailboxSigningPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxSigningPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};D.name="DeriveMailboxEncryptionKeypairInput";D.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};E.name="DeriveMailboxEncryptionKeypairResult";E.internalSpec={mailboxEncryptionPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxEncryptionPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};F.name="DeriveMailboxAuthKeypairInput";F.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};G.name="DeriveMailboxAuthKeypairResult";G.internalSpec={mailboxAuthPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxAuthPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};H.name="DeriveAttachmentAccessTokenSecretInput";H.internalSpec={mediaKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};I.name="DeriveAttachmentAccessTokenSecretResult";I.internalSpec={attachmentAccessTokenSecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};J.name="DeriveAttachmentPrimaryKeySecretInput";J.internalSpec={mediaKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};K.name="DeriveAttachmentPrimaryKeySecretResult";K.internalSpec={attachmentPrimaryKeySecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};L.name="EpochPublicData";L.internalSpec={epochNumber:[1,d.FLAGS.REQUIRED|d.TYPES.UINT64],userFbid:[2,d.FLAGS.REQUIRED|d.TYPES.STRING],mailboxSigningPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxEncryptionPk:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxAuthPk:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousEpochHead:[6,d.TYPES.BYTES]};M.name="EpochSignatures";M.internalSpec={selfSignature:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],prevSignature:[2,d.TYPES.BYTES]};N.name="MinosSignedEpoch";N.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signatures:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,M],epochHead:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};O.name="MinosOpenInitialEpochInput";O.internalSpec={userFbid:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],exportRootKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};P.name="MinosOpenInitialEpochResult";P.internalSpec={minosSignedEpoch:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,N]};Q.name="MinosOpenEpochInput";Q.internalSpec={userFbid:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],exportRootKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousExportRootKey:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousEpochNumber:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64],previousEpochHead:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES]};R.name="MinosOpenEpochResult";R.internalSpec={minosSignedEpoch:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,N]};S.name="MinosValidateEpochInput";S.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],previousEpochPublicData:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signatures:[3,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,M]};T.name="MinosValidateEpochResult";T.internalSpec={valid:[1,d.TYPES.BOOL],errorMessage:[2,d.TYPES.STRING],__oneofs__:{result:["valid","errorMessage"]}};U.name="MinosVerifySingleEpochInput";U.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};V.name="MinosVerifySingleEpochResult";V.internalSpec={valid:[1,d.FLAGS.REQUIRED|d.TYPES.BOOL]};W.name="MinosThreadIdFromOneToOneThreadInput";W.internalSpec={actThreadId:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],selfFbid:[2,d.FLAGS.REQUIRED|d.TYPES.STRING]};X.name="MinosThreadIdFromOneToOneThreadResult";X.internalSpec={threadId:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};Y.name="MinosThreadIdFromActThreadIdInput";Y.internalSpec={actThreadId:[1,d.FLAGS.REQUIRED|d.TYPES.STRING]};Z.name="MinosThreadIdFromActThreadIdResult";Z.internalSpec={threadId:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};$.name="MinosCommand";$.internalSpec={encryptAndSignMessage:[1,d.TYPES.MESSAGE,b],decryptAndVerifyMessage:[2,d.TYPES.MESSAGE,e],generateMek:[3,d.TYPES.MESSAGE,i],generateMekRosterHash:[4,d.TYPES.MESSAGE,k],encryptMekForDistribution:[5,d.TYPES.MESSAGE,m],decryptMekForDistribution:[6,d.TYPES.MESSAGE,p],encryptMeksForDistributionFromTransportSender:[7,d.TYPES.MESSAGE,r],decryptMekForDistributionFromTransportSender:[8,d.TYPES.MESSAGE,u],wrapTransportSigningPublicKey:[9,d.TYPES.MESSAGE,x],wrapTransportSigningSecretKey:[10,d.TYPES.MESSAGE,z],deriveMailboxSigningKeypair:[11,d.TYPES.MESSAGE,B],deriveMailboxEncryptionKeypair:[12,d.TYPES.MESSAGE,D],deriveMailboxAuthKeypair:[13,d.TYPES.MESSAGE,F],deriveAttachmentAccessTokenSecret:[14,d.TYPES.MESSAGE,H],deriveAttachmentPrimaryKeySecret:[15,d.TYPES.MESSAGE,J],minosOpenInitialEpoch:[16,d.TYPES.MESSAGE,O],minosOpenEpoch:[17,d.TYPES.MESSAGE,Q],minosValidateEpoch:[18,d.TYPES.MESSAGE,S],minosVerifySingleEpoch:[19,d.TYPES.MESSAGE,U],minosThreadIdFromOneToOneThread:[20,d.TYPES.MESSAGE,W],minosThreadIdFromActThreadId:[21,d.TYPES.MESSAGE,Y],__oneofs__:{commandInput:["encryptAndSignMessage","decryptAndVerifyMessage","generateMek","generateMekRosterHash","encryptMekForDistribution","decryptMekForDistribution","encryptMeksForDistributionFromTransportSender","decryptMekForDistributionFromTransportSender","wrapTransportSigningPublicKey","wrapTransportSigningSecretKey","deriveMailboxSigningKeypair","deriveMailboxEncryptionKeypair","deriveMailboxAuthKeypair","deriveAttachmentAccessTokenSecret","deriveAttachmentPrimaryKeySecret","minosOpenInitialEpoch","minosOpenEpoch","minosValidateEpoch","minosVerifySingleEpoch","minosThreadIdFromOneToOneThread","minosThreadIdFromActThreadId"]}};g.MinosMessageMetadataSpec=a;g.MinosEncryptAndSignMessageInputSpec=b;g.MinosEncryptAndSignMessageResultSpec=c;g.MinosDecryptAndVerifyMessageInputSpec=e;g.MinosDecryptAndVerifyMessageResultSpec=f;g.MekBundleSpec=h;g.GenerateMekInputSpec=i;g.GenerateMekResultSpec=j;g.GenerateMekRosterHashInputSpec=k;g.GenerateMekRosterHashResultSpec=l;g.EncryptMekForDistributionInputSpec=m;g.EncryptMekForDistributionInput$MailboxAuthKPSpec=n;g.EncryptMekForDistributionResultSpec=o;g.DecryptMekForDistributionInputSpec=p;g.DecryptMekForDistributionResultSpec=q;g.EncryptMeksForDistributionFromTransportSenderInputSpec=r;g.EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKPSpec=s;g.EncryptMeksForDistributionFromTransportSenderResultSpec=t;g.DecryptMekForDistributionFromTransportSenderInputSpec=u;g.DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipientSpec=v;g.DecryptMekForDistributionFromTransportSenderResultSpec=w;g.WrapTransportSigningPublicKeyInputSpec=x;g.WrapTransportSigningPublicKeyResultSpec=y;g.WrapTransportSigningSecretKeyInputSpec=z;g.WrapTransportSigningSecretKeyResultSpec=A;g.DeriveMailboxSigningKeypairInputSpec=B;g.DeriveMailboxSigningKeypairResultSpec=C;g.DeriveMailboxEncryptionKeypairInputSpec=D;g.DeriveMailboxEncryptionKeypairResultSpec=E;g.DeriveMailboxAuthKeypairInputSpec=F;g.DeriveMailboxAuthKeypairResultSpec=G;g.DeriveAttachmentAccessTokenSecretInputSpec=H;g.DeriveAttachmentAccessTokenSecretResultSpec=I;g.DeriveAttachmentPrimaryKeySecretInputSpec=J;g.DeriveAttachmentPrimaryKeySecretResultSpec=K;g.EpochPublicDataSpec=L;g.EpochSignaturesSpec=M;g.MinosSignedEpochSpec=N;g.MinosOpenInitialEpochInputSpec=O;g.MinosOpenInitialEpochResultSpec=P;g.MinosOpenEpochInputSpec=Q;g.MinosOpenEpochResultSpec=R;g.MinosValidateEpochInputSpec=S;g.MinosValidateEpochResultSpec=T;g.MinosVerifySingleEpochInputSpec=U;g.MinosVerifySingleEpochResultSpec=V;g.MinosThreadIdFromOneToOneThreadInputSpec=W;g.MinosThreadIdFromOneToOneThreadResultSpec=X;g.MinosThreadIdFromActThreadIdInputSpec=Y;g.MinosThreadIdFromActThreadIdResultSpec=Z;g.MinosCommandSpec=$}),98);
__d("WASIContext",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b;this.fs=(b=a==null?void 0:a.fs)!=null?b:{};this.args=(b=a==null?void 0:a.args)!=null?b:[];this.env=(b=a==null?void 0:a.env)!=null?b:{};this.stdin=(b=a==null?void 0:a.stdin)!=null?b:function(){return null};this.stdout=(b=a==null?void 0:a.stdout)!=null?b:function(){};this.stderr=(b=a==null?void 0:a.stderr)!=null?b:function(){};this.debug=a==null?void 0:a.debug;this.isTTY=!!(a!=null&&a.isTTY)};f.WASIContext=a}),66);
__d("WASISnapshotPreview1",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SUCCESS:0,E2BIG:1,EACCESS:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EAGAIN:6,EALREADY:7,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTSUP:58,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75,ENOTCAPABLE:76});d=(c=b("$InternalEnum"))({REALTIME:0,MONOTONIC:1,PROCESS_CPUTIME_ID:2,THREAD_CPUTIME_ID:3});e=c({SET:0,CUR:1,END:2});b=c({UNKNOWN:0,BLOCK_DEVICE:1,CHARACTER_DEVICE:2,DIRECTORY:3,REGULAR_FILE:4,SOCKET_DGRAM:5,SOCKET_STREAM:6,SYMBOLIC_LINK:7});var g=c({DIR:0});c=c({CLOCK:0,FD_READ:1,FD_WRITE:2});var h={SYMLINK_FOLLOW:1<<0},i={CREAT:1<<0,DIRECTORY:1<<1,EXCL:1<<2,TRUNC:1<<3},j={APPEND:1<<0,DSYNC:1<<1,NONBLOCK:1<<2,RSYNC:1<<3,SYNC:1<<4},k={FD_DATASYNC:BigInt(1)<<BigInt(0),FD_READ:BigInt(1)<<BigInt(1),FD_SEEK:BigInt(1)<<BigInt(2),FD_FDSTAT_SET_FLAGS:BigInt(1)<<BigInt(3),FD_SYNC:BigInt(1)<<BigInt(4),FD_TELL:BigInt(1)<<BigInt(5),FD_WRITE:BigInt(1)<<BigInt(6),FD_ADVISE:BigInt(1)<<BigInt(7),FD_ALLOCATE:BigInt(1)<<BigInt(8),PATH_CREATE_DIRECTORY:BigInt(1)<<BigInt(9),PATH_CREATE_FILE:BigInt(1)<<BigInt(10),PATH_LINK_SOURCE:BigInt(1)<<BigInt(11),PATH_LINK_TARGET:BigInt(1)<<BigInt(12),PATH_OPEN:BigInt(1)<<BigInt(13),FD_READDIR:BigInt(1)<<BigInt(14),PATH_READLINK:BigInt(1)<<BigInt(15),PATH_RENAME_SOURCE:BigInt(1)<<BigInt(16),PATH_RENAME_TARGET:BigInt(1)<<BigInt(17),PATH_FILESTAT_GET:BigInt(1)<<BigInt(18),PATH_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(19),PATH_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(20),FD_FILESTAT_GET:BigInt(1)<<BigInt(21),FD_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(22),FD_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(23),PATH_SYMLINK:BigInt(1)<<BigInt(24),PATH_REMOVE_DIRECTORY:BigInt(1)<<BigInt(25),PATH_UNLINK_FILE:BigInt(1)<<BigInt(26),POLL_FD_READWRITE:BigInt(1)<<BigInt(27),SOCK_SHUTDOWN:BigInt(1)<<BigInt(28),SOCK_ACCEPT:BigInt(1)<<BigInt(29)},l={ATIM:1<<0,ATIM_NOW:1<<1,MTIM:1<<2,MTIM_NOW:1<<3},m={SUBSCRIPTION_CLOCK_ABSTIME:1<<0},n={FD_READWRITE_HANGUP:1<<0},o=64,p=48,q=32;f.RESULT=a;f.Clock=d;f.Whence=e;f.FileType=b;f.PreopenType=g;f.EventType=c;f.LookupFlags=h;f.OpenFlags=i;f.FileDescriptorFlags=j;f.RightsFlags=k;f.FileStatTimestampFlags=l;f.SubscriptionClockFlags=m;f.EventReadWriteFlags=n;f.FILESTAT_SIZE=o;f.SUBSCRIPTION_SIZE=p;f.EVENT_SIZE=q}),66);
__d("WATextEncoding",[],(function(a,b,c,d,e,f){"use strict";e=TextEncoder;var g=TextDecoder,h=e,i=g;function a(){return new h()}function b(){return new i()}function c(a){h=a}function d(a){i=a}f.newTextEncoder=a;f.newTextDecoder=b;f.setTextEncoderClass=c;f.setTextDecoderClass=d}),66);
__d("WASIDrive",["WASISnapshotPreview1","WATextEncoding"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.nextFD=10,this.openMap=new Map(),this.fs=babelHelpers["extends"]({},a),this.openMap.set(3,new j(this.fs,"/"))}var b=a.prototype;b.$1=function(a,b,c){a=new h(a,c);b&&(a.buffer=new Uint8Array(new ArrayBuffer(1024),0,0));c=this.nextFD;this.openMap.set(c,a);this.nextFD++;return[d("WASISnapshotPreview1").RESULT.SUCCESS,c]};b.$2=function(a,b){a=new j(a,b);b=this.nextFD;this.openMap.set(b,a);this.nextFD++;return[d("WASISnapshotPreview1").RESULT.SUCCESS,b]};b.$3=function(a,b){return b==="."?!0:a.containsDirectory(b)};b.open=function(a,b,c,e){var f,g=!!(c&(f=d("WASISnapshotPreview1")).OpenFlags.CREAT),h=!!(c&f.OpenFlags.DIRECTORY),i=!!(c&f.OpenFlags.EXCL);c=!!(c&f.OpenFlags.TRUNC);f=this.openMap.get(a);if(!(f instanceof j))return[d("WASISnapshotPreview1").RESULT.EBADF];if(f.containsFile(b)){if(h)return[d("WASISnapshotPreview1").RESULT.ENOTDIR];if(i)return[d("WASISnapshotPreview1").RESULT.EEXIST];a=f.get(b);return this.$1(a,c,e)}else if(this.$3(f,b)){if(b===".")return this.$2(this.fs,"/");var k="/"+b+"/";h=Object.entries(this.fs).filter(function(a){a=a[0];return a.startsWith(k)});return this.$2(Object.fromEntries(h),k)}else{if(g){i=f.fullPath(b);this.fs[i]={path:i,mode:"binary",content:new Uint8Array(0),timestamps:{access:new Date(),modification:new Date(),change:new Date()}};return this.$1(this.fs[i],c,e)}return[d("WASISnapshotPreview1").RESULT.ENOTCAPABLE]}};b.close=function(a){if(!this.openMap.has(a))return d("WASISnapshotPreview1").RESULT.EBADF;var b=this.openMap.get(a);b instanceof h&&b.sync();this.openMap["delete"](a);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.read=function(a,b){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.read(b)]};b.pread=function(a,b,c){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.pread(b,c)]};b.write=function(a,b){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.write(b);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pwrite=function(a,b,c){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.pwrite(b,c);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.sync=function(a){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.seek=function(a,b,c){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.seek(b,c)]};b.tell=function(a){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.tell()]};b.renumber=function(a,b){if(!this.exists(a)||!this.exists(b))return d("WASISnapshotPreview1").RESULT.EBADF;if(a===b)return d("WASISnapshotPreview1").RESULT.SUCCESS;this.close(b);a=this.openMap.get(a);this.openMap.set(b,a);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.unlink=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(!a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOENT;for(var c of Object.keys(this.fs))(c===a.fullPath(b)||c.startsWith(a.fullPath(b)+"/"))&&delete this.fs[c];return d("WASISnapshotPreview1").RESULT.SUCCESS};b.rename=function(a,b,c,e){a=this.openMap.get(a);c=this.openMap.get(c);if(!(a instanceof j)||!(c instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(!a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOENT;if(c.contains(e))return d("WASISnapshotPreview1").RESULT.EEXIST;a=a.fullPath(b);b=c.fullPath(e);for(c of Object.keys(this.fs))if(c.startsWith(a)){e=c.replace(a,b);this.fs[e]=this.fs[c];this.fs[e].path=e;delete this.fs[c]}return d("WASISnapshotPreview1").RESULT.SUCCESS};b.list=function(a){a=this.openMap.get(a);return!(a instanceof j)?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.list()]};b.stat=function(a){a=this.openMap.get(a);return!(a instanceof h)?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.stat()]};b.pathStat=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return[d("WASISnapshotPreview1").RESULT.EBADF];if(a.containsFile(b)){var c=a.fullPath(b);c=new h(this.fs[c],0).stat();return[d("WASISnapshotPreview1").RESULT.SUCCESS,c]}else if(this.$3(a,b)){if(b===".")return[d("WASISnapshotPreview1").RESULT.SUCCESS,new j(this.fs,"/").stat()];var e="/"+b+"/";c=Object.entries(this.fs).filter(function(a){a=a[0];return a.startsWith(e)});a=new j(Object.fromEntries(c),e).stat();return[d("WASISnapshotPreview1").RESULT.SUCCESS,a]}else return[d("WASISnapshotPreview1").RESULT.ENOTCAPABLE]};b.setFlags=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setFlags(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setSize=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setSize(Number(b));return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setAccessTime=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setAccessTime(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setModificationTime=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setModificationTime(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.pathSetAccessTime=function(a,b,c){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;a=a.get(b);if(a==null)return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;b=new h(a,0);b.setAccessTime(c);b.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pathSetModificationTime=function(a,b,c){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;a=a.get(b);if(a==null)return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;b=new h(a,0);b.setModificationTime(c);b.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pathCreateDir=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;a=a.fullPath(b)+"/.runno";this.fs[a]={path:a,timestamps:{access:new Date(),modification:new Date(),change:new Date()},mode:"string",content:""};return d("WASISnapshotPreview1").RESULT.SUCCESS};b.exists=function(a){return this.openMap.has(a)};b.fileType=function(a){a=this.openMap.get(a);if(!a)return d("WASISnapshotPreview1").FileType.UNKNOWN;else if(a instanceof h)return d("WASISnapshotPreview1").FileType.REGULAR_FILE;else return d("WASISnapshotPreview1").FileType.DIRECTORY};b.fileFdflags=function(a){a=this.openMap.get(a);if(a instanceof h)return a.fdflags;else return 0};return a}();var h=function(){function a(a,b){this.$1=BigInt(0);this.isDirty=!1;this.file=a;if(this.file.mode==="string"){a=this.file.content;var c=d("WATextEncoding").newTextEncoder();this.buffer=c.encode(a)}else this.buffer=this.file.content;this.fdflags=b;this.flagAppend=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.APPEND);this.flagDSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.DSYNC);this.flagNonBlock=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.NONBLOCK);this.flagRSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.RSYNC);this.flagSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.SYNC)}var b=a.prototype;b.getOffset=function(){return Number(this.$1)};b.read=function(a){a=this.buffer.subarray(this.getOffset(),this.getOffset()+a);this.$1+=BigInt(a.length);return a};b.pread=function(a,b){return this.buffer.subarray(b,b+a)};b.write=function(a){this.isDirty=!0;if(this.flagAppend){var b=this.buffer.length;this.$2(b+a.byteLength);this.buffer.set(a,b)}else{b=Math.max(this.getOffset()+a.byteLength,this.buffer.byteLength);this.$2(b);this.buffer.set(a,this.getOffset());this.$1+=BigInt(a.byteLength)}(this.flagDSync||this.flagSync)&&this.sync()};b.pwrite=function(a,b){this.isDirty=!0;if(this.flagAppend){var c=this.buffer.length;this.$2(c+a.byteLength);this.buffer.set(a,c)}else{c=Math.max(b+a.byteLength,this.buffer.byteLength);this.$2(c);this.buffer.set(a,b)}(this.flagDSync||this.flagSync)&&this.sync()};b.sync=function(){if(!this.isDirty)return;this.isDirty=!1;if(this.file.mode==="binary"){this.file.content=new Uint8Array(this.buffer);return}var a=d("WATextEncoding").newTextDecoder();this.file.content=a.decode(this.buffer);return};b.seek=function(a,b){switch(b){case d("WASISnapshotPreview1").Whence.SET:this.$1=a;break;case d("WASISnapshotPreview1").Whence.CUR:this.$1+=a;break;case d("WASISnapshotPreview1").Whence.END:this.$1=BigInt(this.buffer.length)+a;break}return this.$1};b.tell=function(){return this.$1};b.stat=function(){return{path:this.file.path,timestamps:this.file.timestamps,type:d("WASISnapshotPreview1").FileType.REGULAR_FILE,byteLength:this.buffer.length}};b.setFlags=function(a){this.fdflags=a};b.setSize=function(a){this.$2(a)};b.setAccessTime=function(a){this.file.timestamps.access=a};b.setModificationTime=function(a){this.file.timestamps.modification=a};b.$2=function(a){if(a<=this.buffer.buffer.byteLength){this.buffer=new Uint8Array(this.buffer.buffer,0,a);return}var b;this.buffer.buffer.byteLength===0?b=new ArrayBuffer(a<1024?1024:a*2):a>this.buffer.buffer.byteLength*2?b=new ArrayBuffer(a*2):b=new ArrayBuffer(this.buffer.buffer.byteLength*2);b=new Uint8Array(b,0,a);b.set(this.buffer);this.buffer=b};return a}();function i(a,b){b=b.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");b=new RegExp("^"+b);return a.replace(b,"")}var j=function(){function a(a,b){this.dir=a,this.prefix=b}var b=a.prototype;b.containsFile=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c===a)return!0}return!1};b.containsDirectory=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c.startsWith(a+"/"))return!0}return!1};b.contains=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c===a||c.startsWith(a+"/"))return!0}return!1};b.get=function(a){return this.dir[this.fullPath(a)]};b.fullPath=function(a){return""+this.prefix+a};b.list=function(){var a=[],b=new Set();for(var c of Object.keys(this.dir)){var e=i(c,this.prefix);if(e.includes("/")){var f=e.split("/")[0];if(b.has(f))continue;b.add(f);a.push({name:f,type:d("WASISnapshotPreview1").FileType.DIRECTORY})}else a.push({name:e,type:d("WASISnapshotPreview1").FileType.REGULAR_FILE})}return a};b.stat=function(){return{path:this.prefix,timestamps:{access:new Date(),modification:new Date(),change:new Date()},type:d("WASISnapshotPreview1").FileType.DIRECTORY,byteLength:0}};return a}();g.WASIDrive=a}),98);
__d("WASMMemoryLogger",["FBLogger","QPLFlow","WAHashStringToNumber","justknobx","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("justknobx")._("168"),i=function(){function a(){var a=this;this.$1=new FinalizationRegistry(function(b){a.$3-=b.numBytes;var c=b.wasmModule;if(c!=null){var d=a.$2.get(c);if(d!=null){d=d-b.numBytes;d<=0?a.$2["delete"](c):a.$2.set(c,d)}}});this.$3=0;this.$2=new Map()}var b=a.prototype;b.addWasmInstanceToSet=function(a,b){var c=a.buffer.byteLength;this.$1.register(a,{numBytes:c,wasmModule:b});this.$3+=c;if(b!=null){a=(a=this.$2.get(b))!=null?a:0;this.$2.set(b,a+c)}};b.getCurrentWasmMemoryUsage=function(){return this.$3};b.getWasmMemoryUsagePerModuleAnnotationsObject=function(){var a={};this.$2.forEach(function(b,c){a["wasm_memory_usage_"+c]=b});return a};return a}(),j;function a(){if(j==null){if(typeof FinalizationRegistry!=="function"){c("FBLogger")("wmi").warn("unable to run wasm memory logger - finalization registry not supported in browser");return}j=new i();window.setInterval(function(){var a=c("qpl")._(994782764,"418"),b=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),e=j.getWasmMemoryUsagePerModuleAnnotationsObject();a=d("QPLFlow").startQPLFlow(a,{annotations:{"int":babelHelpers["extends"]({},e,{wasm_total_memory_usage:j.getCurrentWasmMemoryUsage()})},instanceKey:b});a.endSuccess()},h)}return j}g.getOrInitWasmMemoryLogger=a}),98);
__d("WASI",["WACryptoDependencies","WASIContext","WASIDrive","WASISnapshotPreview1","WASMMemoryLogger","WATextEncoding","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=new(d("WASIContext").WASIContext)(a),f=new(d("WASIDrive").WASIDrive)(e.fs);function g(){return Object.entries(e.env).map(function(a){var b=a[0];a=a[1];return b+"="+a})}var o={args_get:function(a,c){a=a;c=c;var f=new DataView(b.buffer);for(var g of e.args){f.setUint32(a,c,!0);a+=4;var h=d("WATextEncoding").newTextEncoder().encode(g+"\0"),i=new Uint8Array(b.buffer,c,h.byteLength);i.set(h);c+=h.byteLength}return d("WASISnapshotPreview1").RESULT.SUCCESS},args_sizes_get:function(a,c){var f=e.args,g=f.reduce(function(a,b){return a+d("WATextEncoding").newTextEncoder().encode(b+"\0").byteLength},0),h=new DataView(b.buffer);h.setUint32(a,f.length,!0);h.setUint32(c,g,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},clock_res_get:function(){throw c("err")("clock_res_get is not implemented")},clock_time_get:function(a,c,e){c=d("WASISnapshotPreview1").Clock.cast(a);if(c==null)return d("WASISnapshotPreview1").RESULT.EINVAL;switch(c){case d("WASISnapshotPreview1").Clock.REALTIME:case d("WASISnapshotPreview1").Clock.MONOTONIC:case d("WASISnapshotPreview1").Clock.PROCESS_CPUTIME_ID:case d("WASISnapshotPreview1").Clock.THREAD_CPUTIME_ID:a=new DataView(b.buffer);a.setBigUint64(e,n(new Date()),!0);return d("WASISnapshotPreview1").RESULT.SUCCESS}},environ_get:function(a,c){a=a;c=c;var e=new DataView(b.buffer);for(var f of g()){e.setUint32(a,c,!0);a+=4;var h=d("WATextEncoding").newTextEncoder().encode(f+"\0"),i=new Uint8Array(b.buffer,c,h.byteLength);i.set(h);c+=h.byteLength}return d("WASISnapshotPreview1").RESULT.SUCCESS},environ_sizes_get:function(a,c){var e=g().reduce(function(a,b){return a+d("WATextEncoding").newTextEncoder().encode(b+"\0").byteLength},0),f=new DataView(b.buffer);f.setUint32(a,g().length,!0);f.setUint32(c,e,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_advise:function(){throw c("err")("fd_advise is not implemented")},fd_allocate:function(){throw c("err")("fd_allocate is not implemented")},fd_close:function(a){return f.close(a)},fd_datasync:function(){throw c("err")("fd_datasync is not implemented")},fd_fdstat_get:function(a,c){if(a<3){if(e.isTTY){var g=i^d("WASISnapshotPreview1").RightsFlags.FD_SEEK^d("WASISnapshotPreview1").RightsFlags.FD_TELL;g=l(d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0,g)}else g=l(d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0);var h=new Uint8Array(b.buffer,c,g.byteLength);h.set(g);return d("WASISnapshotPreview1").RESULT.SUCCESS}if(!f.exists(a))return d("WASISnapshotPreview1").RESULT.EBADF;h=f.fileType(a);g=f.fileFdflags(a);a=l(h,g);h=new Uint8Array(b.buffer,c,a.byteLength);h.set(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_fdstat_set_flags:function(a,b){return f.setFlags(a,b)},fd_fdstat_set_rights:function(){return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_get:function(a,c){if(a<3){var e;switch(a){case 0:e="/dev/stdin";break;case 1:e="/dev/stdout";break;case 2:e="/dev/stderr";break;default:e="/dev/undefined";break}var g=k({path:e,byteLength:0,timestamps:{access:new Date(),modification:new Date(),change:new Date()},type:d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE}),h=new Uint8Array(b.buffer,c,g.byteLength);h.set(g);return d("WASISnapshotPreview1").RESULT.SUCCESS}h=f.stat(a);if(h.length===1)return h[0];g=h[1];a=k(g);h=new Uint8Array(b.buffer,c,a.byteLength);h.set(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_set_size:function(){throw c("err")("fd_filestat_set_size is not implemented")},fd_filestat_set_times:function(){throw c("err")("fd_filestat_set_times is not implemented")},fd_pread:function(){throw c("err")("fd_pread is not implemented")},fd_prestat_dir_name:function(a,c,e){if(a!==3)return d("WASISnapshotPreview1").RESULT.EBADF;a=d("WATextEncoding").newTextEncoder().encode("/");c=new Uint8Array(b.buffer,c,e);c.set(a.subarray(0,e));return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_prestat_get:function(a,c){if(a!==3)return d("WASISnapshotPreview1").RESULT.EBADF;a=d("WATextEncoding").newTextEncoder().encode(".");c=new DataView(b.buffer,c);c.setUint8(0,d("WASISnapshotPreview1").PreopenType.DIR);c.setUint32(4,a.byteLength,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_pwrite:function(){throw c("err")("fd_pwrite is not implemented")},fd_read:function(a,c,g,h){if(a===1||a===2)return d("WASISnapshotPreview1").RESULT.ENOTSUP;var i=new DataView(b.buffer);c=j(i,c,g);g=d("WATextEncoding").newTextEncoder();var k=0,l=d("WASISnapshotPreview1").RESULT.SUCCESS;for(c of c){var m=void 0;if(a===0){var n=e.stdin(c.byteLength);if(n==null)break;m=g.encode(n)}else{n=f.read(a,c.byteLength);if(n.length===1){l=n[0];break}else m=n[1]}n=Math.min(c.byteLength,m.byteLength);c.set(m.subarray(0,n));k+=n}i.setUint32(h,k,!0);return l},fd_readdir:function(){throw c("err")("fd_readdir is not implemented")},fd_renumber:function(){throw c("err")("fd_renumber is not implemented")},fd_seek:function(a,e,g,h){g=d("WASISnapshotPreview1").Whence.cast(g);if(g==null)throw c("err")("fd_seek: invalid whence");a=f.seek(a,e,g);if(a.length===1)return a[0];e=a[0];g=a[1];a=new DataView(b.buffer);a.setBigUint64(h,g,!0);return e},fd_sync:function(){throw c("err")("fd_sync is not implemented")},fd_tell:function(a,c){a=f.tell(a);if(a.length===1)return a[0];var d=a[0];a=a[1];var e=new DataView(b.buffer);e.setBigUint64(c,a,!0);return d},fd_write:function(a,c,g,h){if(a===0)return d("WASISnapshotPreview1").RESULT.ENOTSUP;var i=new DataView(b.buffer);c=j(i,c,g);g=d("WATextEncoding").newTextDecoder();var k=0,l=d("WASISnapshotPreview1").RESULT.SUCCESS;for(c of c){if(c.byteLength===0)continue;if(a===1||a===2){var m=a===1?e.stdout:e.stderr,n=g.decode(c);m(n)}else{l=f.write(a,c);if(l!==d("WASISnapshotPreview1").RESULT.SUCCESS)break}k+=c.byteLength}i.setUint32(h,k,!0);return l},path_create_directory:function(){throw c("err")("path_create_directory is not implemented")},path_filestat_get:function(){throw c("err")("path_filestat_get is not implemented")},path_filestat_set_times:function(){throw c("err")("path_filestat_set_times is not implemented")},path_link:function(){throw c("err")("path_link is not implemented")},path_open:function(a,c,d,e,g,h,i,j,k){c=new DataView(b.buffer);h=m(b,d,e);i=f.open(a,h,g,j);if(i.length===1)return i[0];d=i[0];e=i[1];c.setUint32(k,e,!0);return d},path_readlink:function(){throw c("err")("path_readlink is not implemented")},path_remove_directory:function(){throw c("err")("path_remove_directory is not implemented")},path_rename:function(){throw c("err")("path_rename is not implemented")},path_symlink:function(){throw c("err")("path_symlink is not implemented")},path_unlink_file:function(){throw c("err")("path_unlink_file is not implemented")},poll_oneoff:function(){throw c("err")("poll_oneoff is not implemented")},proc_exit:function(a){throw new h(a)},proc_raise:function(){throw c("err")("proc_raise is not implemented")},random_get:function(a,c){a=new Uint8Array(b.buffer,a,c);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},sched_yield:function(){throw c("err")("sched_yield is not implemented")},sock_accept:function(){throw c("err")("sock_accept is not implemented")},sock_recv:function(){throw c("err")("sock_recv is not implemented")},sock_send:function(){throw c("err")("sock_send is not implemented")},sock_shutdown:function(){throw c("err")("sock_shutdown is not implemented")}};return{getImportObject:function(){return{wasi_snapshot_preview1:o}},start:function(e){var g=e.exports.memory;if(g instanceof WebAssembly.Memory){b=g;if(c("gkx")("4444")){g=d("WASMMemoryLogger").getOrInitWasmMemoryLogger();g!=null&&g.addWasmInstanceToSet(b,a.moduleName)}}else throw c("err")("Expected memory object");g=e.exports._start;try{g()}catch(a){if(a instanceof h)return{exitCode:a.code,fs:f.fs};else if(a instanceof WebAssembly.RuntimeError)return{exitCode:134,fs:f.fs};else throw a}return{exitCode:0,fs:f.fs}},initialize:function(a){var d=a.exports.memory;if(d instanceof WebAssembly.Memory)b=d;else throw c("err")("Expected memory object");d=a.exports;if("_initialize"in d){a=d._initialize;a()}return{exports:d,drive:f}}}}var h=function(a){function b(b){var c;c=a.call(this)||this;c.code=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),i=(b=d("WASISnapshotPreview1")).RightsFlags.FD_DATASYNC|b.RightsFlags.FD_READ|b.RightsFlags.FD_SEEK|b.RightsFlags.FD_FDSTAT_SET_FLAGS|b.RightsFlags.FD_SYNC|b.RightsFlags.FD_TELL|b.RightsFlags.FD_WRITE|b.RightsFlags.FD_ADVISE|b.RightsFlags.FD_ALLOCATE|b.RightsFlags.PATH_CREATE_DIRECTORY|b.RightsFlags.PATH_CREATE_FILE|b.RightsFlags.PATH_LINK_SOURCE|b.RightsFlags.PATH_LINK_TARGET|b.RightsFlags.PATH_OPEN|b.RightsFlags.FD_READDIR|b.RightsFlags.PATH_READLINK|b.RightsFlags.PATH_RENAME_SOURCE|b.RightsFlags.PATH_RENAME_TARGET|b.RightsFlags.PATH_FILESTAT_GET|b.RightsFlags.PATH_FILESTAT_SET_SIZE|b.RightsFlags.PATH_FILESTAT_SET_TIMES|b.RightsFlags.FD_FILESTAT_GET|b.RightsFlags.FD_FILESTAT_SET_SIZE|b.RightsFlags.FD_FILESTAT_SET_TIMES|b.RightsFlags.PATH_SYMLINK|b.RightsFlags.PATH_REMOVE_DIRECTORY|b.RightsFlags.PATH_UNLINK_FILE|b.RightsFlags.POLL_FD_READWRITE|b.RightsFlags.SOCK_SHUTDOWN|b.RightsFlags.SOCK_ACCEPT;function j(a,b,c){var d=new Array(c);b=b;for(var e=0;e<c;e++){var f=a.getUint32(b,!0);b+=4;var g=a.getUint32(b,!0);b+=4;d[e]=new Uint8Array(a.buffer,f,g)}return d}function k(a){var b=new Uint8Array(d("WASISnapshotPreview1").FILESTAT_SIZE),c=new DataView(b.buffer);c.setBigUint64(0,BigInt(0),!0);c.setBigUint64(8,BigInt(o(a.path)),!0);c.setUint8(16,a.type);c.setBigUint64(24,BigInt(1),!0);c.setBigUint64(32,BigInt(a.byteLength),!0);c.setBigUint64(40,n(a.timestamps.access),!0);c.setBigUint64(48,n(a.timestamps.modification),!0);c.setBigUint64(56,n(a.timestamps.change),!0);return b}function l(a,b,c){var d=c!=null?c:i;c=c!=null?c:i;var e=new Uint8Array(24),f=new DataView(e.buffer,0,24);f.setUint8(0,a);f.setUint32(2,b,!0);f.setBigUint64(8,d,!0);f.setBigUint64(16,c,!0);return e}function m(a,b,c){return d("WATextEncoding").newTextDecoder().decode(new Uint8Array(a.buffer,b,c))}function n(a){return BigInt(a.getTime())*BigInt(1e6)}function o(a,b){b===void 0&&(b=0);var c=3735928559^b;b=1103547991^b;for(var d=0,e;d<a.length;d++)e=a.charCodeAt(d),c=Math.imul(c^e,2654435761),b=Math.imul(b^e,1597334677);c=Math.imul(c^c>>>16,2246822507)^Math.imul(b^b>>>13,3266489909);b=Math.imul(b^b>>>16,2246822507)^Math.imul(c^c>>>13,3266489909);return 4294967296*(2097151&b)+(c>>>0)}g.createWasi=a}),98);
__d("WAWasmReactor",["FBLogger","WAPromiseQueue","WAResultOrError","WASI","WASISnapshotPreview1","WASMMemoryLogger","decodeProtobuf","encodeProtobuf","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=function(){return c("FBLogger")("wmi").tags(["WasmReactor"])},m=3e4;function n(a){var b=a.stderr;a=a.stdout;return{stderr:b,stdout:a}}var o=function(){function a(a,b){this.$1=null,this.$4=a,this.$3=b}var b=a.prototype;b.init=async function(a){var b=function(a){l().MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)},e=function(a){l().INFO(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)};b=d("WASI").createWasi(n({stderr:b,stdout:e}));e=b.getImportObject;b=b.initialize;a=await a();a=await WebAssembly.instantiate(a,e());e=a.exports.memory;var f=c("gkx")("4444"),g=d("WASMMemoryLogger").getOrInitWasmMemoryLogger();e instanceof WebAssembly.Memory&&f&&g!=null&&g.addWasmInstanceToSet(e,this.$4);this.$1=await b(a)};b.createWasmCommand=function(b){var e=b.InputSpec,f=b.ResultSpec,g=b.validateResult,h=this;return function(b){return h.$3.enqueue(async function(){var i=h.$1;if(i==null){l().MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWasmReactor not initialized"])));return d("WAResultOrError").makeError("wasm-internal-not-initialized")}var m=i.drive,n="input",o="output";try{var p=d("encodeProtobuf").encodeProtobuf(e,b).readBuffer();a.$5(m,n,new Uint8Array(p));a.$5(m,o,new Uint8Array(0));await i.exports.execute_command();p=a.$6(m,o);if(p.length===0)return d("WAResultOrError").makeError("wasm-internal-runtime-error");i=d("decodeProtobuf").decodeProtobuf(f,p);return g(i)}catch(a){p=c("getErrorSafe")(a);l().catching(p).MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",""])),p.message);return d("WAResultOrError").makeError("wasm-internal-runtime-error")}finally{i=a.$2;m.unlink(i,n);m.unlink(i,o)}})}};a.$5=function(b,c,e){var f=b.open(a.$2,c,d("WASISnapshotPreview1").OpenFlags.CREAT||d("WASISnapshotPreview1").OpenFlags.TRUNC,0);if(f[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS)throw l().mustfixThrow("Failed to open file for writing: ",c);else{c=f[1];b.write(c,e);b.close(c)}};a.$6=function(b,c){var e=b.open(a.$2,c,0,0);if(e[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS)throw l().mustfixThrow("Failed to open file for reading: ",c);e=e[1];var f=b.stat(e);if(f[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS){b.close(e);throw l().mustfixThrow("Failed to stat file: ",c)}f=f[1].byteLength;f=b.read(e,f);b.close(e);if(f[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS)throw l().mustfixThrow("Failed to read from file ",c);return f[1]};return a}();o.$2=3;async function a(a,b){var c=new(d("WAPromiseQueue").PromiseQueue)(m);b=new o(b,c);await b.init(a);return b}g.WAWasmReactor=o;g.createWasmInstance=a}),98);
__d("EBMinosWasmReactorSingleton",["EBGetMinosWasm","WAWasmReactor","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h="Minos_REPL",i=c("memoizeWithArgs")(function(){return d("WAWasmReactor").createWasmInstance(d("EBGetMinosWasm").getMinosWasm,h)},function(){return"cache"});a=async function(a,b){var c=a.InputSpec,d=a.ResultSpec;a=a.validateResult;var e=await i();return e.createWasmCommand({InputSpec:c,ResultSpec:d,validateResult:a})(b)};g.minosCommand=a}),98);
__d("WACreateWasmFunction",["WAErrorMessage","WAResultOrError","WASI","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m="input",n="output",o="/"+m,p="/"+n;function q(a){var b=a.command,c=a.input,d=a.stderr,e=a.stdout,f=a.cli;a=a.moduleName;var g=new Date();return{args:[f,b,"-i="+m,"-o="+n],fs:(f={},f[o]={content:new Uint8Array(c),mode:"binary",path:o,timestamps:{access:g,change:g,modification:g}},f),stderr:d,stdout:e,moduleName:a}}function a(a,b){var c=a.InputSpec,e=a.ResultSpec,f=a.command,g=a.getWasmModule,m=a.logger,n=a.validateResult,o=a.cli,r=m.TAGS(["WasmFunc"]),s=function(a){r.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)},t=function(a){r.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)};return async function(a){try{a=d("encodeProtobuf").encodeProtobuf(c,a).readBuffer();a=d("WASI").createWasi(q({cli:o,command:f,input:a,stderr:s,stdout:t,moduleName:b}));var h=a.getImportObject;a=a.start;var i=await g();i=await WebAssembly.instantiate(i,h());h=a(i);a=h.exitCode;i=h.fs;i=(h=i[p])==null?void 0:h.content;if(a!==0){r.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["non-zero-exit-code: ",""])),a);return d("WAResultOrError").makeError("wasm-internal-non-zero-exit-code")}if(!(i instanceof Uint8Array)){r.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["invalid result type"])));return d("WAResultOrError").makeError("wasm-internal-invalid-result-type")}h=d("decodeProtobuf").decodeProtobuf(e,i);return n(h)}catch(a){r.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",", for cli: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a),o);return a instanceof Error?d("WAResultOrError").DEPRECATED_makeError("wasm-internal-runtime-error",a):d("WAResultOrError").makeError("wasm-internal-runtime-error")}}}g.createWasmFunction=a}),98);
__d("EBMinosWasmVerifySingleEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosWasm.pb","EBMinosWasmReactorSingleton","WACreateWasmFunction","WAResultOrError","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule,e=d("EBMinosLogger").minosLogger.TAGS(["minos-verify-single-epoch"]);function f(a){a=a.valid;return d("WAResultOrError").makeResult({valid:a})}return async function(a){var g=a.epochPublicData;a=a.signature;var h="EBMinosWasmVerifySingleEpoch";if(c("gkx")("12911"))return await d("EBMinosWasmReactorSingleton").minosCommand({InputSpec:d("EBMinosWasm.pb").MinosCommandSpec,ResultSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,validateResult:f},{minosVerifySingleEpoch:{epochPublicData:g,signature:a}});else{h=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,cli:"minos_cli",command:"minos-verify-single-epoch",getWasmModule:b,logger:e,validateResult:f},h+"_CLI");h=await h({epochPublicData:g,signature:a});return h}}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm});g.verifySingleEpoch=b}),98);
__d("EBAPIMinosVerifySingleEpoch",["EBMinosLogger","EBMinosWasmVerifySingleEpoch","WAGetSafeQPLError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){d("EBMinosLogger").minosLogger.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["minosVerifySingleEpoch start"])));var b=a.qplFlow,c=a.minosEpochAnonId,e=a.minosMailboxAuthPublicKey,f=a.minosMailboxEncryptionPublicKey,g=a.minosMailboxSigningPublicKey,j=a.userId,k=a.selfEpochSignature;try{c={epochNumber:c,mailboxAuthPk:e,mailboxEncryptionPk:f,mailboxSigningPk:g,previousEpochHead:a.previousEpochHead==null?void 0:a.previousEpochHead,userFbid:j};b.addPoint("verify_single_epoch_start");e=await d("EBMinosWasmVerifySingleEpoch").verifySingleEpoch({epochPublicData:c,signature:k});b.addPoint("verify_single_epoch_end");if(e.success){b.endSuccess();return e.value.valid}d("EBMinosLogger").minosLogger.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to verify epoch - WASM error ",""])),e.error);b.endFailWithError("invalid-result",e.error);return!1}catch(a){b.endFailWithError("runtime-error",d("WAGetSafeQPLError").getSafeQPLErrorMessage(a));return!1}}g.minosVerifySingleEpoch=a}),98);
__d("EBMinosHasNewerMailboxKeys",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(b==null||c==null)return!1;return(a==null?void 0:a.epoch_head)==null||(a==null?void 0:a.epoch_head_creation_time)==null?!0:a.epoch_head_creation_time!==c&&c>a.epoch_head_creation_time}f.hasNewerMailboxKeys=a}),66);
__d("EBMinosDBDev",["ExecutionEnvironment","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","QPLFlow","WAHex","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={secure_minos_mailbox_keys:{indexes:{},primaryKey:"contact_id",secure:!0},secure_minos_message_epoch_heads:{indexes:{"[thread_id+message_id]":{fields:["thread_id","message_id"],unique:!0}},primaryKey:"message_id",secure:!0},secure_minos_thread_message_encryption_keys:{indexes:{"[roster_hash+minos_thread_id]":{fields:["roster_hash","minos_thread_id"],unique:!1}},primaryKey:"mek_id_blob",secure:!0}},k=null,l=1e4;async function m(){if(k!=null)return k.promise;var a=new(d("WAResolvable").Resolvable)();k=a;var b=d("MAWIndexedDbMetadata").ebMinosDbDevName(d("MAWCurrentUser").getID()),e=c("qpl")._(1056840657,"2716"),f=d("WAHex").parseHex(c("MessengerWebInitData").accountKeyV2),g=d("QPLFlow").startQPLFlow(e,{annotations:{bool:{isInSharedWorker:(i||(i=c("ExecutionEnvironment"))).isInSharedWorker},string:{operationType:"initEBMinosDevDbSchema"}},timeoutInMs:l});try{var m="ebMinosDev";f=new(d("WormEAR").WormEAR)(j,m,f);b=new(d("Worm").WormDatabase)(new(d("WormIDbDriver").WormIDbDriver)(b,m,j,f,d("MAWWormOdsLogger").wormOdsWorkerLogger,{}),e);await b.init({eventFlow:g});g.endSuccess();a.resolve(b);return b}catch(b){g.endFail("error");k=null;a.reject(b);d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error performing makeEBMinosDevDB: ",""])),b);throw b}}function n(){return m()}async function a(){var a=Object.keys(j),b=await n();return b.runInTransaction(a,"readonly",async function(b){var c={};await Promise.all(a.map(async function(a){var d=await b.stores[a].readAll();c[a]=d}));return c},"EBMinosDevDb - Dump").catch(function(){return{}})}g.schema=j;g.makeEBMinosDevDB=m;g.getEBMinosDevDb=n;g.getDbDump=a}),98);
__d("EBMinosSaveNewMailboxKey",["EBMinosDBDev"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,c,e,f,g){var h=await d("EBMinosDBDev").getEBMinosDevDb();await h.runInTransaction(["secure_minos_mailbox_keys"],"readwrite",function(d){return d.stores.secure_minos_mailbox_keys.bulkPut([{contact_id:a,encryption_public_key:b,epoch_anon_id:c,epoch_head:e,epoch_head_creation_time:f,public_key_fbid:g}])},"SaveNewMailboxKey")};g.saveNewMailboxKey=a}),98);
__d("EBMinosLoadMailboxKeys",["EBMinosDBDev"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a){var b=await d("EBMinosDBDev").getEBMinosDevDb();b=await b.runInTransaction(["secure_minos_mailbox_keys"],"readonly",function(b){return b.stores.secure_minos_mailbox_keys.get(a)},"LoadMailboxKeys");return b};g.loadMailboxKeys=a}),98);
__d("EBMinosSecureMailboxKeysForContact",["EBMinosLoadMailboxKeys","EBMinosTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("EBMinosLoadMailboxKeys").loadMailboxKeys(d("EBMinosTypes").unsafeCastToUserFbId(a))}g.getSecureMailboxKeysForContact=a}),98);
__d("EBMinosWriteMinosPublicKeysForRecipient",["EBMinosHasNewerMailboxKeys","EBMinosLogger","EBMinosSaveNewMailboxKey","EBMinosSecureMailboxKeysForContact"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){var b=a.contactId,c=a.encryptionPublicKey,e=a.epochAnonId,f=a.epochHead,g=a.epochHeadCreationTime;a=a.publicKeyFbid;var j=await d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(b);if(f==null||g==null){(j==null?void 0:j.epoch_head)!=null&&(j==null?void 0:j.epoch_head_creation_time)!=null&&(d("EBMinosLogger").minosLogger.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Deleting mailbox keys for contact: ",""])),b),await d("EBMinosSaveNewMailboxKey").saveNewMailboxKey(b,c,e,f,g,a));return}d("EBMinosHasNewerMailboxKeys").hasNewerMailboxKeys(j,f,g)&&(d("EBMinosLogger").minosLogger.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Writing new mailbox keys for contact: ",""])),b),await d("EBMinosSaveNewMailboxKey").saveNewMailboxKey(b,c,e,f,g,a));return}g.writeMinosMailboxKeysForRecipient=a}),98);
__d("EBAPIWriteMinosPublicKeysForRecipient",["EBMinosWriteMinosPublicKeysForRecipient"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.contactId,c=a.encryptionPublicKey,e=a.epochAnonId,f=a.epochHead,g=a.epochHeadCreationTime;a=a.publicKeyFbid;return d("EBMinosWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipient({contactId:b,encryptionPublicKey:c,epochAnonId:e,epochHead:f,epochHeadCreationTime:g,publicKeyFbid:a})}g.writeMinosMailboxKeysForRecipientAPI=a}),98);/*FB_PKG_DELIM*/
__d("FBIconAccessibilityOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M112 203.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-1.5 0a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0z",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m96.52 200.464 4.073 1.313c.923.298 1.89.298 2.814 0l4.073-1.313a.75.75 0 1 0-.46-1.428l-4.074 1.313a3.042 3.042 0 0 1-1.892 0l-4.074-1.313a.75.75 0 1 0-.46 1.428z",transform:"translate(354 204.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102 199.5c.784 0 1.375-.645 1.375-1.5 0-1.036-.69-1.5-1.375-1.5-.684 0-1.375.464-1.375 1.5 0 .855.591 1.5 1.375 1.5m1.5 4.154v-1.904a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75v1.904l-1.536 5.907a.752.752 0 0 0 .726.939h.21a.75.75 0 0 0 .726-.564l1.288-5.021c.025-.1.147-.1.172 0l1.288 5.021a.75.75 0 0 0 .726.564h.21a.75.75 0 0 0 .726-.94l-1.536-5.906z",transform:"translate(354 204.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconAppFacebookCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 193.5c-5.523 0-10 4.477-10 10 0 4.688 3.23 8.612 7.584 9.694V206.5H99v-3h2.084v-1.316c0-3.404 1.54-4.98 4.88-4.98.632 0 1.724.124 2.172.248v2.768a13.32 13.32 0 0 0-1.156-.036c-1.64 0-2.272.62-2.272 2.236v1.08h3.268l-.56 3h-2.704v6.92c4.95-.6 8.788-4.808 8.788-9.92 0-5.523-4.477-10-10-10",transform:"translate(-446 -398) translate(352.5 156.5) translate(0 48)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDownloadOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103.132 206.504a1.16 1.16 0 0 0-1.148-1.004h-2.951c-.58 0-1.07.428-1.146 1.002l-1.094 7.998h-1.62c-1.03 0-1.547 1.245-.82 1.975l5.328 5.356c.431.433 1.12.452 1.574.06l.064-.06 5.326-5.354c.728-.731.21-1.977-.821-1.977h-1.616l-1.076-7.996zM95.995 216h1.452a.75.75 0 0 0 .743-.649L99.333 207h2.352l1.124 8.35a.75.75 0 0 0 .744.65h1.451l-4.504 4.527L95.995 216z",transform:"translate(355.5 193)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M92.5 221.25v1.686c0 .864.7 1.564 1.564 1.564h12.872c.864 0 1.564-.7 1.564-1.564v-1.686a.75.75 0 1 0-1.5 0v1.686a.064.064 0 0 1-.064.064H94.064a.064.064 0 0 1-.064-.064v-1.686a.75.75 0 1 0-1.5 0z",transform:"translate(355.5 193)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconInfoCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M113.5 251.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-1.5 0a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0z",transform:"translate(352.5 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M103 251v5a.75.75 0 1 0 1.5 0v-5.75a.75.75 0 0 0-.75-.75h-1a.75.75 0 1 0 0 1.5h.25z",transform:"translate(352.5 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 246.5a1.001 1.001 0 0 0 0 2 1 1 0 0 0 0-2",transform:"translate(352.5 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconQuestionCircleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M113.5 251.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-1.5 0a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0z",transform:"translate(352.5 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.041 249.506c0-1.663-1.364-3.006-3.041-3.006-1.677 0-3.041 1.343-3.041 3.006a.75.75 0 1 0 1.5 0c0-.829.687-1.506 1.541-1.506.854 0 1.541.677 1.541 1.506 0 .757-.862 1.485-1.791 1.485a.75.75 0 0 0-.75.75v1.413a.75.75 0 1 0 1.5 0v-.748c1.394-.32 2.541-1.498 2.541-2.9z",transform:"translate(352.5 156.5) translate(1.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.75 254.5a1.001 1.001 0 0 0 0 2 1.001 1.001 0 0 0 0-2",transform:"translate(352.5 156.5) translate(1.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconSettingsOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"m108.861 200.161 1.084-1.805a.75.75 0 0 0-.113-.917l-1.521-1.52a.75.75 0 0 0-.916-.113l-1.806 1.083a7.709 7.709 0 0 0-1.275-.529l-.51-2.042a.75.75 0 0 0-.728-.568h-2.151a.75.75 0 0 0-.728.568l-.511 2.042a7.709 7.709 0 0 0-1.275.529l-1.806-1.083a.75.75 0 0 0-.916.112l-1.52 1.521a.75.75 0 0 0-.114.917l1.084 1.805c-.214.407-.39.834-.528 1.275l-2.043.51a.75.75 0 0 0-.568.728v2.152a.75.75 0 0 0 .568.727l2.042.51c.138.442.315.868.529 1.276l-1.084 1.805a.75.75 0 0 0 .113.917l1.521 1.52a.75.75 0 0 0 .916.113l1.806-1.083c.408.214.834.39 1.275.529l.51 2.042a.75.75 0 0 0 .728.568h2.151a.75.75 0 0 0 .728-.568l.511-2.042a7.709 7.709 0 0 0 1.275-.529l1.806 1.083a.75.75 0 0 0 .916-.112l1.52-1.521a.75.75 0 0 0 .114-.917l-1.084-1.805c.214-.408.39-.834.529-1.275l2.042-.51a.75.75 0 0 0 .568-.728v-2.152a.75.75 0 0 0-.568-.727l-2.043-.51a7.704 7.704 0 0 0-.528-1.276zm-.257 4.553a.75.75 0 0 0-.546.546 6.211 6.211 0 0 1-.707 1.705.75.75 0 0 0 0 .773l1.006 1.676-.693.693-1.677-1.006a.75.75 0 0 0-.772 0 6.215 6.215 0 0 1-1.704.707.75.75 0 0 0-.547.546l-.474 1.896h-.98l-.474-1.896a.75.75 0 0 0-.547-.546 6.215 6.215 0 0 1-1.704-.706.75.75 0 0 0-.772-.001l-1.677 1.006-.693-.693 1.006-1.676a.75.75 0 0 0 0-.773 6.211 6.211 0 0 1-.707-1.705.75.75 0 0 0-.546-.546l-1.896-.474v-.98l1.896-.474a.75.75 0 0 0 .546-.546c.15-.604.389-1.177.706-1.704a.75.75 0 0 0 .001-.773l-1.006-1.677.693-.693 1.677 1.006a.75.75 0 0 0 .772 0 6.215 6.215 0 0 1 1.704-.707.75.75 0 0 0 .547-.546l.474-1.896h.98l.474 1.896a.75.75 0 0 0 .547.546c.603.15 1.175.388 1.704.706a.75.75 0 0 0 .772 0l1.677-1.005.693.693-1.006 1.677a.75.75 0 0 0 0 .773c.318.527.556 1.1.707 1.704a.75.75 0 0 0 .546.546l1.896.474v.98l-1.896.474z",transform:"translate(354 204.25)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102 207.75a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z",transform:"translate(354 204.25)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTextAlignLeftOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M448.75 402h14.5a.75.75 0 1 0 0-1.5h-14.5a.75.75 0 1 0 0 1.5zm0 4.5h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5zm0 4.5h14.5a.75.75 0 1 0 0-1.5h-14.5a.75.75 0 1 0 0 1.5zm0 4.5h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTextOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102.563 205.05a.75.75 0 1 0 1.374-.6l-5.25-12a.75.75 0 0 0-1.374 0l-5.25 12a.75.75 0 1 0 1.374.6L98 194.622l4.563 10.43z",transform:"translate(354 209.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M94.25 202h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5zm11.439-4.722c.097-.08.32-.223.648-.371a4.56 4.56 0 0 1 1.895-.407c1.324 0 2.268.963 2.268 2.092v6.158a.75.75 0 1 0 1.5 0v-6.158c0-1.95-1.61-3.592-3.768-3.592a6.05 6.05 0 0 0-2.515.54 4.603 4.603 0 0 0-.977.576.75.75 0 1 0 .949 1.162z",transform:"translate(354 209.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m110.504 201.039-.004.075c0 1.11-1.674 2.886-2.965 2.886-1.376 0-2.035-.43-2.035-1.523 0-1.273 1.054-1.977 2.5-1.977h2.82a.75.75 0 0 0-.316.539zM112 199.75a.75.75 0 0 0-.75-.75H108c-2.176 0-4 1.217-4 3.477 0 2.09 1.43 3.023 3.535 3.023 2.14 0 4.465-2.467 4.465-4.386a.75.75 0 0 0-.375-.65l-.063-.032a.75.75 0 0 0 .438-.682z",transform:"translate(354 209.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSDataUseConsentState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,CONSENTED:1,WITHDRAWN:2,NOT_APPLICABLE:3,SEEN:4});f["default"]=a}),66);
__d("LSFetchAccountSyncedFields",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return d[0]=new c.Map(),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"fetch_account_synced_fields",c.i64.cast([0,160021]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAccountSettingsFetchAccountSyncedFieldsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchAccountSyncedFieldsStoredProcedure",["LSFetchAccountSyncedFields","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSFetchAccountSyncedFields"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPlatformLogout",["LSCookie","LSDatabaseSingleton","QPLUserFlow","cr:10031","gkx","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;async function k(){if(!b("cr:10031")||c("gkx")("5547"))return;c("QPLUserFlow").start(c("qpl")._(25311266,"236"),{cancelOnUnload:!0,timeoutInMs:3e3});try{await Promise.all([async function(){var a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;await b("cr:10031").deleteDB("logout",a)}(),d("LSCookie").clear()])}catch(a){c("QPLUserFlow").endFailure(c("qpl")._(25311266,"236"),"fail");return}c("QPLUserFlow").endSuccess(c("qpl")._(25311266,"236"))}function a(){return j(k,[])}g.logout=k;g.useLogout=a}),98);
__d("MWFDSMenuItemAccessibility.svg.react",["cr:21821"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21821")}),98);
__d("MWFDSMenuItemAppFacebook.svg.react",["cr:21525"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21525")}),98);
__d("MWFDSMenuItemDownload.svg.react",["cr:21918"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21918")}),98);
__d("MWFDSMenuItemInfoCircle.svg.react",["cr:21955"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21955")}),98);
__d("MWFDSMenuItemMessageDots.svg.react",["cr:21978"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21978")}),98);
__d("MWFDSMenuItemQuestionCircle.svg.react",["cr:22013"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22013")}),98);
__d("MWFDSMenuItemSettings.svg.react",["cr:22034"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22034")}),98);
__d("MWFDSMenuItemText.svg.react",["cr:22056"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22056")}),98);
__d("MWFDSMenuItemTextAlignLeft.svg.react",["cr:22054"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22054")}),98);
__d("MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9836562433091987"}),null);
__d("MWInboxAccessibilitySettingsDialogQuery$Parameters",["MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWInboxAccessibilitySettingsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWInboxAccessibilitySettingsDialog.entrypoint",["JSResourceForInteraction","MWInboxAccessibilitySettingsDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWInboxAccessibilitySettingsDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWInboxAccessibilitySettingsDialog.react").__setRef("MWInboxAccessibilitySettingsDialog.entrypoint")};g["default"]=a}),98);
__d("MWXIconMenuItemAppFacebook",["MWXSvgIcon","SVGIcon","cr:22538","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22538")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWInboxInfoFRXOverflowMenu.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemAppFacebook","MWXIconMenuItemShieldStar","MWXMenu.react","MWXMenuItem.react","emptyFunction","react","react-compiler-runtime","useMWInboxInfoFRX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e=a.onClose;a=a.thread;var f;b[0]!==a?(f={entryPoint:"groups_report_to_admin",messagingEntrypoint:"thread_details",onPress:c("emptyFunction"),thread:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWInboxInfoFRX")(f);b[2]!==a?(f={entryPoint:"report_button",messagingEntrypoint:"thread_details",onPress:c("emptyFunction"),thread:a},b[2]=a,b[3]=f):f=b[3];var i=c("useMWInboxInfoFRX")(f);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Menu for reporting issues to admins or Facebook"),b[4]=a):a=b[4];b[5]!==e||b[6]!==g?(f=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_something_wrong"),g(),e==null||e(a)},b[5]=e,b[6]=g,b[7]=f):f=b[7];var k;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Report to admins"),b[8]=k):k=b[8];b[9]!==f?(k=j.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemShieldStar"),onClick:f,primaryText:k}),b[9]=f,b[10]=k):k=b[10];b[11]!==e||b[12]!==i?(f=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_something_wrong"),i(),e==null||e(a)},b[11]=e,b[12]=i,b[13]=f):f=b[13];var l;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Report to Facebook"),b[14]=l):l=b[14];b[15]!==f?(l=j.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemAppFacebook"),onClick:f,primaryText:l}),b[15]=f,b[16]=l):l=b[16];b[17]!==k||b[18]!==l?(f=j.jsxs(c("MWXMenu.react"),{"aria-label":a,withArrow:!0,children:[k,l]}),b[17]=k,b[18]=l,b[19]=f):f=b[19];return f}g["default"]=a}),226);
__d("MWInboxMediaGalleryEBRestoreSyncBanner.react",["fbt","MWXCard.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={files:"files",links:"links",media:"media"};function a(a){var b=d("react-compiler-runtime").c(3);a=a.contentType;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXSpinner.react"),{color:"blue",size:20})}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXCard.react"),{background:"card-flat",children:j.jsxs(c("MWXRow.react"),{align:"center",paddingHorizontal:12,paddingVertical:12,verticalAlign:"center",children:[e,j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._(/*BTDS*/"_j{\"media\":\"Syncing media...\",\"files\":\"Syncing files...\",\"links\":\"Syncing links...\"}",[h._enum(k[a],{media:"media",files:"files",links:"links"})])})})]})}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWInboxMediaGalleryEBRestoreUpsell.react",["fbt","MWChatEncryptedBackupsQPLSource.enum","MWEBRestoreUpsellTrigger.react","MWXCard.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={files:"files may be",links:"links may be",media:"media may be"};function a(a){var b=d("react-compiler-runtime").c(2),e=a.contentType;b[0]!==e?(a=j.jsx(c("MWEBRestoreUpsellTrigger.react"),{markerPrefix:"MEDIA_GALLERY_RESTORE",qplSource:c("MWChatEncryptedBackupsQPLSource.enum").MEDIA_GALLERY_RESTORE,children:function(a,b){return j.jsx(c("MWXCard.react"),{background:"card-flat",children:j.jsx("div",{className:"xyamay9 x1l90r2v x1g0dm76 xpdmqnj",ref:b,children:j.jsxs(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:[h._(/*BTDS*/"_j{\"files may be\":\"Some files may be missing.\",\"links may be\":\"Some links may be missing.\",\"media may be\":\"Some media may be missing.\"}",[h._enum(k[e],{"files may be":"files may be","links may be":"links may be","media may be":"media may be"})])," ",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:a,children:h._(/*BTDS*/"Restore now")})})]})})})}}),b[0]=e,b[1]=a):a=b[1];return a}g["default"]=a}),226);
__d("MWXIconMenuItemText",["MWXSvgIcon","SVGIcon","cr:22838","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22838")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessengerClientEventMinorSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MUSIC_PLAYER:"music_player",LYRICS_SELECTOR:"lyrics_selector",CHANNELS_FOLDER_SUGGESTED_BROADCAST_CHANNELS_SECTION:"channels_folder_suggested_broadcast_channels_section",CHANNELS_FOLDER_SUGGESTED_BROADCAST_CHANNELS_SEE_MORE_LIST:"channels_folder_suggested_broadcast_channels_see_more_list",COMMUNITIES_ALL_COMMUNITIES_LIST_VIEW:"communities_all_communities_list_view",COMMUNITIES_CHANNEL_LIST_VIEW:"communities_channel_list_view",COMMUNITIES_CHAT_PREVIEW:"communities_chat_preview",COMMUNITIES_COMMUNITY_PREVIEW:"communities_community_preview",COMMUNITIES_MAIN_VIEW_CONNECTED_COMMUNITIES_SECTION:"communities_main_view_connected_communities_section",COMMUNITIES_MAIN_VIEW_CONNECTED_CHANNELS_SECTION:"communities_main_view_connected_channels_section",COMMUNITIES_MAIN_VIEW_TO_REVIEW_SECTION:"communities_main_view_to_review_section",COMMUNITIES_MAIN_VIEW_UNCONNECTED_COMMUNITIES_SECTION:"communities_main_view_unconnected_communities_section",COMMUNITIES_TO_REVIEW_LIST_VIEW:"communities_to_review_list_view",CONTEXT_MENU:"context_menu",NOTE_CREATION_SETTINGS:"note_creation_settings",HIGHLIGHTS_FEED:"highlights_feed",ACTIVITY_LIST:"activity_list",HIGHLIGHTS_TAB_FOOTER:"highlights_tab_footer",HIGHLIGHTS_TAB_IMMERSIVE_VIEW:"highlights_tab_immersive_view",HIGHLIGHTS_TAB_NUX:"highlights_tab_nux",HIGHLIGHTS_TAB_TRAY:"highlights_tab_tray",HIGHLIGHTS_TRAY:"highlights_tray",HOLIDAY_CARD_EDITOR:"holiday_card_editor",IMMERSIVE_PROFILE_SELF_VIEW:"immersive_profile_self_view",JEWEL_FOCUS_VIEW:"jewel_focus_view",LEFT_DRAWER_DISCOVER_CHANNELS_LIST:"left_drawer_discover_channels_list",LEFT_NAV:"left_nav",MAIN_VIEW:"main_view",MEDIA_VIEW:"media_view",MSGR_TAB:"msgr_tab",PREVIEW_PROFILE_PICTURE:"preview_profile_picture",PYMK_VIEW:"pymk_view",PYMK_FULL_PAGE:"pymk_full_page",THREAD_VIEW:"thread_view",NEW_FRIENDS_FOLDER:"new_friends_folder",SEE_NEW_FRIENDS_PROMPT:"see_new_friends_prompt",INBOX_BANNER:"inbox_banner",INBOX_COMMUNITIES:"inbox_communities",INBOX_COMMUNITIES_LONG_PRESS_PAGE:"inbox_communities_long_press_page",INBOX_MESSAGES:"inbox_messages",INBOX_MESSAGES_BULK_ACTION_PAGE:"inbox_messages_bulk_action_page",INBOX_TRAY:"inbox_tray",INBOX_TRAY_ACTIVE_NOW_LONG_PRESS_PAGE:"inbox_tray_active_now_long_press_page",INBOX_TREP:"inbox_trep",INBOX_FILTER_ALL:"inbox_filter_all",INBOX_FILTER_UNREAD:"inbox_filter_unread",INBOX_FILTER_GROUPS:"inbox_filter_groups",INBOX_FILTER_OUTBOUND:"inbox_filter_outbound",INBOX_FILTER_MARKETPLACE_UNRESPONDED:"inbox_filter_marketplace_unresponded",INBOX_FILTER_MARKETPLACE_RESPONDED:"inbox_filter_marketplace_responded",INBOX_FILTER_MARKETPLACE_HIGHLY_RATED:"inbox_filter_marketplace_highly_rated",INBOX_FILTER_MARKETPLACE_VERY_RESPONSIVE:"inbox_filter_marketplace_very_responsive",LEFT_NAV_COMMUNITIES:"left_nav_communities",LEFT_NAV_STANDALONE_COMMUNITIES:"left_nav_standalone_communities",LEFT_NAV_FB_GROUPS:"left_nav_fb_groups",COMMUNITIES_GROUPS_EDIT_SHEET:"communities_groups_edit_sheet",FIND_CONTACTS_PAGE:"find_contacts_page",CONTACTS_ACCESS_PROMPT:"contacts_access_prompt",STORY_COMPOSER_RMC_CAROUSEL:"story_composer_rmc_carousel",STORY_COMPOSER_CREATION_MODE:"story_composer_creation_mode",STORY_CREATION_CAMERA_VIEW:"story_creation_camera_view",READY_MADE_CONTENT_MIMICRY:"ready_made_content_mimicry",STORY_RING:"story_ring",STORY_CARD:"story_card",COMBINED_VIEWER:"combined_viewer",PROFILE:"profile",THREAD_LIST:"thread_list",ACTIONS_VIEW_STORY:"actions_view_story",PYMK_VIEW_INFO:"pymk_view_info",PYMK_CONTAINER:"pymk_container",CONTACTS_AND_PYMM_CONTAINER:"contacts_and_pymm_container",FIND_FRIENDS:"find_friends",PYMM_CONTAINER:"pymm_container",PYMM_VIEW:"pymm_view",START_CHAT_FILTER_ALL:"start_chat_filter_all",START_CHAT_FILTER_FRIENDS:"start_chat_filter_friends",START_CHAT_FILTER_SUUGESTED:"start_chat_filter_suggested",PYMK_CONTAINER_FRIENDS_TAB:"pymk_container_friends_tab",PYMK_CONTAINER_HIGHLGHTS_TAB:"pymk_container_highlights_tab",PYMK_CONTAINER_INBOX:"pymk_container_inbox",PYMK_CONTAINER_INBOX_ALL_COUNT:"pymk_container_inbox_all_count",PYMK_CONTAINER_JEWEL:"pymk_container_messenger_jewel",PYMK_CONTAINER_LEFT_NAV:"pymk_container_left_nav",PYMK_CONTAINER_SEARCH:"pymk_container_search",PYMK_CONTAINER_STORY_VIEWER:"pymk_container_story_viewer",FRIENDS_GROUP_MEMBERS_SECTION:"friends_group_members_section",GROUP_MEMBERS_RESPOND_SHEET:"group_members_respond_sheet",IMMERSIVE_PROFILE_VIEW_HEADER:"immersive_profile_view_header",IMMERSIVE_PROFILE_RESPOND_SHEET:"immersive_profile_respond_sheet",IMMERSIVE_PROFILE_UNFRIEND_RESPOND_SHEET:"immersive_profile_unfriend_respond_sheet",THREAD_VIEW_ADD_MEMBER_ADMIN_TEXT:"thread_view_add_member_admin_text",THREAD_VIEW_DETAILS_HEADER:"thread_view_details_header",THREAD_VIEW_DETAILS_UNFRIEND_RESPOND_SHEET:"thread_view_details_unfriend_respond_sheet",THREAD_VIEW_HEADER:"thread_view_header",THREAD_VIEW_TITLE:"thread_view_title",THREAD_VIEW_RESPOND_SHEET:"thread_view_respond_sheet",THREAD_VIEW_UNFRIEND_RESPOND_SHEET:"thread_view_unfriend_respond_sheet",UNCONNECTED_GROUP_MEMBERS_SECTION:"unconnected_group_members_section",URL_PREVIEW:"url_preview",THREAD_VIEW_DETAILS_RESPOND_SHEET:"thread_view_details_respond_sheet",THREAD_VIEW_XMA_LINK:"thread_view_xma_link",THREAD_VIEW_XMA_REPLY:"thread_view_xma_reply",THREAD_VIEW_XMA_SHARE:"thread_view_xma_share",THREAD_VIEW_SENDER_TILE:"thread_view_sender_tile",THREAD_VIEW_BANNER:"thread_view_banner",IMMERSIVE_PROFILE_VIEW_ABOUT_SECTION:"immersive_profile_view_about_section",IMMERSIVE_PROFILE_VIEW_CHAT_ACTIONS_SECTION:"immersive_profile_view_chat_actions_section",IMMERSIVE_PROFILE_VIEW_COMMON_CHATS_SECTION:"immersive_profile_view_common_chats_section",IMMERSIVE_PROFILE_VIEW_MUTUAL_FRIENDS_SECTION:"immersive_profile_view_mutual_friends_section",IMMERSIVE_PROFILE_VIEW_PRIVACY_SECTION:"immersive_profile_view_privacy_section",FRIEND_REQUEST_PUSH_NOTIFICATION:"friend_request_push_notification",STORY_PUSH_NOTIFICATION:"story_push_notification",NIX_CONTACT_IMPORT_PUSH_NOTIFICATION:"nix_contact_import_push_notification",NIX_MESSAGE_PUSH_NOTIFICATION:"nix_message_push_notification",FRIEND_REQUESTS_CONTAINER:"friend_requests_container",FRIEND_REQUESTS_VIEW:"friend_requests_view",STORY_MUSIC_EDITOR:"story_music_editor",UNIVERSAL_SEARCH_NULL_STATE:"universal_search_null_state",UNIVERSAL_SEARCH_QUERY_STATE:"universal_search_query_state",NOTE_CREATION_HEADER:"note_creation_header",NOTE_CREATION_CENTER:"note_creation_center",MUSIC_SELECTOR:"music_selector",GAME_SELECTOR:"game_selector",COMBINED_VIEWER_HEADER:"combined_viewer_header",NOTE_CLICKABLE_CONTENT:"note_clickable_content",COMBINED_VIEWER_CONTENT:"combined_viewer_content",COMBINED_VIEWER_FOOTER:"combined_viewer_footer",PARTICIPATION_VIEWER:"participation_viewer",STORY_CREATION_HOMEBASE_HEADER:"story_creation_homebase_header",CONTENT_CREATION_ALBUM_LIST:"content_creation_album_list",STORY_CREATION_HOMEBASE_MODES:"story_creation_homebase_modes",STORY_CREATION_HOMEBASE_ALBUM_PHOTOS:"story_creation_homebase_album_photos",STORY_CREATION_COMPOSER_TOOLBAR:"story_creation_composer_toolbar",STORY_CREATION_COMPOSER_BRUSH_EDITOR:"story_creation_composer_brush_editor",STORY_CREATION_COMPOSER_TEXT_TOOL:"story_creation_composer_text_tool",STORY_CREATION_COMPOSER_STICKER_SELECTOR:"story_creation_composer_sticker_selector",STORY_CREATION_COMPOSER_SETTINGS:"story_creation_composer_settings",STORY_CREATION_COMPOSER_MUSIC_SELECTOR:"story_creation_composer_music_selector",STORY_CREATION_COMPOSER_VIDEO_TOOL:"story_creation_composer_video_tool",STORY_CREATION_COMPOSER_APP_SWITCH_DIALOG:"story_creation_composer_app_switch_dialog",STORY_CREATION_COMPOSER_FULL_APP_SWITCH_DIALOG:"story_creation_composer_full_app_switch_dialog",STORY_CREATION_COMPOSER_LIGHTWEIGHT_APP_SWITCH_DIALOG:"story_creation_composer_lightweight_app_switch_dialog",STORY_CREATION_COMPOSER_LIGHTWEIGHT_APP_SWITCH_INELIGIBLE:"story_creation_composer_lightweight_app_switch_ineligible",NA:"NA",QP:"qp",COMMUNITIES_IN_COMMON_SHEET:"communities_in_common_sheet",FRIENDS_IN_COMMON_SHEET:"friends_in_common_sheet",GROUPCHATS_IN_COMMON_SHEET:"groupchats_in_common_sheet",FRIENDS_IN_COMMON_SEE_ALL:"friends_in_common_see_all",SIDEBAR_ONE_ON_ONE_CHATS:"sidebar_one_on_one_chats",SIDEBAR_GROUP_CHATS:"sidebar_group_chats",SIDEBAR_COMMUNITY_CHATS:"sidebar_community_chats",SIDEBAR_BROADCAST_CHANNELS:"sidebar_broadcast_channels",GROUP_MEMBERS_FILTER_ALL:"group_members_filter_all",GROUP_MEMBERS_FILTER_ADMINS:"group_members_filter_admins",GROUP_MEMBERS_FILTER_HOSTS:"group_members_filter_hosts",READ_RECEIPT:"read_receipt",BIRTHDAY_SPARK_MESSAGE_COMPOSER:"birthday_spark_message_composer",BIRTHDAY_SPARK_CUSTOM_MESSAGES:"birthday_spark_custom_messages",JEWEL_FRIEND_REQUEST_RESPOND_SHEET:"jewel_friend_request_respond_sheet",PEOPLE_FILTER_ACTIVE:"people_filter_active",PEOPLE_FILTER_ALL:"people_filter_all",PEOPLE_FILTER_FRIEND_REQUESTS:"people_filter_friend_requests",PEOPLE_FILTER_CURRENT_CITY:"people_filter_current_city",PEOPLE_FILTER_SCHOOL:"people_filter_school",PEOPLE_FILTER_HOMETOWN:"people_filter_hometown",PEOPLE_FILTER_WORK:"people_filter_work",META_GALLERY_MID_CARD:"meta_gallery_mid_card",META_IG_CROSS_POST_SELF_POG:"meta_ig_cross_post_self_pog",SEE_MORE:"see_more",ONLINE_NOW:"online_now"});c=a;f["default"]=c}),66);
__d("MessengerClientEventTargetType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ASSET:"asset",BANNER:"banner",BUTTON:"button",BROADCAST_CHANNEL:"broadcast_channel",CAMERA:"camera",COMMUNITY:"community",EVENT:"event",FOLDER:"folder",GROUP:"group",JEWEL_NOTIFICATION:"jewel_notification",PUSH_NOTIFICATION:"push_notification",MESSAGE_THREAD:"message_thread",NOTE:"note",NOTE_CUSTOMIZATION:"note_customization",POLL:"poll",POST:"post",PROMPT:"prompt",PROMPT_RESPONSE:"prompt_response",STORY:"story",TAB:"tab",USER:"user",MUSIC:"music",STICKER:"sticker",AVATAR_STICKER:"avatar_sticker",EMOJI:"emoji",REEL:"reel",LINK:"link",PHOTO:"photo",VIDEO:"video",ALBUM:"album",GIF:"gif",GAME:"game",MOODS:"moods",LOCATION:"location",AI_GENERATED_STICKER:"ai_generated_sticker",ADD_YOURS:"add_yours",FACE_PILE:"face_pile",CONTEXT_MENU:"context_menu",PARTICIPATION_VIEWER:"participation_viewer",UPLOAD_STATUS:"upload_status",READY_MADE_CONTENT:"ready_made_content",INBOX_FILTER:"inbox_filter",THREAD_LIST_CONTAINER:"thread_list_container",MEDIA:"media",REELS_RECAP:"reels_recap",START_CHAT_FILTER:"start_chat_filter",AI_BOT:"ai_bot",RECAP_SETTING_PAGE:"recap_setting_page",PEOPLE_FILTER:"people_filter",INBOX_TRAY_BOTTOM_SHEET:"inbox_tray_bottom_sheet",LOCATION_STICKER:"location_sticker",TIME_STICKER:"time_sticker",DATE_STICKER:"date_sticker",BATTERY_STICKER:"battery_sticker",WEATHER_STICKER:"weather_sticker",USER_NOTE:"user_note",USER_STORY:"user_story",USER_NOTE_STORY:"user_note_story",FRIEND_REQUEST_VIEW:"friend_request_view",IMMERSIVE_PROFILE_VIEW:"immersive_profile_view",JEWEL_PAGE:"jewel_page",MSGR_SETTINGS_PAGE:"msgr_settings_page",INVITE_A_FRIEND_PAGE:"invite_a_friend_page",PYMK_VIEW:"pymk_view",STORY_COMPOSER_EDITOR_PAGE:"story_composer_editor",STORY_COMPOSER_HOMEBASE_PAGE:"story_composer_homebase_page",FB_GROUPS_CONTAINER:"fb_groups_container",INBOX_TRAY_CONTAINER:"inbox_tray_container",PYMK_CONTAINER:"pymk_container",REELS_CONTAINER:"reels_container",STANDALONE_COMMUNITIES_CONTAINER:"standalone_communities_container",FRIEND_REQUESTS_CONTAINER:"friend_requests_container",STORY_TRAY_CONTAINER:"story_tray_container",CHAT_WITH_FRIENDS_CONTAINER:"chat_with_friends_container",PARTICIPATION_VIEWER_CONTAINER:"participation_viewer_container",FRIENDS_LIST_CONTAINER:"friends_list_container",NON_FRIENDS_LIST_CONTAINER:"non_friends_list_container",INVITED_LIST_CONTAINER:"invited_group_members_container",ACTIVE_NOW_LIST_CONTAINER:"active_now_list_container",PYMM_CONTAINER:"pymm_container",COMMUNITIES_GROUPS_EDIT_SHEET:"communities_groups_edit_sheet",FRIEND_REQUEST_RESPONSE_SHEET:"friend_request_response_sheet",UNFRIEND_REQUEST_RESPONSE_SHEET:"unfriend_request_response_sheet",PYMK_VIEW_BOTTOM_SHEET:"pymk_view_bottom_sheet",COMMUNITIES_IN_COMMON_SHEET:"communities_in_common_sheet",FRIENDS_IN_COMMON_SHEET:"friends_in_common_sheet",GROUPCHATS_IN_COMMON_SHEET:"groupchats_in_common_sheet",OPEN_FB_POPUP:"open_fb_popup",UPDATE_FB_POPUP:"update_fb_popup",DOWNLOAD_FB_POPUP:"download_fb_popup",LOG_IN_POPUP:"log_in_popup",OTHER_USER_POPUP:"other_user_popup",STORY_SHARED_POPUP:"story_shared_popup",USER_BIRTHDAY_SPARK:"user_birthday_spark",POG_EDUCATIONAL_TEXT:"pog_educational_text",POG_UNREAD_TEXT:"pog_unread_text",POG_VOICE_CALL_BADGE:"pog_voice_call_badge",POG_VIDEO_CALL_BADGE:"pog_video_call_badge",POG_CALL_SUGGESTION_BADGE:"pog_call_suggestion_badge",GROUPS_POG:"groups_pog"});c=a;f["default"]=c}),66);
__d("MessengerClientEventType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ONE_PX_IMPRESSION:"one_px_impression",VPVD_IMPRESSION:"vpvd_impression",SINGLE_CLICK:"single_click",LONG_PRESS:"long_press",SYSTEM:"system",SCROLL:"scroll"});c=a;f["default"]=c}),66);
__d("MessengerSettingsActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("120");b=d("FalcoLoggerInternal").create("messenger_settings_action",a);e=b;g["default"]=e}),98);
__d("logMessengerSettingsFalcoEvent",["MessengerSettingsActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.majorSurface,d=a.minorSurface,e=d===void 0?"NA":d;d=a.target;var f=d===void 0?"button":d;d=a.eventType;var g=d===void 0?"single_click":d;c("MessengerSettingsActionFalcoEvent").log(function(){return{event_type:g,surface:{entry_point:void 0,major_surface:b,minor_surface:e},target:{type:f}}})}g["default"]=a}),98);
__d("useMWEditUsernameDialog",["JSResourceForInteraction","LSFactory","LSFetchAccountSyncedFieldsStoredProcedure","emptyFunction","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=c("JSResourceForInteraction")("MWEditUsernameDialog.react").__setRef("useMWEditUsernameDialog");function a(){var a=d("react-compiler-runtime").c(5),b=c("useAsyncReStore")(),e=c("useMWXLazyDialog")(k),f=e[0],g=j(!1),h;a[0]!==b?(e=function(){if(g.current===!0)return;g.current=!0;c("promiseDone")(b,l)},h=[b,g],a[0]=b,a[1]=e,a[2]=h):(e=a[1],h=a[2]);i(e,h);a[3]!==f?(e=function(a,b){f({entryPoint:b,initialUsername:a},c("emptyFunction"))},a[3]=f,a[4]=e):e=a[4];return e}function l(a){c("promiseDone")(a.runInTransaction(m,"readwrite",void 0,void 0,f.id+":44"))}function m(a){return c("LSFetchAccountSyncedFieldsStoredProcedure")(c("LSFactory")(a))}g["default"]=a}),98);
__d("MWInboxSettingEditUsernameMenuItem.react",["fbt","MWPActor.react","MWXIconMenuItemText","MWXMenuItem.react","ReQL","ReQLSuspense","logMessengerSettingsFalcoEvent","react","react-compiler-runtime","useMWEditUsernameDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||c("react");function a(){var a=d("react-compiler-runtime").c(12),b=(j||(j=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==e||a[1]!==b.tables.contacts?(g=function(){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e)},a[0]=e,a[1]=b.tables.contacts,a[2]=g):g=a[2];var i;a[3]!==e||a[4]!==b?(i=[b,e],a[3]=e,a[4]=b,a[5]=i):i=a[5];var l=d("ReQLSuspense").useFirst(g,i,f.id+":29"),m=c("useMWEditUsernameDialog")();if(l==null)return null;a[6]!==l.username||a[7]!==m?(g=function(){c("logMessengerSettingsFalcoEvent")({majorSurface:"msgr_settings"}),m(l.username,"msgr_settings")},a[6]=l.username,a[7]=m,a[8]=g):g=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Edit username"),a[9]=i):i=a[9];a[10]!==g?(i=k.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemText"),onClick:g,primaryText:i}),a[10]=g,a[11]=i):i=a[11];return i}g["default"]=a}),226);
__d("MWInboxSettingsDialog.entrypoint",["JSResourceForInteraction","useCometHomeChatSettingsQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{chatSettingsQueryReference:{parameters:b("useCometHomeChatSettingsQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWInboxSettingsDialogEntrypoint.react").__setRef("MWInboxSettingsDialog.entrypoint")};g["default"]=a}),98);
__d("MWXIconMenuItemAccessibility",["MWXSvgIcon","SVGIcon","cr:22530","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22530")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemDownload",["MWXSvgIcon","SVGIcon","cr:22648","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22648")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemInfoCircle",["MWXSvgIcon","SVGIcon","cr:22708","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22708")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemMessageDots",["MWXSvgIcon","SVGIcon","cr:22733","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22733")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemQuestionCircle",["MWXSvgIcon","SVGIcon","cr:22784","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22784")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemSettings",["MWXSvgIcon","SVGIcon","cr:22808","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22808")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemTextAlignLeft",["MWXSvgIcon","SVGIcon","cr:22835","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22835")),c("gkx")("23219"));g["default"]=a}),98);
__d("XMessengerHelpCenterHomeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("openMessengerLogOut",["Banzai","DTSG","DTSGUtils","LSPlatformLogout","SprinkleConfig","URI","WebStorageMonster","XMessengerDotComLogoutController","promiseDone","useEBStateDBLogout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){c("promiseDone")(d("LSPlatformLogout").logout());c("promiseDone")(d("useEBStateDBLogout").logoutEBStateDB());var a=c("XMessengerDotComLogoutController").getURIBuilder().getURI(),b={};a=new(h||(h=c("URI")))(a);var e=document.createElement("form");e.action=a.toString();e.method="POST";e.style.display="none";a=d("DTSG").getToken();a!=null&&(b.fb_dtsg=a,c("SprinkleConfig").param_name.length>0&&(b[c("SprinkleConfig").param_name]=d("DTSGUtils").getNumericValue(a)));Object.entries(b).forEach(function(a){var b=a[0];a=a[1];var c=document.createElement("input");c.type="hidden";c.name=b;c.value=a;e.appendChild(c)});(a=document.body)==null||a.appendChild(e);c("Banzai").flush();c("WebStorageMonster").cleanOnLogout([],"MWInboxSettingsMenu");return e.submit()};b=a;g["default"]=b}),98);
__d("MWInboxSettingsMenu.react",["fbt","CurrentEnvironment","CurrentUser","FDSMenuSeparator.react","FDSSeparatorMenuItem.react","I64","JSResourceForInteraction","LSDataUseConsentState","LSIntEnum","MWChatSidebarSettingsPrivacyMenu.react","MWFacebookUserWithoutMessengerAccess","MWInboxAccessibilitySettingsDialog.entrypoint","MWInboxRestrictedAccountsRouteBuilder","MWInboxSettingEditUsernameMenuItem.react","MWInboxSettingsDialog.entrypoint","MWPBumpEntityKey","MWSeparatorContainer.react","MWXIconMenuItemAccessibility","MWXIconMenuItemBox","MWXIconMenuItemCautionTriangle","MWXIconMenuItemDownload","MWXIconMenuItemInfoCircle","MWXIconMenuItemLeave","MWXIconMenuItemMessageCross","MWXIconMenuItemMessageDots","MWXIconMenuItemQuestionCircle","MWXIconMenuItemSettings","MWXIconMenuItemTextAlignLeft","MWXMenu.react","MWXMenuItem.react","MessageRequestsLog","MessengerMSplitFlag","MetaConfig","ODS","Promise","ReQL","ReQLSuspense","VenusFlytrapLogging","VenusFlytrapLoggingEntrypoint","XMessengerHelpCenterHomeControllerRouteBuilder","cr:4007","cr:4021","cr:494","cr:7484","gkx","openMessengerLogOut","promiseDone","qex","react","useMWXEntryPointDialog","useMWXLazyDialog","useMessengerVenusFlytrapDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p=o||d("react");function a(a){return q}function q(){return(n||(n=b("Promise"))).resolve()}var r=(i=b("cr:494"))!=null?i:a;function e(a){a.onClose;var e=a.showHidden,g=a.showMessageRequests,i=a.showRestrictedAccounts,n=(j||(j=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.tables.epd_cookie_settings)},[n],f.id+":88");var o=c("MetaConfig")._("37"),q=c("useMWXEntryPointDialog")(c("MWInboxSettingsDialog.entrypoint"),{}),s=q[0];q=c("useMWXEntryPointDialog")(c("MWInboxAccessibilitySettingsDialog.entrypoint"),{});var t=q[0],u=c("useMessengerVenusFlytrapDialog")();q=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("MWInboxSettingsMenu.react"));var v=q[0];q=p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/help/cookies",icon:c("MWXIconMenuItemTextAlignLeft"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","cookie_policy")},primaryText:h._(/*BTDS*/"Cookie Policy"),target:"_blank",testid:void 0});var w=c("gkx")("24080"),x=p.jsx(c("MWXMenuItem.react"),{href:"https://accountscenter.facebook.com/info_and_permissions/cookie_settings",icon:c("MWXIconMenuItemSettings"),primaryText:h._(/*BTDS*/"Cookie settings"),target:"_blank",testid:void 0});w=w&&a!=null&&!(k||(k=d("I64"))).equal(a.fbTrackersOnOtherCompanies,(l||(l=d("LSIntEnum"))).ofNumber(c("LSDataUseConsentState").UNSET))&&!(k||(k=d("I64"))).equal(a.otherCompanyTrackersOnFoa,(l||(l=d("LSIntEnum"))).ofNumber(c("LSDataUseConsentState").UNSET))&&!c("MessengerMSplitFlag").is_msplit_account?x:q;var y=r(!0);o?a=p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemLeave"),onClick:function(){c("promiseDone")(y().then(function(){return c("openMessengerLogOut")()}));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","logout")},primaryText:h._(/*BTDS*/"Log out"),testid:void 0}):a=null;x=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();q=p.jsx(c("MWXMenuItem.react"),{href:o?d("MWInboxRestrictedAccountsRouteBuilder").buildURLWithoutThread():void 0,icon:c("MWXIconMenuItemMessageCross"),onClick:function(){o||i();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","show_restricted_accounts")},primaryText:h._(/*BTDS*/"Restricted accounts"),testid:void 0});var z=d("CurrentUser").isMessengerOnlyUser()||d("CurrentUser").isDeactivatedAllowedOnMessenger()?p.jsx(c("MWXMenuItem.react"),{href:"https://www.messenger.com/dyi",icon:c("MWXIconMenuItemDownload"),primaryText:h._(/*BTDS*/"Download your information"),target:"_blank"}):null,A=b("cr:4007")==null?void 0:b("cr:4007")();return p.jsxs(c("MWXMenu.react"),{"aria-label":h._(/*BTDS*/"Inbox settings menu"),testid:void 0,truncate:!0,withArrow:!0,children:[b("cr:4021")&&A!=null&&A>0?p.jsx(b("cr:4021"),{value:A}):null,A!=null&&A>0?p.jsx(c("FDSSeparatorMenuItem.react"),{}):null,p.jsxs(c("MWSeparatorContainer.react"),{separator:p.jsx(c("FDSMenuSeparator.react"),{}),children:[p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemSettings"),onClick:function(){s({},function(){});return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","preferences")},primaryText:h._(/*BTDS*/"Preferences"),testid:void 0}),o&&c("gkx")("772")?p.jsx(c("MWInboxSettingEditUsernameMenuItem.react"),{}):null,o?q:p.jsxs("div",{children:[!c("gkx")("17132")&&p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemMessageDots"),onClick:function(){d("MessageRequestsLog").logMessageRequestsView(0,-1);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","message_requests");return g()},primaryText:c("qex")._("4751")?h._(/*BTDS*/"Spam"):h._(/*BTDS*/"Message requests"),testid:void 0}),p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemBox"),onClick:function(){e();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","report_problem")},primaryText:h._(/*BTDS*/"Archived chats"),testid:void 0}),q]}),p.jsxs(p.Fragment,{children:[c("MWChatSidebarSettingsPrivacyMenu.react")&&p.jsx(c("MWChatSidebarSettingsPrivacyMenu.react"),{}),o&&p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemAccessibility"),onClick:function(){return t({},function(){})},primaryText:h._(/*BTDS*/"Accessibility"),testid:void 0})]}),b("cr:7484")&&p.jsx(b("cr:7484"),{}),p.jsxs("div",{children:[p.jsx(c("MWXMenuItem.react"),{href:c("XMessengerHelpCenterHomeControllerRouteBuilder").buildUri({}).toString(),icon:c("MWXIconMenuItemQuestionCircle"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","help")},primaryText:h._(/*BTDS*/"Help"),target:"_blank",testid:void 0}),c("CurrentEnvironment").messengerdotcom?p.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemCautionTriangle"),onClick:function(){u!=null?(d("VenusFlytrapLogging").venusFlytrapLoggingStart(c("VenusFlytrapLoggingEntrypoint").TOP_NAVIGATION_SETTINGS),u()):(d("VenusFlytrapLogging").venusFlytrapLoggingStart(c("VenusFlytrapLoggingEntrypoint").TOP_NAVIGATION_SETTINGS),v({initialProduct:"chat"},function(){}));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","report_problem")},primaryText:h._(/*BTDS*/"Report a problem"),testid:void 0}):null]}),o?p.jsxs(p.Fragment,{children:[p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/policies",icon:c("MWXIconMenuItemTextAlignLeft"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","terms")},primaryText:h._(/*BTDS*/"Terms"),target:"_blank",testid:void 0}),p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/privacy/policy?entry_point=messenger_settings",icon:c("MWXIconMenuItemTextAlignLeft"),onClick:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","privacy_policy")},primaryText:h._(/*BTDS*/"Privacy Policy"),target:"_blank",testid:void 0}),w,z,d("CurrentUser").isMessengerOnlyUser()?p.jsx(c("MWXMenuItem.react"),{href:"https://www.facebook.com/help/messenger-app/ipad/458908261952384?helpref=platform_switcher&rdrhc",icon:c("MWXIconMenuItemInfoCircle"),onClick:function(){(m||(m=d("ODS"))).bumpEntityKey(3185,"inbox_settings","delete_account")},primaryText:h._(/*BTDS*/"Delete your account"),target:"_blank"}):null]}):null,x&&a==null?null:p.jsx("div",{children:a})]})]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),226);
__d("MWMessageSearchEBRestoreUpsell.react",["fbt","MWChatEncryptedBackupsQPLSource.enum","MWEBRestoreUpsellTrigger.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWEBRestoreUpsellTrigger.react"),{markerPrefix:"RESTORE_UNIVERSAL_MESSAGE_SEARCH",qplSource:c("MWChatEncryptedBackupsQPLSource.enum").UNIVERSAL_MESSAGE_SEARCH,children:k}),a[0]=b):b=a[0];return b}function k(a,b){return j.jsxs(c("MWXText.react"),{align:"center",ref:b,type:"meta3",children:[h._(/*BTDS*/"Messages are missing. Restore your chat history to search more messages.")," ",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:a,children:h._(/*BTDS*/"Restore now")})})]})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMAWSecretConversationsLogOut",["MAWSecretConversationsLogout","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(){return c("MAWSecretConversationsLogout")(a)},b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseBlurryImagePreview.react",["getComputedStyle","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=["blur","previewData","alt","height","style","width"],i,j,k=j||(j=d("react"));b=j;var l=b.useId,m=b.useLayoutEffect,n=b.useRef,o=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e,f,g,j,p,q,r;b[0]!==a?(f=a.blur,p=a.previewData,e=a.alt,g=a.height,q=a.style,r=a.width,j=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=p,b[6]=q,b[7]=r):(e=b[1],f=b[2],g=b[3],j=b[4],p=b[5],q=b[6],r=b[7]);b[8]!==q?(a=q!=null?q:{},b[8]=q,b[9]=a):a=b[9];a=a;var s=a.height,t=a.width;a=f!=null?f:1.2;f=l();var u=c("useSetAttributeRef")("id",f),v="url(#"+f+")",w=c("useSetAttributeRef")("filter",v),x=l(),y=n(null),z=o(g!==void 0||s!==void 0||r!==void 0||t!==void 0),A=z[0],B=z[1],C;b[10]!==g||b[11]!==p.height||b[12]!==p.width||b[13]!==s||b[14]!==t||b[15]!==r?(z=function(){var a=y.current;if(!(a instanceof SVGSVGElement))return;if(g!==void 0||s!==void 0||r!==void 0||t!==void 0){B(!0);return}var b=a.style.display,d=(i||(i=c("getComputedStyle")))(a);a.style.display="none";B(d!=null&&(d.height!==p.height+"px"||d.width!==p.width+"px"));a.style.display=b},C=[g,p.height,p.width,s,t,r],b[10]=g,b[11]=p.height,b[12]=p.width,b[13]=s,b[14]=t,b[15]=r,b[16]=z,b[17]=C):(z=b[16],C=b[17]);m(z,C);z=e!=null?x:null;C=g!=null?g:A?void 0:p.height;var D="0 0 "+p.width+" "+p.height;A=r!=null?r:A?void 0:p.width;var E;b[18]!==e||b[19]!==x?(E=e!=null&&k.jsx("title",{id:x,children:e}),b[18]=e,b[19]=x,b[20]=E):E=b[20];b[21]!==a?(e=k.jsx("feGaussianBlur",{edgeMode:"duplicate",stdDeviation:a}),b[21]=a,b[22]=e):e=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx("feComponentTransfer",{children:k.jsx("feFuncA",{tableValues:"1 1",type:"discrete"})}),b[23]=x):x=b[23];b[24]!==f||b[25]!==u||b[26]!==e?(a=k.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",id:f,ref:u,suppressHydrationWarning:!0,children:[e,x]}),b[24]=f,b[25]=u,b[26]=e,b[27]=a):a=b[27];b[28]!==v||b[29]!==w||b[30]!==p.dataURI||b[31]!==p.height||b[32]!==p.width?(x=k.jsx("image",{filter:v,height:p.height,ref:w,suppressHydrationWarning:!0,width:p.width,x:"0",xlinkHref:p.dataURI,y:"0"}),b[28]=v,b[29]=w,b[30]=p.dataURI,b[31]=p.height,b[32]=p.width,b[33]=x):x=b[33];b[34]!==j||b[35]!==q||b[36]!==a||b[37]!==x||b[38]!==z||b[39]!==C||b[40]!==D||b[41]!==A||b[42]!==E?(f=k.jsxs("svg",babelHelpers["extends"]({},j,{"aria-labelledby":z,height:C,preserveAspectRatio:"none",ref:y,role:"img",style:q,viewBox:D,width:A,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[E,a,x]})),b[34]=j,b[35]=q,b[36]=a,b[37]=x,b[38]=z,b[39]=C,b[40]=D,b[41]=A,b[42]=E,b[43]=f):f=b[43];return f}g["default"]=a}),98);
__d("CaptionsTextSizeMapping",[],(function(a,b,c,d,e,f){"use strict";a={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};b={BIG:"20px",BIGGER:"21px",BIGGEST:"21px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};c={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"};d={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};f.AdjustedCaptionsTextSizeMapFeedUnit=a;f.AdjustedCaptionsTextSizeMapWNS=b;f.FixedCaptionsTextSizeMap=c;f.DynamicCaptionsTextSizeMap=d}),66);
__d("CometWatchAndScrollTriggerContextProvider",["CometWatchAndScrollTriggerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e=j(c("CometWatchAndScrollTriggerContext")),f=k(e.isControlShown),g=f[0];f=f[1];e=k(e.isTriggerDisabled);var h=e[0];e=e[1];b[0]!==g||b[1]!==h?(f={isControlShown:g,isTriggerDisabled:h,setIsControlShown:f,setIsTriggerDisabled:e},b[0]=g,b[1]=h,b[2]=f):f=b[2];e=f;g=e;b[3]!==a||b[4]!==g?(h=i.jsx(c("CometWatchAndScrollTriggerContext").Provider,{value:g,children:a}),b[3]=a,b[4]=g,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","react-strict-dom","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=500,k=1e3,l=60,m=60;a=function(a){function b(b){b=a.call(this,b)||this;b.state={duration:0};return b}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.$2()};e.componentWillUnmount=function(){c("clearTimeout")(this.$1)};e.$2=function(){var a=this,b;this.props.useLocalTime?b=Date.now():b=d("ServerTime").getMillis();this.setState({duration:Math.max(b-this.props.startTime,0)});this.$1=c("setTimeout")(function(){return a.$2()},j)};e.render=function(){var a=Math.floor(this.state.duration/k),b=a%l;a=Math.floor(a/l);var c=a%m;a=Math.floor(a/m);var e="";a>0&&(e=a+":");a=c+":";a.length<3&&e.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return i.jsxs(d("react-strict-dom").html.span,{children:[e,a,c]})};return b}(i.Component);a.defaultProps={useLocalTime:!1};g["default"]=a}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i("370949"),m=c("XCometGamingControllerRouteBuilder").buildURL({});function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Go to Facebook Gaming"),a[0]=b):b=a[0];var e=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometPressable.react"),{linkProps:{url:m},children:function(a){a=a.hovered;return k.jsxs("div",{className:"x78zum5 x1q0g3np",children:[k.jsx("span",babelHelpers["extends"]({},{0:{className:"x3nfvp2 x1qo4wvw xbyyjgo x1d8287x x19991ni xl405pv"},1:{className:"x3nfvp2 x1hc1fzr x1d8287x x19991ni xl405pv"}}[!!a<<0],{children:k.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Close"),src:l})})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1s85apg"},1:{className:"xe2km65 x1lliihq xf159sx x1n2onr6 x1bvjpef xndqk7f"}}[!!a<<0],{children:e}))]})}}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("VideoBlurBackgroundContainer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoBlurBackgroundContainer_video",selections:[{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("getPreviewDataFromImagePreviewPayload",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="data:image/jpeg;base64,",i=160,j=162,k=42;function l(a,b){b===void 0&&(b=0);a=atob(a);if(a.length<=3)throw c("FBLogger")("comet_infra").mustfixThrow("The preview payload was %s byte(s) long when it should be 4 or more. The first byte is the version, the second the width, and the third the height. The 4th byte and onward is the image data.",a.length);var d=new Uint8Array(a.length+b);for(var e=0;e<a.length;e++)d[b+e]=a.charCodeAt(e);return d}var m;function n(){m==null&&(m=l("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEABsaGikdKUEmJkFCLy8vQkc/Pj4/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0cBHSkpNCY0PygoP0c/NT9HR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR//AABEIABQAKgMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AA=="));return m}function a(a){var b=n();try{a=l(a,b.length-3);var d=a[b.length-1],e=a[b.length-3],f=a[b.length-2];if(d>k)throw c("FBLogger")("comet_infra").mustfixThrow("Tried to decode a payload whose height was %s. The maximum is %s.",d,k);if(f>k)throw c("FBLogger")("comet_infra").mustfixThrow("Tried to decode a payload whose width was %s. The maximum is %s.",f,k);a.set(b,0);a[i]=d;a[j]=f;b=btoa(String.fromCharCode.apply(null,a));return{dataURI:""+h+b,height:d,width:f,version:e}}catch(b){a=c("FBLogger")("images_infra");b instanceof Error&&a.catching(b);a.warn("Failed to decode a preview image payload. Falling back with a blank image.");return null}}g["default"]=a}),98);
__d("VideoBlurBackgroundContainer.react",["BaseBlurryImagePreview.react","CometImage.react","CometRelay","VideoBlurBackgroundContainer_video.graphql","getPreviewDataFromImagePreviewPayload","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={blurryImage:{filter:"x1hedwgd",transform:"x4zgh4k",$$css:!0},image:{bottom:"x1ey2m1c",boxSizing:"x9f619",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xti2d7y",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},lightBackgroundInLightMode:{backgroundColor:"x2bj2ny",$$css:!0},root:{backgroundColor:"xal61yo",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(16),g=a.children,j=a.lightBackgroundInLightMode,m=a.ref,n=a.video;a=a.xstyle;n=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoBlurBackgroundContainer_video.graphql"),n);e=(e=n.preferred_thumbnail)==null?void 0:e.image_preview_payload;var o;if(e!=null){var p;f[0]!==e?(p=c("getPreviewDataFromImagePreviewPayload")(e),f[0]=e,f[1]=p):p=f[1];e=p;if(e!=null){f[2]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1ey2m1c x9f619 x5yr21d xtijo5x x1o0tod xti2d7y x10l6tqk x13vifvy xh8yej3 x1ja2u2z",f[2]=p):p=f[2];f[3]!==e?(p=k.jsx(c("BaseBlurryImagePreview.react"),{className:p,previewData:e}),f[3]=e,f[4]=p):p=f[4];o=p}}p=(e=n.preferred_thumbnail)==null||(e=e.image)==null?void 0:e.uri;if(o==null&&p!=null){f[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=[l.blurryImage,l.image],f[5]=n):n=f[5];f[6]!==p?(e=k.jsx(c("CometImage.react"),{src:p,xstyle:n}),f[6]=p,f[7]=e):e=f[7];o=e}f[8]!==j||f[9]!==a?(n=(i||(i=c("stylex"))).props(l.root,a,j===!0&&l.lightBackgroundInLightMode),f[8]=j,f[9]=a,f[10]=n):n=f[10];f[11]!==o||f[12]!==g||f[13]!==m||f[14]!==n?(p=k.jsxs("div",babelHelpers["extends"]({},n,{ref:m,children:[o,g]})),f[11]=o,f[12]=g,f[13]=m,f[14]=n,f[15]=p):p=f[15];return p}e=a;g["default"]=e}),98);
__d("VideoBroadcastStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PREVIEW:"PREVIEW",LIVE:"LIVE",LIVE_STOPPED:"LIVE_STOPPED",VOD_READY:"VOD_READY",SEAL_STARTED:"SEAL_STARTED",SCHEDULED_PREVIEW:"SCHEDULED_PREVIEW",SCHEDULED_LIVE:"SCHEDULED_LIVE",SCHEDULED_EXPIRED:"SCHEDULED_EXPIRED",SCHEDULED_CANCELED:"SCHEDULED_CANCELED",PRE_LIVE:"PRE_LIVE",SEAL_FAILED:"SEAL_FAILED"});f["default"]=a}),66);
__d("VideoPlayerActionButton.react",["FDSIcon.react","FDSLink.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.icon,f=a.label,g=a.onPress,h=a.shouldJustifyContentCenter,j=a.showSingleButton,k=a.testid;a=a.useVerticalLayout;h=h===void 0?!1:h;j=j===void 0?!1:j;a=a===void 0?!1:a;var l;b[0]!==h||b[1]!==j||b[2]!==a?(l={0:{},8:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf"},4:{className:"xl56j7k"},12:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xl56j7k"},2:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},10:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},6:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},14:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},1:{className:"xja02kk"},9:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xja02kk"},5:{className:"xl56j7k xja02kk"},13:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xl56j7k xja02kk"},3:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},11:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},7:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},15:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"}}[!!(a!==!0)<<3|!!h<<2|!!(a===!0)<<1|!!(j!==!0)<<0],b[0]=h,b[1]=j,b[2]=a,b[3]=l):l=b[3];b[4]!==a?(h={0:{},2:{className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xbmvrgn x889kno x2vl965 x1a8lsjc xe2zdcy"},1:{className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"},3:{className:"xbmvrgn xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"}}[!!(a!==!0)<<1|!!(a===!0)<<0],b[4]=a,b[5]=h):h=b[5];b[6]!==e||b[7]!==f||b[8]!==g?(j=i.jsx(c("FDSIcon.react"),{"aria-label":f,color:"white",hideHoverOverlay:!0,icon:e,onPress:g}),b[6]=e,b[7]=f,b[8]=g,b[9]=j):j=b[9];b[10]!==h||b[11]!==j?(a=i.jsx("div",babelHelpers["extends"]({},h,{children:j})),b[10]=h,b[11]=j,b[12]=a):a=b[12];b[13]!==f||b[14]!==g?(e=i.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:i.jsx(c("FDSLink.react"),{onClick:g,children:f})}),b[13]=f,b[14]=g,b[15]=e):e=b[15];b[16]!==l||b[17]!==a||b[18]!==e||b[19]!==k?(h=i.jsxs("div",babelHelpers["extends"]({},l,{"data-testid":void 0,children:[a,e]})),b[16]=l,b[17]=a,b[18]=e,b[19]=k,b[20]=h):h=b[20];return h}g["default"]=a}),98);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","react-compiler-runtime","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(13),b=c("useVideoPlayerPortalingPassthroughProps")(),e=j(c("CometTrackingCodeContext")),f=j(c("CometTrackingNodesContext")),g=j(c("CometProductTagFunnelIDContext")),h=d("CometWarningScreenContext").useIsOverlayShown(),k=d("CometWarningScreenContext").useHasOverlay(),l;a[0]!==f?(l=c("getAggregatedStoryTrackingNodeIndex")(f),a[0]=f,a[1]=l):l=a[1];f=l;l=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy();var m=c("usePlayerOriginRouteTracePolicy")(),n=c("useIsVideoHomePlayerOriginFromTracePolicy")(m);l=l!=null?l:m;a[2]!==n?(m=n?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},a[2]=n,a[3]=m):m=a[3];a[4]!==g||a[5]!==f||a[6]!==k||a[7]!==h||a[8]!==b||a[9]!==l||a[10]!==m||a[11]!==e?(n=babelHelpers["extends"]({bypassAutoplaySettings:!0},b,{index:f,initialTracePolicy:l,origOverlayShown:h,overlayExists:k,productTagFunnelID:g,trackingCode:e},m),a[4]=g,a[5]=f,a[6]=k,a[7]=h,a[8]=b,a[9]=l,a[10]=m,a[11]=e,a[12]=n):n=a[12];return n}g["default"]=a}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","useNavigateToTahoePassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onPress,f=a.reactionVideoChannelType,g=a.subOrigin;a=a.videoTahoeUrl;var j=c("useNavigateToTahoePassthroughProps")(),l;b[0]!==j||b[1]!==f||b[2]!==g?(l=babelHelpers["extends"]({},j,{playerSubOrigin:g,reactionVideoChannelType:f}),b[0]=j,b[1]=f,b[2]=g,b[3]=l):l=b[3];j=l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Enlarge"),b[4]=f):f=b[4];g=f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("517763"),20),b[5]=l):l=b[5];b[6]!==j||b[7]!==a?(f={passthroughProps:j,url:a},b[6]=j,b[7]=a,b[8]=f):f=b[8];b[9]!==e||b[10]!==f?(j=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:g,linkProps:f,onPress:e,tooltip:g}),b[9]=e,b[10]=f,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","FDSResizeUpFilled20Icon","VideoPlayerControlIcon.react","react","react-compiler-runtime","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.isARLTW,f=a.onPress,g=a.routeTracePolicy,i=a.subOrigin,k=a.videoPlayerSessionID;a=a.videoWatchUrl;var l=c("useVideoPlayerPortalingPassthroughProps")();l=l.portableVideoID;var m=c("useCometRouterState")();m=m==null?void 0:m.main.route.tabKey;var n;b[0]!==m?(n=m!=="watch"?h._(/*BTDS*/"Open in Video"):h._(/*BTDS*/"Enlarge"),b[0]=m,b[1]=n):n=b[1];m=n;b[2]!==e||b[3]!==l||b[4]!==g||b[5]!==i||b[6]!==k?(n={isARLTW:e,portableVideoID:l,portalingRouteTracePolicy:g,portalingSubOrigin:i,unmute:!0,videoPlayerSessionID:k},b[2]=e,b[3]=l,b[4]=g,b[5]=i,b[6]=k,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e={navigation_source:"video_expand"},b[8]=e):e=b[8];b[9]!==n||b[10]!==a?(l={passthroughProps:n,traceParams:e,url:a},b[9]=n,b[10]=a,b[11]=l):l=b[11];b[12]!==m||b[13]!==f||b[14]!==l?(g=j.jsx(c("VideoPlayerControlIcon.react"),{icon:c("FDSResizeUpFilled20Icon"),label:m,linkProps:l,onPress:f,tooltip:m}),b[12]=m,b[13]=f,b[14]=l,b[15]=g):g=b[15];return g}g["default"]=a}),226);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isAdVideo,f=a.isBroadcast,g=a.onPressFullscreenControl,h=a.onPressTahoeControl,j=a.onUserInteraction,k=a.reactionVideoChannelType,l=a.shouldUnmute,m=a.subOrigin;a=a.videoTahoeUrl;var n=c("gkx")("24206");b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==a?(n=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:144,children:(Boolean(e)===!1||f===!0&&c("qex")._("4408")===!0)&&m!=null&&a!=null&&a!==""&&!n?i.jsx(c("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:h,reactionVideoChannelType:k,subOrigin:m,videoTahoeUrl:a}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onPress:g,onUserInteraction:j,shouldUnmute:l})}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=k,b[6]=l,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("VideoPlayerReshareButton_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerReshareButton_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[{alias:"wwwUrl",args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerReshareButton.react",["fbt","ix","CometRelay","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerReshareButton_video.graphql","createEmptyCometComposerViewState","fbicon","react","react-compiler-runtime","useFeedComposerCometDialog","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));k.useCallback;function m(a){var b=d("react-compiler-runtime").c(18),e=a.renderActionButton,f=a.shouldJustifyContentCenter,g=a.url;a=a.useVerticalLayout;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={composerEntryPointName:"reshare_from_feed",composerSourceSurface:"share_dialog",composerType:"share",title:h._(/*BTDS*/"Write post"),tracePolicy:"comet.composer.shareVideo"},b[0]=j):j=b[0];j=c("useFeedComposerCometDialog")(j);var k=j[0];b[1]!==g?(j=c("createEmptyCometComposerViewState")({attachmentArea:{activeAttachmentType:"SHARE"},linkAttachment:{url:g},submitText:h._(/*BTDS*/"Share")}),b[1]=g,b[2]=j):j=b[2];var m=j;b[3]!==m||b[4]!==k?(g=function(){c("vulture")("ASsaDuM2jmu3WlE7W3qbsd0xSO8="),k({beginningViewState:m})},b[3]=m,b[4]=k,b[5]=g):g=b[5];j=g;var n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("484394"),16),n=h._(/*BTDS*/"Share"),b[6]=g,b[7]=n):(g=b[6],n=b[7]);b[8]!==j||b[9]!==f||b[10]!==a?(g=l.jsx(c("VideoPlayerActionButton.react"),{icon:g,label:n,onPress:j,shouldJustifyContentCenter:f,useVerticalLayout:a}),b[8]=j,b[9]=f,b[10]=a,b[11]=g):g=b[11];n=g;b[12]!==n||b[13]!==j||b[14]!==e?(f=e!=null?e({onPress:j}):n,b[12]=n,b[13]=j,b[14]=e,b[15]=f):f=b[15];a=f;b[16]!==a?(g=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:17,children:a}),b[16]=a,b[17]=g):g=b[17];return g}function a(a){var c,e=d("react-compiler-runtime").c(6),f=a.renderActionButton,g=a.shouldJustifyContentCenter,h=a.useVerticalLayout;a=a.video;a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerReshareButton_video.graphql"),a);var i=a==null?void 0:a.can_viewer_share;a=a==null||(c=a.creation_story)==null||(c=c.shareable)==null?void 0:c.wwwUrl;var k;e[0]!==i||e[1]!==f||e[2]!==g||e[3]!==a||e[4]!==h?(k=i===!0&&a!=null?l.jsx(m,{renderActionButton:f,shouldJustifyContentCenter:g,url:a,useVerticalLayout:h}):null,e[0]=i,e[1]=f,e[2]=g,e[3]=a,e[4]=h,e[5]=k):k=e[5];return k}g["default"]=a}),226);
__d("VideoPlayerWatchAgainButton.react",["fbt","ix","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.useVerticalLayout;var e=(k||(k=d("VideoPlayerHooks"))).useController(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("fbicon")._(i("534218"),16),b[0]=f):f=b[0];var g;b[1]!==a?(g=a===!0?h._(/*BTDS*/"Replay Video"):h._(/*BTDS*/"Watch again"),b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e?(j=function(){return e.play("user_initiated")},b[3]=e,b[4]=j):j=b[4];b[5]!==g||b[6]!==j||b[7]!==a?(f=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:188,children:l.jsx(c("VideoPlayerActionButton.react"),{icon:f,label:g,onPress:j,useVerticalLayout:a})}),b[5]=g,b[6]=j,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2wvKjr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"2wvKjr")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(7),e=a.playerFormat,f=a.pressInteraction;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithAudioOverlay_video.graphql"),a);a=a==null?void 0:a.comet_video_player_audio_overlay_renderer;if(a==null)return null;var g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"},c[0]=g):g=c[0];var i;c[1]!==e||c[2]!==f?(i={playerFormat:e,pressInteraction:f},c[1]=e,c[2]=f,c[3]=i):i=c[3];c[4]!==a||c[5]!==i?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:i})})),c[4]=a,c[5]=i,c[6]=e):e=c[6];return e}g["default"]=a}),98);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FBLogger","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","setTimeout","stylex","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useEffect,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),s={positionTop:{display:"x78zum5",height:"xxk0z11",insetInlineStart:"x1r4y97",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0}};function a(a){var e,g=d("react-compiler-runtime").c(50),h=a.hasCometNavOverlay,i=a.includeGamingBackLink,l=a.renderedInLiveProducer,x=a.shouldExpand,y=a.shouldShowPrivacyNux;a=a.video;var z=(m||(m=d("VideoPlayerHooks"))).useIsLive(),A=m.useIsLiveRewindActive(),B=m.useIsFullscreen(),C=d("CometRouteRenderType").useIsMain(),D=m.usePlaying(),E=p(null);a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWithLiveVideoIndicator_video.graphql"),a);var F=(e=a==null?void 0:a.videoId)!=null?e:"";if(a==null||typeof F!=="string"||F==="")throw c("FBLogger")("comet_live_video").mustfixThrow("Null video or bad videoId");var G=d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData();e=q((e=a.liveViewerCount)!=null?e:0);var H=e[0],I=e[1];e=q(!1);var J=e[0],K=e[1];e=q(!1);var L=e[0],M=e[1],N;g[0]!==G||g[1]!==z?(e=function(){z&&G!=null&&(t(G.bs)?I(G.c):(I(0),K(!0)))},N=[G,z],g[0]=G,g[1]=z,g[2]=e,g[3]=N):(e=g[2],N=g[3]);o(e,N);g[4]!==D?(e=function(){D?(M(!0),E.current=c("setTimeout")(function(){M(!1)},3e3)):E.current&&(M(!1),c("clearTimeout")(E.current));return function(){return c("clearTimeout")(E.current)}},N=[D],g[4]=D,g[5]=e,g[6]=N):(e=g[5],N=g[6]);o(e,N);g[7]!==z||g[8]!==F?(e=function(){z&&F&&(b("cr:541")==null||b("cr:541").loadImmediately(function(a){a.LiveProducerLiveActivated(F)}))},N=[z,F],g[7]=z,g[8]=F,g[9]=e,g[10]=N):(e=g[9],N=g[10]);o(e,N);N=((e=a.rehearsalInfo)==null?void 0:e.typeName)==="LiveVideoRehearsalInfo";e=(e=a.is_gaming_video)!=null?e:!1;i=i!=null?i:!1;i=i&&C&&e;e=!z||J;if(e)return null;J=c("gkx")("22889");g[11]!==h||g[12]!==B||g[13]!==C||g[14]!==l||g[15]!==x?(e=(k||(k=c("stylex"))).props(s.positionTop,J?x!==!0&&(h||C)&&!B&&!l===!0&&s.positionTopWithCometNavOverlayWorkplace:h&&!B&&s.positionTopWithCometNavOverlay),g[11]=h,g[12]=B,g[13]=C,g[14]=l,g[15]=x,g[16]=e):e=g[16];g[17]!==i?(J=i?n.jsx(c("GamingVideoBackLink.react"),{}):null,g[17]=i,g[18]=J):J=g[18];g[19]!==A||g[20]!==N?(h={0:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v"},8:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z"},4:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1ciooss"},12:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1ciooss"},2:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},10:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},6:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},14:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},1:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},9:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},5:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},13:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},3:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},11:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},7:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},15:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"}}[!!!A<<3|!!!A<<2|!!A<<1|!!N<<0],g[19]=A,g[20]=N,g[21]=h):h=g[21];B=N?"primary":"white";g[22]!==a?(C=u(a),g[22]=a,g[23]=C):C=g[23];g[24]!==L||g[25]!==A||g[26]!==x||g[27]!==a.publish_time?(l=x===!0&&L&&(a==null?void 0:a.publish_time)!=null&&!A&&w(a.publish_time),g[24]=L,g[25]=A,g[26]=x,g[27]=a.publish_time,g[28]=l):l=g[28];g[29]!==B||g[30]!==C||g[31]!==l?(i=n.jsxs(c("FDSText.react"),{color:B,type:"bodyLink4",children:[C,l]}),g[29]=B,g[30]=C,g[31]=l,g[32]=i):i=g[32];g[33]!==i||g[34]!==h?(N=n.jsx("div",babelHelpers["extends"]({},h,{"data-testid":void 0,children:i})),g[33]=i,g[34]=h,g[35]=N):N=g[35];g[36]!==H||g[37]!==a?(L=v(a,H),g[36]=H,g[37]=a,g[38]=L):L=g[38];g[39]!==N||g[40]!==L||g[41]!==e||g[42]!==J?(A=n.jsxs("div",babelHelpers["extends"]({},e,{children:[J,N,L]})),g[39]=N,g[40]=L,g[41]=e,g[42]=J,g[43]=A):A=g[43];g[44]!==y||g[45]!==F?(x=y===!0&&n.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:n.jsx("div",{className:"x1r4y97 x10l6tqk x1w1tb2m",children:n.jsx(r,{videoID:F})})}),g[44]=y,g[45]=F,g[46]=x):x=g[46];g[47]!==A||g[48]!==x?(B=n.jsxs(n.Fragment,{children:[A,x]}),g[47]=A,g[48]=x,g[49]=B):B=g[49];return B}function t(a){if(a==null)return!1;switch(a){case c("VideoBroadcastStatus").LIVE:case c("VideoBroadcastStatus").LIVE_STOPPED:case c("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function u(a){if((a==null?void 0:a.isPremiere)===!0)return h._(/*BTDS*/"PREMIERE");return(a==null?void 0:a.breakingStatus)===!0?h._(/*BTDS*/"LIVE BREAKING"):h._(/*BTDS*/"LIVE")}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){if(a===null||b==null||b===0)return null;a=n.jsx(c("CometImage.react"),{alt:"",src:i("411339")});a=n.jsx("span",{className:"x3nfvp2 x2fvf9 x1n2onr6",children:a});return n.jsxs("div",{"aria-label":h._(/*BTDS*/"_j{\"*\":\"{number} people currently watching this video.\",\"_1\":\"1 person currently watching this video.\"}",[h._plural(b,"number",c("intlSummarizeNumber")(b))]),className:"x6s0dn4 xrmyhay xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xdzw4kq xexx8yu x18d9i69 x25sj25 x1icxu4v","data-testid":void 0,role:"img",children:[a,n.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c("intlSummarizeNumber")(b)})]})}v.displayName=v.name+" [from "+f.id+"]";function w(a){return n.jsx("div",{className:"x3nfvp2 xdwrcjd",children:n.jsx(c("Duration.react"),{startTime:a*1e3,useLocalTime:!0})})}w.displayName=w.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(5),c=a.feedAggregationType,e=a.reactionVideoChannelType,f=(i||(i=d("VideoPlayerHooks"))).useController(),g;b[0]!==f||b[1]!==c||b[2]!==e?(a=function(){e!=null&&f.setLoggingToVPLAdditionalData("reaction_video_channel_type",e),c!=null&&f.setLoggingToVPLAdditionalData("feed_aggregation_type",c)},g=[f,c,e],b[0]=f,b[1]=c,b[2]=e,b[3]=a,b[4]=g):(a=b[3],g=b[4]);j(a,g);return null}g["default"]=a}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react-compiler-runtime","useVideoOriginalDimensionsRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(7);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoOriginalDimensionsRelay_video.graphql"),a);var f=a==null?void 0:a.original_rotation;f=f==="ROTATE_LEFT"||f==="ROTATE_RIGHT";var g=f?a==null?void 0:a.original_height:a==null?void 0:a.original_width;f=f?a==null?void 0:a.original_width:a==null?void 0:a.original_height;e[0]!==f||e[1]!==g?(a=c("computeAspectRatio")(g,f),e[0]=f,e[1]=g,e[2]=a):a=e[2];a=a;var i;e[3]!==a||e[4]!==f||e[5]!==g?(i={originalAspectRatio:a,originalHeight:f,originalWidth:g},e[3]=a,e[4]=f,e[5]=g,e[6]=i):i=e[6];return i}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBNucleusFollowOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 9.5a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0v-1.5h-1.5a.75.75 0 0 1 0-1.5h1.5v-1.5A.75.75 0 0 1 10 9.5z"}),i.jsx("path",{d:"M3.5 4a3 3 0 0 1 3-3h7a3 3 0 0 1 3 3v.01a3.248 3.248 0 0 1 1.492 2.518c.199.113.385.252.556.424.529.529.751 1.19.854 1.955.098.73.098 1.656.098 2.79v1.607c0 1.133 0 2.058-.098 2.79-.103.763-.325 1.425-.854 1.954-.529.529-1.19.751-1.955.854-.73.098-1.656.098-2.79.098H6.197c-1.133 0-2.058 0-2.79-.098-.763-.103-1.425-.325-1.954-.854-.529-.529-.751-1.19-.854-1.955C.5 15.363.5 14.437.5 13.303v-1.607c0-1.133 0-2.058.098-2.79.103-.763.325-1.425.854-1.954.171-.172.357-.31.555-.424A3.248 3.248 0 0 1 3.5 4.01V4zm.137 2.071C4.329 6 5.179 6 6.197 6h7.607c1.017 0 1.867 0 2.56.071A1.75 1.75 0 0 0 14.75 5h-9.5a1.75 1.75 0 0 0-1.613 1.071zM13.5 2.5h-7a1.5 1.5 0 0 0-1.416 1.004A3.04 3.04 0 0 1 5.25 3.5h9.5c.056 0 .111.001.166.004A1.5 1.5 0 0 0 13.5 2.5zM2.513 8.013c-.204.203-.348.496-.428 1.094C2.002 9.726 2 10.55 2 11.75v1.5c0 1.2.002 2.024.085 2.643.08.598.224.89.428 1.094.203.204.496.348 1.094.428.619.083 1.443.085 2.643.085h7.5c1.2 0 2.024-.002 2.643-.085.598-.08.89-.224 1.094-.428.204-.203.348-.496.428-1.094.083-.619.085-1.443.085-2.643v-1.5c0-1.2-.002-2.024-.085-2.643-.08-.598-.224-.89-.428-1.094-.203-.204-.496-.348-1.094-.428-.619-.083-1.443-.085-2.643-.085h-7.5c-1.2 0-2.024.002-2.643.085-.598.08-.89.224-1.094.428z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusLeaveFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.681 19.75H9.32c1.12 0 2.06 0 2.807-.1.792-.107 1.516-.342 2.099-.925.491-.492.738-1.086.866-1.742.123-.627.15-1.375.156-2.225a1 1 0 0 0-2-.016c-.007.856-.035 1.433-.118 1.857-.078.396-.19.583-.318.712-.15.149-.381.28-.951.356-.599.08-1.403.083-2.61.083h-1.5c-1.207 0-2.011-.002-2.61-.083-.57-.076-.801-.207-.95-.356-.15-.15-.28-.381-.357-.951-.08-.599-.083-1.403-.083-2.61v-7.5c0-1.207.002-2.011.083-2.61.076-.57.207-.801.356-.95.15-.15.381-.28.951-.357.599-.08 1.403-.083 2.61-.083h1.5c1.207 0 2.011.002 2.61.083.57.076.801.207.95.356.13.13.24.316.319.712.083.424.111 1 .118 1.857a1 1 0 0 0 2-.016c-.007-.85-.033-1.598-.156-2.225-.128-.656-.375-1.25-.866-1.742-.583-.583-1.307-.818-2.099-.925-.747-.1-1.687-.1-2.807-.1H7.68c-1.12 0-2.06 0-2.807.1-.792.107-1.516.342-2.099.925-.583.583-.818 1.307-.925 2.099-.1.747-.1 1.687-.1 2.807v7.638c0 1.12 0 2.06.1 2.807.107.792.342 1.516.925 2.099.583.583 1.307.818 2.099.925.747.1 1.687.1 2.807.1z"}),i.jsx("path",{d:"M16.043 12.957a1 1 0 0 0 1.414 0l.749-.747.8-.798a1.996 1.996 0 0 0-.002-2.823l-1.547-1.546a1 1 0 1 0-1.414 1.414l.543.543H13a1 1 0 1 0 0 2h3.587l-.544.543a1 1 0 0 0 0 1.414z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusLeaveOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.696.5h1.608c1.133 0 2.058 0 2.79.098.763.103 1.425.325 1.954.854.446.446.676.99.798 1.613.118.602.144 1.328.151 2.179a.75.75 0 1 1-1.5.012c-.007-.856-.035-1.453-.123-1.903-.084-.429-.212-.666-.387-.84-.203-.204-.496-.348-1.094-.428C11.274 2.002 10.45 2 9.25 2h-1.5c-1.2 0-2.024.002-2.643.085-.598.08-.89.224-1.094.428-.204.203-.348.496-.428 1.094C3.502 4.226 3.5 5.05 3.5 6.25v7.5c0 1.2.002 2.024.085 2.643.08.598.224.89.428 1.094.203.204.496.348 1.094.428.619.083 1.443.085 2.643.085h1.5c1.2 0 2.024-.002 2.643-.085.598-.08.89-.224 1.094-.428.175-.174.303-.411.387-.84.088-.45.116-1.047.123-1.903a.75.75 0 0 1 1.5.012c-.007.851-.033 1.577-.151 2.18-.122.623-.352 1.166-.798 1.612-.529.529-1.19.751-1.955.854-.73.098-1.656.098-2.79.098H7.697c-1.132 0-2.058 0-2.79-.098-.763-.103-1.425-.325-1.954-.854-.529-.529-.751-1.19-.854-1.955C2 15.863 2 14.937 2 13.803V6.197c0-1.133 0-2.058.098-2.79.103-.763.325-1.425.854-1.954C3.48.923 4.142.7 4.907.598 5.637.5 6.563.5 7.697.5z"}),i.jsx("path",{d:"M12.25 10c0 .414.336.75.75.75h4.192l-.218.218-.754.752a.75.75 0 1 0 1.06 1.06l.75-.748.8-.797a1.746 1.746 0 0 0-.002-2.469L17.28 7.22a.75.75 0 0 0-1.06 1.06l.97.97H13a.75.75 0 0 0-.75.75z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusUnfollowFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M6.5 1a3 3 0 0 0-3 3v.01a3.248 3.248 0 0 0-1.493 2.518 2.613 2.613 0 0 0-.555.424C.923 7.48.7 8.142.598 8.907.5 9.637.5 10.563.5 11.697v1.607c0 1.133 0 2.058.098 2.79.103.763.325 1.425.854 1.954.529.529 1.19.751 1.955.854.73.098 1.656.098 2.79.098h7.607c1.133 0 2.058 0 2.79-.098.763-.103 1.425-.325 1.954-.854.529-.529.751-1.19.854-1.955.098-.73.098-1.656.098-2.79v-1.607c0-1.133 0-2.058-.098-2.79-.103-.763-.325-1.425-.854-1.954a2.615 2.615 0 0 0-.555-.424A3.248 3.248 0 0 0 16.5 4.01V4a3 3 0 0 0-3-3h-7zm9.863 5.071C15.671 6 14.821 6 13.803 6H6.197c-1.017 0-1.867 0-2.56.071A1.75 1.75 0 0 1 5.25 5h9.5a1.75 1.75 0 0 1 1.613 1.071zm-1.447-2.567a3.303 3.303 0 0 0-.166-.004h-9.5a3.04 3.04 0 0 0-.166.004A1.5 1.5 0 0 1 6.5 2.5h7a1.5 1.5 0 0 1 1.416 1.004zM13.03 9.47a.75.75 0 0 1 0 1.06l-1.97 1.97 1.97 1.97a.75.75 0 1 1-1.06 1.06L10 13.56l-1.97 1.97a.75.75 0 0 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 1 1 1.06-1.06L10 11.44l1.97-1.97a.75.75 0 0 1 1.06 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusUnfollowOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13.03 9.47a.75.75 0 0 1 0 1.06l-1.97 1.97 1.97 1.97a.75.75 0 1 1-1.06 1.06L10 13.56l-1.97 1.97a.75.75 0 0 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 1 1 1.06-1.06L10 11.44l1.97-1.97a.75.75 0 0 1 1.06 0z"}),i.jsx("path",{d:"M3.5 4v.011a3.248 3.248 0 0 0-1.493 2.517 2.613 2.613 0 0 0-.555.424C.923 7.48.7 8.142.598 8.907.5 9.637.5 10.563.5 11.697v1.607c0 1.133 0 2.058.098 2.79.103.763.325 1.425.854 1.954.529.529 1.19.751 1.955.854.73.098 1.656.098 2.79.098h7.607c1.133 0 2.058 0 2.79-.098.763-.103 1.425-.325 1.954-.854.529-.529.751-1.19.854-1.955.098-.73.098-1.656.098-2.79v-1.607c0-1.133 0-2.058-.098-2.79-.103-.763-.325-1.425-.854-1.954a2.614 2.614 0 0 0-.555-.424A3.248 3.248 0 0 0 16.5 4.01V4a3 3 0 0 0-3-3h-7a3 3 0 0 0-3 3zm.137 2.071a1.75 1.75 0 0 1 1.613-1.07h9.5a1.75 1.75 0 0 1 1.613 1.07C15.671 6 14.821 6 13.803 6H6.197c-1.017 0-1.867 0-2.56.071zM13.5 2.5a1.5 1.5 0 0 1 1.416 1.004 3.303 3.303 0 0 0-.166-.004h-9.5a3.04 3.04 0 0 0-.166.004A1.5 1.5 0 0 1 6.5 2.5h7zM2.513 8.013c.203-.204.496-.348 1.094-.428C4.226 7.502 5.05 7.5 6.25 7.5h7.5c1.2 0 2.024.002 2.643.085.598.08.89.224 1.094.428.204.203.348.496.428 1.094.083.619.085 1.443.085 2.643v1.5c0 1.2-.002 2.024-.085 2.643-.08.598-.224.89-.428 1.094-.203.204-.496.348-1.094.428-.619.083-1.443.085-2.643.085h-7.5c-1.2 0-2.024-.002-2.643-.085-.598-.08-.89-.224-1.094-.428-.204-.203-.348-.496-.428-1.094C2.002 15.274 2 14.45 2 13.25v-1.5c0-1.2.002-2.024.085-2.643.08-.598.224-.89.428-1.094z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSFollowOutline20Icon",["cr:14014"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14014")}),98);
__d("FDSFollowOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("618356"),20);b=a;g["default"]=b}),98);
__d("GroupsCometFollowActionMenuItem_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometFollowActionMenuItem_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometFollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23954755464142194"}),null);
__d("useGroupsCometFollowMutation.graphql",["useGroupsCometFollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometFollowMutation",selections:[{alias:null,args:c,concreteType:"GroupSubscribeResponsePayload",kind:"LinkedField",name:"group_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometFollowMutation",selections:[{alias:null,args:c,concreteType:"GroupSubscribeResponsePayload",kind:"LinkedField",name:"group_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometFollowMutation_facebookRelayOperation"),metadata:{},name:"useGroupsCometFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useGroupsCometFollowMutation",["CometRelay","react-compiler-runtime","useGroupsCometFollowMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useGroupsCometFollowMutation.graphql");function a(a,b){var c=d("react-compiler-runtime").c(4),e=d("CometRelay").useMutation(i),f=e[0];c[0]!==f||c[1]!==a||c[2]!==b?(e=function(c){f({onCompleted:a,onError:b,variables:{input:c}})},c[0]=f,c[1]=a,c[2]=b,c[3]=e):e=c[3];return e}g["default"]=a}),98);
__d("useGroupsCometUnfollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9558102717592331"}),null);
__d("useGroupsCometUnfollowMutation.graphql",["useGroupsCometUnfollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometUnfollowMutation",selections:[{alias:null,args:c,concreteType:"GroupUnsubscribeResponsePayload",kind:"LinkedField",name:"group_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometUnfollowMutation",selections:[{alias:null,args:c,concreteType:"GroupUnsubscribeResponsePayload",kind:"LinkedField",name:"group_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometUnfollowMutation_facebookRelayOperation"),metadata:{},name:"useGroupsCometUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useGroupsCometUnfollowMutation",["CometRelay","react-compiler-runtime","useGroupsCometUnfollowMutation.graphql","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useGroupsCometUnfollowMutation.graphql");function a(a,b){var e=d("react-compiler-runtime").c(5),f=d("CometRelay").useMutation(i),g=f[0],h=c("useMinifiedProductAttribution")();e[0]!==g||e[1]!==h||e[2]!==a||e[3]!==b?(f=function(c){c.attribution_id_v2=h,g({onCompleted:a,onError:b,variables:{input:c}})},e[0]=g,e[1]=h,e[2]=a,e[3]=b,e[4]=f):f=e[4];return f}g["default"]=a}),98);
__d("GroupsCometFollowActionMenuItem.react",["fbt","CometRelay","FBNucleusFollowFilled20Icon.react","FBNucleusFollowOutline20Icon.react","FBNucleusUnfollowFilled20Icon.react","FBNucleusUnfollowOutline20Icon.react","FDSFollowFilled20Icon","FDSFollowOutline20Icon","FDSMenuItem.react","FDSUnfollowFilled20Icon","FDSUnfollowOutline20Icon","GroupsCometAboutPanelSettingsContext","GroupsCometFollowActionMenuItem_group.graphql","XPlatReactEnvironment","cometPushToast","react","react-compiler-runtime","useGroupsCometFollowMutation","useGroupsCometUnfollowMutation","useNullthrowsViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useState,n=i!==void 0?i:i=b("GroupsCometFollowActionMenuItem_group.graphql"),o=function(a){a(!1),d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"You're now following this group."))},p=function(a){a(!1),d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"There was an issue with unfollowing this group. Try Again")})},q=function(a){a(!1),d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"You're no longer following this group."))},r=function(a){a(!1),d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"There was an issue with unfollowing this group. Try Again")})};function a(a){var b=d("react-compiler-runtime").c(24),e=a.group;a=a.onClose;var f=a;a=d("CometRelay").useFragment(n,e);e=m(!1);var g=e[0],i=e[1];e=c("useNullthrowsViolation")(a==null?void 0:a.subscribe_status);e=e==="IS_SUBSCRIBED";var j=c("useNullthrowsViolation")(a.id),s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return q(i)},s=function(){return r(i)},b[0]=a,b[1]=s):(a=b[0],s=b[1]);var t=c("useGroupsCometUnfollowMutation")(a,s);b[2]!==j||b[3]!==f||b[4]!==t?(a=function(){i(!0),t({group_id:j,subscribe_location:"PROFILE"}),f()},b[2]=j,b[3]=f,b[4]=t,b[5]=a):a=b[5];s=a;var u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return o(i)},u=function(){return p(i)},b[6]=a,b[7]=u):(a=b[6],u=b[7]);var v=c("useGroupsCometFollowMutation")(a,u);b[8]!==v||b[9]!==j||b[10]!==f?(a=function(){i(!0),v({group_id:j,subscribe_location:"PROFILE"}),f()},b[8]=v,b[9]=j,b[10]=f,b[11]=a):a=b[11];u=a;a=l(c("GroupsCometAboutPanelSettingsContext"));a=a.isIconFilled;var w;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(w={follow:{filled:c("FDSFollowFilled20Icon"),outline:c("FDSFollowOutline20Icon")},unfollow:{filled:c("FDSUnfollowFilled20Icon"),outline:c("FDSUnfollowOutline20Icon")}},b[12]=w):w=b[12];w=w;if(b[13]===Symbol["for"]("react.memo_cache_sentinel")){var x={follow:{filled:c("FBNucleusFollowFilled20Icon.react"),outline:c("FBNucleusFollowOutline20Icon.react")},unfollow:{filled:c("FBNucleusUnfollowFilled20Icon.react"),outline:c("FBNucleusUnfollowOutline20Icon.react")}};w=d("XPlatReactEnvironment").isWeb()?w:x;b[13]=w}else w=b[13];x=w;if(e){w=x.unfollow[a?"filled":"outline"];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Unfollow group"),b[14]=e):e=b[14];b[15]!==g||b[16]!==s||b[17]!==w?(e=k.jsx(c("FDSMenuItem.react"),{disabled:g,icon:w,iconColor:"primary",onClick:s,primaryText:e}),b[15]=g,b[16]=s,b[17]=w,b[18]=e):e=b[18];return e}s=x.follow[a?"filled":"outline"];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Follow group"),b[19]=w):w=b[19];b[20]!==g||b[21]!==u||b[22]!==s?(e=k.jsx(c("FDSMenuItem.react"),{disabled:g,icon:s,iconColor:"primary",onClick:u,primaryText:w}),b[20]=g,b[21]=u,b[22]=s,b[23]=e):e=b[23];return e}g["default"]=a}),226);
__d("GroupsCometFollowActionMenuItem_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometFollowActionMenuItem_group$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}]};e.exports=a}),null);
__d("GroupsCometHeaderCreatePostButton_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometHeaderCreatePostButton_group",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{args:null,kind:"FragmentSpread",name:"GroupsCometColorWrapper_group"},{args:null,kind:"FragmentSpread",name:"useGroupsCometCurrentTab_group"}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometCurrentTab_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometCurrentTab_group",selections:[{alias:null,args:null,concreteType:"GroupContentViewsConnection",kind:"LinkedField",name:"group_content_views",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupContentViewsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"GroupContentView",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_view_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_view_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometCurrentTab",["CometRelay","FBLogger","react","react-compiler-runtime","useGroupsCometCurrentTab_group.graphql","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var e,f=d("react-compiler-runtime").c(6);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGroupsCometCurrentTab_group.graphql"),a);a=a.group_content_views;var g=c("useTopMostRouteCometEntityKey")(),i=g==null?void 0:g.secondary_entity_id,j=g==null?void 0:g.section;a==null||a.edges;if(f[0]!==(a==null?void 0:a.edges)){g=(g=a==null?void 0:a.edges)!=null?g:[];f[0]=a==null?void 0:a.edges;f[1]=g}else g=f[1];f[2]!==j||f[3]!==i||f[4]!==g?(a=g.find(function(a){a=a.node;var b=a==null?void 0:a.content_view_title;a=a==null?void 0:a.content_view_type;if(b==null)return c("FBLogger")("groups_comet").mustfix("Missing label for tab %s",a!=null?a:"(Unknown tab)");return i!=null&&a==="PINNED_TOPIC"&&b.charAt(0)==="#"?i===b.slice(1):j===a}),f[2]=j,f[3]=i,f[4]=g,f[5]=a):a=f[5];g=a;f=g;return(a=f==null||(e=f.node)==null?void 0:e.content_view_title)!=null?a:null}g["default"]=a}),98);
__d("GroupsCometHeaderCreatePostButton.react",["fbt","ix","CometRelay","FDSButton.react","GroupsCometColorWrapper.react","GroupsCometHeaderCreatePostButton_group.graphql","fbicon","react","react-compiler-runtime","useGroupCometComposerCreateDialog","useGroupsCometCurrentTab"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react");function a(a){var e=d("react-compiler-runtime").c(14);a=a.group;var f=d("CometRelay").useFragment(j!==void 0?j:j=b("GroupsCometHeaderCreatePostButton_group.graphql"),a);e[0]!==f.id?(a={groupID:f.id},e[0]=f.id,e[1]=a):a=e[1];a=c("useGroupCometComposerCreateDialog")(a);var g=a[0];a=c("useGroupsCometCurrentTab")(f);if(a!=="Discussion")return null;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=["--primary-deemphasized-button-background","--primary-deemphasized-button-text"],e[2]=a):a=e[2];var k,m;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("fbicon")._(i("507170"),16),m=h._(/*BTDS*/"Create a post"),e[3]=k,e[4]=m):(k=e[3],m=e[4]);var n;e[5]!==f.id||e[6]!==g?(n=function(){return g({composerEntryPointName:"comet_group_mall_sticky_header_create_post_button",groupID:f.id,renderLocation:"group"})},e[5]=f.id,e[6]=g,e[7]=n):n=e[7];e[8]!==k||e[9]!==n?(m=l.jsx(c("FDSButton.react"),{icon:k,label:m,onPress:n,reduceEmphasis:!0}),e[8]=k,e[9]=n,e[10]=m):m=e[10];e[11]!==f||e[12]!==m?(k=l.jsx(c("GroupsCometColorWrapper.react"),{group:f,properties:a,testid:void 0,children:m}),e[11]=f,e[12]=m,e[13]=k):k=e[13];return k}g["default"]=a}),226);
__d("GroupsCometHeaderCreatePostButton_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"GroupsCometHeaderCreatePostButton_group$normalization",selections:[a,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_canSeeExpandedColor",fragmentName:"GroupsCometColorExpandedWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},a],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_cannotSeeExpandedColor",fragmentName:"GroupsCometColorDefaultWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},a],storageKey:null},{alias:null,args:null,concreteType:"GroupContentViewsConnection",kind:"LinkedField",name:"group_content_views",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupContentViewsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"GroupContentView",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_view_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_view_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("GroupsCometHeaderFacepile_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"GroupsCometHeaderFacepile_group",selections:[a,{args:null,kind:"FragmentSpread",name:"useIdOrVanityRouteBuilder_group"},{alias:"facepile_profiles",args:[{kind:"Literal",name:"first",value:20},{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:"importance"}],concreteType:"GroupMemberProfilesConnection",kind:"LinkedField",name:"group_member_profiles",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"GroupMemberProfilesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometMemberProfileLinkContainer_profile"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],storageKey:null}],storageKey:null}],storageKey:'group_member_profiles(first:20,is_memorialized:false,orderby:"importance")'}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("overlappingFacepileGroupsCometMemberProfileLinkContainer",["GroupsCometMemberProfileLinkContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return function(d){return i.jsx(c("GroupsCometMemberProfileLinkContainer.react"),{groupID:a,kind:"profilePhoto",profile:b,children:d.children})}}g["default"]=a}),98);
__d("GroupsCometHeaderFacepile.react",["fbt","CometRelay","FDSPressableFacepile.react","GroupsCometHeaderFacepile_group.graphql","ProfileCometContextualProfileGating","XCometContextualProfileControllerRouteBuilder","XCometGroupMembersControllerRouteBuilder","overlappingFacepileGroupsCometMemberProfileLinkContainer","react","translatedServerString","useIdOrVanityRouteBuilder","useNullthrowsViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useMemo;function a(a){var e;a=a.group;var f=d("CometRelay").useFragment(i!==void 0?i:i=b("GroupsCometHeaderFacepile_group.graphql"),a),g=c("useNullthrowsViolation")(f.id);a=c("useIdOrVanityRouteBuilder")(c("XCometGroupMembersControllerRouteBuilder"),f);var j=(e=(e=f.facepile_profiles)==null?void 0:e.count)!=null?e:0,m=l(function(){var a;return(a=f.facepile_profiles)==null?void 0:a.edges},[(e=f.facepile_profiles)==null?void 0:e.edges]);e=l(function(){return(m||[]).map(function(a){a=a.node;if(a==null)return null;var b=a.id,e=a.name,f=a.profile_picture,h=a.url;b=h==null&&b!=null&&d("ProfileCometContextualProfileGating").canViewCometContextualProfile()?c("XCometContextualProfileControllerRouteBuilder").buildURL({group_idorvanity:g,member_id:b}):h;if(e==null||b==null||f==null||f.uri==null)return null;h={uri:f.uri};return[e,{alt:e,containerComponent:c("overlappingFacepileGroupsCometMemberProfileLinkContainer")(g,a),source:h}]}).filter(Boolean)},[m,g]);var n=e.map(function(a){return c("translatedServerString")(a[0])});e=e.map(function(a){return a[1]});return k.jsx(c("FDSPressableFacepile.react"),{ellipsisTooltip:function(a){var b=n.slice(a).slice(0,8);a=j-a-b.length;return a>=1?b.concat(h._(/*BTDS*/"_j{\"*\":\"{number} others\",\"_1\":\"1 other\"}",[h._plural(a,"number")])):b},isOverlapping:!0,items:e,linkProps:{routeTarget:"self",url:a},size:32,testid:void 0},g)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("GroupsCometHeaderFacepile_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"GroupsCometHeaderFacepile_group$normalization",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"group_address",storageKey:null},{alias:"facepile_profiles",args:[{kind:"Literal",name:"first",value:20},{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:"importance"}],concreteType:"GroupMemberProfilesConnection",kind:"LinkedField",name:"group_member_profiles",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"GroupMemberProfilesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[b,a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"group_id",variableName:"groupID"}],concreteType:"GroupMembership",kind:"LinkedField",name:"group_membership",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_member_feed",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[b,a,{alias:null,args:null,concreteType:"GroupLeadersEngagementLoggingSettings",kind:"LinkedField",name:"leaders_engagement_logging_settings",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_surface_mappings",plural:!0,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"surface",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"trace_policy",storageKey:null}],type:"GroupLeadersEngagementLoggingExactCometSurfaceMapping",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefixes",storageKey:null}],type:"GroupLeadersEngagementLoggingPrefixCometSurfaceMapping",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},a],storageKey:null}],type:"GroupMember",abstractKey:"__isGroupMember"}],storageKey:null}],storageKey:null}],storageKey:'group_member_profiles(first:20,is_memorialized:false,orderby:"importance")'}]}}();e.exports=a}),null);
__d("GroupsCometHeaderInviteFacebookFriendsTrigger_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometHeaderInviteFacebookFriendsTrigger_group",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("GroupsCometHeaderInviteFacebookFriendsTrigger.react",["CometEntryPointDialogTrigger.react","CometRelay","GroupsCometHeaderInviteFacebookFriendsTrigger_group.graphql","GroupsCometInviteFriendsDialog.entrypoint","logVultureJSDeadEntrypoint","react","react-compiler-runtime","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.children,g=a.group;a=a.pageActorID;g=d("CometRelay").useFragment(h!==void 0?h:h=b("GroupsCometHeaderInviteFacebookFriendsTrigger_group.graphql"),g);g=c("useNullthrowsViolation")(g.id);if(a!=null){e[0]!==f?(a=f(k),e[0]=f,e[1]=a):a=e[1];return a}var i;e[2]!==g?(a={groupID:g,referrer:"group_invite_button"},i={routeProps:{groupID:g}},e[2]=g,e[3]=a,e[4]=i):(a=e[3],i=e[4]);e[5]!==f||e[6]!==a||e[7]!==i?(g=j.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometInviteFriendsDialog.entrypoint"),otherProps:a,preloadParams:i,children:f}),e[5]=f,e[6]=a,e[7]=i,e[8]=g):g=e[8];return g}function k(){return c("logVultureJSDeadEntrypoint")("GroupsCometHeaderInviteFacebookFriendsTrigger")}g["default"]=a}),98);
__d("GroupsCometHeaderInviteMemberAddButton_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometHeaderInviteMemberAddButton_action",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometHeaderInviteFacebookFriendsTrigger_group"}],storageKey:null},action:"THROW",path:"group"}],type:"XFBGroupInviteMemberAddButtonAction",abstractKey:null};e.exports=a}),null);
__d("GroupsCometHeaderInviteMemberAddButton.react",["fbt","ix","CometRelay","FDSButton.react","GroupCometCreationTooltipWrapper.react","GroupsCometHeaderInviteFacebookFriendsTrigger.react","GroupsCometHeaderInviteMemberAddButton_action.graphql","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react");function a(a){var e=d("react-compiler-runtime").c(10),f=a.action,g=a.isLabelHidden,k=a.isSecondary,m=a.onPress,n=a.pageActorID,o=a.reduceEmphasis,p=a.size,q=g===void 0?!1:g,r=k===void 0?!1:k,s=o===void 0?!1:o;a=d("CometRelay").useFragment(j!==void 0?j:j=b("GroupsCometHeaderInviteMemberAddButton_action.graphql"),f);g=a.group;e[0]!==q||e[1]!==r||e[2]!==m||e[3]!==s||e[4]!==p?(k=function(a){return l.jsx(c("FDSButton.react"),{icon:s?void 0:d("fbicon")._(i("483768"),16),label:h._(/*BTDS*/"Invite"),labelIsHidden:q,onPress:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=c;a();m&&m.apply(void 0,e)},reduceEmphasis:s,size:p!=null?p:void 0,testid:void 0,type:r?"secondary":void 0})},e[0]=q,e[1]=r,e[2]=m,e[3]=s,e[4]=p,e[5]=k):k=e[5];o=k;e[6]!==o||e[7]!==g||e[8]!==n?(f=l.jsx(c("GroupCometCreationTooltipWrapper.react"),{children:l.jsx(c("GroupsCometHeaderInviteFacebookFriendsTrigger.react"),{group:g,pageActorID:n,children:o})}),e[6]=o,e[7]=g,e[8]=n,e[9]=f):f=e[9];return f}g["default"]=a}),226);
__d("GroupsCometHeaderInviteMemberAddButton_action$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometHeaderInviteMemberAddButton_action$normalization",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("GroupsCometJoinedActionButton.react",["FDSButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.buttonProps;a=a.contextRef;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1ws6c6y"},b[0]=f):f=b[0];b[1]!==e?(f=i.jsx("span",babelHelpers["extends"]({},f,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},e,{testid:void 0}))})),b[1]=e,b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1s85apg xh6znq8"},b[3]=g):g=b[3];b[4]!==e?(g=i.jsx("span",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},e,{"aria-controls":"group_joined_action_menu",labelIsHidden:!0}))})),b[4]=e,b[5]=g):g=b[5];b[6]!==a||b[7]!==f||b[8]!==g?(e=i.jsxs("span",{ref:a,children:[f,g]}),b[6]=a,b[7]=f,b[8]=g,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("GroupsCometJoinedActionMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9966194496768753"}),null);
__d("GroupsCometJoinedActionMenuQuery$Parameters",["GroupsCometJoinedActionMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometJoinedActionMenuQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometJoinedActionMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometJoinedActionMenu.entrypoint",["GroupsCometJoinedActionMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.actorID;a=a.groupID;return{queries:{queryReference:{environmentProviderOptions:{actorID:c},parameters:b("GroupsCometJoinedActionMenuQuery$Parameters"),variables:{groupID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometJoinedActionMenu.react").__setRef("GroupsCometJoinedActionMenu.entrypoint")};g["default"]=a}),98);
__d("GroupsCometJoinedActionPopover_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometJoinedActionPopover_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("GroupsCometJoinedActionPopover.react",["fbt","Actor","CometRelay","FBNucleusGroupCheckmarkFilled16Icon.react","FBNucleusTriangleDownFilled16Icon.react","FDSEntryPointPopoverTrigger.react","FDSGroupCheckmarkFilled16Icon","FDSIcon.react","FDSTriangleDownFilled16Icon","GroupsCometJoinedActionButton.react","GroupsCometJoinedActionMenu.entrypoint","GroupsCometJoinedActionPopover_group.graphql","XPlatReactEnvironment","emptyFunction","react","react-compiler-runtime","useNullthrowsViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(14),f=a.group,g=a.onNotifChange,j=a.onPress;a=a.onPressNotifItem;f=d("CometRelay").useFragment(i!==void 0?i:i=b("GroupsCometJoinedActionPopover_group.graphql"),f);var l=d("Actor").useActor();l=l[0];f=c("useNullthrowsViolation")(f==null?void 0:f.id,"Group ID is missing in Group header content");var m=d("XPlatReactEnvironment").isWeb()?c("FDSTriangleDownFilled16Icon"):c("FBNucleusTriangleDownFilled16Icon.react"),n=d("XPlatReactEnvironment").isWeb()?c("FDSGroupCheckmarkFilled16Icon"):c("FBNucleusGroupCheckmarkFilled16Icon.react");e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("FDSIcon.react"),{icon:m,size:d("XPlatReactEnvironment").isWeb()?void 0:16}),e[0]=m):m=e[0];e[1]===Symbol["for"]("react.memo_cache_sentinel")?(m={addOnSecondary:m,icon:n,label:h._(/*BTDS*/"Joined"),type:"secondary"},e[1]=m):m=e[1];var o=m;e[2]!==l||e[3]!==f?(n={actorID:l,groupID:f},e[2]=l,e[3]=f,e[4]=n):n=e[4];e[5]!==g||e[6]!==a?(m={onClose:c("emptyFunction"),onNotifChange:g,onPressNotifItem:a},e[5]=g,e[6]=a,e[7]=m):m=e[7];e[8]!==j?(l=function(a,b,d,e,f,g,h,i){d=babelHelpers["extends"]({},o,{"aria-expanded":i,onHoverIn:e,onHoverOut:f,onPress:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=c;b();j&&j.apply(void 0,e)},onPressIn:g});return k.jsx(c("GroupsCometJoinedActionButton.react"),{buttonProps:d,contextRef:a})},e[8]=j,e[9]=l):l=e[9];e[10]!==n||e[11]!==m||e[12]!==l?(f=k.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:n,otherProps:m,popoverEntryPoint:c("GroupsCometJoinedActionMenu.entrypoint"),preloadTrigger:"button",children:l}),e[10]=n,e[11]=m,e[12]=l,e[13]=f):f=e[13];return f}g["default"]=a}),226);
__d("GroupsCometJoinedActionPopover_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometJoinedActionPopover_group$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}]};e.exports=a}),null);
__d("GroupsCometLeaveForumActionMenuItem_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometLeaveForumActionMenuItem_action",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"group.id"},{alias:null,args:null,kind:"ScalarField",name:"unfollow_or_leave_group_menu_item_text",storageKey:null}],storageKey:null},action:"THROW",path:"group"}],type:"GroupLeaveForumAction",abstractKey:null};e.exports=a}),null);
__d("GroupsCometLeaveForumDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9713108305485563"}),null);
__d("GroupsCometLeaveForumDialogQuery$Parameters",["GroupsCometLeaveForumDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometLeaveForumDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometLeaveForumDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometLeaveForumDialog.entrypoint",["GroupsCometLeaveForumDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{queryReference:{parameters:b("GroupsCometLeaveForumDialogQuery$Parameters"),variables:{groupID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometLeaveForumDialog.react").__setRef("GroupsCometLeaveForumDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometLeaveForumActionMenuItem.react",["fbt","ix","CometRelay","FBNucleusLeaveFilled20Icon.react","FBNucleusLeaveOutline20Icon.react","FDSMenuItem.react","GroupsCometAboutPanelSettingsContext","GroupsCometLeaveForumActionMenuItem_action.graphql","GroupsCometLeaveForumDialog.entrypoint","XPlatReactEnvironment","fbicon","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useRef;function a(a){var e=d("react-compiler-runtime").c(13),f=a.action,g=a.source;a=d("CometRelay").useFragment(j!==void 0?j:j=b("GroupsCometLeaveForumActionMenuItem_action.graphql"),f);f=a.group;a=f.id;var k=n(null),o;e[0]!==a?(o={groupID:a},e[0]=a,e[1]=o):o=e[1];a=c("useCometEntryPointDialog")(c("GroupsCometLeaveForumDialog.entrypoint"),o);var p=a[0];o=m(c("GroupsCometAboutPanelSettingsContext"));a=o.isIconFilled;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(o={filled:d("fbicon")._(i("951888"),20),outline:d("fbicon")._(i("951891"),20)},e[2]=o):o=e[2];o=o;if(e[3]===Symbol["for"]("react.memo_cache_sentinel")){var q={filled:c("FBNucleusLeaveFilled20Icon.react"),outline:c("FBNucleusLeaveOutline20Icon.react")};o=d("XPlatReactEnvironment").isWeb()?o:q;e[3]=o}else o=e[3];q=o;o=q[a?"filled":"outline"];e[4]!==p||e[5]!==g?(q=function(){return p({source:g})},e[4]=p,e[5]=g,e[6]=q):q=e[6];if(e[7]!==f.unfollow_or_leave_group_menu_item_text){a=(a=f==null?void 0:f.unfollow_or_leave_group_menu_item_text)!=null?a:h._(/*BTDS*/"Leave group");e[7]=f.unfollow_or_leave_group_menu_item_text;e[8]=a}else a=e[8];e[9]!==o||e[10]!==q||e[11]!==a?(f=l.jsx(c("FDSMenuItem.react"),{icon:o,iconColor:d("XPlatReactEnvironment").isWeb()?void 0:"primary",onClick:q,primaryText:a,ref:k}),e[9]=o,e[10]=q,e[11]=a,e[12]=f):f=e[12];return f}g["default"]=a}),226);
__d("GroupsCometLeaveForumActionMenuItem_action$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometLeaveForumActionMenuItem_action$normalization",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unfollow_or_leave_group_menu_item_text",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("GroupsCometManageNotificationsActionMenuItem_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometManageNotificationsActionMenuItem_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("GroupsCometNotificationSettingsEditDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9306550339470992"}),null);
__d("GroupsCometNotificationSettingsEditDialogQuery$Parameters",["GroupsCometNotificationSettingsEditDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometNotificationSettingsEditDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometNotificationSettingsEditDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometNotificationSettingsEditDialog.entrypoint",["GroupsCometNotificationSettingsEditDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{notificationsSettingsQueryReference:{parameters:b("GroupsCometNotificationSettingsEditDialogQuery$Parameters"),variables:{groupID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometNotificationSettingsEditDialog.react").__setRef("GroupsCometNotificationSettingsEditDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometManageNotificationsActionMenuItem.react",["fbt","ix","CometEntryPointDialogTrigger.react","FDSMenuItem.react","GroupsCometAboutPanelSettingsContext","GroupsCometManageNotificationsActionMenuItem_group.graphql","GroupsCometNotificationSettingsEditDialog.entrypoint","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k.useContext;j!==void 0?j:j=b("GroupsCometManageNotificationsActionMenuItem_group.graphql");function a(a){var b=d("react-compiler-runtime").c(15),e=a.groupID,f=a.iconStyle,g=a.onPress,j=a.onSave,k=a.primaryText,n=a.secondaryText,o=f===void 0?"normal":f;a=m(c("GroupsCometAboutPanelSettingsContext"));var p=a.isIconFilled;b[0]!==j?(f={onSave:j},b[0]=j,b[1]=f):f=b[1];b[2]!==e?(a={groupID:e},b[2]=e,b[3]=a):a=b[3];b[4]!==e||b[5]!==o||b[6]!==p||b[7]!==g||b[8]!==k||b[9]!==n?(j=function(a,b,e,f){return l.jsx(c("FDSMenuItem.react"),{icon:p?d("fbicon")._(i("508241"),20):d("fbicon")._(i("508244"),20),iconStyle:o,onClick:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=c;a();g&&g.apply(void 0,e)},onHoverIn:b,onHoverOut:e,onPressIn:f,primaryText:k!=null?k:h._(/*BTDS*/"Manage notifications"),secondaryText:n,testid:void 0})},b[4]=e,b[5]=o,b[6]=p,b[7]=g,b[8]=k,b[9]=n,b[10]=j):j=b[10];b[11]!==f||b[12]!==a||b[13]!==j?(e=l.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometNotificationSettingsEditDialog.entrypoint"),otherProps:f,preloadParams:a,preloadTrigger:"button",children:j}),b[11]=f,b[12]=a,b[13]=j,b[14]=e):e=b[14];return e}g["default"]=a}),226);
__d("GroupsCometManageNotificationsActionMenuItem_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometManageNotificationsActionMenuItem_group$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("GroupsCometPinActionMenuItem_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometPinActionMenuItem_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_pinned",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_pin_more_groups",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_pin_group",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_type_name_for_content",storageKey:null}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("useGroupsCometPinningActionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24232564849666419"}),null);
__d("useGroupsCometPinningActionMutation.graphql",["useGroupsCometPinningActionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GroupsPinningActionResponsePayload",kind:"LinkedField",name:"groups_pinning_action",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"groups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_pinned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_more_groups",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometPinningActionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometPinningActionMutation",selections:c},params:{id:b("useGroupsCometPinningActionMutation_facebookRelayOperation"),metadata:{},name:"useGroupsCometPinningActionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useGroupsCometPinningActionMutation",["createUseMutation_DEPRECATED","useGroupsCometPinningActionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("createUseMutation_DEPRECATED")(h!==void 0?h:h=b("useGroupsCometPinningActionMutation.graphql"),function(a){return{groups_pinning_action:{groups:a.pinned_group_ids.group_ids.map(function(b){return{can_viewer_pin_more_groups:!0,has_viewer_pinned:a.action_type==="PIN",id:b}})}}});g["default"]=a}),98);
__d("useGroupPinUnpinMutation",["errorCode","fbt","FBLogger","cometPushToast","promiseDone","react-compiler-runtime","useGroupsCometPinningActionMutation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=function(a){var b=a.groupID,e=a.groupPinningAction,f=a.setIsLoading;f(!0);c("promiseDone")(e({action_type:"PIN",pinned_group_ids:{group_ids:[b]}}).then(function(){f(!1),d("cometPushToast").cometPushToast({action:{label:i._(/*BTDS*/"Undo"),onPress:function(){k({groupID:b,groupPinningAction:e,setIsLoading:f})}},message:i._(/*BTDS*/"This group has been pinned to the top of your groups list.")})},function(a){f(!1),c("FBLogger")("groups_comet").catching(a).warn("Failed to pin group"),a[0]&&a[0].code===1376178?d("cometPushToast").cometPushErrorToast({message:a[0].description}):d("cometPushToast").cometPushErrorToast({action:{label:i._(/*BTDS*/"Try Again"),onPress:function(){j({groupID:b,groupPinningAction:e,setIsLoading:f})}},message:i._(/*BTDS*/"There was an issue pinning this group.")})}))},k=function(a){var b=a.groupID,e=a.groupPinningAction,f=a.setIsLoading;f(!0);c("promiseDone")(e({action_type:"UNPIN",pinned_group_ids:{group_ids:[b]}}).then(function(){f(!1),d("cometPushToast").cometPushToast({action:{label:i._(/*BTDS*/"Undo"),onPress:function(){j({groupID:b,groupPinningAction:e,setIsLoading:f})}},message:i._(/*BTDS*/"This group was unpinned from the top of your groups list.")})},function(a){f(!1),c("FBLogger")("groups_comet").catching(a).warn("Failed to unpin group"),d("cometPushToast").cometPushErrorToast({action:{label:i._(/*BTDS*/"Try Again"),onPress:function(){k({groupID:b,groupPinningAction:e,setIsLoading:f})}},message:i._(/*BTDS*/"There was an issue unpinning this group.")})}))};function a(a,b){var e=d("react-compiler-runtime").c(11),f=c("useGroupsCometPinningActionMutation")();if(a==null){d("cometPushToast").cometPushErrorToast({message:i._(/*BTDS*/"There was an issue unpinning this group.")});throw c("FBLogger")("groups_comet").mustfixThrow("Group id cannot be null.")}var g;e[0]!==a||e[1]!==f||e[2]!==b?(g=function(){j({groupID:a,groupPinningAction:f,setIsLoading:b})},e[0]=a,e[1]=f,e[2]=b,e[3]=g):g=e[3];g=g;var h;e[4]!==a||e[5]!==f||e[6]!==b?(h=function(){k({groupID:a,groupPinningAction:f,setIsLoading:b})},e[4]=a,e[5]=f,e[6]=b,e[7]=h):h=e[7];h=h;var l;e[8]!==g||e[9]!==h?(l={pinAction:g,unpinAction:h},e[8]=g,e[9]=h,e[10]=l):l=e[10];return l}g["default"]=a}),226);
__d("GroupsCometPinActionMenuItem.react",["fbt","ix","CometRelay","FBLogger","FDSMenuItem.react","GroupsCometAboutPanelSettingsContext","GroupsCometPinActionMenuItem_group.graphql","fbicon","react","react-compiler-runtime","useGroupPinUnpinMutation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useState;function a(a){var e=d("react-compiler-runtime").c(8);a=a.group;a=d("CometRelay").useFragment(j!==void 0?j:j=b("GroupsCometPinActionMenuItem_group.graphql"),a);var f=n(!1),g=f[0];f=f[1];f=c("useGroupPinUnpinMutation")(a.id,f);var k=f.pinAction;f=f.unpinAction;var p=m(c("GroupsCometAboutPanelSettingsContext"));p=p.isIconFilled;var q=a.has_viewer_pinned;if(q==null){c("FBLogger")("groups_comet").mustfix("All groups should have a pinned status");return null}var r=a.group_type_name_for_content==="COMMUNITY",s=(a==null?void 0:a.if_viewer_can_pin_more_groups)!=null,t=a==null?void 0:a.if_viewer_can_pin_group;a=a.id;if(a==null){c("FBLogger")("groups_comet").mustfix("All groups should have an ID");return null}if(!t)return null;e[0]!==s||e[1]!==q||e[2]!==r||e[3]!==p||e[4]!==g||e[5]!==k||e[6]!==f?(a=q?l.jsx(c("FDSMenuItem.react"),{disabled:g,icon:p?d("fbicon")._(i("174742"),20):d("fbicon")._(i("832467"),20),onClick:f,primaryText:r?h._(/*BTDS*/"Unpin community"):h._(/*BTDS*/"Unpin group")}):l.jsx(c("FDSMenuItem.react"),{disabled:!s||g,icon:p?d("fbicon")._(i("569237"),20):d("fbicon")._(i("511758"),20),onClick:s?k:o,primaryText:r?h._(/*BTDS*/"Pin community"):h._(/*BTDS*/"Pin group"),secondaryColor:s?"secondary":"disabled",secondaryText:s?null:r?h._(/*BTDS*/"You can pin up to 10 communities."):h._(/*BTDS*/"You can pin up to 10 groups.")}),e[0]=s,e[1]=q,e[2]=r,e[3]=p,e[4]=g,e[5]=k,e[6]=f,e[7]=a):a=e[7];return a}function o(){}g["default"]=a}),226);
__d("GroupsCometPinActionMenuItem_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a];return{kind:"SplitOperation",metadata:{},name:"GroupsCometPinActionMenuItem_group$normalization",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"has_viewer_pinned",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_pin_more_groups",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_pin_group",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_type_name_for_content",storageKey:null}]}}();e.exports=a}),null);/*FB_PKG_DELIM*/
__d("VideoPlayerDashPerformanceLoggerPayloadBuilder",[],(function(a,b,c,d,e,f){"use strict";var g={access_token:void 0,additional_buffered_ranges:void 0,append_target:void 0,appended_buffer_ms:void 0,bandwidth_estimate:void 0,client_time_begin:void 0,client_time_duration:void 0,client_time_end:void 0,code:void 0,concluder:void 0,connection_quality_level:void 0,content_length_header:void 0,device_pixel_ratio_float:void 0,dropped_frames:void 0,dynamic_bitrate:void 0,edge_hit_header:void 0,ended:void 0,error:void 0,event:void 0,expected_length:void 0,fbls_to_ply_dis_ms:void 0,initiator:void 0,is_drm:void 0,is_live:void 0,is_muted:void 0,is_online:void 0,is_p2p_playback:void 0,is_page_visible:void 0,is_prefetch:void 0,is_ring_buffer_sample:void 0,is_servable_via_fbms:void 0,is_templated_manifest:void 0,is_latency_catchup_enabled:void 0,last_buffered_end:void 0,last_buffered_start:void 0,last_buffering_event_end_time:void 0,last_buffering_event_start_time:void 0,last_playing_event_time:void 0,length:void 0,livehead_delta:void 0,livehead_seq_num_header:void 0,livehead_seq_num_mpd:void 0,logical_cpu_count:void 0,lowest_quality_representation_id:void 0,manifest_type:void 0,mediastream_event_count:void 0,mediasource_previous_duration:void 0,mediasource_new_duration:void 0,one_observed:void 0,one_req_wave:void 0,one_res_wave:void 0,origin_hit_header:void 0,parent_id:void 0,playback_fbms_param:void 0,playback_rate:void 0,player_height:void 0,player_instance_count:void 0,player_origin_caller_specified:void 0,player_suborigin:void 0,player_version:void 0,player_width:void 0,player_format:void 0,playhead:void 0,preload_time:void 0,previous_representation_id:void 0,priority_float:void 0,proxy_status_header:void 0,reason:void 0,representation_id:void 0,reschedule_count:void 0,resource:void 0,response_time_ms_header:void 0,result:void 0,script_path:void 0,segment_count:void 0,segment_end_time:void 0,segment_start_time:void 0,segment_time_gap:void 0,sequential_id:void 0,session:void 0,state:void 0,stream_switch_reason:void 0,time_between_bytes_max:void 0,time_since_main_thread_available:void 0,time_to_first_byte:void 0,time_to_last_byte:void 0,time_to_request_sent:void 0,time_to_request_start:void 0,total_frames:void 0,type:void 0,update_period:void 0,user_info:void 0,video_duration:void 0,video_id:void 0,video_playback_experience_issue:void 0,was_delayed:void 0,fna_hit_header:void 0,last_video_buffered_end:void 0,last_video_buffered_start:void 0,last_audio_buffered_end:void 0,last_audio_buffered_start:void 0,per_session_sampling_rate:void 0};function h(a){var b=a;typeof b==="string"&&(b=Number(a));return b!=null&&isFinite(b)?String(Math.floor(b)):null}a=function(){function a(){this.$1=babelHelpers["extends"]({},g)}var b=a.prototype;b.clear=function(){this.$1=babelHelpers["extends"]({},g);return this};b.getData=function(){return babelHelpers["extends"]({},this.$1)};b.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};b.setPerSessionSampleRate=function(a){this.$1.per_session_sampling_rate=h(a);return this};b.setAccessToken=function(a){this.$1.access_token=a;return this};b.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};b.setAppendTarget=function(a){this.$1.append_target=h(a);return this};b.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=h(a);return this};b.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=h(a);return this};b.setClientTimeBegin=function(a){this.$1.client_time_begin=h(a);return this};b.setClientTimeDuration=function(a){this.$1.client_time_duration=h(a);return this};b.setClientTimeEnd=function(a){this.$1.client_time_end=h(a);return this};b.setCode=function(a){this.$1.code=h(a);return this};b.setConcluder=function(a){this.$1.concluder=a;return this};b.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};b.setContentLengthHeader=function(a){this.$1.content_length_header=h(a);return this};b.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};b.setDroppedFrames=function(a){this.$1.dropped_frames=h(a);return this};b.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=h(a);return this};b.setFNAHitHeader=function(a){this.$1.fna_hit_header=a;return this};b.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};b.setEnded=function(a){this.$1.ended=a;return this};b.setError=function(a){this.$1.error=a;return this};b.setEvent=function(a){this.$1.event=a;return this};b.setExpectedLength=function(a){this.$1.expected_length=h(a);return this};b.setFblsToPlyDisMs=function(a){this.$1.fbls_to_ply_dis_ms=h(a);return this};b.setPreferredEdgeLatency=function(a){this.$1.preferred_edge_latency=h(a);return this};b.setInitiator=function(a){this.$1.initiator=a;return this};b.setIsDrm=function(a){this.$1.is_drm=a;return this};b.setIsLive=function(a){this.$1.is_live=a;return this};b.setIsMuted=function(a){this.$1.is_muted=a;return this};b.setIsOnline=function(a){this.$1.is_online=a;return this};b.setIsP2pPlayback=function(a){this.$1.is_p2p_playback=a;return this};b.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};b.setIsPrefetch=function(a){this.$1.is_prefetch=a;return this};b.setIsRingBufferSample=function(a){this.$1.is_ring_buffer_sample=a;return this};b.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};b.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$1.is_latency_catchup_enabled=a;return this};b.setPlayerFormat=function(a){this.$1.player_format=a;return this};b.setLastBufferedEnd=function(a){this.$1.last_buffered_end=h(a);return this};b.setLastBufferedStart=function(a){this.$1.last_buffered_start=h(a);return this};b.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=h(a);return this};b.setLastBufferingEventStartTime=function(a){this.$1.last_buffering_event_start_time=h(a);return this};b.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=h(a);return this};b.setLength=function(a){this.$1.length=h(a);return this};b.setLiveheadDelta=function(a){this.$1.livehead_delta=h(a);return this};b.setLiveheadSeqNumHeader=function(a){this.$1.livehead_seq_num_header=h(a);return this};b.setLiveheadSeqNumMpd=function(a){this.$1.livehead_seq_num_mpd=h(a);return this};b.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=h(a);return this};b.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};b.setManifestType=function(a){this.$1.manifest_type=a;return this};b.setIsMixedCodecManifest=function(a){this.$1.is_mixed_codec_manifest=a;return this};b.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=h(a);return this};b.setMediaSourceNewDuration=function(a){this.$1.mediasource_new_duration=a;return this};b.setMediaSourcePreviousDuration=function(a){this.$1.mediasource_previous_duration=a;return this};b.setOneObserved=function(a){this.$1.one_observed=a;return this};b.setOneReqWave=function(a){this.$1.one_req_wave=h(a);return this};b.setOneResWave=function(a){this.$1.one_res_wave=h(a);return this};b.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};b.setParentID=function(a){this.$1.parent_id=h(a);return this};b.setPlaybackFbmsParam=function(a){this.$1.playback_fbms_param=a;return this};b.setPlaybackRate=function(a){this.$1.playback_rate=a;return this};b.setPlayerHeight=function(a){this.$1.player_height=h(a);return this};b.setPlayerInstanceCount=function(a){this.$1.player_instance_count=h(a);return this};b.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};b.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};b.setPlayerVersion=function(a){this.$1.player_version=a;return this};b.setPlayerWidth=function(a){this.$1.player_width=h(a);return this};b.setPlayhead=function(a){this.$1.playhead=h(a);return this};b.setPreloadTime=function(a){this.$1.preload_time=h(a);return this};b.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};b.setPriorityFloat=function(a){this.$1.priority_float=a;return this};b.setProxyStatusHeader=function(a){this.$1.proxy_status_header=a;return this};b.setPushed=function(a){return this};b.setReason=function(a){this.$1.reason=a;return this};b.setRepresentationID=function(a){this.$1.representation_id=a;return this};b.setRescheduleCount=function(a){this.$1.reschedule_count=h(a);return this};b.setResource=function(a){this.$1.resource=a;return this};b.setResponseTimeMsHeader=function(a){this.$1.response_time_ms_header=h(a);return this};b.setResult=function(a){this.$1.result=a;return this};b.setScriptPath=function(a){this.$1.script_path=a;return this};b.setSegmentCount=function(a){this.$1.segment_count=h(a);return this};b.setSegmentEndTime=function(a){this.$1.segment_end_time=h(a);return this};b.setSegmentStartTime=function(a){this.$1.segment_start_time=h(a);return this};b.setSegmentTimeGap=function(a){this.$1.segment_time_gap=h(a);return this};b.setSequentialID=function(a){this.$1.sequential_id=h(a);return this};b.setSession=function(a){this.$1.session=a;return this};b.setState=function(a){this.$1.state=a;return this};b.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};b.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=h(a);return this};b.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=h(a);return this};b.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=h(a);return this};b.setTimeToLastByte=function(a){this.$1.time_to_last_byte=h(a);return this};b.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=h(a);return this};b.setTimeToRequestStart=function(a){this.$1.time_to_request_start=h(a);return this};b.setTotalFrames=function(a){this.$1.total_frames=h(a);return this};b.setType=function(a){this.$1.type=a;return this};b.setUpdatePeriod=function(a){this.$1.update_period=h(a);return this};b.setUserInfo=function(a){this.$1.user_info=a;return this};b.setVideoDuration=function(a){this.$1.video_duration=h(a);return this};b.setVideoID=function(a){this.$1.video_id=a;return this};b.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};b.setWasDelayed=function(a){this.$1.was_delayed=a;return this};b.setDynamicStatusHeader=function(a){this.$1.dynamic_status_header=a;return this};b.setLastAudioBufferedEnd=function(a){this.$1.last_audio_buffered_end=h(a);return this};b.setLastAudioBufferedStart=function(a){this.$1.last_audio_buffered_start=h(a);return this};b.setLastVideoBufferedEnd=function(a){this.$1.last_video_buffered_end=h(a);return this};b.setLastVideoBufferedStart=function(a){this.$1.last_video_buffered_start=h(a);return this};return a}();f.convertToInt64=h;f.VideoPlayerDashPerformanceLoggerPayloadBuilder=a}),66);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerDashPerformanceLoggerEventFalcoEvent","VideoPlayerDashPerformanceLoggerPayloadBuilder","VideoPlayerShakaPerformanceLoggerConfig","clearTimeout","gkx","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=999,i=(a=c("qex")._("2104"))!=null?a:12e4,j=[],k=0,l=!1,m=!1,n=null;b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.isEnabled=function(){return b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5()||b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6()};b.disable=function(){l=!1};b.enable=function(){l=!0};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7=function(a){a=j[a];if(a!=null){var c=new b();c.updateData(a).log()}};b.flushQueuedLogs=function(){k=k>h?0:k;if(!b.isEnabled()){m=!0;b.enable();for(var a=k;a<=h;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(a);for(a=0;a<k;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(a);j=[];k=0}m&&(n!=null&&c("clearTimeout")(n),n=c("setTimeout")(function(){n=null,m=!1,b.disable()},i))};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5=function(){return d("VideoPlayerShakaPerformanceLoggerConfig").isSampled};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6=function(){return l};var e=b.prototype;e.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8=function(){m&&this.setIsRingBufferSample(!0),this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9()};e.log=function(){b.isEnabled()||(this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4||0)>0?this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8():c("gkx")("26220")&&(k=k>h?0:k,j[k++]=this.getData())};e.setPerSessionSampleRate=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4=b;return a.prototype.setPerSessionSampleRate.call(this,b)};e.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1=b;return a.prototype.setState.call(this,b)};e.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1};e.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3=b;return a.prototype.setType.call(this,b)};e.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3};e.setIsRingBufferSample=function(b){a.prototype.setIsRingBufferSample.call(this,b);return this};e.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2=b;a.prototype.setSequentialID.call(this,b);return this};e.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2);return this};e.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9=function(){var a=this;c("VideoPlayerDashPerformanceLoggerEventFalcoEvent").log(function(){return a.getData()})};return b}(d("VideoPlayerDashPerformanceLoggerPayloadBuilder").VideoPlayerDashPerformanceLoggerPayloadBuilder);g["default"]=b}),98);
__d("InstreamVideoAdBreaksPlayerDeferred.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("InstreamVideoAdBreaksPlayerImpl.react").__setRef("InstreamVideoAdBreaksPlayerDeferred.react"));g["default"]=a}),98);
__d("InstreamVideoAdBreaksPlayerImpl_adBreaks$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"instream_placement",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"InstreamVideoAdBreaksPlayerImpl_adBreaks$normalization",selections:[{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"mid_rolls",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"time_offset_in_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"pre_roll",plural:!1,selections:[a,b],storageKey:null}]}}();e.exports=a}),null);
__d("ShakaConstants",[],(function(a,b,c,d,e,f){a={abort_loading_delay:2e4,abr_abort_on_zero_stream_progress_below_threshold:-1,abr_abort_when_fetch_estimate_exceeds_buffer_factor:0,abr_abort_when_fetch_estimate_exceeds_time:0,append_window_end_fudge_factor:0,audio_request_pipeline_max_concurrent_requests:1,audio_request_pipeline_soothing_factor:1,audio_video_buffer_diff_threshold:14400,autoplay_start_video_interval:200,back_off_buffering_overflow_max:5,back_off_buffering_overflow_time_factor:2,back_off_buffering_overflow_time_window:2e3,bandwidth_downgrade_target:.9,bandwidth_penalty_decay_per_video:1,bandwidth_standard_deviation_penalty_factor:.1,buffer_downgrade_threshold:10,buffer_replacement_ahead_threshold:15,buffer_replacement_behind_threshold:5,buffer_target:-1,buffer_target_overflow_upgrade_aggressiveness:1,buffer_target_underflow_upgrade_aggressiveness:1,buffer_velocity_time_in_past_to_consider:0,buffering_count_threshold:5,buffering_spinner_delay_ms:0,buffering_underflow_threshold:.05,clear_buffer_on_constraint_change_offset:5,clear_buffer_on_constraint_change_paused_offset:5,clear_buffer_on_seek_back_delta:0,decouple_stream_on_update_loop_from_request_loop_int:0,fast_moving_average_half_life:3,frame_drop_penalty_factor:0,frame_drop_penalty_minimum_frame_count:0,global_scheduler_priority_downgrade_bufferahead_threshold:0,global_scheduler_priority_threshold:6,hvq_inline_upgrade_aggressiveness:1,hvq_upgrade_aggressiveness:1,initial_stream_buffer_size_for_blocked_autoplay:5.9335983320607,initial_stream_buffer_size_for_video_stream:0,jump_to_live_threshold:.5,live_bandwidth_downgrade_target:1,live_bitrate_estimates_half_life:1,live_bitrate_estimates_large_sample_weight_factor:10,live_bitrate_estimates_minimum_sample_count:1,live_buffering_underflow_threshold:.5,live_data_fetch_max_retries:0,live_dynamic_stream_buffer_size:12,live_hvq_inline_upgrade_aggressiveness:1,live_hvq_upgrade_aggressiveness:1,live_interruption_consecutive_updates_with_change:3,live_interruption_consecutive_updates_without_change:5,live_max_manifest_fetches_with_push:1,live_max_segments_to_push:1,live_playhead_idle_all_stream_threshold:4,live_playhead_idle_single_stream_threshold:5,live_pre_hvq_inline_upgrade_aggressiveness:1,live_pre_hvq_upgrade_aggressiveness:1,live_predictive_abr_down_buffer:5e3,live_predictive_abr_floor_swich_lanes:-2,live_predictive_abr_floor_ttfb_ratio:5,live_predictive_abr_ttfb_ratio:1.8,live_predictive_abr_up_buffer:9e3,live_predictive_abr_up_retry_interval:3e4,live_rewind_templated_last_x_segments_only:0,live_source_buffer_clear_max_retries:0,live_stream_end_slack:.5,live_stream_end_timeout:6e4,living_room_play_x_milliseconds_before_seek:0,living_room_playhead_catchup_interval:0,local_bitrate_segments_ahead:10,logging_log_event_limit:1e3,low_buffer_velocity_abr_interval:500,low_buffer_velocity_abr_interval_buffer_threshold:10,low_buffer_velocity_threshold:0,low_pri_task_min_bytes_to_yield:0,low_pri_task_yield_check_interval:0,low_pri_task_yields_per_task:0,max_bandwidth_update_interval:0,max_network_interrupted_time_before_seek:1e4,max_prefetch_request_num:0,max_prefetch_videos_num:2,max_recent_bandwidth_samples:25,maximum_bandwidth_bitrate_ratio:1.5,maximum_mos_to_decrease:3,min_mpd_refresh_interval:1e3,min_sample_count:1e4,minimum_sample_count_to_use_deviation_penalty:2,minimum_sample_count_to_use_new_estimator:0,minimum_samples_to_use_neural_estimate:1,minimum_weight_to_trust_local_bandwidth_estimate:.5,multiple_videos_queue_penalty_start_count:2,neural_estimate_weight:0,new_estimator_half_life:5,new_estimator_standard_deviation_exclusion_factor:2,pending_seek_while_playing_delay:2e3,pending_seek_while_playing_offset_from_livehead:4e3,playhead_fragmented_gap_diff_allowance:.1,pre_hvq_inline_upgrade_aggressiveness:1,pre_hvq_upgrade_aggressiveness:1,priority_precision:1,recursive_native_settimeout_delay:-1,recursive_ric_timeout:17,request_bounded_animation_frame_bound:50,request_pipeline_max_concurrent_requests:2,request_pipeline_soothing_factor:2,request_pipeline_timeout_ms:0,resolution_constraint_max_height:0,resolution_constraint_max_width:0,ric_autoplay_bound:50,rl_bandwidth_scale:1e6,rl_bitrate_reward:1,rl_buffer_scale:10,rl_max_number_of_bitrates:10,rl_model_id:0,rl_playback_scale:2e5,rl_request_timeout:1e3,rl_stall_count_penalty:30,rl_stall_time_penalty:0,rl_watch_time_reward:0,scheduled_videos_start_stream_buffer_size_threshold:0,scheduler_priority_update_interval:1e3,settimeout_polling_delay:17,shaka_default_ajax_request_timeout_ms:0,shaka_default_request_timeout_timescale:1e3,skip_manifest_gap_boundary_precision_ms:1e3,slow_moving_average_half_life:10,stream_maximum_onpause_buffer_size_multiplier:0,stream_onupdate_sampling:0,streaming_append_per_segment:3,templated_adjust_stream_limits_start_offset:0,templated_adjust_stream_limits_start_offset_int:10,templated_chunked_segment_update_limit_int:10,templated_ingest_throttle:0,templated_jump_to_live_sidx_end_offset:0,templated_quarantine_idle_references_threshold:0,templated_use_perf_test_segment_index_base_int:0,video_dash_prefetch_cache_retention_duration_ms:5e3};b={block_play_request_http_status_list:"410",defer_which_video_to_abort_loading_decisioning_logic:"live",feature_param:"",live_abr_audio_push_representation:"live-md-a",live_abr_initial_push_representation:"live-md-v",rl_smc_tier:"repomen_1",segment_update_helper_splice_path_entity_key:"",templated_perf_test_methods_under_test_csv_string:"all"};c={numbers:a,strings:b};f["default"]=c}),66);
__d("VideoPlayerMainThreadAvailability",["ShakaConstants","Visibility","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=window.__fbNativeSetTimeout,j=a.__fbNativeClearTimeout,k=window.requestIdleCallback,l=window.cancelIdleCallback,m=function(a,b){var c=function(){a(c,b)};return c};b=function(){function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var b=a.prototype;b.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};b.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(h||(h=c("performanceNow")))()-Number(this.$2):null};b.$8=function(){this.$2=c("Visibility").isHidden()?null:(h||(h=c("performanceNow")))()};b.$9=function(){this.$2=null,typeof this.$4==="number"&&(l(this.$4),this.$4=null),typeof this.$3==="number"&&(j(this.$3),this.$3=null)};b.$7=function(){this.$10()};b.$6=function(){var a=this,b;(b=c("Visibility")).addListener(b.VISIBLE,function(){a.$9(),a.$7()});b.addListener(b.HIDDEN,function(){a.$9()})};b.$10=function(){var a=this,b=c("ShakaConstants").numbers.settimeout_polling_delay;if(b>-1){var d=function(){a.$8(),a.$3=i(d,b)};i(d,b)}};b.$5=function(){return c("Visibility").isSupported()&&typeof k==="function"&&typeof l==="function"&&typeof i==="function"&&typeof j==="function"};b.maybeEnablePerformanceTest=function(){var a,b=c("ShakaConstants").numbers.recursive_ric_timeout;b>-1&&({timeout:b});b=c("ShakaConstants").numbers.recursive_native_settimeout_delay;b>-1&&typeof i==="function"&&(a=m(i,b));a&&a()};return a}();d=new b();g["default"]=d}),98);
__d("VideoPlayerScrubberDefaultPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberDefaultPreview_video",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberDefaultPreview.react",["CometRelay","VideoPlayerHooks","VideoPlayerScrubberDefaultPreview_video.graphql","VideoPlayerTimeIndicator.react","cr:6885","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=.1,m=60,n=120;function o(a,b,c,d,e,f){c=c*b;b=Math.floor(a%c/b);var g=Math.floor(b/d);b=b%d;d=b*e;b=g*f;e=Math.floor(a/c);return{spriteIndex:e,spriteX:d,spriteY:b}}function a(a){var e,f=d("react-compiler-runtime").c(48),g=a.timestampSec;a=a.video;var i=(j||(j=d("VideoPlayerHooks"))).useDimensions();a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberDefaultPreview_video.graphql"),a);a=a==null||(e=a.video)==null?void 0:e.scrubber_preview_thumbnail_information;var p=a==null?void 0:a.sprite_uris,q=a==null?void 0:a.thumbnail_width,r=a==null?void 0:a.thumbnail_height,s=a==null?void 0:a.has_preview_thumbnails,t=a==null?void 0:a.num_images_per_row,u=a==null?void 0:a.max_number_of_images_per_sprite;a=a==null?void 0:a.time_interval_between_image;if(p==null||q==null||r==null||s==null||t==null||u==null||a==null||!s){f[0]!==g?(s=k.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:g}),f[0]=g,f[1]=s):s=f[1];return s}f[2]!==u||f[3]!==t||f[4]!==r||f[5]!==q||f[6]!==a||f[7]!==g?(s=o(g,a,u,t,q,r),f[2]=u,f[3]=t,f[4]=r,f[5]=q,f[6]=a,f[7]=g,f[8]=s):s=f[8];u=s;t=u.spriteIndex;a=u.spriteX;s=u.spriteY;u=p[t];if(u==null||u===""){f[9]!==g?(p=k.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:g}),f[9]=g,f[10]=p):p=f[10];return p}t=q/r;p=i==null?m:Math.max(m,Math.min(n,i.height*l));i=p*t;if(b("cr:6885")!=null){f[11]===Symbol["for"]("react.memo_cache_sentinel")?(t="x4n7ey xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x4p5aij x1ccui7m x1j85h84 x18pi947 x1n2onr6",f[11]=t):t=f[11];var v=-i/2,w;f[12]!==p||f[13]!==i||f[14]!==v?(w={height:p,left:v,width:i},f[12]=p,f[13]=i,f[14]=v,f[15]=w):w=f[15];f[16]!==p||f[17]!==i||f[18]!==u||f[19]!==a||f[20]!==s||f[21]!==r||f[22]!==q?(v=k.jsx(b("cr:6885"),{previewHeight:p,previewWidth:i,spriteURI:u,spriteX:a,spriteY:s,thumbnailHeight:r,thumbnailWidth:q}),f[16]=p,f[17]=i,f[18]=u,f[19]=a,f[20]=s,f[21]=r,f[22]=q,f[23]=v):v=f[23];f[24]!==g?(q=k.jsx(c("VideoPlayerTimeIndicator.react"),{timestampSec:g}),f[24]=g,f[25]=q):q=f[25];f[26]!==w||f[27]!==v||f[28]!==q?(t=k.jsxs("div",{className:t,style:w,children:[v,q]}),f[26]=w,f[27]=v,f[28]=q,f[29]=t):t=f[29];return t}else{w=r/p;v="url("+u+")";q="-"+a/w+"px -"+s/w+"px";f[30]!==p||f[31]!==i||f[32]!==v||f[33]!==q?(t={backgroundImage:v,backgroundPosition:q,backgroundSize:"1000% 1000%",borderRadius:4,height:p,width:i},f[30]=p,f[31]=i,f[32]=v,f[33]=q,f[34]=t):t=f[34];r=t;u=-i/2;f[35]!==p||f[36]!==i||f[37]!==u?(a={height:p,left:u,width:i},f[35]=p,f[36]=i,f[37]=u,f[38]=a):a=f[38];s=a;f[39]===Symbol["for"]("react.memo_cache_sentinel")?(w="x4n7ey xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x4p5aij x1ccui7m x1j85h84 x18pi947 x1n2onr6",f[39]=w):w=f[39];f[40]!==r?(v=k.jsx("div",{style:r}),f[40]=r,f[41]=v):v=f[41];f[42]!==g?(q=k.jsx(c("VideoPlayerTimeIndicator.react"),{timestampSec:g}),f[42]=g,f[43]=q):q=f[43];f[44]!==s||f[45]!==v||f[46]!==q?(t=k.jsxs("div",{className:w,style:s,children:[v,q]}),f[44]=s,f[45]=v,f[46]=q,f[47]=t):t=f[47];return t}}g["default"]=a}),98);
__d("VideoPlayerScrubberDefaultPreview_video$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"VideoPlayerScrubberDefaultPreview_video$normalization",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$11(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.setIsP2pPlayback=function(a){this.$8=a;return this};b.setIsRingBufferSample=function(a){this.$9=a;return this};b.setPerSessionSampleRate=function(a){this.$10=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getIsP2pPlayback=function(){return this.$8};b.getIsRingBufferSample=function(){return this.$9};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$11(a);return a};b.createOperationLogger=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})};b.createLoggerProvider=function(){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})};b.$11=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()==="boolean"&&a.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()==="boolean"&&a.setIsRingBufferSample(this.getIsRingBufferSample())};return a}();g["default"]=a}),98);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","gkx","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzErrorUtils","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=3e5,i=200,j=4;c("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();var k=!1;a=function(a){function b(c){var d,e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger$p_13=!1;e.$VideoPlayerShakaPerformanceLogger$p_14=!0;e.$VideoPlayerShakaPerformanceLogger$p_26=0;e.$VideoPlayerShakaPerformanceLogger$p_27=0;e.$VideoPlayerShakaPerformanceLogger$p_28=[];e.$VideoPlayerShakaPerformanceLogger$p_38=new Map();e.$VideoPlayerShakaPerformanceLogger$p_25=c;e.$VideoPlayerShakaPerformanceLogger$p_2=c.videoID;e.$VideoPlayerShakaPerformanceLogger$p_4=c.video;e.$VideoPlayerShakaPerformanceLogger$p_1=c.uniqueID;e.$VideoPlayerShakaPerformanceLogger$p_3=0;e.$VideoPlayerShakaPerformanceLogger$p_11=c.isLive;e.$VideoPlayerShakaPerformanceLogger$p_12=c.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger$p_9=null;e.$VideoPlayerShakaPerformanceLogger$p_15=c.accessToken;e.$VideoPlayerShakaPerformanceLogger$p_16=c.playerOrigin;e.$VideoPlayerShakaPerformanceLogger$p_17=c.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger$p_18=c.playerVersion;e.$VideoPlayerShakaPerformanceLogger$p_29=c.getBandwidthEstimate;e.$VideoPlayerShakaPerformanceLogger$p_30=(d=c.getPlayerDimensions)!=null?d:null;e.$VideoPlayerShakaPerformanceLogger$p_31=(d=c.getPlayerFormat)!=null?d:null;e.setRepresentationID(c.representationId);e.$VideoPlayerShakaPerformanceLogger$p_33=c.isDrm;e.$VideoPlayerShakaPerformanceLogger$p_35={};e.$VideoPlayerShakaPerformanceLogger$p_36=(d=c.playerInstanceCount)!=null?d:null;b.maybeEnableMainThreadAvailabilityLogging();return e}babelHelpers.inheritsLoose(b,a);b.forceShouldSample=function(){k=!0,c("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable()};b.shouldInitialize=function(){return k||Boolean(d("VideoPlayerShakaPerformanceLoggerConfig").isSampled)||c("gkx")("26220")};b.flushQueuedLogs=function(){c("ExtendableVideoPlayerShakaPerformanceTypedLogger").flushQueuedLogs()};b.setVideoPlaybackExperienceIssue=function(a){b.$VideoPlayerShakaPerformanceLogger$p_32=a};b.isEnabled=function(){return c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()};b.maybeEnableMainThreadAvailabilityLogging=function(){d("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&c("VideoPlayerMainThreadAvailability").enable()};var e=b.prototype;e.$VideoPlayerShakaPerformanceLogger$p_39=function(a){var b=null;try{b=a.getBuffered()}catch(a){}if(b!=null&&b.length>0){a=b.length-1;return{lastBufferedStart:Math.round(b.start(a)*1e3),lastBufferedEnd:Math.round(b.end(a)*1e3)}}return null};e.$VideoPlayerShakaPerformanceLogger$p_40=function(a){a=a;var b=this.$VideoPlayerShakaPerformanceLogger$p_4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.end(d)*1e3);c.push([e,f])}c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));e=this.$VideoPlayerShakaPerformanceLogger$p_38.get("audio");if(e!=null){f=this.$VideoPlayerShakaPerformanceLogger$p_39(e);f!=null&&(a=a.setLastAudioBufferedStart(f.lastBufferedStart).setLastAudioBufferedEnd(f.lastBufferedEnd))}b=this.$VideoPlayerShakaPerformanceLogger$p_38.get("video");if(b!=null){d=this.$VideoPlayerShakaPerformanceLogger$p_39(b);d!=null&&(a=a.setLastVideoBufferedStart(d.lastBufferedStart).setLastVideoBufferedEnd(d.lastBufferedEnd))}return a};e.setType=function(a){this.$VideoPlayerShakaPerformanceLogger$p_24=a;return this};e.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger$p_25)};e.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger$p_9?Math.round((this.$VideoPlayerShakaPerformanceLogger$p_9-this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime)*1e3):null};e.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger$p_2};e.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger$p_13=a};e.setMediaSourceSourceBuffer=function(a,b){this.$VideoPlayerShakaPerformanceLogger$p_38.set(a,b);return this};e.unsetMediaSourceSourceBuffers=function(){this.$VideoPlayerShakaPerformanceLogger$p_38.clear();return this};e.addToLastErrorQueue=function(a){this.$VideoPlayerShakaPerformanceLogger$p_28.push(a),this.$VideoPlayerShakaPerformanceLogger$p_28.length>j&&this.$VideoPlayerShakaPerformanceLogger$p_28.shift()};e.getEventLogger=function(a){var e=this,f=Date.now(),g=new(c("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),h=this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime,i=this.$VideoPlayerShakaPerformanceLogger$p_4.duration,j=this.$VideoPlayerShakaPerformanceLogger$p_29(this.$VideoPlayerShakaPerformanceLogger$p_11),k=this.$VideoPlayerShakaPerformanceLogger$p_25.getApproximateFBLSToPlayerDisplayLatency(),l=this.$VideoPlayerShakaPerformanceLogger$p_30?this.$VideoPlayerShakaPerformanceLogger$p_30():null;this.$VideoPlayerShakaPerformanceLogger$p_40(g).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger$p_2).setDroppedFrames(d("VideoPlaybackQuality").getDroppedFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setTotalFrames(d("VideoPlaybackQuality").getTotalFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setEnded(this.$VideoPlayerShakaPerformanceLogger$p_4.ended).setIsMuted(this.$VideoPlayerShakaPerformanceLogger$p_4.muted).setPlaybackRate(this.$VideoPlayerShakaPerformanceLogger$p_4.playbackRate).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger$p_23).setPlayhead(Math.round(h*1e3)).setVideoDuration(Math.round(i*1e3)).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger$p_16).setScriptPath(d("ScriptPath").getScriptPath()).setPlayerHeight(l?l.height:null).setPlayerWidth(l?l.width:null).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger$p_17).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger$p_18).setPlayerFormat(this.$VideoPlayerShakaPerformanceLogger$p_31?this.$VideoPlayerShakaPerformanceLogger$p_31():null).setBandwidthEstimate(j==null?null:Math.round(j)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger$p_22).setIsLive(this.$VideoPlayerShakaPerformanceLogger$p_11).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger$p_12).setPlaybackFbmsParam(this.$VideoPlayerShakaPerformanceLogger$p_37).setIsPageVisible(!c("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger$p_13).setSession(this.$VideoPlayerShakaPerformanceLogger$p_1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger$p_20).setIsMixedCodecManifest(this.$VideoPlayerShakaPerformanceLogger$p_21).setLiveheadSeqNumMpd(this.$VideoPlayerShakaPerformanceLogger$p_10).setSequentialID(this.$VideoPlayerShakaPerformanceLogger$p_3++).setState(this.$VideoPlayerShakaPerformanceLogger$p_5).setLastBufferingEventStartTime(this.$VideoPlayerShakaPerformanceLogger$p_8).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger$p_7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger$p_6).setLiveheadDelta(this.getLiveheadDelta()).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger$p_15).setVideoPlaybackExperienceIssue(b.$VideoPlayerShakaPerformanceLogger$p_32).setClientTimeBegin(f).setClientTimeDuration(0).setClientTimeEnd(f).setIsDrm(this.$VideoPlayerShakaPerformanceLogger$p_33).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger$p_36).setFblsToPlyDisMs((k==null?void 0:k.latencyFromMpdUpdate)!=null?Math.round(k.latencyFromMpdUpdate*1e3):null).setPreferredEdgeLatency(this.$VideoPlayerShakaPerformanceLogger$p_19).setPerSessionSampleRate(this.$VideoPlayerShakaPerformanceLogger$p_25.perSessionSampleRate).setIsLatencyCachupEnabled(this.$VideoPlayerShakaPerformanceLogger$p_14).setIsOnline(this.$VideoPlayerShakaPerformanceLogger$p_34);switch(a){case"buffering":case"buffering_timeout":case"enter_buffering":case"unload":g.setError(this.$VideoPlayerShakaPerformanceLogger$p_28.join(" | "))}switch(a){case"leave_buffering":case"playing":this.$VideoPlayerShakaPerformanceLogger$p_28=[]}var m=this,n=g.setState;g.setState=function(a){this;a!==m.$VideoPlayerShakaPerformanceLogger$p_5&&a==="playing"?m.$VideoPlayerShakaPerformanceLogger$p_6=Date.now():a!=="playing"&&(m.$VideoPlayerShakaPerformanceLogger$p_6=null);m.$VideoPlayerShakaPerformanceLogger$p_5=a;return n.call(this,a)};g.updateState=function(a){return this.getState()==m.$VideoPlayerShakaPerformanceLogger$p_5?this.setState(a):this};var o=g.setError;g.setError=function(a){if(typeof a==="object"&&a!=null)if(d("oz-player/utils/OzErrorUtils").isOzError(a))this.setResult("failed"),this.setCode(a.getExtra().code),m.addToLastErrorQueue(a.getType()),o.call(this,a.getType());else{if(a.type==="aborted"||a.type==="delay")this.setResult("aborted");else if(a.type==="paused")this.setResult("paused");else{this.setResult("failed");if(a.type!=null&&a.type!=="")m.addToLastErrorQueue(a.type),o.call(this,a.type);else{var b=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};b=b(a.name+": "+a.message);m.addToLastErrorQueue(b);o.call(this,b)}}this.setCode(a.status||a.errorRawTransportStatus)}else a!=null&&m.addToLastErrorQueue(a),o.call(this,a);return this};var p=g.setManifestType;g.setManifestType=function(a){e.$VideoPlayerShakaPerformanceLogger$p_20=a;return p.call(g,a)};var q=g.setIsMixedCodecManifest;g.setIsMixedCodecManifest=function(a){e.$VideoPlayerShakaPerformanceLogger$p_21=a;return q.call(g,a)};var r=g.setPlaybackFbmsParam;g.setPlaybackFbmsParam=function(a){e.$VideoPlayerShakaPerformanceLogger$p_37=a;return r.call(g,a)};g.setLiveheadPosition=function(a){e.$VideoPlayerShakaPerformanceLogger$p_9=a;g.setLiveheadDelta(e.getLiveheadDelta());return g};var s=g.setLiveheadSeqNumMpd;g.setLiveheadSeqNumMpd=function(a){e.$VideoPlayerShakaPerformanceLogger$p_10=a;return s.call(g,a)};var t=g.setPreferredEdgeLatency;g.setPreferredEdgeLatency=function(a){e.$VideoPlayerShakaPerformanceLogger$p_19=a;return t.call(g,a)};var u=g.setIsTemplatedManifest;g.setIsTemplatedManifest=function(a){e.$VideoPlayerShakaPerformanceLogger$p_13=a!=null?a:!1;return u.call(g,a)};var v=g.setIsLatencyCachupEnabled;g.setIsLatencyCachupEnabled=function(a){e.$VideoPlayerShakaPerformanceLogger$p_14=a!=null?a:!1;return v.call(g,a)};var w=g.setDynamicBitrate;g.setDynamicBitrate=function(a){a=Number(a)||null;e.setDynamicBitrate(a);return w.call(g,a)};var x=g.setLowestQualityRepresentationID;g.setLowestQualityRepresentationID=function(a){e.$VideoPlayerShakaPerformanceLogger$p_22=a;return x.call(g,a)};var y=g.setIsOnline;g.setIsOnline=function(a){e.$VideoPlayerShakaPerformanceLogger$p_34=a;return y.call(g,a)};g.setMediaSourceSourceBuffer=function(a,b){e.setMediaSourceSourceBuffer(a,b);return g};g.unsetMediaSourceSourceBuffers=function(){e.unsetMediaSourceSourceBuffers();return g};g.setWasPrefetchCacheHit=function(a){return g};return g};e.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};e.createOperationLogger=function(a){var b=this.getEventLogger(a);b.setClientTimeEnd(null);b.setClientTimeDuration(null);var d=b.setResource;b.setResource=function(a){return d.call(b,a)};var e=b.log,f=this,g=!1,i=null;b.log=function(){var b=this;if(g)return;c("clearTimeout")(i);var d=Date.now(),h=b.getData().client_time_begin,j=b.getData().client_time_end;h=h!=null?Number(h):null;j=j!=null?Number(j):null;(h==null||h===0)&&(h=d,b.setClientTimeBegin(h));(j==null||j===0)&&(j=d,b.setClientTimeEnd(j));b.setClientTimeDuration(j-h);h=c("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();b.setTimeSinceMainThreadAvailable(h!=null?Math.round(h):null);f.$VideoPlayerShakaPerformanceLogger$p_41(h);f.$VideoPlayerShakaPerformanceLogger$p_26=d;a==="buffering"&&(f.$VideoPlayerShakaPerformanceLogger$p_7=j);g=!0;h=b.getType();h&&(f.$VideoPlayerShakaPerformanceLogger$p_35[h+a]=(f.$VideoPlayerShakaPerformanceLogger$p_35[h+a]||0)+1,b.setMediastreamEventCount(f.$VideoPlayerShakaPerformanceLogger$p_35[h+a]));return e.call(b)};b.start=function(){var d=Date.now();this.setClientTimeBegin(d);this.setClientTimeDuration(null);this.setClientTimeEnd(null);c("clearTimeout")(i);i=null;i=c("setTimeoutAcrossTransitions")(function(){c("clearTimeout")(i),i=null,b.setResult("timeout"),b.log()},h);a==="buffering"&&(f.$VideoPlayerShakaPerformanceLogger$p_8=Date.now());return b};return b};e.$VideoPlayerShakaPerformanceLogger$p_41=function(a){if(a==null||i===0||this.$VideoPlayerShakaPerformanceLogger$p_26===0||a<i||this.$VideoPlayerShakaPerformanceLogger$p_27<a){this.$VideoPlayerShakaPerformanceLogger$p_27=Number(a);return}var b=this.$VideoPlayerShakaPerformanceLogger$p_26,c=Math.round(b-this.$VideoPlayerShakaPerformanceLogger$p_27);this.getEventLogger("main_thread_blocked").setClientTimeBegin(c).setClientTimeDuration(b-c).setClientTimeEnd(b).log();this.$VideoPlayerShakaPerformanceLogger$p_27=Number(a)};e.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger$p_23=a!=null?Math.round(a):null};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger$p_32=null;g["default"]=a}),98);
__d("VideoPlayerShakaPerformanceLoggerBuilder",["VideoPlayerShakaPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.perSessionSampleRate}var b=a.prototype;b.build=function(a){return new(c("VideoPlayerShakaPerformanceLogger"))(babelHelpers["extends"]({},a,{perSessionSampleRate:this.$1}))};return a}();g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerBuilder_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);/*FB_PKG_DELIM*/
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var b=a.prototype;b.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};b.executeAsyncSignalCollection=async function(){var a=await this.executeSignalCollection();return a};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};b.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};b.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g.default=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(a){function b(){return a.call(this,k.signalType,["mousedown","mousemove"],h)||this}babelHelpers.inheritsLoose(b,a);return b}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeAsyncSignalCollection=async function(){try{if(navigator.permissions){var a=await navigator.permissions.query({name:"notifications"});a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a.state)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g.default=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(a){function b(){return a.call(this,k.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(a){function b(){return a.call(this,k.signalType,["touchstart","touchcancel"],h)||this}babelHelpers.inheritsLoose(b,a);return b}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:d!=null?d:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];var d=a==null||(b=a.values)==null?void 0:b.length;return d!=null&&d>0?a.values[d-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(a of a)a in c("BDSignalBufferData")&&(b[a]=j(a).map(function(a){return a.valueOrError}));return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var b=a.prototype;b.collectSignals=async function(a){var b=this,c=[];a.forEach(function(a){a.signalFlags.includes(4)?b.$2(a):c.push(b.$3(a))});await Promise.all(c)};b.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};b.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};b.$3=async function(a){var b=a.getSignalCollector();if(b!=null)try{b=await b.executeAsyncSignalCollection();this.$4(b,a)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a})}};b.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};b.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};b.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g.default=b}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","javascript-blowfish"],(function(a,b,c,d,e,f,g){"use strict";var h,i="BDClientSignalCollectionTrigger",j="signal_flush_timestamp",k=!1,l=!1,m=!1,n=!1,o=0,p=0,q=0,r=30,s=5,t,u,v=d("BDUtils").uuid(),w=c("BDClientConfig").get(),x=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),y={startSignalCollection:async function(a){w.setSID(a.sid);if(!k){k=!0;d("BDServerConfig").parseConfig(a);if(!w.isParsingDone()){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});k=!1;return}a!=null&&(p=a.hbcbc&&a.hbcbc>0?a.hbcbc:p,q=a.hbvbc&&a.hbvbc>0?a.hbvbc:q,r=a.hbbi&&a.hbbi>0?a.hbbi:r);y.startHeartbeatDelayed();u=new Promise(function(a,b){try{w.getDynamicSignals().length>0&&(y.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),w.getBiometricSignals().length>0&&(y.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});await u;await y.startSignalPosting()}k&&!m&&!n&&s>0&&(s-=1,d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),y.startHeartbeatDelayed())},retrieveSignals:async function(){await u,await y.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC])},postSignals:async function(a){await y.collectStaticSignals(),y._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),x.NONE)&&y.setTimestampInStorage(Date.now(),j)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=w.getConfigGenerationTimeStamp(),f=y.encryptDataUsingAsid(v,a);a=function(){return{asid:v,ct:e,sjd:f,sid:w.sid}};var g=!1;try{b===x.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===x.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=y.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:async function(){var a=y.getTimestampInStorage(j);a=Date.now()-a;a>=w.getAllTiersFlushDurationMs()?await y.postSignalsIntermittently():window.setTimeout(function(){y.postSignalsIntermittently()},w.getAllTiersFlushDurationMs()-a)},postSignalsIntermittently:function(){y.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){y.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},w.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){m=!1,n=!1},startHeartbeatDelayed:function(){if(m||n)return;var a=y.getTimestampInStorage(y.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=w.getHeartbeatIntervalMs()?y.startHeartbeat():(window.setTimeout(function(){return y.startHeartbeat()},w.getHeartbeatIntervalMs()-a),n=!0)}catch(b){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:w.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&w.getHeartbeatIntervalMs()>0&&(y.collectHeartbeatTimes(p,q),o!==0&&(window.clearInterval(o),d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),o=window.setInterval(function(){return y.collectHeartbeatTimes(p,q)},w.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&y.collectHeartbeat(x.CRITICAL);b>0&&y.collectHeartbeat(x.VITAL);(a>1||b>1)&&window.setTimeout(function(){return y.collectHeartbeatTimes(a-1,b-1)},r*1e3)},collectHeartbeat:function(a){var b,c=w==null||(b=w.getHeartbeatSignal())==null||(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(c==null){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});y.postHeartbeat(a,c)&&y.setTimestampInStorage(Date.now(),y.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return y._postSignalsHelper(b,a)},collectStaticSignals:async function(){await y.collectSignalsOneTime(w.getStaticSignals())},collectDynamicSignals:function(){y.stopDynamicSignalCollection(),t=window.setInterval(async function(){await y.collectSignalsOneTime(w.getDynamicSignals())},w.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){y.collectSignalsOneTime(w.getBiometricSignals())},stopDynamicSignalCollection:function(){t!=null&&(window.clearInterval(t),t=null)},collectSignalsOneTime:async function(a){await c("SignalCollectionManager").get().collectSignals(a)},startLoginTimeSignalCollection:async function(a){l||(l=!0,d("BDServerConfig").parseConfig(a),await y.collectSignalsOneTime(w.getDynamicSignals()),await y.collectSignalsOneTime(w.getBiometricSignals()),await y.collectSignalsOneTime(w.getStaticSignals()))},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=y;g.default=a}),98);/*FB_PKG_DELIM*/
__d("JustKnobsData",[],(function(a,b,c,d,e,f){var g=new Map();function a(){return g}function b(a){try{if(g.has(a)){var b;g.set(a,(b=g.get(a))!=null?b:0+1);return}g.set(a,1)}catch(a){}}function c(a){try{if(g.has(a)){var b,c=0;g.set(a,c=((b=g.get(a))!=null?b:0)-1);c<=0&&g["delete"](a)}}catch(a){}}f.getKnobsBeingFetched=a;f.setKnobBeingFetched=b;f.setKnobFetchComplete=c}),66);
__d("RSTTimespanBase",[],(function(a,b,c,d,e,f){"use strict";var g=200;a=function(){function a(){this.$1=[]}var b=a.prototype;b.getLastTimespan=function(){return this.$1.length>0?this.$1[this.$1.length-1]:null};b.startTimespan=function(){var a=this.getLastTimespan();(a==null||a.end!=null)&&(this.$1.push({start:Date.now(),end:null}),this.$1.length>g&&this.$1.shift())};b.endTimespan=function(){var a=this.getLastTimespan();a!=null&&a.end==null&&(a.end=Date.now())};b.clearLastUnfinishedTimespan=function(){var a=this.getLastTimespan();a!=null&&a.end==null&&this.$1.pop()};b.isWithinTimespan=function(){var a=this.getLastTimespan();return a==null?!1:a.end==null};b.isCurrentlyInTimespan=function(){var a=this.getLastTimespan();return a==null?!1:a.end==null};b.getIntersectionTime=function(a,b,c){c===void 0&&(c=null);c=(c=(c=c)==null?void 0:c.ignoreLastUnfinished)!=null?c:!1;var d=0,e=this.$1.length;for(var f=0;f<e;++f){var g,h=this.$1[f];if(c&&f===e-1&&h.end==null)continue;if(((g=h.end)!=null?g:Infinity)<=a)continue;if(h.start>=b)break;g=Math.max(h.start,a);h=Math.min((h=h.end)!=null?h:Infinity,b);d+=h-g}return d};return a}();f["default"]=a}),66);
__d("RSTBackgroundInfo",["RSTTimespanBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.background=function(){this.startTimespan()};c.foreground=function(){this.endTimespan()};c.isInBackground=function(){return this.isWithinTimespan()};c.isInForeground=function(){return!this.isInBackground()};c.getBackgroundTime=function(a,b){return this.getIntersectionTime(a,b)};return b}(c("RSTTimespanBase"));g.RSTBackgroundInfoManager=a}),98);
__d("RSTBlockingTime",["RSTTimespanBase"],(function(a,b,c,d,e,f,g){"use strict";var h=50,i=50,j=typeof self!=="undefined"?self:window;a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$RSTBlockingTime$p_1=0,b.$RSTBlockingTime$p_2=!1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.startMonitoring=function(){var a=this;if(this.$RSTBlockingTime$p_2)return;j.setInterval(function(){var b=Date.now();a.$RSTBlockingTime$p_1===0||(b-a.$RSTBlockingTime$p_1>h+i?a.endTimespan():a.clearLastUnfinishedTimespan());a.$RSTBlockingTime$p_1=b;a.startTimespan()},h);this.$RSTBlockingTime$p_2=!0};c.getBlockingTime=function(a,b){a=this.getIntersectionTime(a,b);return Math.max(a-i,0)};return b}(c("RSTTimespanBase"));b=new a();b.startMonitoring();d=b;g["default"]=d}),98);
__d("reactComponentNameSemanticsCheck",[],(function(a,b,c,d,e,f){"use strict";c=["Animated(div)","Box","Child","Cell","CometImage","ComponentLoader","Div","DirectBadgeIconNoMemo","FocusWithinHandler","LegacyHidden","Path","SearchCometGlobalTypeaheadWithBackButtonFocus","StrictMode","Svg","WebView","GeoBaseText","FocusGroup","FocusTable","MDSText","CometAppViewStack","CometImageFromIXValue","CometPrerenderer","CometOnOutsideClick","CometToast","PolarisNavigationIcons",/CometHideableComponent/,/LazyLoadEntryPointContainer/,/relay-hooks/,/CommandWrapper/,/ScrollView/,/Layout/,/Base$/,/Boundary$/,/LoadingState$/,/FocusManager/,/Column$/,/Strategy$/,/Typeahead.*Strategy/,/CometList_/,/CometSSR/,/IGCore/,/^ActorHovercard/,/^Base/,/^CometHero/,/^FDS/,/^Hero/,/^IGDS/,/^XDS/,/^deferredLoadComponent/,/^html\./,/^t[d]$/,/Container$/,/Context$/,/Entities$/,/Factory$/,/Focus.*Region/,/Grid$/,/HideLayer/,/Icon$/,/Impl$/,/InputButton$/,/Item$/,/ItemSelectable/,/KeyCommands$/,/Link$/,/ListCell/,/Logger$/,/MitigationNode$/,/OnEscape/,/Overlay$/,/OverlayInternal$/,/Placeholder$/,/Pressable/,/Provider$/,/Provider_/,/ReactWarnings/,/Ref$/,/Refs$/,/Relay$/,/Renderer$/,/Resolver$/,/Root$/,/Routes$/,/Row$/,/SVG/,/ScrollableArea/,/Theme$/,/Tooltip/,/Trigger$/,/Typeahead/,/Virtualization$/,/Wrapper$/,/\.svg$/];var g=new Set(Array.from(c).filter(function(a){return typeof a==="string"})),h=Array.from(c).filter(function(a){return a instanceof RegExp});d=["ChatTab","Comment","Composer","Feed","Story","Search","Reel","Profile","Message"];var i=new Set(Array.from(d).filter(function(a){return typeof a==="string"})),j=Array.from(d).filter(function(a){return a instanceof RegExp});function a(a){var b=a;a.includes(" [")&&(b=a.split(" [")[0]);b=b.trim();if(b.length<=2)return!0;return i.has(b)||j.some(function(a){return a.test(b)})?!1:g.has(b)||h.some(function(a){return a.test(b)})}e=["MessageList","MWXText","MDSText","MWChatContact","MWLSChatTabHeader"];var k=new Set(Array.from(e).filter(function(a){return typeof a==="string"})),l=Array.from(e).filter(function(a){return a instanceof RegExp});function b(a){var b=a.trim();return k.has(b)||l.some(function(a){return a.test(b)})}f.isReactComponentNameMeaningless=a;f.isReactComponentTextBlocked=b}),66);
__d("RSTConfig",["CurrentUserInitialData","FBLogger","JustKnobsData","WebResponsivenessConfig","gkx","justknobx","reactComponentNameSemanticsCheck"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={app_id:"default",first_heartbeat_threshold_ms:1e4,freeze_threshold_ms:500,heart_beat_interval_ms:200,main_thread_logging_interval_ms:5e3,encrypt_db:!1,start_rst_from_main_thread_extra_delay_in_ms:0};function a(){var a,b=c("WebResponsivenessConfig").rst.app_config;return b.length===0?j:(a=(a=b.find(function(a){return""+a.app_id===""+((a=(i||(i=c("CurrentUserInitialData"))).APP_ID)!=null?a:0)}))!=null?a:b.find(function(a){return a.app_id==="default"}))!=null?a:j}f=a();function b(){var a="__felab_context"in window;return k.RST_ANNOTATION_KILLSWITCH_ON&&k.SHOULD_COLLECT_RST_ANNOTATIONS&&!a}function e(a){var b=[];if(a==null)return b;for(a of a)try{var d=a.trim();d.startsWith("/")&&d.endsWith("/")&&(d=d.slice(1,d.length-1));b.push(new RegExp(d))}catch(b){c("FBLogger")("responsive-tracker").warn("Failed to construct regex from %s",a)}return b}a=new Map([["Relay_JustKnobsAsyncGetBoolWithoutHashvalQuery",function(a,b){a=Array.from(d("JustKnobsData").getKnobsBeingFetched().keys());return a.length===0?b:(b!=null?b:"")+":"+a.join(",")}]]);var k={PROJECT_NAME:"RST",PROJECT_ONCALL:"web_ecosystem",DEBUG:!1,ENCRYPT_DB:f.encrypt_db,ENABLE_SERVICE_WORKER:(h=c("justknobx"))._("4993"),FIRST_HEART_BEAT_THRESHOLD_MS:f.first_heartbeat_threshold_ms,FREEZE_THRESHOLD_MS:f.freeze_threshold_ms,HEART_BEAT_INTERVAL_MS:f.heart_beat_interval_ms,START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS:f.start_rst_from_main_thread_extra_delay_in_ms,INDEX_DB_NAME:"responsiveness-db",INDEX_DB_TABLE_NAME:"unresponsiveness-events-v2",PAST_INDEX_DB_TABLE_NAMES:["unresponsiveness-events"],INDEX_DB_VERSION:4,SERVICE_WORKER_INCIDENT_THRESHOLD_MS:4e3,SERVICE_WORKER_HEART_BEAT_INTERVAL_MS:1e3,WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING:60*1e3,WEB_WORKER_UPDATE_INCIDENTS_INTERVAL_MS:h._("3306"),UNRECOVER_LASTS_THRESHOLD_MS:h._("3307"),SHOULD_SAMPLE_RECOVERABLE:h._("3273"),SHOULD_CAPTURE_INTERACTION_DATA:h._("3709"),SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT:c("justknobx")._("4704")||c("gkx")("15466"),ELEMENT_TEXT_SIZE_LIMIT:20,RST_ANNOTATION_KILLSWITCH_ON:c("justknobx")._("3738"),SHOULD_COLLECT_RST_ANNOTATIONS:c("gkx")("10200"),SHOULD_COLLECT_RST_ANNOTATIONS_LOG_FOR_CRASH:c("justknobx")._("954"),SHOULD_COLLECT_RST_ANNOTATIONS_INTERACTION_DATA:c("justknobx")._("955"),BLOCKED_ANNOTATION_KEYS:e(f.blocked_rst_annotation_keys),OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS:4*24*60*60*1e3,MAIN_THREAD_LOGGING_INTERVAL_MS:f.main_thread_logging_interval_ms,INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS:6*f.main_thread_logging_interval_ms,MESSAGE_TYPE:"responsiveness",DEBUG_LOGGING_ENABLED:c("gkx")("6199"),MAX_DB_FAILED_COUNT:10,TRACE_STATS_WINDOW_SIZE_MS:2*60*1e3,TRACE_STATS_MAX_QUEUE_SIZE:200,HIGH_MEMORY_USAGE_THRESHOLD_BYTES:1500*1024*1024,DEFAULT_REACT_COMPONENT_CONTEXT_SIZE:3,ONE_UNRECOVERABLE_INCIDENT_PER_SESSION:!0,shouldCollectAdditionalMetadata:b,isReactComponentNameBlocked:d("reactComponentNameSemanticsCheck").isReactComponentNameMeaningless,isReactComponentTextBlocked:d("reactComponentNameSemanticsCheck").isReactComponentTextBlocked,logSpanAnnotationsMapping:a};h=k;g["default"]=h}),98);
__d("RSTConstants",[],(function(a,b,c,d,e,f){"use strict";a={incidentType:{unresponsive:"unresponsive",unexpectedExit:"unexpected-exit"},reportReason:{unrecoverable:"unrecoverable-unresponsive",recoverable:"recoverable-unresponsive",unexpectedExit:"unexpected-exit"},executionContext:{mainThread:"main-thread",webWorker:"web-worker",sharedWorker:"shared-worker",serviceWorker:"service-worker",unknown:"unknown"}};b=a;f["default"]=b}),66);
__d("RSTCrypt",["RSTConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.encrypt=function(a){if(!c("RSTConfig").ENCRYPT_DB)return a;try{return btoa(a)}catch(b){return a}};b.decrypt=function(a){return!c("RSTConfig").ENCRYPT_DB?{result:a,exception:!1}:this.decryptEnforce(a)};b.decryptEnforce=function(a){try{return{result:atob(a),exception:!1}}catch(b){return{result:a,exception:!0}}};return a}();b=new a();d=b;g["default"]=d}),98);
__d("RSTEvents",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({HEART_BEAT:0,BROWSER_TAB_FOREGROUND:1,BROWSER_TAB_BACKGROUND:2,TRACE_START:3,TRACE_END:4,TRACE_POLICY_SET:5,INTERACTION_DATA:6,SPAN_START:7,SPAN_END:8,LOG_FLUSH:9,BROWSER_TAB_CLOSED:10,RECOVERABLE_UNRESPONSIVENESS:1e5,UNRECOVERABLE_UNRESPONSIVENESS:100001,CHECKING_INDEXDB_FOR_EVENTS:100002,CRASH_INCIDENT:10003,UNRESPONSIVENESS_DETECTED:-1,LOGGING_UNRESPONSIVENESS_TO_INDEXDB:-2,NO_HEART_BEAT_SINCE_ORIGIN:-3});function a(a){return a===g.LOG_FLUSH}f.RSTEvent=g;f.isRSTFlushEvent=a}),66);
__d("RSTEventsMessageQueue",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,b){g.has(a)||g.set(a,[]);a=g.get(a);a&&a.indexOf(b)===-1&&a.push(b)}function b(a,b){a=g.get(a);a!=null&&a.forEach(function(a){return a(b)})}f.subscribe=a;f.notify=b}),66);
__d("RSTUtils",["RSTConfig","RSTConstants","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=o().toUpperCase(),i=b();h=c("uuidv4")();var j=a();function a(){return i&&typeof self!=="undefined"&&typeof self.setTimeout==="function"?self:window}function b(){return typeof WorkerGlobalScope!=="undefined"?!0:typeof document==="undefined"}function d(){}function e(){}function f(a){if(a==null)return"";a=new URL(a);return a.origin+a.pathname}async function k(){return typeof scheduler!=="undefined"&&typeof scheduler.yield==="function"?scheduler.yield():new Promise(function(a){return j.setTimeout(a,0)})}function l(){return"indexedDB"in j}function m(a){return a!=null?String(a):null}function n(a){var b=a.componentName;a=s(a.componentText);if(b==null&&a==null)return null;if(a==null)return b;else if(b==null)return' ["'+a+'"]';else return b+' ["'+a+'"]'}function o(){if(typeof window!=="undefined"&&typeof window.document!=="undefined")return c("RSTConstants").executionContext.mainThread;else if(typeof self!=="undefined")if(typeof ServiceWorkerGlobalScope!=="undefined"&&self instanceof ServiceWorkerGlobalScope)return c("RSTConstants").executionContext.serviceWorker;else if(typeof SharedWorkerGlobalScope!=="undefined"&&self instanceof SharedWorkerGlobalScope)return c("RSTConstants").executionContext.sharedWorker;else if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)return c("RSTConstants").executionContext.webWorker;return c("RSTConstants").executionContext.unknown}function p(a){return a.startsWith("@")}function q(a){return"@"+a}function r(){return o()===c("RSTConstants").executionContext.webWorker}function s(a){return a==null?null:a.replace(/[\[\]\",\']/g,"")}g.getGlobalObject=a;g.isInWorker=b;g.debugLogImportant=d;g.debugLog=e;g.sanitizeURL=f;g.scheduleYield=k;g.isIndexedDBSupported=l;g.intToString=m;g.getInteractionDetail=n;g.getExecutionContext=o;g.isExternalAnnotationKey=p;g.getExternalAnnotationKey=q;g.isInWebWorker=r}),98);
__d("RSTDebugConsoleInWorker",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.registerDebugConsole=a}),98);
__d("RSTInjectAdsManagerAnnotationsWebWorker",["AdsManagerAutoLoggingAppConfig","RSTEvents","RSTEventsMessageQueue","RSTUtils","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;c("requireWeak")("AdsALWorkerTrackLastEventIndex",function(a){h=a});c("requireWeak")("hyperionUtil",function(a){i=a});function a(){if(!d("RSTUtils").isInWebWorker)return;d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.LOGGING_UNRESPONSIVENESS_TO_INDEXDB,function(a){a=a.unresponsiveEventRecord;if(h==null)return;a=a==null?void 0:a.lastHeartBeatMetadata;if(a==null)return;var b=h.getLastEventIndex();j(a,"AlLastEventIndex",""+b);b=d("AdsManagerAutoLoggingAppConfig")==null?void 0:d("AdsManagerAutoLoggingAppConfig").session_id;b!=null&&j(a,"AlSessionID",b);b=(b=i)==null?void 0:b.ClientSessionID;b!=null&&j(a,"AlBrowserSessionID",b)})}function j(a,b,c){var d;a.annotations=(d=a.annotations)!=null?d:{};a.annotations!=null&&(a.annotations[b]=c)}g.registerAdsManagerAnnotationsInjector=a}),98);
__d("RSTMainThreadDataInWorker",["RSTBackgroundInfo","RSTTracesManagerInWorker"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Set()}var b=a.prototype;b.getDataEntry=function(a){if(this.$2.has(a))return null;var b=this.$1.get(a);if(b!=null)return b;b={lastHeartBeatTimeStamp:-1,lastEventMetadata:null,mainThreadSessionID:a,isClosed:!1,isBackgrounded:!1,backgroundInfoManager:new(d("RSTBackgroundInfo").RSTBackgroundInfoManager)(),heartBeatCheckOn:!0,incidentsNotRecovered:new Set(),incidentsRecovered:new Set(),loggedFreezeTimeStamp:new Set([0]),tracesManager:new(d("RSTTracesManagerInWorker").TracesManager)()};this.$1.set(a,b);return b};b.deleteDataEntry=function(a){this.$1.delete(a),this.$2.add(a)};b.iterateOverAllEntries=async function(a){try{await Promise.all(Array.from(this.$1.values()).map(function(b){return a(b)}))}catch(a){}};return a}();b=new a();c=b;g.default=c}),98);
__d("RSTTracesManagerInWorker",["RSTEvents","RSTEventsMessageQueue","RSTMainThreadDataInWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=100;function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.TRACE_START,function(a){var b;a=a.mainToWorkerMessage;var e=a==null||(b=a.metadata)==null?void 0:b.trace;if(e==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;d("RSTUtils").debugLog("trace start from main thread received");a=c("RSTMainThreadDataInWorker").getDataEntry(a);if(a==null)return;a=a.tracesManager;a.addTrace(e);a.compactTraces()}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.TRACE_POLICY_SET,function(a){var b;a=a.mainToWorkerMessage;var e=a==null||(b=a.metadata)==null?void 0:b.trace;if(e==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;d("RSTUtils").debugLog("trace policy from main thread received");a=c("RSTMainThreadDataInWorker").getDataEntry(a);if(a==null)return;a=a.tracesManager;a.addTrace(e);a.setLastTraceWithPolicySet(e);a.compactTraces()}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.TRACE_END,function(a){var b;a=a.mainToWorkerMessage;var e=a==null||(b=a.metadata)==null?void 0:b.trace;if(e==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;var f=babelHelpers["extends"]({endTimestamp:Date.now()},e);d("RSTUtils").debugLog("trace end from main thread received");a=c("RSTMainThreadDataInWorker").getDataEntry(a);if(a==null)return;a=a.tracesManager;a.setLastTraceWithPolicySet(f);a.deleteTrace(e.traceID)})}b=function(){function a(){this.$1=new Map(),this.$2=null}var b=a.prototype;b.addTrace=function(a){this.$1.set(a.traceID,a)};b.deleteTrace=function(a){this.$1["delete"](a)};b.setLastTraceWithPolicySet=function(a){this.$2==null?this.$2=a:this.$2.startTime<=a.startTime&&(this.$2=a)};b.getLastTraceWithPolicySet=function(){return this.$2};b.getCurrentTraces=function(){var a=Date.now(),b=Array.from(this.$1.values());return b.filter(function(b){return a>=b.startTime&&a<=((b=b.endTime)!=null?b:Infinity)})};b.compactTraces=function(){var a=this.$1;if(a.size<=h)return;var b=Array.from(a.values()).sort(function(a,b){return b.startTime-a.startTime});while(b.length>h){var c=b.pop();c!=null&&a["delete"](c==null?void 0:c.traceID)}};return a}();g.registerTracesManager=a;g.TracesManager=b}),98);
__d("RSTUpdateBackgroundInfoInWorker",["RSTEvents","RSTEventsMessageQueue","RSTMainThreadDataInWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){a=a.mainToWorkerMessage;var b=a!=null?a:{};b=b.DOMData;if(b==null)return;a=a==null?void 0:a.sessionID;if(a==null)return;a=c("RSTMainThreadDataInWorker").getDataEntry(a);if(a==null)return;var d=a.backgroundInfoManager;b=b.hidden;a.isBackgrounded=b;b?(d.background(),a.heartBeatCheckOn=!1):(d.foreground(),a.heartBeatCheckOn=!0)};function a(){var a,b;(a=d("RSTEventsMessageQueue")).subscribe((b=d("RSTEvents")).RSTEvent.HEART_BEAT,h);a.subscribe(b.RSTEvent.TRACE_START,h);a.subscribe(b.RSTEvent.TRACE_END,h);a.subscribe(b.RSTEvent.TRACE_POLICY_SET,h);a.subscribe(b.RSTEvent.BROWSER_TAB_CLOSED,function(a){a=(a=a.mainToWorkerMessage)==null?void 0:a.sessionID;if(a==null)return;var b=c("RSTMainThreadDataInWorker").getDataEntry(a);if(b==null)return;b.isClosed=!0;c("RSTMainThreadDataInWorker").deleteDataEntry(a);d("RSTUtils").debugLogImportant("session "+a+" closed")});a.subscribe(b.RSTEvent.BROWSER_TAB_FOREGROUND,function(a){a=(a=a.mainToWorkerMessage)==null?void 0:a.sessionID;if(a==null)return;var b=c("RSTMainThreadDataInWorker").getDataEntry(a);if(b==null)return;var e=b.backgroundInfoManager;e.foreground();b.isBackgrounded=!1;b.heartBeatCheckOn=!0;d("RSTUtils").debugLogImportant("session "+a+" foregrounded")});a.subscribe(b.RSTEvent.BROWSER_TAB_BACKGROUND,function(a){a=(a=a.mainToWorkerMessage)==null?void 0:a.sessionID;if(a==null)return;var b=c("RSTMainThreadDataInWorker").getDataEntry(a);if(b==null)return;var e=b.backgroundInfoManager;e.background();b.isBackgrounded=!0;b.heartBeatCheckOn=!1;d("RSTUtils").debugLogImportant("session "+a+" backgrounded")})}g.registerUpdateBackgroundInfo=a}),98);
__d("RSTEventsRegisterUseCasesInWorker",["RSTDebugConsoleInWorker","RSTInjectAdsManagerAnnotationsWebWorker","RSTTracesManagerInWorker","RSTUpdateBackgroundInfoInWorker","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTDebugConsoleInWorker").registerDebugConsole(),d("RSTTracesManagerInWorker").registerTracesManager(),d("RSTUpdateBackgroundInfoInWorker").registerUpdateBackgroundInfo(),d("RSTUtils").isInWebWorker()&&d("RSTInjectAdsManagerAnnotationsWebWorker").registerAdsManagerAnnotationsInjector()}g["default"]=a}),98);
__d("RSTIncidentID",["RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=Date.now(),j=d("RSTUtils").getExecutionContext();function a(a){return a+"-"+i+"-"+j+"-"+h++}g.getUniqueIncidentID=a}),98);
__d("RSTIndexedDB",["FBLogger","RSTConfig","RSTCrypt","RSTEvents","RSTEventsMessageQueue","RSTUtils","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h;try{h=self.indexedDB}catch(a){}a=function(){function a(){}var b=a.prototype;b.initDB=function(){var a=this;return new Promise(function(b,d){if(h==null)return d("IndexedDB is not supported in this browser");if(a.$1!=null)return b(a.$1);var e=h.open(c("RSTConfig").INDEX_DB_NAME,c("RSTConfig").INDEX_DB_VERSION);e.onupgradeneeded=function(b){a.$1=b.target.result,a.$2(),a.$3(),a.$4(c("RSTConfig").INDEX_DB_TABLE_NAME,!0)};e.onsuccess=function(c){a.$1=c.target.result,a.$3(),b(c.target.result)};e.onblocked=function(){d("Database open blocked by another tab")};e.onerror=function(b){a.closeDBConnection();b=e.error||b.target.error;d("Database error: "+((b==null?void 0:b.message)||String(b)||"Unknown error"))}})};b.$2=function(){var a=this.$1;if(a==null)return;for(var b of c("RSTConfig").PAST_INDEX_DB_TABLE_NAMES)a.objectStoreNames.contains(b)&&a.deleteObjectStore(b)};b.$3=function(){var a=this;if(this.$1==null||this.$1.onversionchange!=null)return;this.$1.onversionchange=function(){a.closeDBConnection()}};b.$4=function(a,b){b===void 0&&(b=!1);var c=this.$1;if(c==null||c.objectStoreNames.contains(a))return;if(c.objectStoreNames.contains(a)){if(!b)return;c.deleteObjectStore(a)}c.createObjectStore(a,{autoIncrement:!0})};b.$5=function(a){return c("RSTConfig").ENCRYPT_DB?c("RSTCrypt").encrypt(JSON.stringify(a)):a};b.$6=function(a){if(a==null)return null;var b=!1,d;if(typeof a==="string"){var e=c("RSTCrypt").decryptEnforce(a);d=JSON.parse(e.result);b=e.exception}else d=a;if(typeof d!=="object"||d==null||d.incidentID==null)throw c("FBLogger")("responsive-tracker").mustfixThrow("data parsing error");e=d;e.hasDecryptionError=b;return e};b.$7=function(a){a===void 0&&(a=null),this.closeDBConnection(),d("RSTUtils").debugLogImportant("indexedDB error, clearing the object store"),c("FBLogger")("responsive-tracker").catching(a).warn("Failed to operate on IndexedDB, clearing the object store"),void this.clearObjectStore()};b.$8=function(a){var b=this,c=[];try{c=a.map(function(a){return b.$6(a)})}catch(a){this.$7(a)}return c};b.$9=function(a,b,c){var e=this;a.onerror=function(a){var f;e.closeDBConnection();a=(a=a==null||(f=a.target)==null?void 0:f.errorCode)!=null?a:"";a="Failed to handle "+c+" request in IndexedDB."+a;d("RSTUtils").debugLogImportant(a);b(a)}};b.$10=function(a,b,c){var e=this;a.onerror=function(a){var f;e.closeDBConnection();a=(a=a==null||(f=a.target)==null?void 0:f.errorCode)!=null?a:"";a="Failed to handle "+c+" transaction in IndexedDB."+a;d("RSTUtils").debugLogImportant(a);b(a)}};b.closeDBConnection=function(){var a=this.$1;if(a==null)return;try{a.close()}catch(a){}this.$1=null};b.persistLog=async function(a){try{await this.initDB(),await this.persistEventToDB(a)}catch(a){this.closeDBConnection(),c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to persist log")}};b.persistEventToDB=async function(a){var b=this;await this.initDB();var e=Date.now(),f=babelHelpers.extends({loggingTime:e},a);d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.LOGGING_UNRESPONSIVENESS_TO_INDEXDB,{unresponsiveEventRecord:f});return new Promise(function(a,d){if(b.$1==null){d("indexed db instance is not initialized yet");return}var e=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),g=e.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);g=g.add(b.$5(f));g.onsuccess=function(){a()};b.$9(g,d,"persistEventToDB");b.$10(e,d,"persistEventToDB")})};b.readEventsFromDB=async function(){var a=this;await this.initDB();return new Promise(function(b,d){if(a.$1==null){d("indexed db instance is not initialized yet");return}var e=a.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readonly"),f=e.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME),g=f.getAll();g.onsuccess=function(){b(a.$8(g.result))};a.$9(g,d,"readEventsFromDB");a.$10(e,d,"readEventsFromDB")})};b.updateIncidentInDB=async function(a){var b=this;await this.initDB();return new Promise(function(e,f){if(b.$1==null){f("IndexedDB instance is not initialized yet");return}var g=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),h=g.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);h=h.openCursor();h.onsuccess=function(c){c=c.target.result;if(c==null){d("RSTUtils").debugLog("Finished clearing incidents from indexDB");e();return}try{var f=b.$6(c.value);if(f==null){var g;d("RSTUtils").debugLog("Unable to parse, deleting incident "+(((g=f==null?void 0:f.incidentID)!=null?g:"")+" from indexDB"));c.delete()}else{g=a(f);if(g){d("RSTUtils").debugLog("Update incident "+((g=c.value)==null?void 0:g.incidentID)+" in indexDB");c.update(b.$5(f))}}}catch(a){c.delete()}c.continue()};b.$9(h,f,"updateIncidentInDB");b.$10(g,f,"updateIncidentInDB")})};b.clearIncidentFromDB=async function(a){var b=this;await this.initDB();return new Promise(function(e,f){if(b.$1==null){f("indexed db instance is not initialized yet");return}var g=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),h=g.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);h=h.openCursor();h.onsuccess=function(c){c=c.target.result;if(c){try{var f=b.$6(c.value);if(f==null||a.has(f==null?void 0:f.incidentID)){d("RSTUtils").debugLog("Deleting incident "+((f=f==null?void 0:f.incidentID)!=null?f:"")+" from indexDB");c.delete()}}catch(a){c.delete()}c.continue()}else d("RSTUtils").debugLog("Finished clearing incidents from indexDB"),e()};b.$9(h,f,"clearIncidentFromDB");b.$10(g,f,"clearIncidentFromDB")})};b.clearObjectStore=async function(a){var b=this;a===void 0&&(a=c("RSTConfig").INDEX_DB_TABLE_NAME);await this.initDB();d("RSTUtils").debugLogImportant("clearing object store:",a);return new Promise(function(c,d){try{var e=b.$1;if(e==null){d("indexed db instance is not initialized yet");return}if(!e.objectStoreNames.contains(a)){c();return}e=e.transaction([a],"readwrite");var f=e.objectStore(a);f=f.clear();f.onsuccess=function(){c()};f.onerror=function(a){b.closeDBConnection(),d("Error clearing the store: "+a.target.errorCode)};b.$9(f,d,"clearObjectStore");b.$10(e,d,"clearObjectStore")}catch(a){c()}})};b.deleteEventFromDB=async function(a){var b=this;await this.initDB();return new Promise(function(d,e){if(b.$1==null){e("indexed db instance is not initialized yet");return}var f=b.$1.transaction([c("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),g=f.objectStore(c("RSTConfig").INDEX_DB_TABLE_NAME);g=g.delete(a);g.onsuccess=function(){d()};b.$9(g,e,"deleteEventFromDB");b.$10(f,e,"deleteEventFromDB")})};return a}();g.RSTIndexedDB=a}),98);
__d("RSTIndexedDBSafe",["FBLogger","RSTConfig","RSTIndexedDB","RSTUtils","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=d("RSTUtils").isIndexedDBSupported();a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$RSTIndexedDBSafe$p_1=!h,b.$RSTIndexedDBSafe$p_2=0,b.$RSTIndexedDBSafe$p_3=["The database connection is closing","Can't start a transaction on a closed database","A version change transaction is running"],babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.guardDB=async function(a,b,e){if(this.$RSTIndexedDBSafe$p_1)return b();try{return await a()}catch(f){this.closeDBConnection();a=c("getErrorSafe")(f);if(!this.$RSTIndexedDBSafe$p_4(a))return b();this.$RSTIndexedDBSafe$p_2<c("RSTConfig").MAX_DB_FAILED_COUNT&&this.$RSTIndexedDBSafe$p_2++;if(this.$RSTIndexedDBSafe$p_2>=c("RSTConfig").MAX_DB_FAILED_COUNT){this.$RSTIndexedDBSafe$p_1=!0;e="Failed to "+e+" "+this.$RSTIndexedDBSafe$p_2+" times disabling RST indexedDB";d("RSTUtils").debugLogImportant(e);c("FBLogger")("responsive-tracker").catching(a).warn(e+": %s",a.message)}return b()}};e.$RSTIndexedDBSafe$p_4=function(a){if(a==null)return!1;var b=typeof a==="string"?a:a==null?void 0:a.message;return typeof b!=="string"?!0:!this.$RSTIndexedDBSafe$p_3.some(function(a){return b.includes(a)})};e.initDB=function(){var b=this;return this.guardDB(function(){return a.prototype.initDB.call(b)},function(){return null},"initDB")};e.persistLog=function(b){var c=this;return this.guardDB(function(){return a.prototype.persistLog.call(c,b)},function(){},"persistLog")};e.persistEventToDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.persistEventToDB.call(c,b)},function(){},"persistEventToDB")};e.readEventsFromDB=function(){var b=this;return this.guardDB(function(){return a.prototype.readEventsFromDB.call(b)},function(){return[]},"readEventsFromDB")};e.updateIncidentInDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.updateIncidentInDB.call(c,b)},function(){},"updateIncidentInDB")};e.clearIncidentFromDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.clearIncidentFromDB.call(c,b)},function(){},"clearIncidentFromDB")};e.clearObjectStore=function(b){var d=this;b===void 0&&(b=c("RSTConfig").INDEX_DB_TABLE_NAME);return this.guardDB(function(){return a.prototype.clearObjectStore.call(d,b)},function(){},"clearObjectStore")};e.deleteEventFromDB=function(b){var c=this;return this.guardDB(function(){return a.prototype.deleteEventFromDB.call(c,b)},function(){},"deleteEventFromDB")};e.maybeClearObsoleteIncidents=async function(){try{var a=await this.readEventsFromDB(),b=new Set();a.forEach(function(a){if(a==null)return;if(typeof a.incidentID!=="string")return;(typeof a.detectTime!=="number"||Date.now()-a.detectTime>(1+Math.random())*c("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS)&&b.add(a.incidentID)});await this.clearIncidentFromDB(b)}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(a).warn((a=a.message)!=null?a:"Failed to clear obsolete incidents incidents")}};return b}(d("RSTIndexedDB").RSTIndexedDB);b=new a();e=b;g.default=e}),98);
__d("RSTWorkerUtils",["RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null||b==null)return a!=null?a:b;a=babelHelpers["extends"]({},a);var c=b==null?void 0:b.spans;c!=null&&(a.spans=c);if(a.annotations==null)return a;c=babelHelpers["extends"]({},a.annotations);for(var e of Object.keys(c))d("RSTUtils").isExternalAnnotationKey(e)&&delete c[e];a.annotations=babelHelpers["extends"]({},c,b.externalAnnotations);return a}g.mergeMetadata=a}),98);
__d("ResponsiveTrackerWorker",["RSTBlockingTime","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesInWorker","RSTIncidentID","RSTIndexedDBSafe","RSTMainThreadDataInWorker","RSTUtils","RSTWorkerUtils"],(function(a,b,c,d,e,f,g){"use strict";c("RSTEventsRegisterUseCasesInWorker")();c("RSTBlockingTime").startMonitoring();a=function(){function a(){this.$1=null}var b=a.prototype;b.init=function(a){this.$1=a,this.startReceivingCommandFromMainThread(),this.startMonitoringMainThread(),void c("RSTIndexedDBSafe").maybeClearObsoleteIncidents()};b.startReceivingCommandFromMainThread=function(){var a;(a=this.$1)==null||a.addMessageListener(c("RSTConfig").MESSAGE_TYPE,function(a){var b=a.event,e=a.eventTime,f=a.sessionID,g=a.metadata;d("RSTEventsMessageQueue").notify(b,{mainToWorkerMessage:a});if(f==null)return;a=c("RSTMainThreadDataInWorker").getDataEntry(f);if(a==null)return;(g==null?void 0:g.isLightweight)===!0?a.lastEventMetadata=d("RSTWorkerUtils").mergeMetadata(a.lastEventMetadata,g):g!=null&&(a.lastEventMetadata=g);if(!d("RSTEvents").isRSTFlushEvent(b)){e>a.lastHeartBeatTimeStamp&&(a.lastHeartBeatTimeStamp=e);var h=a.incidentsRecovered;f=a.incidentsNotRecovered;a.incidentsNotRecovered.forEach(function(a){h.add(a)});f.clear()}})};b.$2=function(){var a=this;self.setInterval(async function(){d("RSTUtils").debugLog("RST web worker heart beat checking..."),await c("RSTMainThreadDataInWorker").iterateOverAllEntries(async function(b){await a.$3(b.mainThreadSessionID)})},c("RSTConfig").HEART_BEAT_INTERVAL_MS)};b.$3=async function(a){var b=c("RSTMainThreadDataInWorker").getDataEntry(a);if(b==null)return;if(b.heartBeatCheckOn===!1)return;var e=b.lastHeartBeatTimeStamp,f=b.incidentsNotRecovered,g=b.loggedFreezeTimeStamp,h=b.lastEventMetadata;b=b.tracesManager;var i=Date.now();if(e<0){performance.now()>=c("RSTConfig").FIRST_HEART_BEAT_THRESHOLD_MS&&d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.NO_HEART_BEAT_SINCE_ORIGIN,{});return}if(g.has(e))return;var j=i-e-c("RSTBlockingTime").getBlockingTime(e,i);if(j>c("RSTConfig").FREEZE_THRESHOLD_MS){j=d("RSTIncidentID").getUniqueIncidentID(a);f.add(j);f=b.getCurrentTraces();b=b.getLastTraceWithPolicySet();j={incidentID:j,detectTime:Date.now(),lastHeartBeatTimeStamp:e,message:"unresponsive",sessionID:a,lastHeartBeatMetadata:h,traces:f,lastTrace:b,hasRecovered:!1,unrecoverLastsForMs:i-e,incidentType:c("RSTConstants").incidentType.unresponsive};g.add(e);d("RSTUtils").debugLog("incident to indexedDB: "+j.incidentID);await c("RSTIndexedDBSafe").persistLog(j)}};b.$4=function(){var a=this;self.setInterval(async function(){await c("RSTMainThreadDataInWorker").iterateOverAllEntries(async function(b){await a.$5(b.mainThreadSessionID)})},c("RSTConfig").WEB_WORKER_UPDATE_INCIDENTS_INTERVAL_MS)};b.$5=async function(a){a=c("RSTMainThreadDataInWorker").getDataEntry(a);if(a==null)return;var b=a.incidentsRecovered,e=a.incidentsNotRecovered,f=a.backgroundInfoManager;if(e.size===0&&b.size===0)return;var g=Date.now();await c("RSTIndexedDBSafe").updateIncidentInDB(function(a){if(a.incidentType===c("RSTConstants").incidentType.unexpectedExit)return!1;if(b.has(a.incidentID)){d("RSTUtils").debugLog("Update as recovered: "+a.incidentID);a.hasRecovered=!0;b.delete(a.incidentID);return!0}if(e.has(a.incidentID)){var h=a.lastHeartBeatTimeStamp;h=g-h-f.getBackgroundTime(h,g)-c("RSTBlockingTime").getBlockingTime(h,g);d("RSTUtils").debugLog("Update unrecovered duration for "+(a.incidentID+": "+h+"ms"));var i=a.unrecoverLastsForMs;a.unrecoverLastsForMs=h;return i!==h}return!1})};b.startMonitoringMainThread=function(){this.$2(),this.$4()};return a}();b=new a();e=b;g.default=e}),98);
__d("RSTWebWorkerEntrypoint",["ResponsiveTrackerWorker","WorkerMessagePort","WorkerSelf"],(function(a,b,c,d,e,f,g){var h=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(self,"RSTWebWorker"),i=!1;function a(){i||(d("WorkerSelf").init(h),c("ResponsiveTrackerWorker").init(h),i=!0)}a();g["default"]=a}),98);
__d("RSTWebV2Worker",["RSTWebWorkerEntrypoint"],(function(a,b,c,d,e,f,g){g["default"]=c("RSTWebWorkerEntrypoint")}),98);/*FB_PKG_DELIM*/
__d("RelayFBConsoleLog",["cr:1121434"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1121434")!=null?b("cr:1121434")():null;c=a;g["default"]=c}),98);
__d("RelayFBScheduler",[],(function(a,b,c,d,e,f){"use strict";a={cancel:function(){},schedule:function(a){a();return""}};b=a;f["default"]=b}),66);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){return e.config_id!=null?d("RelayRuntime").Observable.create(function(d){var g;c("promiseDone")(c("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(c){c=c(a,b,e,f);g=c.subscribe(d)})["catch"](function(a){return d.error(a)}));return function(){g&&g.unsubscribe()}}):f}g["default"]=a}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(a,b,c,d,e,f){"use strict";var g=["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"],h=["networkConfig"],i=b("RelayFBEnvironmentActorID").getActorID,j=(c=b("relay-runtime")).Environment,k=c.QueryResponseCache,l=c.RecordSource,m=c.Store;function n(a){var c,d,e=a.actorID,f=a.handlerProvider;f=f===void 0?b("RelayFBHandlerProvider"):f;var i=a.log;c=i===void 0?(c=a.log)!=null?c:b("RelayFBConsoleLog"):i;i=a.missingFieldHandlers;i=i===void 0?b("getRelayFBMissingFieldHandlers")():i;var n=a.operationLoader;n=n===void 0?b("RelayFBOperationLoader"):n;var o=a.store;d=o===void 0?new m(new l(),{getDataID:(d=a.getDataID)!=null?d:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("RelayFBGCScheduler"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:5*60*1e3,log:c}):o;o=a.relayFieldLogger;o=o===void 0?b("RelayFieldLogger").create():o;var p=a.scheduler;p=p===void 0?b("RelayFBScheduler"):p;var q=a.getDataID;q=q===void 0?b("relayFBGetDataID"):q;a=babelHelpers.objectWithoutPropertiesLoose(a,g);var r={actorID:e};if(a.network)return new j(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:i,operationLoader:n,store:d,options:r,relayFieldLogger:o,scheduler:p,getDataID:q}));else{var s,t,u=a.networkConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,h);s=(s=u==null?void 0:u.queryResponseCache)!=null?s:new k({size:10,ttl:5*60*1e3});t=(t=u==null?void 0:u.liveQueryFetchWithWWWInitialFn)!=null?t:b("liveQueryFetchWithWWWInitialWrapper");u=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},u,{liveQueryFetchWithWWWInitialFn:t,queryResponseCache:s,actorID:e})),b("createRelayFBSubscribeFunction")({queryResponseCache:s,actorID:e}));return new j(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:i,operationLoader:n,store:d,network:u,options:r,relayFieldLogger:o,scheduler:p,getDataID:q}))}}function a(a){var b=new Map();return{getForActorID:function(c,d){var e=c+(d!=null?d:""),f=b.get(e);f||(f=n(a(c,d)),b.set(e,f));return f},commitLocalUpdateForEachEnvironment:function(a){var c=function(){var b=d[1];b.commitUpdate(function(c){a(i(b),b,c)})};for(var d of b)c()}}}e.exports={createEnvironment:n,createEnvironmentFactory:a}}),null);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;e.exports=a(function(a){return{configName:"RelayFBEnvironment",actorID:a}})}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.displayName||a.name||"Component"}function a(a){return"Relay("+g(a)+")"}e.exports={getComponentName:g,getContainerName:a}}),null);
__d("react-relay/isRelayEnvironment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&typeof a.check==="function"&&typeof a.lookup==="function"&&typeof a.retain==="function"&&typeof a.execute==="function"&&typeof a.subscribe==="function"}e.exports=a}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a)||g(0,6172,a);return a}function h(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)&&b("react-relay/isRelayEnvironment")(a.environment)}e.exports={assertRelayContext:a,isRelayContext:h}}),null);
__d("react-relay/ReactRelayQueryRendererContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");e.exports=a.createContext({rootIsQueryRenderer:!1})}),null);
__d("react-relay/buildReactRelayContainer",["invariant","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","react-relay/assertFragmentMap","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("react-relay/ReactRelayContainerUtils").getComponentName,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=h||(h=b("react")),l=b("relay-runtime").getFragment,m=k.useContext;function a(a,c,d){var f=j(a);b("react-relay/assertFragmentMap")(i(a),c);var h={};for(var n in c)h[n]=l(c[n]);var o=d(a,h);o.displayName=f;function p(a,c){var d=m(b("react-relay/ReactRelayContext"));d!=null||g(0,18241,f,f);var e=m(b("react-relay/ReactRelayQueryRendererContext"));return k.jsx(o,babelHelpers["extends"]({},a,{__relayContext:d,__rootIsQueryRenderer:(d=e==null?void 0:e.rootIsQueryRenderer)!=null?d:!1,componentRef:a.componentRef||c}))}p.displayName=p.name+" [from "+e.id+"]";p.displayName=f;c=k.forwardRef(p);return c}e.exports=a}),null);
__d("react-relay/ReactRelayFragmentContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","react-relay/buildReactRelayContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=["componentRef","__relayContext","__rootIsQueryRenderer"],h,i,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=b("react-relay/RelayContext").assertRelayContext,l=h||(h=b("react")),m=b("relay-runtime").createFragmentSpecResolver,n=b("relay-runtime").getDataIDsFromObject,o=b("relay-runtime").isScalarAndEqual;function p(a,c){var d,e=j(a);return d=function(d){function f(a){var b,f;f=d.call(this,a)||this;f.$3=function(){var a=f.state.resolver;f.setState(function(b){return a===b.resolver?{data:b.resolver.resolve(),relayProp:q(b.relayProp.environment)}:null})};var g=k(a.__relayContext);b=(b=a.__rootIsQueryRenderer)!=null?b:!1;b=m(g,e,c,a,b);f.state={data:b.resolve(),prevProps:a,prevPropsContext:g,relayProp:q(g.environment),resolver:b};return f}babelHelpers.inheritsLoose(f,d);f.getDerivedStateFromProps=function(a,d){var f,g=d.prevProps,h=k(a.__relayContext);f=(f=a.__rootIsQueryRenderer)!=null?f:!1;g=n(c,g);var j=n(c,a),l=d.resolver;if(d.prevPropsContext.environment!==h.environment||!(i||(i=b("areEqual")))(g,j)){l=m(h,e,c,a,f);return{data:l.resolve(),prevProps:a,prevPropsContext:h,relayProp:q(h.environment),resolver:l}}else{l.setProps(a);g=l.resolve();if(g!==d.data)return{data:g,prevProps:a,prevPropsContext:h,relayProp:q(h.environment)}}return null};var h=f.prototype;h.componentDidMount=function(){this.$1()};h.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$1()):this.$2()};h.componentWillUnmount=function(){this.state.resolver.dispose()};h.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevPropsContext.environment!==this.state.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!o(a[f],this.props[f]))return!0}return!1};h.$2=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};h.$1=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$3);b!==c&&this.setState({data:c})};h.render=function(){var b=this.props,c=b.componentRef;b.__relayContext;b.__rootIsQueryRenderer;b=babelHelpers.objectWithoutPropertiesLoose(b,g);return l.jsx(a,babelHelpers["extends"]({},b,this.state.data,{ref:c,relay:this.state.relayProp}))};return f}(l.Component),d.displayName=e,d}function q(a){return{environment:a}}function a(a,c){return b("react-relay/buildReactRelayContainer")(a,c,p)}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayLocalQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;c=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l=i.useLayoutEffect,m=i.useState,n=i.useRef,o=i.useMemo,p={rootIsQueryRenderer:!0};function q(a){var c=i.useRef(a);(h||(h=b("areEqual")))(c.current,a)||(c.current=a);return c.current}function a(a){var c=a.environment,d=a.query,e=a.variables;a=a.render;var f=q(e),g=o(function(){var a=k(d);return j(a,f)},[d,f]);e=o(function(){return{environment:c}},[c]);var h=n(null),r=m(null),s=r[1],t=n(null);r=o(function(){c.check(g);var a=c.lookup(g.fragment);h.current=a.data;var b=c.retain(g),d=c.subscribe(a,function(a){h.current=a.data,s(h.current)}),e=!1;function f(){e||(e=!0,t.current=null,b.dispose(),d.dispose())}t.current&&t.current();t.current=f;return a},[c,g]);l(function(){var a=t.current;return function(){a&&a()}},[r]);return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:p,children:a({props:h.current})})})}a.displayName=a.name+" [from "+e.id+"]";e.exports=a}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("relay-runtime").__internal.fetchQuery,i=b("relay-runtime").createOperationDescriptor,j=b("relay-runtime").isRelayModernEnvironment;a=function(){function a(a){this.$4=[],this.$8=!1,a!=null&&(this.$7=a.cacheSelectionReference,this.$4=a.selectionReferences)}var b=a.prototype;b.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}};b.lookupInStore=function(a,b,c){if((c==="store-and-network"||c==="store-or-network")&&a.check(b).status==="available"){this.$9(a,b);return a.lookup(b.fragment)}return null};b.getFetchResult=function(){if(this.$8){if(this.$6!=null)return{error:this.$6};else if(this.$5!=null)return{snapshot:this.$5}}else return null};b.execute=function(a){var b=this,c=a.environment,d=a.operation;a=a.preservePreviousReferences;var e=a===void 0?!1:a,f=c.retain(d);a=function(){b.$4=b.$4.concat(f)};var g=function(){e||b.disposeSelectionReferences(),b.$4=b.$4.concat(f)},i=function(){b.$4=b.$4.concat(f)};return!j(c)?c.execute({operation:d})["do"]({error:a,complete:g,unsubscribe:i}):h(c,d)["do"]({error:a,complete:g,unsubscribe:i})};b.setOnDataChange=function(a){this.$1||g(0,4542),typeof a==="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(a),this.$8&&(this.$6!=null?a({error:this.$6}):this.$5!=null&&a({snapshot:this.$5})))};b.fetch=function(a,b){var c=this,d=a.environment,e=a.operation;a=a.onDataChange;var f=!1,g;this.disposeRequest();var h=this.$1&&this.$1.onDataChangeCallbacks;this.$1={environment:d,onDataChangeCallbacks:h||[],operation:e};a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);h=b?i(e.request.node,e.request.variables,b):e;var j=this.execute({environment:d,operation:h})["finally"](function(){c.$2=null}).subscribe({next:function(){c.$8=!0,c.$6=null,c.$10({notifyFirstResult:f})},error:function(a){c.$8=!0;c.$6=a;c.$5=null;var b=c.$1&&c.$1.onDataChangeCallbacks;f?b&&b.forEach(function(b){b({error:a})}):g=a}});this.$2={dispose:function(){j.unsubscribe()}};f=!0;if(g)throw g;return this.$5};b.retry=function(a){this.$1||g(0,4543);return this.fetch({environment:this.$1.environment,operation:this.$1.operation,onDataChange:null},a)};b.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()};b.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)};b.$9=function(a,b){this.$11(),this.$7=a.retain(b)};b.$11=function(){this.$7&&this.$7.dispose(),this.$7=null};b.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(a){return a.dispose()}),this.$4=[]};b.$10=function(a){var b=this;a=a.notifyFirstResult;this.$1||g(0,4544);var c=this.$1,d=c.environment,e=c.onDataChangeCallbacks;c=c.operation;if(this.$5)return;this.$5=d.lookup(c.fragment);this.$3=d.subscribe(this.$5,function(a){if(b.$1!=null){var c=b.$1.onDataChangeCallbacks;Array.isArray(c)&&c.forEach(function(b){return b({snapshot:a})})}});if(this.$5&&a&&Array.isArray(e)){var f=this.$5;e.forEach(function(a){return a({snapshot:f})})}};return a}();e.exports=a}),null);
__d("react-relay/getRootVariablesForFragments",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").getSelector;function a(a,b){var c={};Object.keys(a).forEach(function(d){var e=a[d];d=b[d];e=g(e,d);e=e!=null&&e.kind==="PluralReaderSelector"?(d=(d=e.selectors[0])==null?void 0:d.owner.variables)!=null?d:{}:(d=e==null?void 0:e.owner.variables)!=null?d:{};c=babelHelpers["extends"]({},c,e)});return c}e.exports=a}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f,g){"use strict";var h=["componentRef"],i=["componentRef","__relayContext","__rootIsQueryRenderer"],j=["componentRef","__relayContext","__rootIsQueryRenderer"],k,l,m=b("react-relay/ReactRelayContainerUtils").getComponentName,n=b("react-relay/ReactRelayContainerUtils").getContainerName,o=b("react-relay/RelayContext").assertRelayContext,p=k||(k=b("react")),q=b("relay-runtime").ConnectionInterface,r=b("relay-runtime").Observable,s=b("relay-runtime").RelayFeatureFlags,t=b("relay-runtime").createFragmentSpecResolver,u=b("relay-runtime").createOperationDescriptor,v=b("relay-runtime").getDataIDsFromObject,w=b("relay-runtime").getRequest,x=b("relay-runtime").getVariablesFromObject,y=b("relay-runtime").isScalarAndEqual,z="forward";function A(a){var b=a.path;b||g(0,1219);return function(c){c=c[a.fragmentName];for(var d=0;d<b.length;d++){if(!c||typeof c!=="object")return null;c=c[b[d]]}return c}}function B(a){var b=a.count;b||g(0,1220);return function(a,c){return babelHelpers["extends"]({},a,(a={},a[b]=c,a))}}function C(a){var b=null,c=!1;for(var d in a){var e=a[d],f=e.metadata&&e.metadata.connection;e.metadata!==void 0&&(c=!0);f&&(f.length===1||g(0,1221,d,f.length),b&&g(0,1222),b=babelHelpers["extends"]({},f[0],{fragmentName:d}))}!c||b!==null||g(0,1223);return b||{}}function D(a){return typeof a==="function"?{complete:a,error:a,unsubscribe:function(b){typeof a==="function"&&a()}}:a||{}}function E(a,c,d){var e=m(a),f=n(a),k=C(c),E=d.getConnectionFromProps||A(k),F=d.direction||k.direction;F||g(0,1224);var G=d.getFragmentVariables||B(k);return k=function(k){function m(a){var d,e;e=k.call(this,a)||this;e.$8=function(){e.setState({data:e.$4.resolve()})};e.$13=function(){var a=e.$17();return!!(a&&a.hasMore&&a.cursor)};e.$14=function(){return!!e.$2};e.$16=function(a,b,c){if(!e.$18("refetchConnection"))return{dispose:function(){}};e.$3=c;c={count:a,cursor:null,totalCount:a};a=e.$19(c,D(b),{force:!0});return{dispose:a.unsubscribe}};e.$15=function(a,c,d){if(!e.$18("loadMore"))return{dispose:function(){}};var f=D(c),g=e.$17();if(!g){r.create(function(a){return a.complete()}).subscribe(f);return null}var h=g.edgeCount+a;if(d&&d.force)return e.$16(h,c);c=q.get();var i=c.END_CURSOR;c=c.START_CURSOR;g=g.cursor;b("warning")(g!=null&&g!=="","ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",F===z?i:c,g);i={count:a,cursor:g,totalCount:h};c=e.$19(i,f,d);return{dispose:c.unsubscribe}};var g=o(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;e.$1=!1;e.$2=null;e.$3=null;s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?e.$4=t(g,f,c,a,d):e.$4=t(g,f,c,a,d,e.$8);e.state={contextForChildren:g,data:e.$4.resolve(),prevContext:g,relayProp:e.$9(g),resolverGeneration:0};e.$6=!1;e.$7=!1;return e}babelHelpers.inheritsLoose(m,k);var n=m.prototype;n.componentDidMount=function(){this.$6=!1,s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.$10()};n.componentDidUpdate=function(a,b){s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&(b.resolverGeneration!==this.state.resolverGeneration?this.$10():this.$11())};n.UNSAFE_componentWillReceiveProps=function(a){var d,e=this,g=o(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;var h=v(c,this.props),i=v(c,a),j=b("react-relay/getRootVariablesForFragments")(c,this.props),k=b("react-relay/getRootVariablesForFragments")(c,a);g.environment!==this.state.prevContext.environment||!(l||(l=b("areEqual")))(j,k)||!(l||(l=b("areEqual")))(h,i)?(this.$12(),s.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?this.$4=t(g,f,c,a,d):this.$4=t(g,f,c,a,d,this.$8),this.setState(function(a){return{contextForChildren:g,prevContext:g,relayProp:e.$9(g),resolverGeneration:a.resolverGeneration+1}})):this.$7||this.$4.setProps(a);j=this.$4.resolve();j!==this.state.data&&this.setState({data:j})};n.componentWillUnmount=function(){this.$6=!0,this.$12()};n.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp||b.resolverGeneration!==this.state.resolverGeneration)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevContext.environment!==this.state.prevContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!y(a[f],this.props[f]))return!0}return!1};n.$9=function(a){return{environment:a.environment,hasMore:this.$13,isLoading:this.$14,loadMore:this.$15,refetchConnection:this.$16}};n.$11=function(){var a=this.state.data,b=this.$4.resolve();a!==b&&this.setState({data:b})};n.$10=function(){var a=this.state.data,b=this.$4.resolve();this.$4.setCallback(this.props,this.$8);a!==b&&this.setState({data:b})};n.$17=function(){var a=this.props;a.componentRef;a=babelHelpers.objectWithoutPropertiesLoose(a,h);a=babelHelpers["extends"]({},a,this.state.data);a=E(a);if(a==null)return null;var c=q.get(),d=c.EDGES,f=c.PAGE_INFO,i=c.HAS_NEXT_PAGE,j=c.HAS_PREV_PAGE,k=c.END_CURSOR;c=c.START_CURSOR;typeof a==="object"||g(0,1225,e,d,f,a);var l=a[d];a=a[f];if(l==null||a==null)return null;Array.isArray(l)||g(0,1226,e,d,l);typeof a==="object"||g(0,1227,e,f,a);d=F===z?a[i]:a[j];a=F===z?a[k]:a[c];if(typeof d!=="boolean"||l.length!==0&&typeof a==="undefined"){b("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",f,e,F===z?i:j,d,F===z?k:c,a);return null}return{cursor:a,edgeCount:l.length,hasMore:d}};n.$20=function(){this.$5||(this.$5=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$5};n.$18=function(a){if(this.$6){b("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",a,f,a);return!1}return!0};n.$19=function(a,f,h){var j=this,k=o(this.props.__relayContext);k=k.environment;var m=this.props;m.componentRef;m.__relayContext;m.__rootIsQueryRenderer;m=babelHelpers.objectWithoutPropertiesLoose(m,i);var n=babelHelpers["extends"]({},m,this.state.data),p,q=b("react-relay/getRootVariablesForFragments")(c,m);p=x(c,m);p=babelHelpers["extends"]({},q,p,this.$3);m=d.getVariables(n,{count:a.count,cursor:a.cursor},p);typeof m==="object"&&m!==null||g(0,1228,m,e);m=babelHelpers["extends"]({},m,this.$3);p=babelHelpers["extends"]({},m,p);q=h?{force:!!h.force}:void 0;q!=null&&(h==null?void 0:h.metadata)!=null&&(q.metadata=h==null?void 0:h.metadata);n=w(d.query);var s=u(n,m,q),t=null;this.$2&&this.$2.unsubscribe();this.$7=!0;var v=function(c,d){c=j.$4.resolve();j.$4.setVariables(G(p,a.totalCount),s.request.node);var e=j.$4.resolve();!(l||(l=b("areEqual")))(c,e)?j.setState({contextForChildren:{environment:j.props.__relayContext.environment},data:e},d):d()};h=function(){j.$2===t&&(j.$2=null,j.$1=!1)};this.$1=!0;t=this.$20().execute({environment:k,operation:s,preservePreviousReferences:!0}).mergeMap(function(a){return r.create(function(b){v(a,function(){b.next(),b.complete()})})})["do"]({complete:h,error:h,unsubscribe:h}).subscribe(f||{});this.$2=this.$1?t:null;return t};n.$12=function(){this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()};n.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,j);return p.jsx(b("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren,children:p.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp}))})};return m}(p.Component),k.displayName=f,k}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return E(a,b,d)})}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;a=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l={},m={rootIsQueryRenderer:!0};c=function(a){function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var b=a.error==null?null:a.error,c=a.snapshot==null?null:a.snapshot;d.setState(function(a){var d=a.requestCacheKey;d&&delete l[d];return c===a.snapshot&&b===a.error?null:{renderProps:p(b,c,a.queryFetcher,a.retryCallbacks),snapshot:c,requestCacheKey:null}})};var e={handleDataChange:null,handleRetryAfterError:null},f;if(c.query){var g=c.query;g=k(g);f=q(g.params,c.variables);g=l[f]?l[f].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))()}else g=new(b("react-relay/ReactRelayQueryFetcher"))();d.$1=!1;d.state=babelHelpers["extends"]({prevPropsEnvironment:c.environment,prevPropsVariables:c.variables,prevQuery:c.query,queryFetcher:g,retryCallbacks:e},s(c,g,e,f));return d}babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return c.prevQuery!==a.query||c.prevPropsEnvironment!==a.environment||!(h||(h=b("areEqual")))(c.prevPropsVariables,a.variables)?r(a,c):null};var d=c.prototype;d.componentDidMount=function(){var a=this;if(this.$1===!0){this.$1=!1;this.setState(function(c){c=r(a.props,c);var d=c.requestCacheKey,b=c.queryFetcher;d!=null&&l[d]!=null&&b.setOnDataChange(a.$2);return c});return}var b=this.state,c=b.retryCallbacks,d=b.queryFetcher;b=b.requestCacheKey;b&&delete l[b];c.handleDataChange=this.$2;c.handleRetryAfterError=function(b){return a.setState(function(a){a=a.requestCacheKey;a&&delete l[a];return{renderProps:n(),requestCacheKey:null}})};this.props.query&&d.setOnDataChange(this.$2)};d.componentDidUpdate=function(a,b){a=this.state;var c=a.queryFetcher;a=a.requestCacheKey;a&&(delete l[a],delete this.state.requestCacheKey);this.props.query&&c!==b.queryFetcher&&c.setOnDataChange(this.$2)};d.componentWillUnmount=function(){this.state.queryFetcher.dispose(),this.$1=!0};d.shouldComponentUpdate=function(a,b){return a.render!==this.props.render||b.renderProps!==this.state.renderProps};d.render=function(){var a=this.state,c=a.renderProps;a=a.relayContext;return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:a,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:m,children:this.props.render(c)})})};return c}(i.Component);function n(){return{error:null,props:null,retry:null}}function o(){return{error:null,props:{},retry:null}}function p(a,b,c,d){return{error:a?a:null,props:b?b.data:null,retry:function(b){b=c.retry(b);b&&typeof d.handleDataChange==="function"?d.handleDataChange({snapshot:b}):a&&typeof d.handleRetryAfterError==="function"&&d.handleRetryAfterError(a)}}}function q(a,b){return JSON.stringify({id:a.cacheID?a.cacheID:a.id,variables:b})}function r(a,c){var d=a.query,e=c.queryFetcher.getSelectionReferences();c.queryFetcher.disposeRequest();if(d){d=k(d);d=q(d.params,a.variables);d=l[d]?l[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))(e)}else d=new(b("react-relay/ReactRelayQueryFetcher"))(e);return babelHelpers["extends"]({prevQuery:a.query,prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,queryFetcher:d},s(a,d,c.retryCallbacks))}function s(a,b,c,d){var e=a.environment,f=a.query,g=a.variables,h=a.cacheConfig;e=e;if(f){f=k(f);g=j(f,g,h);h={environment:e};if(typeof d==="string"&&l[d]){var i=l[d].snapshot;if(i)return{error:null,relayContext:h,renderProps:p(null,i,b,c),snapshot:i,requestCacheKey:d};else return{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}}try{i=b.lookupInStore(e,g,a.fetchPolicy);g=b.fetch({environment:e,onDataChange:null,operation:g});g=g||i;d=d||q(f.params,a.variables);l[d]={queryFetcher:b,snapshot:g};return!g?{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}:{error:null,relayContext:h,renderProps:p(null,g,b,c),snapshot:g,requestCacheKey:d}}catch(a){return{error:a,relayContext:h,renderProps:p(a,null,b,c),snapshot:null,requestCacheKey:d}}}else{b.dispose();i={environment:e};return{error:null,relayContext:i,renderProps:o(),requestCacheKey:null}}}e.exports=c}),null);
__d("react-relay/ReactRelayRefetchContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g=["componentRef","__relayContext","__rootIsQueryRenderer"],h,i,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=b("react-relay/RelayContext").assertRelayContext,l=h||(h=b("react")),m=b("relay-runtime").Observable,n=b("relay-runtime").createFragmentSpecResolver,o=b("relay-runtime").createOperationDescriptor,p=b("relay-runtime").getDataIDsFromObject,q=b("relay-runtime").getRequest,r=b("relay-runtime").getVariablesFromObject,s=b("relay-runtime").isScalarAndEqual;function t(a,c,d){var e,f=j(a);return e=function(e){function h(a){var g,h;h=e.call(this,a)||this;h.$7=function(){var a=h.state.resolver;h.setState(function(b){return a===b.resolver?{data:b.resolver.resolve()}:null})};h.$4=function(a,e,g,i){if(h.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",f);return{dispose:function(){}}}var j=k(h.props.__relayContext);j=j.environment;var l=b("react-relay/getRootVariablesForFragments")(c,h.props);a=typeof a==="function"?a(h.$8()):a;a=babelHelpers["extends"]({},l,a);var n=e?babelHelpers["extends"]({},a,e):a;l=i?{force:!!i.force}:void 0;l!=null&&(i==null?void 0:i.metadata)!=null&&(l.metadata=i==null?void 0:i.metadata);var p=typeof g==="function"?{error:g,next:g}:g||{};e=q(d);var r=o(e,a,l);h.state.localVariables=a;h.$1&&h.$1.unsubscribe();var s;g=h.$9().lookupInStore(j,r,i==null?void 0:i.fetchPolicy);if(g!=null){h.state.resolver.setVariables(n,r.request.node);h.setState(function(a){return{contextForChildren:{environment:h.props.__relayContext.environment},data:a.resolver.resolve()}},function(){p.next&&p.next(),p.complete&&p.complete()});return{dispose:function(){}}}h.$9().execute({environment:j,operation:r,preservePreviousReferences:!0}).mergeMap(function(a){h.state.resolver.setVariables(n,r.request.node);return m.create(function(a){return h.setState(function(a){return{contextForChildren:{environment:h.props.__relayContext.environment},data:a.resolver.resolve()}},function(){a.next(),a.complete()})})})["finally"](function(){h.$1===s&&(h.$1=null)}).subscribe(babelHelpers["extends"]({},p,{start:function(a){h.$1=s=a,p.start&&p.start(a)}}));return{dispose:function(){s&&s.unsubscribe()}}};var i=k(a.__relayContext);g=(g=a.__rootIsQueryRenderer)!=null?g:!1;h.$1=null;g=n(i,f,c,a,g);h.state={contextForChildren:i,data:g.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,relayProp:u(i.environment,h.$4),resolver:g};h.$3=!1;return h}babelHelpers.inheritsLoose(h,e);var j=h.prototype;j.componentDidMount=function(){this.$3=!1,this.$5()};j.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5()):this.$6()};h.getDerivedStateFromProps=function(a,d){var e,g=d.prevProps,h=k(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;var j=p(c,g),l=p(c,a);g=b("react-relay/getRootVariablesForFragments")(c,g);var m=b("react-relay/getRootVariablesForFragments")(c,a),o=d.resolver;if(d.prevPropsContext.environment!==h.environment||!(i||(i=b("areEqual")))(g,m)||!(i||(i=b("areEqual")))(j,l)){o=n(h,f,c,a,e);return{contextForChildren:h,data:o.resolve(),localVariables:null,prevProps:a,prevPropsContext:h,relayProp:u(h.environment,d.relayProp.refetch),resolver:o}}else d.localVariables||o.setProps(a);g=o.resolve();return g!==d.data?{data:g,prevProps:a}:null};j.componentWillUnmount=function(){this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};j.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!s(a[f],this.props[f]))return!0}return!1};j.$6=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};j.$5=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$7);b!==c&&this.setState({data:c})};j.$8=function(){return r(c,this.props)};j.$9=function(){this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};j.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,g);var e=this.state,f=e.relayProp;e=e.contextForChildren;return l.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:l.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f}))})};return h}(l.Component),e.displayName=f,e}function u(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return t(a,b,d)})}e.exports={createContainer:a}}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironment;c=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;d=b("enqueueMutation").enqueueMutation;var g=(f=b("relay-runtime")).fetchQuery_DEPRECATED;b("configureRelayForWWW")();var h=b("RelayFBSubscription").addFBisms(f.requestSubscription);e.exports={ConnectionHandler:f.ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:f.MutationTypes,RangeOperations:f.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:f.applyOptimisticMutation,commitLocalUpdate:f.commitLocalUpdate,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:f.fetchQuery_DEPRECATED,graphql:f.graphql,readInlineData:f.readInlineData,commitMutation:b("RelayFBMutations").addFBisms(f.commitMutation),enqueueMutation:b("RelayFBMutations").addFBisms(d),requestSubscription:h,createEnvironment:a,createEnvironmentFactory:c,fetchQuery:g}}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}f["default"]=a}),66);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePrefetchableForwardPaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("react-relay/relay-hooks/loadQuery").loadQuery;e.exports={ConnectionHandler:(c=b("relay-runtime")).ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:c.MutationTypes,RangeOperations:c.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:c.applyOptimisticMutation,commitLocalUpdate:c.commitLocalUpdate,commitMutation:c.commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:c.fetchQuery_DEPRECATED,graphql:c.graphql,readInlineData:c.readInlineData,requestSubscription:c.requestSubscription,EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:b("react-relay/relay-hooks/ProfilerContext"),fetchQuery:c.fetchQuery,loadQuery:a,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),useMutation:b("react-relay/relay-hooks/useMutation"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),usePrefetchableForwardPaginationFragment:b("react-relay/relay-hooks/usePrefetchableForwardPaginationFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("react-relay/relay-hooks/useSubscription")}}),null);/*FB_PKG_DELIM*/
__d("LSCheckThreadConsistency",["LSIssueNewFireAndForgetTask","LSIssueNewTask","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return c("gkx")("15730")?(e[0]=new d.Map(),e[0].set("threads",a[0]),e[0].set("metadata",a[1]),e[1]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",d.i64.cast([0,18]),e[1])):(e[0]=new d.Map(),e[0].set("threads",a[0]),e[0].set("metadata",a[1]),e[1]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewTask"),"check-thread-consistency",d.i64.cast([0,160019]),e[1],void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]),void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0])))},function(a){return d.resolve(f)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckThreadConsistencyStoredProcedure";a.__tables__=[];d=a;g["default"]=d}),98);
__d("LSCheckThreadConsistencyStoredProcedure",["LSCheckThreadConsistency","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCheckThreadConsistency"),e.threads,e.metadata);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("wa_jid",void 0),d[2].set("thread_key",a[0]),d[2].set("disappearing_ttl",a[1]),d[2].set("updated_timestamp",a[2]),d[2].set("updated_by",a[3]),d[2].set("sync_group",c.i64.cast([0,95])),d[2].set("ephemerality_type",void 0),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"disappearing_setting",c.i64.cast([0,714]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUpdateThreadDisappearingSettingStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSOptimisticUpdateThreadDisappearingSetting"),e.threadKey,e.disappearingTtl,e.updatedTimestamp,e.updatedBy);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRestoreEchoBlobs.nop",["LSVec","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWThreadIdToChatJidMapping","MWEBODSEntityName.enum","MWEBODSUtils","WAJids","err","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSRestoreEchoBlobsHandler").__setRef("LSRestoreEchoBlobs.nop");a=async function(a,b,e,f,g,i,j,k,l,m,n,o,p,q){var r;d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs");q!=null?r=d("WAJids").validateChatJid(q):d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs.no_chat_jid_provided");r==null&&(r=await d("MAWThreadIdToChatJidMapping").genChatJidFromThreadId(a,m,"LSRestoreEchoBlobs.nop"));if(r==null){d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs.no_chat_jid");n!=null&&d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(n,c("err")("Cannot generate ChatJid from threadKey: "+m));d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"no_chat_jid");return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}return h.load().then(function(a){if(r!=null){c("promiseDone")(a.handleEchoBlobsRestore(f,g,i,j,k,l,m,n,o,p,r));return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])})};a.__nop_name__="LSRestoreEchoBlobs";g.default=a}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDatabaseSingleton","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}function a(a){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return b.runInTransaction(function(b){return j(b,a)},"readwrite",void 0,void 0,f.id+":43")})}g.call=j;g.callWithoutTxn=a}),98);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","MAWUpdateClientRestoreStatusOperationType","ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===b})).then(function(b){if(b!=null)return a.encrypted_backups_client_restore_status.delete(b.threadId).then(c("emptyFunction"));else return Promise.resolve()})}function k(a,b,e,f){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).getKeyRange(b)).then(function(f){if(f!=null)return a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE),serverThreadKey:e,threadId:b});else return Promise.resolve()})}function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status)).then(function(b){return b.reduce(function(b,c){return b.then(function(){return j(a,c.threadId)})},Promise.resolve())})}async function b(a,b){var e=b.threadId,f=b.action;f===d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus?await a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),serverThreadKey:void 0,threadId:e}):await k(a,b.threadId,void 0,b.ebPrefetch);return Promise.resolve()}g.truncateClientRestoreStatusTable=a;g.call=b}),98);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),j=c("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),k=c("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");async function l(a,b,c,e){a=await a.threads.get(e);if(a!=null){e=a.disappearingSettingUpdatedTs;a=a.disappearingSettingTtl;if(e==null||a==null)return!0;if((h||(h=d("I64"))).lt(e,(h||(h=d("I64"))).of_float(c))&&!(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_int32(b)))return!0}return!1}async function m(a,b,e,f,g,i,k){var m=await l(a,b,e,g);if(!m)return Promise.resolve();i&&c("FBLogger")("wmi_eb").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");m=await j.load();return c("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(m(a),{disappearingTtl:(h||(h=d("I64"))).of_int32(b),threadKey:g,updatedBy:h.of_string(f?c("MAWEphemeralMsgAutoResetSystemId"):k!=null?k:d("MAWCurrentUser").getID()),updatedTimestamp:h.of_float(e)})}async function a(a,b,c,d){var e=await i.load();e=await e();return e.runInTransaction(function(e){return m(e,a,b,c,d,!1)},"readwrite")}async function b(a,b,e,f,g){var h=await i.load();h=await h();var j;c("gkx")("11440")&&(j=(await k.load()).castUnixTimeToMillisTime(b));return h.runInTransaction(async function(h){var i=await d("MAWChatJid").toThreadKeyMaybe(h,f);return i!=null?m(h,a,c("gkx")("11440")?j:(await k.load()).castUnixTimeToMillisTime(b),e,i,g):Promise.resolve()},"readwrite")}g.updateEphemeralSettingsWithTxn=m;g.updateEphemeralSettings=a;g.updateEphemeralSettingsByChatJid=b}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWBridgeTraceRecordCheckpointHandler","MAWJobDefinitions","MAWJobManager","WAJobOrchestratorTypes","err","getErrorSafe","ifRequireable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,b,e,f,g,h,i,l,m,n,o,p,q,r,s,t){s===void 0&&(s=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);try{return k(b,e,q,f,g,i,m,n,o,r==null?void 0:r,void 0,s,t)}catch(b){if(n!=null){h={checkPointId:(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:n,errorMessage:c("getErrorSafe")(b).message,shouldFlush:!0,syncChannel:-1,tags:void 0};if(a!=null)return d("MAWBridgeTraceRecordCheckpointHandler").call(a,h).then(function(){return Promise.reject(c("getErrorSafe")(b))});void d("MAWBridgeTraceRecordCheckpointHandler").callWithoutTxn(h);return Promise.reject(c("getErrorSafe")(b))}}return Promise.resolve()}function k(a,b,e,f,g,k,l,m,n,o,p,q,r){q===void 0&&(q=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);var s;if((h||(h=c("ExecutionEnvironment"))).isInWorker)s=d("MAWJobManager").getJobManager();else{var t;c("ifRequireable")("MAWTimedJob",function(a){a=a.TimedUIJobStarters;t=a},function(){throw c("err")("MAWTimedJob is not requireable in MAWRestoreProtobufsFromEncryptedBackupsNOP")});s=c("nullthrows")(t,"ifRequireable is not sync")}if(m!=null&&o!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(o)===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION&&!(h||(h=c("ExecutionEnvironment"))).isInWorker)return s.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:q},o,p,void 0,r!=null?r:void 0));return(j||(j=d("LSIntEnum"))).unwrapIntEnum(o||(i||(i=d("I64"))).zero)===c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&!(h||(h=c("ExecutionEnvironment"))).isInWorker?s.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},o,p,void 0,r!=null?r:void 0)):Promise.resolve(s.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},o,p,void 0,r!=null?r:void 0)))}g.call=a}),98);
__d("MAWThreadConsistencyLogger",["FBLogger","I64","LSAuthorityLevel","LSCheckThreadConsistencyStoredProcedure","LSDatabaseSingleton","LSFactory","LSMessagingThreadTypeUtil","LSShape","LSVec","ODS","ReQL","WAArrayZip","clearInterval","gkx","justknobx","promiseDone","qex","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=20,l=c("justknobx")._("3207"),m=!c("gkx")("5457"),n=!1,o=null;function a(){if(n||m)return;n=!0;c("clearInterval")(o);o=c("setInterval")(function(){if(document.visibilityState!=="visible")return;c("promiseDone")(p())},l*1e3)}async function p(){var a=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;c("promiseDone")(a.runInTransaction(async function(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","initiate_snapshot");var b=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs")).filter(q).take(k));if(b.length===0){(i||(i=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","no_e2ee_threads_fetched_on_client");return}var e;c("qex")._("18")?e=await Promise.all(b.map(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(b.threadKey))})):e=await Promise.all(b.map(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey))}));b=d("WAArrayZip").zip(b,e).map(function(a){var b=a[0];a=a[1];return d("LSShape").ofRecord({is_last_activity_optimistic:r(a),last_activity_timestamp_ms:b.lastActivityTimestampMs,last_read_timestamp_ms:b.lastReadWatermarkTimestampMs,thread_key:b.threadKey})});return c("LSCheckThreadConsistencyStoredProcedure")(c("LSFactory")(a),{metadata:d("LSShape").ofRecord({client_snapshot_timestamp_ms:(j||(j=d("I64"))).of_float(Date.now()),session_timestamp_ms:j.of_int32(Math.round(window.performance.now()))}),threads:c("LSVec").ofArray(b)})},"readonly",void 0,void 0,f.id+":59"),function(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","send_snapshot")},function(a){c("FBLogger")("maw_tc_metric").catching(a).warn("failed to send tc metric snapshot")})}function q(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&a.folderName==="inbox"&&(j||(j=d("I64"))).to_int32(a.authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}function r(a){return a==null?!1:(j||(j=d("I64"))).to_int32(a.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE}g.startMAWThreadConsistencyLogger=a;g.MAWThreadConsistencyLoggerTakeSnapshot=p}),98);
__d("MWPReplyLogging",["I64","QPLUserFlow","deepEquals","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a){var b=Date.now()|0;i.set((h||(h=d("I64"))).to_string(a),b);return b}function k(a){var b=i.get((h||(h=d("I64"))).to_string(a));if(b==null)return j(a);else return b}function a(a,b,e){if(e){a?c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:k(b)}):c("QPLUserFlow").endSuccess(c("qpl")._(25298086,"3996"),{instanceKey:k(b)});i["delete"]((h||(h=d("I64"))).to_string(b));return}}function b(a,b,d){if(a!=null){if(c("deepEquals")(a,b)){c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"same_message",{instanceKey:k(d)});return}if(!c("deepEquals")(a,b)){a=k(d);c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"switch_message",{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:a});c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:j(d),timeoutInMs:6e4});return}}c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:j(d),timeoutInMs:6e4})}e={logClearReply:a,logSetReply:b};g["default"]=e}),98);
__d("MwbCmInformTreatmentEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6736");b=d("FalcoLoggerInternal").create("mwb_cm_inform_treatment_event",a);e=b;g["default"]=e}),98);
__d("MwbInformTreatmentShownImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6735");b=d("FalcoLoggerInternal").create("mwb_inform_treatment_shown_impression",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a){var b=new(i||(i=c("URI")))(a);return b.getDomain()?a:new(i||(i=c("URI")))(window.location.href).setPath(b.getPath()).toString()}function l(a){a=new(i||(i=c("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var m=function(a,b){for(a of c("createArrayFromMixed")(a)){if(j.has(a))return;var d=document.createElement("audio");if(!d||!d.canPlayType||!d.canPlayType(l(a)))continue;d.preload="auto";d.src=k(a);document.body&&document.body.appendChild(d);j.set(a,d);(b==null?void 0:b.onPreload)!=null&&b.onPreload(d);return}};a=function(a,b){b===void 0&&(b={});for(a of c("createArrayFromMixed")(a)){j.has(a)||m(a,b.callbacks);var e=j.get(a);if(!e)continue;b.loop&&e.setAttribute("loop","");b.volume&&(e.volume=b.volume);e=e.play();e!=null&&typeof e.then==="function"?e.then(function(){(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","play.error")}):(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","non_promise");return}};b=function(a){for(a of c("createArrayFromMixed")(a)){var b=j.get(a);if(b){b.pause();return}}};e=function(a){for(a of c("createArrayFromMixed")(a)){var b=j.get(a);b&&(b.pause(),b.removeAttribute("src"),b.src=k(a))}};g.preload=m;g.play=a;g.pause=b;g.stop=e}),98);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d,e){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d,callbacks:e});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","cr:950105"],(function(a,b,c,d,e,f,g){function h(a,b,c,e){d("SoundSynchronizer").play(a,b,c,e)}function a(a,b,c,e){b={name:"SoundRPC",data:{paths:b,sync:c,loop:e}};d("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,d("FBJSON").stringify(b))}function c(){return!!window.postMessage}function e(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var b={};try{a=a.data;typeof a==="string"&&(b=d("FBJSON").parse(a))}catch(a){}a=b;b=a.name;a=a.data;b==="SoundRPC"&&a!=null&&typeof a==="object"&&h(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}g.playLocal=h;g.playRemote=a;g.supportsRPC=c;g._listen=e}),98);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i=null,j=!1;function a(a){}function k(a,b,c,e){i?d("SoundRPC").playRemote(i.contentWindow,a,b,!1):d("SoundRPC").playLocal(a,b,c,e),j=!0}function b(){return j}function e(a,b,d){if(!j&&c("Visibility").isHidden())return;k(a,b,d)}function f(a){i||d("SoundPlayer").stop(a)}var l=new(h||c("URI"))(location.href),m=new Set(["comet","www","business"]);l.getSubdomain()&&!m.has(l.getSubdomain())&&l.setSubdomain("www");m=l.getDomain();function n(){if(d("UserAgent_DEPRECATED").ie()<9)return!1;return c("SoundInitialData").RPC_DISABLED?!1:d("SoundSynchronizer").isSupported()&&d("SoundRPC").supportsRPC()}c("isFacebookURI")(l)&&location.host!==m&&n()&&(i=document.createElement("iframe"),i.setAttribute("src","//"+m+"/sound_iframe.php"),i.style.display="none",document.body&&document.body.appendChild(i));g.init=a;g.play=k;g.hasPlayedSoundBefore=b;g.playOnlyIfImmediate=e;g.stop=f}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b={ConnectionStateMachine:(a=c("qpl"))._(64243854,"2452"),ParentSignalingClient:a._(64234815,"1094"),PeerConnectionStateMachine:a._(64239068,"6172"),SignalingStateMachine:a._(64245348,"8823")};g["default"]=b}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway",a),h.flush()};b.logE2eeCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a),h.flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist.experimental","UserAgentData","WebDriverConfig","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingUtils","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;a=function(){function a(){var a;this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=c("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist.experimental").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist.experimental").STATES)}a.getInstance=function(){j||(j=new a());return j};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};var b=a.prototype;b.$7=function(a,b,e){b===void 0&&(b=!0);var f=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});c("WebDriverConfig").isJestE2ETestRun&&d("Log").debug(a);this.$1.log("Console",f+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:e})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+(b!=null?b:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,e,f){f===void 0&&(f=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!(a&&(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()))return;e==="terminated"?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,f):(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:{string:{data:e}},instanceKey:f})};b.$10=function(a){return isNaN(+a)?0:+a};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!c("isEmployeeTestUserZenonLogging")())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("isEmployeeTestUserZenonLogging")())return;var j="";g!=null&&g.length===1&&g[0].type==="defer"?j="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?j="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?j="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:(j="["+a+"] [[DROPPED] "+f+" did not trigger transition. Current state remains "+d,this.$11(a));this.$8(j,h,i)};b.startQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);c("isEmployeeTestUserZenonLogging")()&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$11=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),h.flush()};return a}();g["default"]=a}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("ZenonUserActionLogger",["FBLogger","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("FBLogger")("rtc_www").mustfixThrow("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!");if(!d("ZenonLoggingUtils").shouldAllowLogging())return;b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var e=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});c("RtcWebUserActionsFalcoEvent").log(function(){return e});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("ZenonUserActionLoggerCommon",["ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";g.logClick=c("ZenonUserActionLogger").logClick,g.logImpression=c("ZenonUserActionLogger").logImpression}),98);/*FB_PKG_DELIM*/
__d("FBIconBadgeAdminOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M104.44 214.374c4.402-1.205 6.815-4.15 7.732-7.837.22-.884.328-1.814.328-2.774v-4.204a1.55 1.55 0 0 0-1.24-1.53c-2.622-.513-5.164-1.508-6.674-3.067a1.509 1.509 0 0 0-2.172 0c-1.51 1.559-4.053 2.554-6.674 3.068a1.55 1.55 0 0 0-1.24 1.529v4.204c0 .961.107 1.89.327 2.774.92 3.687 3.332 6.632 7.734 7.837a3.565 3.565 0 0 0 1.724.039l.154-.039zm-1.483-1.446c-3.824-1.048-5.876-3.553-6.674-6.753a9.963 9.963 0 0 1-.283-2.412v-4.204c0-.034.017-.055.03-.057 2.898-.568 5.68-1.657 7.461-3.497.007-.006.011-.006.017 0 1.782 1.84 4.563 2.929 7.463 3.497.012.002.03.023.03.057v4.204c0 .841-.094 1.65-.284 2.412-.782 3.142-2.775 5.614-6.467 6.694l-.207.059a2.064 2.064 0 0 1-1.086 0z",transform:"translate(352.5 203.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m103.814 200.194 1.205 2.408 2.679.384c.29.042.405.404.193.608l-1.933 1.857.458 2.632a.352.352 0 0 1-.507.377l-2.409-1.249-2.41 1.249a.352.352 0 0 1-.506-.377l.458-2.632-1.933-1.857a.356.356 0 0 1 .194-.608l2.678-.384 1.206-2.408a.35.35 0 0 1 .627 0",transform:"translate(352.5 203.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconShieldKeyholeOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103 201.5a2 2 0 1 1-4 0 2 2 0 0 1 4 0",transform:"translate(355 204)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m101 201.5 1.843 4.423a.416.416 0 0 1-.385.577h-2.916a.416.416 0 0 1-.385-.577L101 201.5z",transform:"translate(355 204)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107.312 208.579a6.456 6.456 0 0 0 1.688-4.347v-7.118a1.57 1.57 0 0 0-1.196-1.523l-.588-.142c-2.347-.558-4.602-.949-6.216-.949-1.749 0-4.252.46-6.804 1.091A1.57 1.57 0 0 0 93 197.114v7.118c0 1.606.601 3.153 1.688 4.347 1.759 1.933 3.637 3.602 5.521 4.706a1.568 1.568 0 0 0 1.49.05l.092-.05c1.884-1.104 3.764-2.774 5.521-4.706zm-6.28 3.412a.069.069 0 0 1-.064 0c-1.73-1.014-3.505-2.59-5.17-4.422a4.956 4.956 0 0 1-1.298-3.337v-7.118c0-.03.022-.058.057-.067C96.991 196.445 99.413 196 101 196c1.587 0 4.007.444 6.443 1.047.035.009.057.037.057.067v7.118a4.957 4.957 0 0 1-1.298 3.337c-1.588 1.747-3.279 3.264-4.933 4.28l-.237.142z",transform:"translate(355 204)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSFetchBackupsMetadata",["LSAppendDataTraceAddon","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(a){return d.sequence([function(a){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] Beginning execution."),c("justknobx")._("1101")?d.sequence([function(a){return d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1478]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[9]=a[0],a})},function(a){return e[9]?e[10]=!0:e[10]=!1,e[10]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[12]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[12]].join("")),e[11]=d.createArray(),void 0!==void 0?e[13]=(e[11].push(void 0),e[11]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[12],e[11],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.forEach(d.db.table(196).fetch(),function(a){return a["delete"]()})},function(a){return d.db.table(172).fetch([[[d.i64.cast([0,1])]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[7]=void 0:(b=a.item,e[7]=b.backupId)})},function(a){return d.i64.neq(e[7],void 0)?d.sequence([function(a){return d.forEach(d.filter(d.db.table(196).fetch([[[e[7]]]]),function(a){return d.i64.eq(a.backupId,e[7])&&d.i64.lt(a.authorityLevel,d.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return d.db.table(196).add({backupId:e[7],authorityLevel:d.i64.cast([0,20]),backupSize:d.i64.cast([0,0]),creationTime:d.i64.cast([0,0]),lastSyncTime:d.i64.cast([0,0])})},function(a){return e[9]=new d.Map(),e[9].set("trace_id",void 0),e[10]=d.toJSON(e[9]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50022]),e[10],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[11]=a[0],a})}]):d.sequence([function(a){return e[9]="Backup is not initialized",e[9]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] ","",e[9]].join("")),e[10]=d.createArray(),void 0!==void 0?e[11]=(e[10].push(void 0),e[10]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupsMetadataStoredProcedure",e[9],e[10],d.i64.cast([0,3]))):d.resolve()},function(a){return d.forEach(d.db.table(196).fetch(),function(a){return a["delete"]()})},function(a){return d.forEach(d.filter(d.db.table(196).fetch([[[d.i64.cast([-1,4294967295])]]]),function(a){return d.i64.eq(a.backupId,d.i64.cast([-1,4294967295]))&&d.i64.lt(a.authorityLevel,d.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(a){return d.db.table(196).add({backupId:d.i64.cast([-1,4294967295]),authorityLevel:d.i64.cast([0,80]),backupSize:d.i64.cast([-1,4294967295]),creationTime:d.i64.cast([-1,4294967295]),lastSyncTime:d.i64.cast([-1,4294967295])})}])}]):d.resolve(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] is_backup_metadata_enabled is disabled"))},function(a){return e[1]=d.i64.of_float(Date.now()),e[2]=d.i64.random(),e[4]="Finishing execution. Execution time: ",e[5]=d.i64.to_string(d.i64.sub(e[1],e[0])),e[6]=" ms",e[3]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] ",e[3],e[4],e[3],e[5],e[3],e[6]].join("")),d.i64.eq(d.i64.mod_(e[2],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[7]=",",e[8]=d.createArray(),void 0!==void 0?e[9]=(e[8].push(void 0),e[8]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupsMetadataStoredProcedure",[e[4],e[7],e[5],e[7],e[6]].join(""),e[8],d.i64.cast([0,4]))):d.resolve()}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsFetchBackupsMetadataStoredProcedure";a.__tables__=["encrypted_backups_metadata","encrypted_backups"];d=a;g["default"]=d}),98);
__d("LSFetchBackupsMetadataStoredProcedure",["LSFetchBackupsMetadata","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSFetchBackupsMetadata"),e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticallyUpdateMessagingPrivacySettings",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.forEach(c.db.table(288).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({readReceiptsDisabled:a[0]})})},function(e){return d[1]=new c.Map(),d[1].set("read_receipts_disabled",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"toggle_rr",c.i64.cast([0,731]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure";a.__tables__=["messaging_privacy_settings"];e.exports=a}),null);
__d("LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure",["LSOptimisticallyUpdateMessagingPrivacySettings","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticallyUpdateMessagingPrivacySettings"),e.readReceiptsDisabled);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWXIconMenuItemHouseKeyhole",["MWXSvgIcon","SVGIcon","cr:22704","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22704")),c("gkx")("23219"));g["default"]=a}),98);
__d("MAWSecurityAlertsBadgeMenuItem.react",["fbt","FDSNumberedBadge.react","JSResourceForInteraction","MWJewelPopoverDialogContext.react","MWPBumpEntityKey","MWXIconMenuItemHouseKeyhole","MWXMenuItem.react","gkx","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l=c("JSResourceForInteraction")("MAWSecurityAlertsDialog.react").__setRef("MAWSecurityAlertsBadgeMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(12);a=a.count;var e=c("useMWXLazyDialog")(l),f=e[0];e=k(c("MWJewelPopoverDialogContext.react"));var g=e.setIsOpenForDialog;e=c("gkx")("23219");var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"View security alerts"),b[0]=i):i=b[0];i=i;var m;b[1]!==a?(m=h._(/*BTDS*/"_j{\"*\":\"{number} security alerts\",\"_1\":\"1 security alert\"}",[h._plural(a,"number")]),b[1]=a,b[2]=m):m=b[2];b[3]!==a||b[4]!==m?(e={badge:j.jsx(c("FDSNumberedBadge.react"),{accessibilityText:m,color:e?"red":"lightBlue",value:a}),type:"numberedBadge"},b[3]=a,b[4]=m,b[5]=e):e=b[5];b[6]!==g||b[7]!==f?(a=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","security_alerts"),g(!0),f({})},b[6]=g,b[7]=f,b[8]=a):a=b[8];b[9]!==e||b[10]!==a?(m=j.jsx(c("MWXMenuItem.react"),{auxItem:e,icon:c("MWXIconMenuItemHouseKeyhole"),id:"security_alerts_badge_menu_item",onClick:a,primaryText:i}),b[9]=e,b[10]=a,b[11]=m):m=b[11];return m}g["default"]=a}),226);
__d("MAWSecurityAlertsBadgeMenuItemWrapper.react",["MAWSecurityAlertsBadgeMenuItem.react","react","react-compiler-runtime","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(3);a=a.value;var e=c("useMAWSecurityAlertsPreferences")();e=e.securityAlertsPreferences;e==null||e.allowSecurityAlertForSelf;var f;b[0]!==(e==null?void 0:e.allowSecurityAlertForSelf)||b[1]!==a?(f=e!=null&&e.allowSecurityAlertForSelf?i.jsx(c("MAWSecurityAlertsBadgeMenuItem.react"),{count:a}):null,b[0]=e==null?void 0:e.allowSecurityAlertForSelf,b[1]=a,b[2]=f):f=b[2];e=f;return e}g["default"]=a}),98);
__d("MAWSecurityAlertsMenuItem.react",["fbt","JSResourceForInteraction","MWJewelPopoverDialogContext.react","MWPBumpEntityKey","MWXMenuItem.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l=c("JSResourceForInteraction")("MAWSecurityAlertsDialog.react").__setRef("MAWSecurityAlertsMenuItem.react");function a(){var a=d("react-compiler-runtime").c(7),b=c("useMWXLazyDialog")(l),e=b[0];b=k(c("MWJewelPopoverDialogContext.react"));var f=b.setIsOpenForDialog;a[0]!==f||a[1]!==e?(b=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","security_alerts"),f(!0),e({})},a[0]=f,a[1]=e,a[2]=b):b=a[2];var g,i;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Security alerts"),i=h._(/*BTDS*/"View and manage alerts for logins and key changes"),a[3]=g,a[4]=i):(g=a[3],i=a[4]);a[5]!==b?(g=j.jsx(c("MWXMenuItem.react"),{onClick:b,primaryText:g,secondaryText:i,testid:void 0}),a[5]=b,a[6]=g):g=a[6];return g}g["default"]=a}),226);
__d("MAWXMAPreviewsSettingsMenuItem.react",["fbt","JSResourceForInteraction","MWXMenuItem.react","react","react-compiler-runtime","useMWXLazyDialog","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Previews"),l=h._(/*BTDS*/"See previews of Facebook content"),m=c("JSResourceForInteraction")("MAWXMAPreviewSettingsDialog.react").__setRef("MAWXMAPreviewsSettingsMenuItem.react");function a(){var a=d("react-compiler-runtime").c(9),b=c("useXMAPreviewsDisabledSetting")(),e=c("useMWXLazyDialog")(m),f=e[0];a[0]!==b?(e=b?h._(/*BTDS*/"Off"):h._(/*BTDS*/"On"),a[0]=b,a[1]=e):e=a[1];a[2]!==e?(b={auxText:e,type:"text"},a[2]=e,a[3]=b):b=a[3];a[4]!==f?(e=function(){return f({})},a[4]=f,a[5]=e):e=a[5];var g;a[6]!==b||a[7]!==e?(g=j.jsx(c("MWXMenuItem.react"),{auxItem:b,onClick:e,primaryText:k,secondaryText:l}),a[6]=b,a[7]=e,a[8]=g):g=a[8];return g}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsDialogQuery$Parameters",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsSettingsDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsSettingsDialogQuery$Parameters","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=c("gkx")("2760"))!=null?a:!1;b={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsSettingsDialogQuery$Parameters"),variables:{labyrinthOnePointOneSecurityUX:h}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsSettingsDialog.react").__setRef("MWChatEncryptedBackupsSettingsDialog.entrypoint")};g["default"]=b}),98);
__d("MWChatSidebarEncryptedBackupsMenuItem.react",["fbt","MAWEncryptedBackupsStateManager","MWChatEncryptedBackupsSettingsDialog.entrypoint","MWEBEntrypointsKillswitch.enum","MWJewelPopoverDialogContext.react","MWXMenuItem.react","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useMWEBBackupState","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useContext,m=c("requireDeferred")("MWEncryptedBackupsFetchBackupMetadata").__setRef("MWChatSidebarEncryptedBackupsMenuItem.react"),n=h._(/*BTDS*/"Message storage"),o=h._(/*BTDS*/"Manage how you store and access your chat history.");function a(){var a=d("react-compiler-runtime").c(13),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsSettingsDialog.entrypoint"),b);var e=b[0];b=l(c("MWJewelPopoverDialogContext.react"));var f=b.setIsOpenForDialog,g=(i||(i=c("useReStore")))();a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={entrypoint:c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS},a[1]=b):b=a[1];var j=c("useMWEBBackupState")(b);a[2]!==j||a[3]!==f||a[4]!==e||a[5]!==g?(b=function(){d("MAWEncryptedBackupsStateManager").eligibleForEBUX(j)&&m.onReady(function(a){a=a.fetchBackupMetadata;c("promiseDone")(a(g))}),f(!0),e({})},a[2]=j,a[3]=f,a[4]=e,a[5]=g,a[6]=b):b=a[6];b=b;var p=j===-1||j===1,q;a[7]!==j||a[8]!==p?(q=c("gkx")("19350")?void 0:p?void 0:{auxText:j===3?h._(/*BTDS*/"On"):h._(/*BTDS*/"Off"),type:"text"},a[7]=j,a[8]=p,a[9]=q):q=a[9];a[10]!==b||a[11]!==q?(p=k.jsx(c("MWXMenuItem.react"),{auxItem:q,onClick:b,primaryText:n,role:"button",secondaryText:o,testid:void 0}),a[10]=b,a[11]=q,a[12]=p):p=a[12];return p}g["default"]=a}),226);
__d("MWChatSidebarSettingsE2EEChatsMenu.react",["fbt","MAWSecurityAlertsMenuItem.react","MAWXMAPreviewsSettingsMenuItem.react","MWXDivider.react","MWXMenuItemWithSubmenu.react","cr:3079","cr:6692","cr:6733","cr:7398","cr:8596","cr:8597","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={divider:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0}},l=h._(/*BTDS*/"End-to-end encrypted chats"),m=h._(/*BTDS*/"Manage your end-to-end encrypted chat settings"),n=(f=(e=b("cr:8596"))!=null?e:b("cr:8597"))!=null?f:b("cr:6733");function a(){var a=d("react-compiler-runtime").c(4),e,f,g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={title:l},f=n!=null?j.jsx(n,{},"encrypted-backups-comet"):null,g=j.jsx(c("MAWSecurityAlertsMenuItem.react"),{},"security-alerts-after-redesign"),a[0]=e,a[1]=f,a[2]=g):(e=a[0],f=a[1],g=a[2]);a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXMenuItemWithSubmenu.react"),{primaryText:l,secondaryText:m,submenu:{header:e,items:[f,g,j.jsxs(j.Fragment,{children:[j.jsx(c("MWXDivider.react"),{xstyle:k.divider}),j.jsx(c("MAWXMAPreviewsSettingsMenuItem.react"),{})]},"settings-xma-previews"),b("cr:3079")!=null?j.jsx(b("cr:3079"),{},"encrypted-backups-dev-options"):null,b("cr:6692")&&j.jsx(b("cr:6692"),{},"persisted-eb-state-menu"),b("cr:7398")!=null?j.jsx(b("cr:7398"),{},"reset-menu"):null]},testid:void 0}),a[3]=e):e=a[3];return e}g["default"]=a}),226);
__d("MWSupportInboxDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10072286692871312"}),null);
__d("MWSupportInboxDialogQuery$Parameters",["MWSupportInboxDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWSupportInboxDialogQuery_facebookRelayOperation"),metadata:{},name:"MWSupportInboxDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWSupportInboxDialog.entrypoint",["JSResourceForInteraction","MWSupportInboxDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWSupportInboxDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MWSupportInboxDialog.react").__setRef("MWSupportInboxDialog.entrypoint")};g["default"]=a}),98);
__d("XSupportInboxControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/support/",Object.freeze({second:!1,shimmed_in_item:!1}),void 0);b=a;g["default"]=b}),98);
__d("MWSupportInboxMenuItem.react",["fbt","MWJewelPopoverDialogContext.react","MWPBumpEntityKey","MWSupportInboxDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","QPLUserFlow","XSupportInboxControllerRouteBuilder","gkx","qpl","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(){var a=d("react-compiler-runtime").c(12),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWSupportInboxDialog.entrypoint"),b);var e=b[0];b=k(c("MWJewelPopoverDialogContext.react"));var f=b.setIsOpenForDialog,g=c("MessengerWebUXLogger").useInteractionLogger();a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={eventName:"support_inbox_entrypoint_impression"},a[1]=b):b=a[1];b=c("MessengerWebUXLogger").useImpressionLoggerRef(b);var i;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("gkx")("23433")?void 0:c("XSupportInboxControllerRouteBuilder").buildURL({}),a[2]=i):i=a[2];var l;a[3]!==g||a[4]!==f||a[5]!==e?(l=function(){g==null||g({eventName:"support_inbox_entrypoint_click"}),c("gkx")("23433")&&(c("QPLUserFlow").start(c("qpl")._(25305734,"469")),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","support_inbox"),f(!0),e({}))},a[3]=g,a[4]=f,a[5]=e,a[6]=l):l=a[6];var m;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Reported chats"),a[7]=m):m=a[7];var n;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"View updates about your reports"),a[8]=n):n=a[8];a[9]!==b||a[10]!==l?(i=j.jsx(c("MWXMenuItem.react"),{href:i,onClick:l,primaryText:m,ref:b,secondaryText:n}),a[9]=b,a[10]=l,a[11]=i):i=a[11];return i}g["default"]=a}),226);
__d("MWChatSidebarSettingsPrivacyMenu.react",["fbt","FDSMenuSeparator.react","MWEBEntrypointsKillswitch.enum","MWPBumpEntityKey","MWSupportInboxMenuItem.react","MWXIconMenuItemHouseKeyhole","MWXMenuItemWithSubmenu.react","cr:20183","cr:7253","cr:8073","react","react-compiler-runtime","useMWEBBackupState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(10),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f;if(a[1]!==e){f=[];if(b("cr:7253")!=null){var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(b("cr:7253"),{},"settings-e2ee-chats"),a[3]=g):g=a[3];f.push(g)}if(b("cr:20183")!=null){a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(b("cr:20183"),{},"settings-read-receipts"),a[4]=g):g=a[4];f.push(g)}a[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWSupportInboxMenuItem.react"),{},"settings-support-inbox"),a[5]=g):g=a[5];f.push(g);if(b("cr:8073")!=null&&e===3){a[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsxs(j.Fragment,{children:[j.jsx(c("FDSMenuSeparator.react"),{}),j.jsx(b("cr:8073"),{})]},"settings-verify-keys-in-chat"),a[6]=g):g=a[6];f.push(g)}a[1]=e;a[2]=f}else f=a[2];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Privacy & safety"),a[7]=g):g=a[7];a[8]!==f?(e=j.jsx(c("MWXMenuItemWithSubmenu.react"),{icon:c("MWXIconMenuItemHouseKeyhole"),onClick:k,primaryText:g,submenu:{items:f},testid:void 0}),a[8]=f,a[9]=e):e=a[9];return e}function k(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","privacy_submenu")}g["default"]=a}),226);
__d("useMWDropEBDbMenuDialog",["fbt","EBDB","promiseDone","react-compiler-runtime","setTimeout","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b=c("useMWXConfirmationDialog")(),e;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=async function(){await d("EBDB").clearAll()},a[0]=e):e=a[0];var f=e;a[1]!==b?(e=function(){return b({body:h._(/*BTDS*/"Confirm deleting persisted state for encrypted backups?"),cancel:h._(/*BTDS*/"Cancel"),confirm:h._(/*BTDS*/"Delete"),title:h._(/*BTDS*/"Clear Messaging Data")},function(){c("promiseDone")(f().then(i))})},a[1]=b,a[2]=e):e=a[2];return e}function i(){c("setTimeout")(j,500)}function j(){window.location.reload()}g.default=a}),226);
__d("MWDropEBDbMenu.react",["cr:5086","react","react-compiler-runtime","useMWDropEBDbMenuDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),e=c("useMWDropEBDbMenuDialog")(),f;a[0]!==e?(f=b("cr:5086")!=null?i.jsx(b("cr:5086"),{onClick:e,primaryText:"[Fb-only] Clear persisted EB DB"}):null,a[0]=e,a[1]=f):f=a[1];return f}g["default"]=a}),98);
__d("MWEBRestoreUpsellTrigger.react",["MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsRetrieveQplLoggingAnnotations","QPLUserFlow","react","react-compiler-runtime","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e=a.children,f=a.markerPrefix,g=a.qplSource,i=(h||(h=c("useReStore")))();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var j=a[0];a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var k=a.startFlow;b[1]!==i||b[2]!==g||b[3]!==k?(a=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:i,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,j=b.hasPDB,l=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;k({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:j,has_user_restored_before:l,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:g});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a)}})},b[1]=i,b[2]=g,b[3]=k,b[4]=a):a=b[4];var l=a;b[5]!==f||b[6]!==l?(a={onVisible:function(){l(f+"_IMPRESSION")}},b[5]=f,b[6]=l,b[7]=a):a=b[7];a=c("useVisibilityObserver")(a);var m;b[8]!==f||b[9]!==g||b[10]!==j||b[11]!==l?(m=function(){l(f+"_CLICKED"),j({source:g})},b[8]=f,b[9]=g,b[10]=j,b[11]=l,b[12]=m):m=b[12];m=m;var n;b[13]!==e||b[14]!==m||b[15]!==a?(n=e(m,a),b[13]=e,b[14]=m,b[15]=a,b[16]=n):n=b[16];return n}g["default"]=a}),98);
__d("MWEncryptedBackupsFetchBackupMetadata",["LSFactory","LSFetchBackupsMetadataStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.runInTransaction(function(a){return c("LSFetchBackupsMetadataStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":17")}g.fetchBackupMetadata=a}),98);
__d("MWFDSMenuItemHouseKeyhole.svg.react",["cr:21952"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21952")}),98);
__d("MWFDSMenuItemShieldStar.svg.react",["cr:22039"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22039")}),98);
__d("MWReadReceiptsMenuItem.react",["fbt","FDSMenuItemCheckbox.react","I64","LSFactory","LSIntEnum","LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure","LSReadReceiptSettingState","MWXMenuItemWithSubmenu.react","MWXText.react","ReadReceiptControlSettingChangedFalcoEvent","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedOnChange","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));i.useCallback;var m=250;function n(){var a=d("react-compiler-runtime").c(10),b=c("useAsyncReStore")(),e=c("useMWIsReadReceiptsDisabledForUser")(),g;a[0]!==b?(g=function(a){c("promiseDone")(b,function(b){var e=a?(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").DISABLED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").ENABLED);c("ReadReceiptControlSettingChangedFalcoEvent").log(function(){return{is_account_level:!0,setting_enabled:!(k||(k=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").DISABLED))}});c("promiseDone")(b.runInTransaction(function(a){return c("LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure")(c("LSFactory")(a),{readReceiptsDisabled:e})},"readwrite",void 0,void 0,f.id+":50"))})},a[0]=b,a[1]=g):g=a[1];g=g;e=c("useDebouncedOnChange")(e,g,m);var i=e[0],n=e[1];g=!i;a[2]!==n||a[3]!==i?(e=function(){return n(!i)},a[2]=n,a[3]=i,a[4]=e):e=a[4];var o;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Show read receipts"),a[5]=o):o=a[5];var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:h._(/*BTDS*/"People wont be able to see when you've read their messages, and you won't be able to see when they've read yours.")}),a[6]=p):p=a[6];a[7]!==g||a[8]!==e?(o=l.jsx(c("FDSMenuItemCheckbox.react"),{asSwitch:!0,isSelected:g,onClick:e,preventClosingMenuOnSelect:!0,primaryText:o,secondaryText:p}),a[7]=g,a[8]=e,a[9]=o):o=a[9];return o}function a(){var a=d("react-compiler-runtime").c(6),b=c("useMWIsReadReceiptsDisabledForUser")(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Read receipts"),a[0]=e):e=a[0];var f;a[1]!==b?(f=b?h._(/*BTDS*/"Off"):h._(/*BTDS*/"On"),a[1]=b,a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b={header:{title:h._(/*BTDS*/"Read receipts")},items:[l.jsx(n,{},"read-receipts")]},a[3]=b):b=a[3];a[4]!==f?(e=l.jsx(c("MWXMenuItemWithSubmenu.react"),{primaryText:e,secondaryText:f,submenu:b}),a[4]=f,a[5]=e):e=a[5];return e}g["default"]=a}),226);
__d("MWXIconMenuItemShieldStar",["MWXSvgIcon","SVGIcon","cr:22817","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22817")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWSettingsButtonSecurityAlertsBadge",["react","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=c("useMAWSecurityAlertsPreferences")();a=a.securityAlertsPreferences;var b=d("useDeviceAlertCount").useDeviceAlertCount();a==null||a.allowSecurityAlertForSelf;a=a!=null&&a.allowSecurityAlertForSelf&&b>0?b:null;return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25,FRIENDS_FEED_BADGED:26,FRIENDLY_FEED_PROMOTION_GAP_3:27});c=a;f["default"]=c}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=6;function a(a,b){if(b!==5)return!1;b=c("gkx")("23035");if(!b)return!1;b=j(a,0);return b>i}function j(a,b){if(a.length===0||b>i)return b;var c=a.length,d=k(a);if(d===-1)return b;return c-d<=h?j(a.slice(0,d),b+1):b}function k(a){for(var b=a.length-1;b>=0;b--)if(a[b].minGapType===5)return b;return-1}g.EXTREME_GAP_DISTANCE=h;g.shouldApplyExtremeGapProtection=a;g.getLastSponsoredStoryPosition=k}),98);
__d("AuditImpressionChannelSessionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3703");b=d("FalcoLoggerInternal").create("audit_impression_channel_session",a);e=b;g["default"]=e}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1305");b=d("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",a);e=b;g["default"]=e}),98);
__d("Comet2ndChannelContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5479");b=d("FalcoLoggerInternal").create("comet_ads_product_logging",a);e=b;g["default"]=e}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.map(function(a,c){return b(a)?babelHelpers["extends"]({},a,{position:c}):null}).filter(Boolean)}function b(a){return a.filter(h)}function c(a){return a.filter(i)}function d(a){return a.filter(j)}function e(a){return a.filter(function(a){return a.status==="received"||a.status==="positioned"})}function g(a){var b=a.reduce(function(a,b,c){return j(b)?c:a},-1);return a.map(function(a,c){return c<=b&&!j(a)?babelHelpers["extends"]({},a,{status:"rendered"}):a})}function h(a){return a.status==="rendered"}function i(a){return a.status!=="error"}function j(a){return a.status==="rendered"||a.status==="error"||a.status==="positioned"}f.getFeedUnitsWithOriginalPosition=a;f.getCurrentlyVisibleFeedUnits=b;f.getPossiblyVisibleFeedUnits=c;f.getAllPositionedFeedUnits=d;f.getUncommittedFeedUnits=e;f.getFeedUnitsWithRenderingOutOfOrderFixed=g;f.isCurrentlyVisible=h;f.isPossiblyVisible=i;f.isAnyPositionedType=j}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h="SPONSORED",i="comet.home";function a(a){var b=a.adId,d=a.csp,e=a.cts,f=a.endPoint,g=a.getFeedUnitStatusList,i=a.hba,k=a.isv,l=a.minGapRule,m=a.minGapType,n=a.sessionKey,o=a.tracking,p=a.vp;if(m!==h||l==null||b==null)return;c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:d,endpoint:f,event:"impression",hba:i,isv:k,min_gap_shape:{min_gap_rule:l.toString(),min_gap_type:m},session_key:n,timestamp:e,tracking:o,vp:p}});j({adId:b,csp:d,cts:e,endPoint:f,getFeedUnitStatusList:g,hba:i,isv:k,minGapRule:l,minGapType:m,sessionKey:n,tracking:o,vp:p})}function j(a){var b=a.adId,e=a.csp,f=a.cts,g=a.endPoint,h=a.getFeedUnitStatusList,i=a.hba,j=a.isv,k=a.minGapRule,l=a.minGapType,m=a.sessionKey,n=a.tracking,o=a.vp;if(h==null||e==null)return;a=h();h=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);a=parseInt(e,10);h=h.slice(0,a-1);var p=d("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(h,5);if(!p)return;var q=a-d("AdsExtremeGapUtils").getLastSponsoredStoryPosition(h);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:e,endpoint:g,event:"extreme_experience",hba:i,isv:j,min_gap_shape:{min_gap_rule:k!=null?k.toString():null,min_gap_type:l},product_features:q<=d("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:f,tracking:n,vp:o}})}function b(a){var b=a.adId,e=a.endPoint,f=e===void 0?i:e,g=a.minGapRule,h=a.minGapType;e=Date.now();var j=Math.floor(e/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:null,endpoint:f,event:"cta_click",hba:!1,isv:null,min_gap_shape:{min_gap_rule:g!=null?g.toString():null,min_gap_type:h},product_features:"primary_blue_cta_button",session_key:d("WebSession").getId(),timestamp:j.toString(),tracking:null,vp:null}})}function e(a){var b=a.endPoint,e=b===void 0?i:b,f=a.minGapRule,g=a.minGapType;b=Date.now();var h=Math.floor(b/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:e,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:f!=null?f.toString():null,min_gap_type:g},product_features:"highest_position_ad_from_multifeed",session_key:d("WebSession").getId(),timestamp:h.toString(),tracking:null,vp:null}})}g.logCometAdsProductGapRule=a;g.logCometAdsProductGapRuleExtremeExperience=j;g.logCometAdsProductPrimaryBlueCTAButtonClick=b;g.logCometFeedHighestPositionAd=e}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});g["default"]=b}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){if(a==null||b==null){f&&c("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",e,f,JSON.stringify(a?a():null),JSON.stringify(b?b():null));return null}var g=a();g=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(g,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible);var k=g.findIndex(function(a){return a.position===e});if(!h(g,k)){f&&c("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",k,e,f,JSON.stringify(g),JSON.stringify(a()),JSON.stringify(b()));return null}f=b();a=i(g,f,k-1);b=i(g,f,k+1);k=j(g,f,k);return{brs_filter_setting:k,feed_size:g.length.toString(),feed_state:l(f),unit_after:b,unit_before:a}}function h(a,b){return((a=a[b])==null?void 0:a.category)==="SPONSORED"}function i(a,b,c){a=k(a,b,c);return a&&{brs_content_label:(b=a.brsContentLabel)==null?void 0:b.toString(),organic_tracking:a.tracking,unit_type:a.unitType}}function j(a,b,c){var d;a=k(a,b,c);return a==null||(d=a.brsFilterSetting)==null?void 0:d.toString()}function k(a,b,d){var e=a[d];if(e==null)return null;var f=e.key;f=b.feedUnitRegistry[f];f==null&&e.status==="rendered"?c("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry))):e.status==="error"&&c("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry)));return f}function l(a){a=a.feedStateInfoRef.current;if(a==null){c("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly");return"feed_uninitialized_state_info"}var b=a.hasMore,d=a.isEOFError,e=a.isLoading;a=a.showEOFMessageAfterFeedStoppedLoading;var f=c("NetworkStatus").isOnline();if(d)if(f)return"feed_eof_error_while_online";else return"feed_eof_error_while_offline";else if(a)if(f)return"feed_eof_no_more_stories_while_online";else return"feed_eof_no_more_stories_while_offline";else if(b&&e)return"feed_has_more_and_is_loading";else if(b)return"feed_has_more";else if(e)return"feed_is_loading";else return"feed_unknown"}g.getBrandSafetyFieldForAdImpression=a}),98);
__d("CometImpressionLoggingUtil",["AuditImpressionChannelSessionFalcoEvent","CometMetricsViewableImpressionFalcoEvent","WebSession","gkx","randomInt","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";e="TWO_M_SECOND_CHANNEL";f="TWO_M_FIRST_CHANNEL";function a(a,b,d,e,f){var g=Date.now(),h=g+"_"+(c("randomInt")(0,4294967295)+1),i={aidv2:a,brs:f!=null?f:null,csp:b.toString(),cts:Math.floor(g/1e3).toString(),etid:h,event_trace_id:c("uuidv4")(),gap_to_prev_ad:e==null?void 0:e.toString(),isv:"1",xt:d};c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return i})}function b(a,b,e,f,g){var i=c("gkx")("15955");if(!i)return;if(!f||a==null)return;var j=b!=null?b:"";e={sessionKey:d("WebSession").getId(),time:Date.now(),tracking:j,view_rect:{view_bottom:((b=(i=e.boundingClientRect)==null?void 0:i.y)!=null?b:0)+((b=(i=e.boundingClientRect)==null?void 0:i.height)!=null?b:0),view_top:(b=(i=e.rootBounds)==null?void 0:i.y)!=null?b:0},viewport_rect:{view_bottom:((b=(i=e.rootBounds)==null?void 0:i.y)!=null?b:0)+((b=(i=e.rootBounds)==null?void 0:i.height)!=null?b:0),view_top:(b=(i=e.rootBounds)==null?void 0:i.y)!=null?b:0},window_rect:{view_bottom:((b=(i=e.intersectionRect)==null?void 0:i.y)!=null?b:0)+((b=(i=e.intersectionRect)==null?void 0:i.height)!=null?b:0),view_top:(b=(i=e.intersectionRect)==null?void 0:i.y)!=null?b:0}};f[a]||(f[a]={});g==="TWO_M_FIRST_CHANNEL"?f[a].firstChannel=e:f[a].secondChannel=e;c("setTimeout")(function(){h(a,f,j)},1e3)}function h(a,b,e){if(a==null||!b||!b[a])return;if(b[a].lastSent!=null&&b[a].lastSent>Date.now()-6e4)return;var f=i(b[a].firstChannel),g=i(b[a].secondChannel),h={old_impression_source:"comet_feed",on_unit_enter_view_stamp:g,on_unit_exit_view_stamp:{scroll_velocity:"0",time:"1234567890",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}},on_unit_impression_view_stamp:f,primary_impression_channel:"intersection_observer",secondary_impression_channel:"scroll_based",session_end_time:"0",session_key:d("WebSession").getId(),session_start_time:Math.min(parseInt(f.time,10),parseInt(g.time,10)).toString(),surface_module:"COMET",tracking:e};c("AuditImpressionChannelSessionFalcoEvent").logImmediately(function(){return h});b[a].lastSent=Date.now()}function i(a){return!a?{scroll_velocity:"0",time:"0",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}}:{scroll_velocity:"0",time:a.time.toString(),view_rect:{view_bottom:Math.round(a.view_rect.view_bottom).toString(),view_top:Math.round(a.view_rect.view_top).toString()},viewport_rect:{view_bottom:Math.round(a.viewport_rect.view_bottom).toString(),view_top:Math.round(a.viewport_rect.view_top).toString()},window_rect:{view_bottom:Math.round(a.window_rect.view_bottom).toString(),view_top:Math.round(a.window_rect.view_top).toString()}}}g.TwoMSecondChannel=e;g.TwoMFirstChannel=f;g.logPostImpressionForReel=a;g.logChannelData=b}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1936086");b=d("FalcoLoggerInternal").create("comet_metrics_full_view",a);e=b;g["default"]=e}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1948176");b=d("FalcoLoggerInternal").create("comet_metrics_viewability",a);e=b;g["default"]=e}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1955947");b=d("FalcoLoggerInternal").create("ghl_swank",a);e=b;g["default"]=e}),98);
__d("PercentVisible",[],(function(a,b,c,d,e,f){a=-1;b=0;c=50;d=100;f.NO_VISIBLE=a;f.VISIBLE_0_PCT=b;f.VISIBLE_50_PCT=c;f.VISIBLE_100_PCT=d}),66);
__d("useCometDisplayTimingTracker",["InteractionTracingMetrics","performanceNow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(3),f=j(null),g;e[0]!==b||e[1]!==a?(g=function(d){if(f.current!==d){f.current=d;if(d){var e=(h||(h=c("performanceNow")))();b!=null?c("InteractionTracingMetrics").addMountPoint(b,e,a):c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(b){return c("InteractionTracingMetrics").addMountPoint(b.traceId,e,a)})}}},e[0]=b,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","react-compiler-runtime","useCometGHLDisplayMonitor","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef,k=e.useState;function a(a){var e=d("react-compiler-runtime").c(16),f=a.encryptedToken,g=a.id,h=a.isDisabled,l=a.position,m=a.type;a=h===void 0?!1:h;h=k(!1);var n=h[0],o=h[1],p=j(null);e[0]!==f||e[1]!==n||e[2]!==l?(h=function(a){if(n||f==null)return;o(!0);c("GhlSwankFalcoEvent").log(function(){return{hd:String(a),sli:String(l),xt:f}});var e=p.current;e!==null&&(d("CometGHLTracker").m(e),b("cr:1088657")&&b("cr:1088657").b({e:e,hd:a,token:f!=null?f:""}))},e[0]=f,e[1]=n,e[2]=l,e[3]=h):h=e[3];h=h;var q=c("useCometGHLDisplayMonitor")(!n&&!a,h);e[4]!==q.current?(a=function(){p.current=q.current},e[4]=q.current,e[5]=a):a=e[5];e[6]!==q?(h=[q],e[6]=q,e[7]=h):h=e[7];i(a,h);e[8]!==q.current?(a=function(){var a=q.current;return function(){a&&d("CometGHLTracker").d(a)}},e[8]=q.current,e[9]=a):a=e[9];e[10]!==q?(h=[q],e[10]=q,e[11]=h):h=e[11];i(a,h);e[12]!==g||e[13]!==l||e[14]!==m?(a=function(a){c("DebugOwl").nest(a,{id:g,location:"FEED",position:l,type:m})},e[12]=g,e[13]=l,e[14]=m,e[15]=a):a=e[15];h=a;return c("useMergeRefs")(q,h)}f=a;g["default"]=f}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(7),e=a.onFullViewStart;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},b[0]=a):a=b[0];var f=i(a);b[1]!==e?(a=function(a){var b=a.entry;a=a.isElementVisible;if(!a&&f.current.hasBeenFullyViewed)f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(a&&!f.current.hasBeenFullyViewed){b.intersectionRatio===1?(f.current.bottomRight=!0,f.current.topLeft=!0):(f.current.bottomRight||(f.current.bottomRight=b.boundingClientRect.bottom<=b.rootBounds.bottom&&b.boundingClientRect.right<=b.rootBounds.right),f.current.topLeft||(f.current.topLeft=b.boundingClientRect.top>=b.rootBounds.top&&b.boundingClientRect.left>=b.rootBounds.left));if(f.current.bottomRight&&f.current.topLeft){f.current.hasBeenFullyViewed=!0;return e({currentTime:Date.now()})}}},b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},b[3]=g):g=b[3];g=g;var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={thresholdOverride:"EXPENSIVE"},b[4]=h):h=b[4];b[5]!==a?(g={onHidden:g,onIntersection:a,options:h},b[5]=a,b[6]=g):g=b[6];return c("useVisibilityObserver")(g)}g["default"]=a}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function a(a,b,e){e=d("react-compiler-runtime").c(5);var f=i(!1),g;e[0]!==b||e[1]!==a?(g=function(d){if(!f.current&&a!=null){f.current=!0;var e=a,g=b,h=c("uuidv4")(),i={csp:g,event_trace_id:h,xt:e};c("CometMetricsFullViewFalcoEvent").log(function(){return{csp:g.toString(),event_trace_id:h,xt:e}});j.onReady(function(a){a.post("comet_metrics:full_view",i)})}},e[0]=b,e[1]=a,e[2]=g):g=e[2];g=g;var h;e[3]!==g?(h={onFullViewStart:g},e[3]=g,e[4]=h):h=e[4];return c("useFullViewImpression")(h)}g["default"]=a}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","justknobx","randomInt","react","registerSourceForView","reportTopicsForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},n=5e3;function a(a,e,f,g,h,p){g===void 0&&(g=!1);h===void 0&&(h=null);var q=babelHelpers["extends"]({},m,f),r=l(null),s=l(null),t=l(null),u=l(!1),v=l(!1),w=(f==null?void 0:f.can_delay_log_impression)===!0,x=c("useMinifiedProductAttribution")();k(function(){c("ghlTestUBT")(function(a){u.current=a})},[]);k(function(){return function(){r.current=null,v.current=!1,t.current=null}},[h]);var y=j(c("CometFeedUnitStatusListPassiveContext")),z=j(c("Comet2ndChannelContext")),A=j(c("CometFeedBrandSafetyContext")),B=j(c("CometFeed5sImpressionDelayContext"));f=j(c("CometFeedAdsProductContext"));var C=f.adId,D=f.minGapRule,E=f.minGapType;h=i(function(f){var h=f.entry,i=f.visibleTime;c("DebugOwl").perch(h.target);b("cr:1813330")==null||b("cr:1813330").setNewsFeedStoryPosition(e);var j=function(b,f){f=Date.now();var g=c("CometTimeSpentNavigation").getPathInfo(),h=d("CometGHLTracker").c(b.target);c("DebugOwl").fly(b.target);var j=e,k=Math.floor(f/1e3),l=f+"_"+(c("randomInt")(0,4294967295)+1),m=h,n=g?g.name:null,q=d("WebSession").getId(),r=b.visiblePercentage,s=a,t=c("uuidv4")(),u=d("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(y,A,e,w),z;if(c("justknobx")._("616")){j==null&&c("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",j,t,x);z=(f=j==null?void 0:j.toString())!=null?f:"0"}else z=j.toString();c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:x,brs:u,csp:z,cts:k.toString(),etid:l,event_trace_id:t,hba:m,isv:"1",me:n,sk:q,vp:r.toString(),xt:s}});if(y){h=y();((g=h[j])==null?void 0:g.category)==="SPONSORED"&&(B.hasAnyAdImpressionAlreadyBeenLogged===!1&&(B.hasAnyAdImpressionAlreadyBeenLogged=!0,B.firstLoggedAdImpressionStoryPosition=e))}o(u,p,i,e);d("CometAdsProductLogger").logCometAdsProductGapRule({adId:C,csp:z,cts:k.toString(),endPoint:n,getFeedUnitStatusList:y,hba:m,isv:"1",minGapRule:D,minGapType:E,sessionKey:q,tracking:s,vp:r.toString()});c("registerSourceForView")(null,s);d("reportTopicsForView").reportTopicsForViewMainObserver(p);v.current=!0},k={boundingClientRect:h.boundingClientRect,impressedAt:i,intersectionRect:h.intersectionRect,invisibleReason:null,rootBounds:h.rootBounds,status:"ENTER",target:h.target,visible:!0,visiblePercentage:h.intersectionRatio};g&&c("sendImpressionEnterActionValidationData")("impression_api_comet_enter",k,null,{csp:e,pre_rs:r.current,xt:a});if(z){f=z();d("CometImpressionLoggingUtil").logChannelData(C,a,k,f,d("CometImpressionLoggingUtil").TwoMFirstChannel)}if(t.current||s.current)return;if(q.can_delay_log_impression===!0&&(u.current||d("CometGHLTracker").b()||c("gkx")("23488"))){B.hasUserSeenAnyAd===!1&&(B.hasUserSeenAnyAd=!0,B.firstAdStoryPosition=e);h=c("gkx")("23490");f=h;h=d("CometGHLTracker").b();var l=!B.hasAnyAdImpressionAlreadyBeenLogged;f=f||h||l?n:0;c("gkx")("1718")?h=f:h=n;s.current=c("setTimeout")(function(){j&&j(k,"AD_BLOCKER"),s.current=null},h)}else j&&j(k,v.current?"DEDUP":"ORIGINAL")},[g,q.can_delay_log_impression,e,a,x]);f=i(function(b){var d=b.hiddenReason,f=b.visibleDuration;b=b.visibleTime;g&&c("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:b,invisibleReason:d,visiblePercentage:0},null,{csp:e,duration:f,pre_rs:r.current,xt:a});r.current=d;if(t.current)return;(v.current||s.current)&&(t.current=c("setTimeout")(function(){v.current=!1,t.current=null},q.subsequent_gap_in_ms))},[q.subsequent_gap_in_ms,e,a,g]);return c("usePartialViewImpression")({onImpressionEnd:f,onImpressionStart:h})}function o(a,b,d,e){var f=a==null?void 0:a.brs_filter_setting;if(c("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(f,10)>0){var g=a==null?void 0:a.unit_after,h=a==null?void 0:a.unit_before;c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var a;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(f),adjacent_edges_info:{unit_after:g!=null?{brs_content_label:(a=g.brs_content_label)!=null?a:"",organic_tracking:(a=g.organic_tracking)!=null?a:""}:null,unit_before:h!=null?{brs_content_label:(a=h.brs_content_label)!=null?a:"",organic_tracking:(a=h.organic_tracking)!=null?a:""}:null},client_token:b!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:String(d),slot_position:String(e)}})}}g["default"]=a}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3);a=a.onIntersection;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={thresholdOverride:"MODERATE"},b[0]=e):e=b[0];b[1]!==a?(e={onIntersection:a,options:e},b[1]=a,b[2]=e):e=b[2];return c("useVisibilityObserver")(e)}g["default"]=a}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function j(a,b,d){c("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:a.cumulative.toString(),duration:a.duration.toString(),event_trace_id:b,interval:a.interval.toString(),segment_id:a.segmentid.toString(),start_ts:a.startTs.toString(),view_event_type:a.eventType.toString(),xt:d}})}function a(a,b,e){b=d("react-compiler-runtime").c(4);var f=i(null),g=i(null),h=i(null);b[0]!==a?(e=function(b){var e=b.entry;b=b.isElementVisible;var i=k,m=function(b){var d=c("uuidv4")(),e={cumulative:b.cumulative,duration:b.duration,event_trace_id:d,eventType:b.eventType,interval:b.interval,segmentid:b.segmentid,startTs:b.startTs,xt:a};j(b,d,a);b=babelHelpers["extends"]({},c("Banzai").VITAL,{signal:!1});c("Banzai").post("comet_metrics:viewability",e,b)},n=function(a,b,c){if(c==null)return null;b=i(a,c);m(b);return null},o=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=i(a,c);b.segmentid<=2&&m(b);return b};!b?(f.current=n(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio<.5?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio>=.5&&e.intersectionRatio<1?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=o(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current))},b[0]=a,b[1]=e):e=b[1];e=e;var l;b[2]!==e?(l={onIntersection:e},b[2]=e,b[3]=l):l=b[3];return c("useViewabilityImpression")(l)}function k(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}}g["default"]=a}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a,b,c){return l}function l(){return null}function a(a){var b=a.clientToken,d=a.clientViewConfig;d=d===void 0?null:d;var e=a.contentIdentifier;e=e===void 0?null:e;var f=a.disabledViewabilityEventTypes,g=a.encryptedTracking,h=a.position,l=a.shouldDisableGHLSurvey,m=l===void 0?!1:l;l=a.targetAudioTrack;var n=a.viewabilityConfig;a=a.vpvdOptionalData;var o=[];function p(a,b){return n&&n.includes(a)&&(!f||!f.includes(a))?b:null}var q=!!n&&n.some(function(a){return a===7}),r=p(8,c("useStoryObserverImpressionLogger")(g,h,d,q,e,b)),s=p(7,k(g,h,d)),t=p(2,c("useStoryFullViewLogger")(g,h,d)),u=p(3,c("useStoryViewabilityDurationLogger")(g,h,d));q=c("useStoryVPVDLogger")(babelHelpers["extends"]({},a,{position:h,targetAudioTrack:l,trackable:g}));e=q[0];b=q[1];o.push(b);var v=p(5,e),w=c("useCometGHLFeedSurvey")({clientViewConfig:d,encryptedToken:g,isDisabled:m,position:h});a=j(function(){return c("mergeRefs")(r,s,t,u,v,m?null:w,null)},[r,s,t,u,v,m,w]);return{debuggingInfoLoggers:o.map(function(a,b){return i.jsx("div",{children:a},b)}),ref:a}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("VideoPlayerRelay_video$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},c=[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],d=[{}],e={alias:null,args:null,concreteType:"XFBVideoDeliveryFailureReason",kind:"LinkedField",name:"failure_reason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_params",storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"VideoPlayerRelay_video$playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"VideoPlayerRelay_video$playerSuborigin"}],kind:"SplitOperation",metadata:{},name:"VideoPlayerRelay_video$normalization",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"LatencySensitiveConfig",kind:"LinkedField",name:"latency_sensitive_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_latency_sensitivity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LivePlaybackInstrumentationConfigParams",kind:"LinkedField",name:"live_playback_instrumentation_configs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_client_triggered_trace_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"seo_web_crawler_lookaside_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"VideoPlayerRelay_video$playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"VideoPlayerRelay_video$playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_country",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_best_language_prediction_for_dubbing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"do_not_translate_languages_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_language_string",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_nextgendash_availability",storageKey:null},{alias:"videoDeliveryLegacyFields",args:[{kind:"Literal",name:"negate",value:!0}],concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{alias:"dash_manifest_xml_string",args:c,kind:"ScalarField",name:"playlist",storageKey:'playlist(scrubbing_preference:"MPEG_DASH")'},{alias:"dash_manifest_url",args:c,kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:"browser_native_sd_url",args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"browser_native_hd_url",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},a],storageKey:"if_viewer_should_use_video_delivery_response(negate:true)"},{alias:"videoDeliveryResponseFragment",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{alias:"videoDeliveryResponseResult",args:[{kind:"Literal",name:"video_delivery_request",value:{dash_manifest_requests:d,dash_manifest_url_requests:d,hls_playlist_url_requests:d,progressive_url_requests:[{quality:"SD"},{quality:"HD"}]}}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDashManifestResponse",kind:"LinkedField",name:"dash_manifests",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_xml",storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"XFBDashManifestUrlResponse",kind:"LinkedField",name:"dash_manifest_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_url",storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"XFBProgressiveUrlResponse",kind:"LinkedField",name:"progressive_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"progressive_url",storageKey:null},e,{alias:null,args:null,concreteType:"XFBProgressiveUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"quality",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBHlsPlaylistUrlResponse",kind:"LinkedField",name:"hls_playlist_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"hls_playlist_url",storageKey:null},e],storageKey:null}],storageKey:'video_delivery_response(video_delivery_request:{"dash_manifest_requests":[{}],"dash_manifest_url_requests":[{}],"hls_playlist_url_requests":[{}],"progressive_url_requests":[{"quality":"SD"},{"quality":"HD"}]})'},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]},{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null},{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{"if":null,kind:"Defer",label:"VideoPlayerRelay_video$defer$InstreamVideoAdBreaksPlayer_video",selections:[a,{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"VideoIMFData",kind:"LinkedField",name:"video_imf_data",plural:!1,selections:[{args:null,documentName:"useVideoPlayerIMFFromVideoMetadataRelay_video",fragmentName:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",fragmentPropName:"video_imf_data",kind:"ModuleImport"}],storageKey:null}]}}();e.exports=a}),null);
__d("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql",["VideoPlayerRelay_video$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],g=[d],h={kind:"Variable",name:"scale",variableName:"scale"},i={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n=[d,m],o={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},p={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},q=[j];return{kind:"SplitOperation",metadata:{},name:"CometTextWithEntitiesRelay_textWithEntities$normalization",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[a,c,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[d,e,{alias:null,args:f,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:f,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:g,storageKey:'delight_asset(delight_surface:"COMMENT")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[a,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[e,{alias:null,args:[h],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},j,k],storageKey:null},l,{kind:"InlineFragment",selections:g,type:"CatalogMarketplaceEnhancementTransformedImage",abstractKey:null},{kind:"InlineFragment",selections:g,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[a,c,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[a,c,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[e,{kind:"InlineFragment",selections:n,type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:"name",args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"InstagramUserV2",abstractKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[e,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[d,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},d,o],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"},p,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},o,d],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[p,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"imageScaledForFeed",args:[h,{kind:"Literal",name:"width",value:680}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[i,j,k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"media_type",value:"image/png"},h,{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],type:"XFBWorkCustomEmoji",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:"thumbnailImage",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},k,i,{alias:null,args:null,kind:"ScalarField",name:"is_animated_gif",storageKey:null}],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[{args:null,documentName:"CometTitleSentenceGroupJoinButtonRenderer_entity",fragmentName:"CometFeedStoryCommunityAttributionTitleJoinButton_group",fragmentPropName:"group",kind:"ModuleImport"},d],storageKey:null}],type:"TitleSentenceGroupJoinButton",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snapshot_url",storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DataSnapshotMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratio",storageKey:null}],storageKey:null}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},a,c],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[a,c,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}]}}();e.exports=a}),null);
__d("CometUFIFunnelLoggerConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({COMMENT_CREATE:"comment_create_start",COMMENT_CREATE_SUCCESS:"comment_create_success",COMMENT_CREATE_ERROR:"comment_create_error",COMMENT_EDIT:"comment_edit_start",COMMENT_EDIT_SUCCESS:"comment_edit_success",COMMENT_EDIT_ERROR:"comment_edit_error",COMMENT_MENU_ITEM_EDIT:"comment_menu_item_edit",COMMENT_MENU_ITEM_DELETE:"comment_menu_item_delete",COMMENT_MENU_ITEM_DELETE_SUCCESS:"comment_menu_item_delete_sucess",COMMENT_MENU_ITEM_DELETE_ERROR:"comment_menu_item_delete_error",COMMENT_MENU_ITEM_HIDE:"comment_menu_item_hide",COMMENT_MENU_ITEM_UNHIDE:"comment_menu_item_unhide",COMMENT_ACTION_REACT:"comment_action_react",COMMENT_ACTION_REPLY:"comment_action_reply",COMMENT_ACTION_HIDE:"comment_action_hide",COMMENT_ACTION_UNHIDE:"comment_action_unhide",COMMENT_ACTION_TIMESTAMP:"comment_action_timestamp",LEVEL_0_PAGER_CLICK:"level_0_pager_click",LEVEL_1_PAGER_CLICK:"level_1_pager_click",LEVEL_2_PAGER_CLICK:"level_2_pager_click",REACTION_MENU_LIKE:"reaction_menu_like",REACTION_MENU_LOVE:"reaction_menu_love",REACTION_MENU_SUPPORT:"reaction_menu_support",REACTION_MENU_HAHA:"reaction_menu_haha",REACTION_MENU_WOW:"reaction_menu_wow",REACTION_MENU_SORRY:"reaction_menu_sorry",REACTION_MENU_ANGER:"reaction_menu_anger"});c=3e3;f.CometUFIFunnelLoggerEvents=a;f.COMET_UFI_FUNNEL_LOGGER_START_DELAY=c}),66);
__d("CometUFIQPLInstanceKeyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));a=h.createContext;b=a(0);c=b;g["default"]=c}),98);
__d("CometUFIReactionsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24051433444544934"}),null);
__d("FDSProfilePhotoForActor_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"width"}],b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}];return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"displayAvailability"},{defaultValue:null,kind:"LocalArgument",name:"height"},{defaultValue:!1,kind:"LocalArgument",name:"isCommerceProfilePhoto"},{defaultValue:!0,kind:"LocalArgument",name:"linkToUnseenStory"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"width"}],kind:"Fragment",metadata:null,name:"FDSProfilePhotoForActor_actor",selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"},{args:[{kind:"Variable",name:"enabled",variableName:"linkToUnseenStory"}],kind:"FragmentSpread",name:"useActorStoryStatus_actor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null},{condition:"displayAvailability",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}]},{condition:"isCommerceProfilePhoto",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"commerce_profile_picture",plural:!1,selections:b,storageKey:null}],type:"ActorWithCustomizableCommerceProfile",abstractKey:"__isActorWithCustomizableCommerceProfile"}]}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("PagesCometLinkContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({shouldHostInWatch:!1});g["default"]=b}),98);
__d("XCometVideoHomePlaylistControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/watch/{?idorvanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useActorStoryStatus_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"enabled"}],kind:"Fragment",metadata:null,name:"useActorStoryStatus_actor",selections:[{condition:"enabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pages_story_bucket_v2",plural:!1,selections:[a,b],storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null},a,b],storageKey:null}],storageKey:"story_bucket(first:1)"}],type:"User",abstractKey:null}]}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("useActorStoryStatus",["CometRelay","react-compiler-runtime","useActorStoryStatus_actor.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i={status:"none"};function a(a){var c,e,f,g=d("react-compiler-runtime").c(8);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useActorStoryStatus_actor.graphql"),a);if(a==null)return i;var j;bb0:switch(a.__typename){case"Page":j=a.pages_story_bucket_v2;break bb0;case"User":a=(a=a.story_bucket)==null?void 0:a.nodes;j=a?a[0]:null;break bb0;default:return i}if(j==null)return i;a=j.id;c=(c=j.first_story_to_show)==null?void 0:c.id;if(a==null||c==null)return i;e=(e=j.first_story_to_show)==null||(e=e.story_card_seen_state)==null?void 0:e.is_seen_by_viewer;f=(f=j.should_show_close_friend_badge)!=null?f:!1;if(e===!1){var k;g[0]!==a||g[1]!==c||g[2]!==f?(k={firstBucketId:a,firstCardId:c,shouldShowCloseFriendsBadge:f,status:"unseen"},g[0]=a,g[1]=c,g[2]=f,g[3]=k):k=g[3];return k}else if(e===!0){g[4]!==a||g[5]!==c||g[6]!==f?(k={firstBucketId:a,firstCardId:c,shouldShowCloseFriendsBadge:f,status:"seen"},g[4]=a,g[5]=c,g[6]=f,g[7]=k):k=g[7];return k}else return i}g["default"]=a}),98);
__d("FDSProfilePhotoForActor.react",["fbt","ActorHovercard.react","CometRelay","FBLogger","FDSProfilePhoto.react","FDSProfilePhotoForActor_actor.graphql","PagesCometLinkContext","ProfileCometContextualProfileGating","ProfileCometLinkContext","WebPixelRatio","XCometContextualProfileControllerRouteBuilder","XCometStoriesControllerRouteBuilder","XCometVideoHomePlaylistControllerRouteBuilder","gkx","react","translatedServerString","useActorStoryStatus"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["actor","enableStoryStatus","entrypoint","hoverCardType","linkProps","noLink","onPress","showLiveRing","addOn","aria-label","size"],j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useMemo;function a(a){var e=a.actor,f=a.enableStoryStatus,g=f===void 0?!0:f;a.entrypoint;f=a.hoverCardType;f=f===void 0?"onHover":f;var k=a.linkProps,o=a.noLink;o=o===void 0?!1:o;var p=a.onPress,q=a.showLiveRing,r=q===void 0?!1:q,s=a.addOn;q=a["aria-label"];var t=a.size,u=babelHelpers.objectWithoutPropertiesLoose(a,i);a=d("CometRelay").useFragment(j!==void 0?j:j=b("FDSProfilePhotoForActor_actor.graphql"),e);e=(e=(e=a.commerce_profile_picture)!=null?e:a.profile_picture)!=null?e:{};var v=e.height,w=e.scale,x=e.uri,y=e.width,z=a.availability;e=a.id;var A=a.name,B=m(c("ProfileCometLinkContext"));B=B.groupID;var C=m(c("PagesCometLinkContext"));C=C.shouldHostInWatch;var D=a.url,E,F=c("useActorStoryStatus")(a),G=!1;g&&F.status!=="none"?(D=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:F.firstBucketId,card_id:F.firstCardId,view_single:!1}),G=F.shouldShowCloseFriendsBadge,E={target:k==null?void 0:k.target,url:D}):B!=null&&d("ProfileCometContextualProfileGating").canViewCometContextualProfile()&&e!=null&&a.__typename!=="Group"?(D=c("XCometContextualProfileControllerRouteBuilder").buildURL({group_idorvanity:B,member_id:e}),E={target:k==null?void 0:k.target,url:D}):C===!0&&(D=c("XCometVideoHomePlaylistControllerRouteBuilder").buildURL({idorvanity:e,tab:"home"}),E={target:k==null?void 0:k.target,url:D});var H=k!=null&&k.url!=null?k:o?void 0:E!=null?E:{target:k==null?void 0:k.target,url:D},I=n(function(){var a,b;a=(a=H==null||(b=H.url)==null?void 0:b.startsWith("/stories"))!=null?a:!1;if(a&&A!=null)return h._(/*BTDS*/"{alt}, view story",[h._param("alt",A)]);return a&&A==null?h._(/*BTDS*/"Profile story"):A!=null?c("translatedServerString")(A):h._(/*BTDS*/"Profile Photo")},[A,H==null?void 0:H.url]),J=n(function(){return babelHelpers["extends"]({},u,{addOn:s!=null?s:z==="ACTIVE"?{type:"availabilityBadge"}:void 0,alt:I,shouldShowCloseFriendsBadge:G,size:t,source:{height:v!=null?v:t,scale:w!=null?w:d("WebPixelRatio").get(),uri:x!=null?x:"",width:y!=null?y:t},storyStatus:r?"live":g?F.status:"none"})},[u,s,I,z,t,v,w,G,x,y,F.status,g,r]);if(x==null||e==null||A==null||J.source.uri===""){return c("FBLogger")("comet_ui").mustfix("Missing fields for FDSProfilePhotoForActor, id: %s, pictureUri: %s, name: %s, photoSource: %s",e!=null?e:"null",x!=null?x:"null",A!=null?A:"null",(a=J.source.uri)!=null?a:"null")}if(f==="none"){B=p==null&&H==null?J:babelHelpers["extends"]({},J,{"aria-label":q!=null?q:I,linkProps:H,onPress:p});return l.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},B))}if(!c("gkx")("4969")&&f==="onPress"){C=p==null&&H==null?{}:{"aria-label":q!=null?q:I,onPress:p};return l.jsx(c("ActorHovercard.react"),babelHelpers["extends"]({},C,{actorID:e,"aria-hidden":u["aria-hidden"]===!0?!0:void 0,showHovercardOnClick:!0,children:function(a){return l.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},J,{ref:a}))}}))}var K=p==null&&H==null?J:babelHelpers["extends"]({},J,{"aria-label":q!=null?q:I,linkProps:H,onPress:p});return l.jsx(c("ActorHovercard.react"),{actorID:e,"aria-hidden":u["aria-hidden"]===!0?!0:void 0,children:function(a){return l.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},K,{ref:a}))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("XCometVideoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{page_token}/videos/{?set}/{story_token}/{?*extra_junk}",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("keyMirror",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={};if(!(a instanceof Object&&!Array.isArray(a)))throw c("FBLogger")("comet_infra").mustfixThrow("keyMirror(...): Argument must be an object.");for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;b[d]=d}return b}g["default"]=a}),98);
__d("useCurrentRouteBuilder",["CometRouteParams","ConstUriUtils","jsRouteBuilder","react","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b,e=d("CometRouteParams").useRouteParams();b=(b=c("useCurrentRoute")())!=null?b:{};var f=b.routePath;b=b.url;b=b!=null?(b=d("ConstUriUtils").getUri(b))==null?void 0:b.getPath():null;var g=(a==null?void 0:a.useUrlPath)===!0?b:f;return i(function(){return g==null?null:c("jsRouteBuilder")(g,Object.freeze({}),new Set(),e)},[g,e])}g["default"]=a}),98);
__d("useNotificationsTrackingString",["react-compiler-runtime","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("useRoutePassthroughProps")(),e;a[0]!==(b==null?void 0:b.notificationTracking)?(e=JSON.stringify(b==null?void 0:b.notificationTracking),a[0]=b==null?void 0:b.notificationTracking,a[1]=e):e=a[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AsyncTypedRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","SiteData","TrustedTypes","XHRRequest","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set();async function j(a,b,d,e){var f=await new Promise(function(f,g){new(c("XHRRequest"))(a+"/btmanifest/"+d+"/"+b+"/"+e).setMethod("GET").setResponseHandler(function(a){return f(a.toString())}).setErrorHandler(function(a){return g(a)}).send()});if(typeof f!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return f}function k(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader.0."+d("SiteData").pkg_cohort+"."+a+"."+b)}function l(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}var m=c("TrustedTypes").createPolicy("bt-manifest",{createScript:function(a){return a}});async function n(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var e=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(i.has(e))return;k(b,"start");i.add(e);try{var f=document.createElement("script"),g=await j(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b);c("justknobx")._("3786")?f.innerText=m.createScript(g):f.innerText=g;f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(g=document.head)==null||g.appendChild(f);k(b,"complete")}catch(c){k(b,"failed"),l(a,b,c),i.delete(e)}}function a(){c("promiseDone")(n(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(n(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(n(a,"main")),c("promiseDone")(n(a,"longtail"))})}g.init=a}),98);
__d("CometRecordProductUsageMutationMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9465777806862135"}),null);
__d("CometRecordProductUsageMutationMutation.graphql",["CometRecordProductUsageMutationMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"productID"},{defaultValue:null,kind:"LocalArgument",name:"productIdentifier"}],c=[{kind:"Literal",name:"app_id",value:2220391788200892},{kind:"Variable",name:"product_id",variableName:"productID"},{kind:"Variable",name:"product_identifier",variableName:"productIdentifier"}],d={alias:null,args:null,kind:"ScalarField",name:"product_identifier",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"last_used_time",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometRecordProductUsageMutationMutation",selections:[{alias:null,args:c,concreteType:"ProductUsageRecord",kind:"LinkedField",name:"update_last_used_time_for_product",plural:!1,selections:[d,e],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometRecordProductUsageMutationMutation",selections:[{alias:null,args:c,concreteType:"ProductUsageRecord",kind:"LinkedField",name:"update_last_used_time_for_product",plural:!1,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometRecordProductUsageMutationMutation_facebookRelayOperation"),metadata:{},name:"CometRecordProductUsageMutationMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometRecordProductUsageMutation",["CometRecordProductUsageMutationMutation.graphql","CometRelay","CometRelayErrorHandling","JSScheduler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometRecordProductUsageMutationMutation.graphql");function a(a,b,e){(i||(i=c("JSScheduler"))).scheduleLoggingPriCallback(function(){d("CometRelay").commitMutation(a,{mutation:j,onError:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)},variables:{productID:e,productIdentifier:b}})})}e={updateProductUsage:a};f=e;g["default"]=f}),98);
__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","react-compiler-runtime","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useLayoutEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("useCometTahoeChainingDepth").useChainingDepthContext(),e=b.chainingDepthState,f=b.chainingSessionID,g=(i||(i=d("VideoPlayerHooks"))).useController();b=c("useRoutePassthroughProps")();var h=b==null?void 0:b.chainingSeedVideoId,k;a[0]!==e||a[1]!==h||a[2]!==f||a[3]!==g?(b=function(){e!=null&&f!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_session_id",f),g.setLoggingToVPLAdditionalData("video_chaining_depth_level",e),g.setLoggingToSNAPLAdditionalData({video_chaining_depth_level:String(e),video_chaining_session_id:f})),h!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_parent_video_id",String(h)),g.setLoggingToSNAPLAdditionalData({video_chaining_parent_video_id:String(h)}))},k=[e,f,g,h],a[0]=e,a[1]=h,a[2]=f,a[3]=g,a[4]=b,a[5]=k):(b=a[4],k=a[5]);j(b,k);return null}g["default"]=a}),98);
__d("CometTahoeEndScreenProgressCircle.react",["ix","FDSIcon.react","fbicon","react","react-compiler-runtime","useInterval","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(38),e=a.circleDiameter,f=a.circleStrokeColor,g=a.circleStrokeWidth,h=a.iconSize,i=a.isMakingProgress,o=a.onProgressDone;a=a.timeoutSec;e=e===void 0?52:e;f=f===void 0?"var(--always-white)":f;g=g===void 0?4:g;h=h===void 0?32:h;var p=e/2,q=p*2*Math.PI,r=q/100,s=m(q),t=s[0],u=s[1];s=m(!1);var v=s[0],w=s[1];b[0]!==t||b[1]!==i||b[2]!==r||b[3]!==v?(s=!i||v?null:function(){if(t<=2){u(0);w(!0);return}u(t-r)},b[0]=t,b[1]=i,b[2]=r,b[3]=v,b[4]=s):s=b[4];var x;b[5]!==i||b[6]!==v?(x=[i,v],b[5]=i,b[6]=v,b[7]=x):x=b[7];c("useInterval")(s,a*10,x);var y=l(o);b[8]!==o?(i=function(){y.current=o},s=[o],b[8]=o,b[9]=i,b[10]=s):(i=b[9],s=b[10]);k(i,s);b[11]!==v?(a=function(){c("vulture")("q0iM-Iu4G01Wk9NpPNIPCtG-Qd0=");if(v){var a=y.current;a()}},x=[v],b[11]=v,b[12]=x,b[13]=a):(x=b[12],a=b[13]);k(a,x);b[14]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 xl56j7k"},s="x1plvlek xryxfnj x9tu13d",b[14]=i,b[15]=s):(i=b[14],s=b[15]);b[16]!==e?(a={height:e,width:e},b[16]=e,b[17]=a):a=b[17];b[18]!==p?(x=j.jsx("circle",{cx:p,cy:p,fill:"var(--fds-black-alpha-40)",r:p}),b[18]=p,b[19]=x):x=b[19];b[20]!==f||b[21]!==g||b[22]!==q||b[23]!==t||b[24]!==p?(e=j.jsx("circle",{cx:p,cy:p,fill:"transparent",r:p,stroke:f,strokeDasharray:q,strokeDashoffset:t,strokeWidth:g}),b[20]=f,b[21]=g,b[22]=q,b[23]=t,b[24]=p,b[25]=e):e=b[25];b[26]!==a||b[27]!==x||b[28]!==e?(f=j.jsxs("svg",{className:s,style:a,children:[x,e]}),b[26]=a,b[27]=x,b[28]=e,b[29]=f):f=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1lliihq xr1yuqi x11t971q x4ii5y1 xvc5jky x10l6tqk"},b[30]=g):g=b[30];b[31]!==h?(q=n(h),b[31]=h,b[32]=q):q=b[32];b[33]!==q?(p=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(c("FDSIcon.react"),{color:"white",icon:q})})),b[33]=q,b[34]=p):p=b[34];b[35]!==f||b[36]!==p?(s=j.jsxs("div",babelHelpers["extends"]({},i,{children:[f,p]})),b[35]=f,b[36]=p,b[37]=s):s=b[37];return s}function n(a){switch(a){case 20:return d("fbicon")._(h("484863"),20);case 32:return d("fbicon")._(h("582360"),32)}}g["default"]=a}),98);
__d("CometToastCard.react",["fbt","ix","CometAccessibilityAnnouncement.react","CometPressable.react","FDSCard.react","FDSIcon.react","FDSTextPairing.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useId;function a(a){var b=d("react-compiler-runtime").c(27),e=a.accessibilityAnnouncement,f=a.content,g=a.headline,j=a.onCloseClick;a=a.onMouseEnter;var m=l(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1obq294 x5a5i1n xde0f50 x15x8krk xh5kl08 x9f619 x78zum5 xdt5ytf x6prxxf xi55695"},b[0]=n):n=b[0];var o,p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14vqqas"},p={className:"x6s0dn4 x78zum5 x1qughib xexx8yu x18d9i69 xf7dkkf xv54qhq"},b[1]=o,b[2]=p):(o=b[1],p=b[2]);var q;b[3]!==g?(q=k.jsx(c("FDSTextPairing.react"),{headline:g,isSemanticHeading:!0,level:4}),b[3]=g,b[4]=q):q=b[4];b[5]!==m||b[6]!==q?(g=k.jsx("div",{id:m,children:q}),b[5]=m,b[6]=q,b[7]=g):g=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Close"),b[8]=q):q=b[8];var r;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x1qhmfi1 xal68kn x51dqfy x1w4cqa3 x1byqp33 x78zum5 xxk0z11 xl56j7k xvy4d1p"},b[9]=r):r=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsx("span",babelHelpers["extends"]({},r,{children:k.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(i("478231"),12),size:12})})),b[10]=r):r=b[10];b[11]!==j?(q=k.jsx(c("CometPressable.react"),{display:"inline",label:q,onPress:j,overlayDisabled:!0,testid:void 0,children:r}),b[11]=j,b[12]=q):q=b[12];b[13]!==g||b[14]!==q?(r=k.jsx("div",babelHelpers["extends"]({},o,{children:k.jsxs("div",babelHelpers["extends"]({},p,{children:[g,q]}))})),b[13]=g,b[14]=q,b[15]=r):r=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x1sqdly8 xwib8y2 x1iorvi4"},b[16]=j):j=b[16];b[17]!==f?(o=k.jsx("div",babelHelpers["extends"]({},j,{children:f})),b[17]=f,b[18]=o):o=b[18];b[19]!==e?(p=e!=null&&k.jsx(c("CometAccessibilityAnnouncement.react"),{children:e.text},e.id),b[19]=e,b[20]=p):p=b[20];b[21]!==m||b[22]!==a||b[23]!==r||b[24]!==o||b[25]!==p?(g=k.jsx(c("FDSCard.react"),{background:"default",dropShadow:2,testid:void 0,children:k.jsxs("div",babelHelpers["extends"]({"aria-labelledby":m},n,{onMouseEnter:a,role:"complementary",children:[r,o,p]}))}),b[21]=m,b[22]=a,b[23]=r,b[24]=o,b[25]=p,b[26]=g):g=b[26];return g}g["default"]=a}),226);
__d("FDSCamcorderFilled16Icon",["cr:13962"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13962")}),98);
__d("FDSCamcorderFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("493173"),16);b=a;g["default"]=b}),98);
__d("FDSEntityHeaderFacepileProfileIcon.react",["BaseImage.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",display:"x1lliihq",$$css:!0},root:{display:"x1rg5ohu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.alt,f=a.size;a=a.src;f=f===void 0?32:f;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=[j.root],b[0]=g):g=b[0];b[1]!==e||b[2]!==f||b[3]!==a?(g=i.jsx(d("react-strict-dom").html.div,{style:g,children:i.jsx(c("BaseImage.react"),{alt:e,height:f,src:a,width:f,xstyle:j.image})}),b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("FDSEntityHeaderFacepile.react",["fbt","FDSEntityHeaderFacepileProfileIcon.react","FDSLink.react","FDSTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=8,l={dynamicStyle:function(a){return[{zIndex:a!=null?"xr3buco":a,$$css:!0},{"--x-zIndex":a!=null?a:void 0}]},facepile:{display:"x1rg5ohu",$$css:!0},left:{marginInlineStart:"xw01apr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6);a=a.profiles;var c;b[0]!==a?(c=a.length>k?a.slice(0,k):a,b[0]=a,b[1]=c):c=b[1];a=c;b[2]!==a?(c=a.map(m),b[2]=a,b[3]=c):c=b[3];a=c;b[4]!==a?(c=j.jsx(d("react-strict-dom").html.div,{children:a}),b[4]=a,b[5]=c):c=b[5];return c}function m(a,b){var e=a.name,f=a.pictureURI,g=a.profileURL;a=a.size;return j.jsx(d("react-strict-dom").html.div,{style:[l.facepile,b>0&&l.left,l.dynamicStyle(b)],children:j.jsx(c("FDSTooltip.react"),{align:"middle",position:"below",tooltip:h._(/*BTDS*/"{user's name}",[h._param("user's name",e)]),children:j.jsx(c("FDSLink.react"),{href:g,children:j.jsx(c("FDSEntityHeaderFacepileProfileIcon.react"),{alt:e,size:a,src:f})},b)})},b)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSRefreshLeftFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("534218"),16);b=a;g["default"]=b}),98);
__d("FDSRefreshLeftFilled20Icon",["cr:14078"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14078")}),98);
__d("FDSRefreshLeftFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("534219"),20);b=a;g["default"]=b}),98);
__d("FDSWatchTvFilled16Icon",["cr:14109"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14109")}),98);
__d("FDSWatchTvFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("607168"),16);b=a;g["default"]=b}),98);
__d("FDSWirelessFilled24Icon",["cr:15876"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15876")}),98);
__d("FDSWirelessFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("485124"),24);b=a;g["default"]=b}),98);
__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",BC_PARTNERSHIP:"bc_partnership",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",FIRST_MESSAGE:"first_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",STORY_REPLY:"story_reply",RICH_TEXT_COMMON_MARK:"rich_text:common_mark",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked",FOLDER_COMMUNITY:"community",FOLDER_RESTRICTED:"restricted",FOLDER_BC_PARTNERSHIP:"bc_partnership",FOLDER_E2EE_CUTOVER:"e2ee_cutover",FOLDER_INTEROP:"interop",FOLDER_E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",FOLDER_E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",FOLDER_E2EE_CUTOVER_OTHER:"e2ee_cutover_other",FOLDER_AI_ACTIVE:"ai_active",FOLDER_SALSA_RESTRICTED:"salsa_restricted",FOLDER_MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",FOLDER_SECRET_CONVERSATIONS:"secret_conversations",FOLDER_WEBCHAT_PLUGIN:"webchat_plugin",FOLDER_NFB_OVERFLOW:"nfb_overflow",FOLDER_INTEROP_PENDING:"interop_pending",FOLDER_E2EE_CUTOVER_RESTRICTED:"e2ee_cutover_restricted",FOLDER_META_AI_THREAD:"meta_ai_thread",FOLDER_META_AI_GROUP_SIDE_CHAT:"meta_ai_group_side_chat"}}}),null);
__d("RelayFBDefaultEnvironment",["RelayFBEnvironmentFactory"],(function(a,b,c,d,e,f,g){"use strict";a=c("RelayFBEnvironmentFactory").getForActorID(null);g["default"]=a}),98);
__d("logCometWatchTabSelectedEvent",["VideoHomeTypedLiteLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){c("VideoHomeTypedLiteLogger").log({click_point:a,entry_point_type:d,event:"video_tab_selected",event_target:"watch_home_www",tab_selection_type:"user_initiated_click",was_badged:b})}g["default"]=a}),98);
__d("personalGlobalScope",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";a={id:c("CurrentUser").getAccountID(),type:"PERSONAL"};g.personalGlobalScope=a}),98);
__d("useGlobalScope",["BizKitScopingContext","personalGlobalScope","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BizKitScopingContext"));a=a.globalScope;return a!=null?a:d("personalGlobalScope").personalGlobalScope}g["default"]=a}),98);