;/*FB_PKG_DELIM*/

__d("PAKECleanupSessionReasonEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({FLOW_ABANDONED:0,TIMEOUT:1});f["default"]=a}),66);
__d("pakeCpace",["Promise"],(function(a,b,c,d,e,f){var g,h=function(){var a=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(c){c=c||{};var c=typeof c!=="undefined"?c:{},d=Object.assign,i,j;c.ready=new(g||(g=b("Promise")))(function(a,b){i=a,j=b});var k=d({},c),l=[],m="./this.program";(function(a,b){throw b});var n=!0,o=!1,p="";function aa(a){return c.locateFile?c.locateFile(a,p):p+a}var ba,ca,da;(n||o)&&(o?p=self.location.href:typeof document!=="undefined"&&document.currentScript&&(p=document.currentScript.src),a&&(p=a),p.indexOf("blob:")!==0?p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):p="",(ba=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.send(null);return b.responseText},o&&(da=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),ca=function(a,b,c){var d=new XMLHttpRequest();d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){if(d.status==200||d.status==0&&d.response){b(d.response);return}c()};d.onerror=c;d.send(null)}),function(a){return document.title=a});var ea=c.print||emptyFunction.bind(console),q=c.printErr||emptyFunction.bind(console);d(c,k);k=null;c.arguments&&(l=c.arguments);c.thisProgram&&(m=c.thisProgram);c.quit&&c.quit;var fa=0,r=function(a){fa=a},ga=function(){return fa},s;c.wasmBinary&&(s=c.wasmBinary);c.noExitRuntime||!0;typeof WebAssembly!=="object"&&A("no native wasm support detected");var ha,ia=!1;function ja(a,b){a||A(b)}var ka=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):void 0;function t(a,b,c){c=b+c;var d=b;while(a[d]&&!(d>=c))++d;if(d-b>16&&a.subarray&&ka)return ka.decode(a.subarray(b,d));else{c="";while(b<d){var e=a[b++];if(!(e&128)){c+=String.fromCharCode(e);continue}var f=a[b++]&63;if((e&224)==192){c+=String.fromCharCode((e&31)<<6|f);continue}var g=a[b++]&63;(e&240)==224?e=(e&15)<<12|f<<6|g:e=(e&7)<<18|f<<12|g<<6|a[b++]&63;if(e<65536)c+=String.fromCharCode(e);else{f=e-65536;c+=String.fromCharCode(55296|f>>10,56320|f&1023)}}}return c}function la(a,b){return a?t(v,a,b):""}function ma(a,b,c,d){if(!(d>0))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(g>=55296&&g<=57343){var h=a.charCodeAt(++f);g=65536+((g&1023)<<10)|h&1023}if(g<=127){if(c>=d)break;b[c++]=g}else if(g<=2047){if(c+1>=d)break;b[c++]=192|g>>6;b[c++]=128|g&63}else if(g<=65535){if(c+2>=d)break;b[c++]=224|g>>12;b[c++]=128|g>>6&63;b[c++]=128|g&63}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63;b[c++]=128|g>>6&63;b[c++]=128|g&63}}b[c]=0;return c-e}function na(a,b,c){return ma(a,v,b,c)}function oa(a){var b=0;for(var c=0;c<a.length;++c){var d=a.charCodeAt(c);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);d<=127?++b:d<=2047?b+=2:d<=65535?b+=3:b+=4}return b}var pa=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):void 0;function qa(a,b){var c=a,d=c>>1,e=d+b/2;while(!(d>=e)&&za[d])++d;c=d<<1;if(c-a>32&&pa)return pa.decode(v.subarray(a,c));else{e="";for(d=0;!(d>=b/2);++d){c=w[a+d*2>>1];if(c==0)break;e+=String.fromCharCode(c)}return e}}function ra(a,b,c){c===void 0&&(c=2147483647);if(c<2)return 0;c-=2;var d=b;c=c<a.length*2?c/2:a.length;for(var e=0;e<c;++e){var f=a.charCodeAt(e);w[b>>1]=f;b+=2}w[b>>1]=0;return b-d}function sa(a){return a.length*2}function ta(a,b){var c=0,d="";while(!(c>=b/4)){var e=x[a+c*4>>2];if(e==0)break;++c;if(e>=65536){var f=e-65536;d+=String.fromCharCode(55296|f>>10,56320|f&1023)}else d+=String.fromCharCode(e)}return d}function ua(a,b,c){c===void 0&&(c=2147483647);if(c<4)return 0;var d=b;c=d+c-4;for(var e=0;e<a.length;++e){var f=a.charCodeAt(e);if(f>=55296&&f<=57343){var g=a.charCodeAt(++e);f=65536+((f&1023)<<10)|g&1023}x[b>>2]=f;b+=4;if(b+4>c)break}x[b>>2]=0;return b-d}function va(a){var b=0;for(var c=0;c<a.length;++c){var d=a.charCodeAt(c);d>=55296&&d<=57343&&++c;b+=4}return b}function wa(b,a){u.set(b,a)}function xa(b,a,c){for(var d=0;d<b.length;++d)u[a++>>0]=b.charCodeAt(d);c||(u[a>>0]=0)}var ya,u,v,w,za,x,y,Aa,Ba;function Ca(a){ya=a,c.HEAP8=u=new Int8Array(a),c.HEAP16=w=new Int16Array(a),c.HEAP32=x=new Int32Array(a),c.HEAPU8=v=new Uint8Array(a),c.HEAPU16=za=new Uint16Array(a),c.HEAPU32=y=new Uint32Array(a),c.HEAPF32=Aa=new Float32Array(a),c.HEAPF64=Ba=new Float64Array(a)}c.INITIAL_MEMORY||16777216;var Da,Ea=[],Fa=[],Ga=[];function Ha(){if(c.preRun){typeof c.preRun=="function"&&(c.preRun=[c.preRun]);while(c.preRun.length)Ka(c.preRun.shift())}Xa(Ea)}function Ia(){!c.noFSInit&&!K.init.initialized&&K.init(),K.ignorePermissions=!1,I.init(),Xa(Fa)}function Ja(){if(c.postRun){typeof c.postRun=="function"&&(c.postRun=[c.postRun]);while(c.postRun.length)Ma(c.postRun.shift())}Xa(Ga)}function Ka(a){Ea.unshift(a)}function La(a){Fa.unshift(a)}function Ma(a){Ga.unshift(a)}var z=0,Na=null,Oa=null;function Pa(a){return a}function Qa(a){z++,c.monitorRunDependencies&&c.monitorRunDependencies(z)}function Ra(a){z--;c.monitorRunDependencies&&c.monitorRunDependencies(z);if(z==0){Na!==null&&(clearInterval(Na),Na=null);if(Oa){a=Oa;Oa=null;a()}}}c.preloadedImages={};c.preloadedAudios={};function A(a){c.onAbort&&c.onAbort(a);a="Aborted("+a+")";q(a);ia=!0;a+=". Build with -s ASSERTIONS=1 for more info.";a=new WebAssembly.RuntimeError(a);j(a);throw a}var Sa="data:application/octet-stream;base64,";function Ta(a){return a.startsWith(Sa)}var B;B="pakeCpace.wasm";Ta(B)||(B=aa(B));function Ua(a){try{if(a==B&&s)return new Uint8Array(s);if(da)return da(a);else throw"both async and sync fetching of the wasm failed"}catch(a){A(a)}}function Va(){return!s&&(n||o)&&typeof fetch==="function"?fetch(B,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+B+"'";return a.arrayBuffer()})["catch"](function(){return Ua(B)}):(g||(g=b("Promise"))).resolve().then(function(){return Ua(B)})}function Wa(){var b={a:vd};function d(b,a){a=b.exports;c.asm=a;ha=c.asm.ha;Ca(ha.buffer);Da=c.asm.ka;La(c.asm.ia);Ra("wasm-instantiate")}Qa("wasm-instantiate");function g(a){d(a.instance)}function h(a){return Va().then(function(a){return WebAssembly.instantiate(a,b)}).then(function(a){return a}).then(a,function(a){q("failed to asynchronously prepare wasm: "+a),A(a)})}function i(){if(!s&&typeof WebAssembly.instantiateStreaming==="function"&&!Ta(B)&&typeof fetch==="function")return fetch(B,{credentials:"same-origin"}).then(function(a){a=WebAssembly.instantiateStreaming(a,b);return a.then(g,function(a){q("wasm streaming compile failed: "+a);q("falling back to ArrayBuffer instantiation");return h(g)})});else return h(g)}if(c.instantiateWasm)try{var a=c.instantiateWasm(b,d);return a}catch(a){q("Module.instantiateWasm callback failed with error: "+a);return!1}i()["catch"](j);return{}}var C,D;function Xa(a){while(a.length>0){var b=a.shift();if(typeof b=="function"){b(c);continue}var d=b.func;typeof d==="number"?b.arg===void 0?E(d)():E(d)(b.arg):d(b.arg===void 0?null:b.arg)}}function E(a){return Da.get(a)}function Ya(a){return wd(a+16)+16}function Za(a){this.excPtr=a,this.ptr=a-16,this.set_type=function(a){x[this.ptr+4>>2]=a},this.get_type=function(){return x[this.ptr+4>>2]},this.set_destructor=function(a){x[this.ptr+8>>2]=a},this.get_destructor=function(){return x[this.ptr+8>>2]},this.set_refcount=function(a){x[this.ptr>>2]=a},this.set_caught=function(a){a=a?1:0,u[this.ptr+12>>0]=a},this.get_caught=function(){return u[this.ptr+12>>0]!=0},this.set_rethrown=function(a){a=a?1:0,u[this.ptr+13>>0]=a},this.get_rethrown=function(){return u[this.ptr+13>>0]!=0},this.init=function(a,b){this.set_type(a),this.set_destructor(b),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var a=x[this.ptr>>2];x[this.ptr>>2]=a+1},this.release_ref=function(){var a=x[this.ptr>>2];x[this.ptr>>2]=a-1;return a===1}}function $a(a){this.free=function(){X(this.ptr),this.ptr=0},this.set_base_ptr=function(a){x[this.ptr>>2]=a},this.get_base_ptr=function(){return x[this.ptr>>2]},this.set_adjusted_ptr=function(a){x[this.ptr+4>>2]=a},this.get_adjusted_ptr_addr=function(){return this.ptr+4},this.get_adjusted_ptr=function(){return x[this.ptr+4>>2]},this.get_exception_ptr=function(){var a=zd(this.get_exception_info().get_type());if(a)return x[this.get_base_ptr()>>2];a=this.get_adjusted_ptr();return a!==0?a:this.get_base_ptr()},this.get_exception_info=function(){return new Za(this.get_base_ptr())},a===void 0?(this.ptr=wd(8),this.set_adjusted_ptr(0)):this.ptr=a}var ab=[];function bb(a){a.add_ref()}var cb=0;function db(a){a=new $a(a);var b=a.get_exception_info();b.get_caught()||(b.set_caught(!0),cb--);b.set_rethrown(!1);ab.push(a);bb(b);return a.get_exception_ptr()}var F=0;function eb(a){try{return X(new Za(a).ptr)}catch(a){}}function fb(a){if(a.release_ref()&&!a.get_rethrown()){var b=a.get_destructor();b&&E(b)(a.excPtr);eb(a.excPtr)}}function gb(){Y(0);var a=ab.pop();fb(a.get_exception_info());a.free();F=0}function hb(a){a=new $a(a);var b=a.get_base_ptr();F||(F=b);a.free();throw b}function ib(){var a=F;if(!a){r(0);return 0|0}var b=new Za(a),c=b.get_type(),d=new $a();d.set_base_ptr(a);d.set_adjusted_ptr(a);if(!c){r(0);return d.ptr|0}var e=Array.prototype.slice.call(arguments);for(var f=0;f<e.length;f++){var g=e[f];if(g===0||g===c)break;if(yd(g,c,d.get_adjusted_ptr_addr())){r(g);return d.ptr|0}}r(c);return d.ptr|0}function jb(){var a=F;if(!a){r(0);return 0|0}var b=new Za(a),c=b.get_type(),d=new $a();d.set_base_ptr(a);d.set_adjusted_ptr(a);if(!c){r(0);return d.ptr|0}var e=Array.prototype.slice.call(arguments);for(var f=0;f<e.length;f++){var g=e[f];if(g===0||g===c)break;if(yd(g,c,d.get_adjusted_ptr_addr())){r(g);return d.ptr|0}}r(c);return d.ptr|0}function kb(){var a=ab.pop();a||A("no exception to throw");var b=a.get_exception_info(),c=a.get_base_ptr();!b.get_rethrown()?(ab.push(a),b.set_rethrown(!0),b.set_caught(!1),cb++):a.free();F=c;throw c}function lb(a,b,c){var d=new Za(a);d.init(b,c);F=a;cb++;throw a}function mb(){return cb}var G={splitPath:function(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(a).slice(1)},normalizeArray:function(a,b){var c=0;for(var d=a.length-1;d>=0;d--){var e=a[d];e==="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:function(a){var b=a.charAt(0)==="/",c=a.substr(-1)==="/";a=G.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");!a&&!b&&(a=".");a&&c&&(a+="/");return(b?"/":"")+a},dirname:function(a){a=G.splitPath(a);var b=a[0];a=a[1];if(!b&&!a)return".";a&&(a=a.substr(0,a.length-1));return b+a},basename:function(a){if(a==="/")return"/";a=G.normalize(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return b===-1?a:a.substr(b+1)},extname:function(a){return G.splitPath(a)[3]},join:function(){var a=Array.prototype.slice.call(arguments,0);return G.normalize(a.join("/"))},join2:function(a,b){return G.normalize(a+"/"+b)}};function nb(){if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function"){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}else return function(){A("randomDevice")}}var H={resolve:function(){var a="",b=!1;for(var c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:K.cwd();if(typeof d!=="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!d)return"";a=d+"/"+a;b=d.charAt(0)==="/"}a=G.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){a=H.resolve(a).substr(1);b=H.resolve(b).substr(1);function c(a){var b=0;for(;b<a.length;b++)if(a[b]!=="")break;var c=a.length-1;for(;c>=0;c--)if(a[c]!=="")break;return b>c?[]:a.slice(b,c-b+1)}a=c(a.split("/"));c=c(b.split("/"));b=Math.min(a.length,c.length);var d=b;for(var e=0;e<b;e++)if(a[e]!==c[e]){d=e;break}b=[];for(var e=d;e<a.length;e++)b.push("..");b=b.concat(c.slice(d));return b.join("/")}},I={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){I.ttys[a]={input:[],output:[],ops:b},K.registerDevice(a,I.stream_ops)},stream_ops:{open:function(a){var b=I.ttys[a.node.rdev];if(!b)throw new K.ErrnoError(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},flush:function(a){a.tty.ops.flush(a.tty)},read:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.get_char)throw new K.ErrnoError(60);e=0;for(var f=0;f<d;f++){var g;try{g=b.tty.ops.get_char(b.tty)}catch(a){throw new K.ErrnoError(29)}if(g===void 0&&e===0)throw new K.ErrnoError(6);if(g===null||g===void 0)break;e++;a[c+f]=g}e&&(b.node.timestamp=Date.now());return e},write:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.put_char)throw new K.ErrnoError(60);try{for(var f=0;f<d;f++)b.tty.ops.put_char(b.tty,a[c+f])}catch(a){throw new K.ErrnoError(29)}d&&(b.node.timestamp=Date.now());return f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;typeof window!="undefined"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+="\n")):typeof readline=="function"&&(b=readline(),b!==null&&(b+="\n"));if(!b)return null;a.input=ud(b,!0)}return a.input.shift()},put_char:function(a,b){b===null||b===10?(ea(t(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(ea(t(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){b===null||b===10?(q(t(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(q(t(a.output,0)),a.output=[])}}};function ob(a){A()}var J={ops_table:null,mount:function(a){return J.createNode(null,"/",16384|511,0)},createNode:function(a,b,c,d){if(K.isBlkdev(c)||K.isFIFO(c))throw new K.ErrnoError(63);J.ops_table||(J.ops_table={dir:{node:{getattr:J.node_ops.getattr,setattr:J.node_ops.setattr,lookup:J.node_ops.lookup,mknod:J.node_ops.mknod,rename:J.node_ops.rename,unlink:J.node_ops.unlink,rmdir:J.node_ops.rmdir,readdir:J.node_ops.readdir,symlink:J.node_ops.symlink},stream:{llseek:J.stream_ops.llseek}},file:{node:{getattr:J.node_ops.getattr,setattr:J.node_ops.setattr},stream:{llseek:J.stream_ops.llseek,read:J.stream_ops.read,write:J.stream_ops.write,allocate:J.stream_ops.allocate,mmap:J.stream_ops.mmap,msync:J.stream_ops.msync}},link:{node:{getattr:J.node_ops.getattr,setattr:J.node_ops.setattr,readlink:J.node_ops.readlink},stream:{}},chrdev:{node:{getattr:J.node_ops.getattr,setattr:J.node_ops.setattr},stream:K.chrdev_stream_ops}});c=K.createNode(a,b,c,d);K.isDir(c.mode)?(c.node_ops=J.ops_table.dir.node,c.stream_ops=J.ops_table.dir.stream,c.contents={}):K.isFile(c.mode)?(c.node_ops=J.ops_table.file.node,c.stream_ops=J.ops_table.file.stream,c.usedBytes=0,c.contents=null):K.isLink(c.mode)?(c.node_ops=J.ops_table.link.node,c.stream_ops=J.ops_table.link.stream):K.isChrdev(c.mode)&&(c.node_ops=J.ops_table.chrdev.node,c.stream_ops=J.ops_table.chrdev.stream);c.timestamp=Date.now();a&&(a.contents[b]=c,a.timestamp=c.timestamp);return c},getFileDataAsTypedArray:function(a){if(!a.contents)return new Uint8Array(0);return a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var c=a.contents?a.contents.length:0;if(c>=b)return;var d=1024*1024;b=Math.max(b,c*(c<d?2:1.125)>>>0);c!=0&&(b=Math.max(b,256));d=a.contents;a.contents=new Uint8Array(b);a.usedBytes>0&&a.contents.set(d.subarray(0,a.usedBytes),0)},resizeFileStorage:function(a,b){if(a.usedBytes==b)return;if(b==0)a.contents=null,a.usedBytes=0;else{var c=a.contents;a.contents=new Uint8Array(b);c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes)));a.usedBytes=b}},node_ops:{getattr:function(a){var b={};b.dev=K.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;K.isDir(a.mode)?b.size=4096:K.isFile(a.mode)?b.size=a.usedBytes:K.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp),b.size!==void 0&&J.resizeFileStorage(a,b.size)},lookup:function(a,b){throw K.genericErrors[44]},mknod:function(a,b,c,d){return J.createNode(a,b,c,d)},rename:function(a,b,c){if(K.isDir(a.mode)){var d;try{d=K.lookupNode(b,c)}catch(a){}if(d)for(var e in d.contents)throw new K.ErrnoError(55)}delete a.parent.contents[a.name];a.parent.timestamp=Date.now();a.name=c;b.contents[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.contents[b],a.timestamp=Date.now()},rmdir:function(a,b){var c=K.lookupNode(a,b);for(c in c.contents)throw new K.ErrnoError(55);delete a.contents[b];a.timestamp=Date.now()},readdir:function(a){var b=[".",".."];for(var c in a.contents){if(!Object.prototype.hasOwnProperty.call(a.contents,c))continue;b.push(c)}return b},symlink:function(a,b,c){a=J.createNode(a,b,511|40960,0);a.link=c;return a},readlink:function(a){if(!K.isLink(a.mode))throw new K.ErrnoError(28);return a.link}},stream_ops:{read:function(b,a,c,d,e){var f=b.node.contents;if(e>=b.node.usedBytes)return 0;b=Math.min(b.node.usedBytes-e,d);if(b>8&&f.subarray)a.set(f.subarray(e,e+b),c);else for(d=0;d<b;d++)a[c+d]=f[e+d];return b},write:function(b,a,c,d,e,f){if(!d)return 0;b=b.node;b.timestamp=Date.now();if(a.subarray&&(!b.contents||b.contents.subarray))if(f){b.contents=a.subarray(c,c+d);b.usedBytes=d;return d}else if(b.usedBytes===0&&e===0){b.contents=a.slice(c,c+d);b.usedBytes=d;return d}else if(e+d<=b.usedBytes){b.contents.set(a.subarray(c,c+d),e);return d}J.expandFileStorage(b,e+d);if(b.contents.subarray&&a.subarray)b.contents.set(a.subarray(c,c+d),e);else for(f=0;f<d;f++)b.contents[e+f]=a[c+f];b.usedBytes=Math.max(b.usedBytes,e+d);return d},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(K.isFile(a.node.mode)&&(b+=a.node.usedBytes));if(b<0)throw new K.ErrnoError(28);return b},allocate:function(a,b,c){J.expandFileStorage(a.node,b+c),a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},mmap:function(a,b,c,d,e,f){if(b!==0)throw new K.ErrnoError(28);if(!K.isFile(a.node.mode))throw new K.ErrnoError(43);e=a.node.contents;if(!(f&2)&&e.buffer===ya)b=!1,a=e.byteOffset;else{(d>0||d+c<e.length)&&(e.subarray?e=e.subarray(d,d+c):e=Array.prototype.slice.call(e,d,d+c));b=!0;a=ob(c);if(!a)throw new K.ErrnoError(48);u.set(e,a)}return{ptr:a,allocated:b}},msync:function(b,a,c,d,e){if(!K.isFile(b.node.mode))throw new K.ErrnoError(43);if(e&2)return 0;J.stream_ops.write(b,a,0,d,c,!1);return 0}}};function pb(a,b,c,d){var e=d?"":Pa("al "+a);ca(a,function(c){ja(c,'Loading data file "'+a+'" failed (no arrayBuffer).'),b(new Uint8Array(c)),e&&Ra(e)},function(b){if(c)c();else throw'Loading data file "'+a+'" failed.'});e&&Qa(e)}var K={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(a,b){b===void 0&&(b={});a=H.resolve(K.cwd(),a);if(!a)return{path:"",node:null};var c={follow_mount:!0,recurse_count:0};for(var d in c)b[d]===void 0&&(b[d]=c[d]);if(b.recurse_count>8)throw new K.ErrnoError(32);c=G.normalizeArray(a.split("/").filter(function(a){return!!a}),!1);d=K.root;a="/";for(var e=0;e<c.length;e++){var f=e===c.length-1;if(f&&b.parent)break;d=K.lookupNode(d,c[e]);a=G.join2(a,c[e]);K.isMountpoint(d)&&((!f||f&&b.follow_mount)&&(d=d.mounted.root));if(!f||b.follow){f=0;while(K.isLink(d.mode)){var g=K.readlink(a);a=H.resolve(G.dirname(a),g);g=K.lookupPath(a,{recurse_count:b.recurse_count});d=g.node;if(f++>40)throw new K.ErrnoError(32)}}}return{path:a,node:d}},getPath:function(a){var b;while(!0){if(K.isRoot(a)){var c=a.mount.mountpoint;return!b?c:c[c.length-1]!=="/"?c+"/"+b:c+b}b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){var c=0;for(var d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%K.nameTable.length},hashAddNode:function(a){var b=K.hashName(a.parent.id,a.name);a.name_next=K.nameTable[b];K.nameTable[b]=a},hashRemoveNode:function(a){var b=K.hashName(a.parent.id,a.name);if(K.nameTable[b]===a)K.nameTable[b]=a.name_next;else{b=K.nameTable[b];while(b){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}}},lookupNode:function(a,b){var c=K.mayLookup(a);if(c)throw new K.ErrnoError(c,a);c=K.hashName(a.id,b);for(c=K.nameTable[c];c;c=c.name_next){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return K.lookup(a,b)},createNode:function(a,b,c,d){a=new K.FSNode(a,b,c,d);K.hashAddNode(a);return a},destroyNode:function(a){K.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return(a&61440)===32768},isDir:function(a){return(a&61440)===16384},isLink:function(a){return(a&61440)===40960},isChrdev:function(a){return(a&61440)===8192},isBlkdev:function(a){return(a&61440)===24576},isFIFO:function(a){return(a&61440)===4096},isSocket:function(a){return(a&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(a){var b=K.flagModes[a];if(typeof b==="undefined")throw new Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},nodePermissions:function(a,b){if(K.ignorePermissions)return 0;if(b.includes("r")&&!(a.mode&292))return 2;else if(b.includes("w")&&!(a.mode&146))return 2;else if(b.includes("x")&&!(a.mode&73))return 2;return 0},mayLookup:function(a){var b=K.nodePermissions(a,"x");if(b)return b;return!a.node_ops.lookup?2:0},mayCreate:function(a,b){try{K.lookupNode(a,b);return 20}catch(a){}return K.nodePermissions(a,"wx")},mayDelete:function(a,b,c){var d;try{d=K.lookupNode(a,b)}catch(a){return a.errno}b=K.nodePermissions(a,"wx");if(b)return b;if(c){if(!K.isDir(d.mode))return 54;if(K.isRoot(d)||K.getPath(d)===K.cwd())return 10}else if(K.isDir(d.mode))return 31;return 0},mayOpen:function(a,b){if(!a)return 44;if(K.isLink(a.mode))return 32;else if(K.isDir(a.mode)&&(K.flagsToPermissionString(b)!=="r"||b&512))return 31;return K.nodePermissions(a,K.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){a===void 0&&(a=0);b===void 0&&(b=K.MAX_OPEN_FDS);for(a=a;a<=b;a++)if(!K.streams[a])return a;throw new K.ErrnoError(33)},getStream:function(a){return K.streams[a]},createStream:function(a,b,c){K.FSStream||(K.FSStream=function(){},K.FSStream.prototype={object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var d=new K.FSStream();for(var e in a)d[e]=a[e];a=d;e=K.nextfd(b,c);a.fd=e;K.streams[e]=a;return a},closeStream:function(a){K.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=K.getDevice(a.node.rdev);a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new K.ErrnoError(70)}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){K.devices[a]={stream_ops:b}},getDevice:function(a){return K.devices[a]},getMounts:function(a){var b=[];a=[a];while(a.length){var c=a.pop();b.push(c);a.push.apply(a,c.mounts)}return b},syncfs:function(a,b){typeof a==="function"&&(b=a,a=!1);K.syncFSRequests++;K.syncFSRequests>1&&q("warning: "+K.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var c=K.getMounts(K.root.mount),d=0;function e(a){K.syncFSRequests--;return b(a)}function f(a){if(a){if(!f.errored){f.errored=!0;return e(a)}return}++d>=c.length&&e(null)}c.forEach(function(b){if(!b.type.syncfs)return f(null);b.type.syncfs(b,a,f)})},mount:function(a,b,c){var d=c==="/",e=!c,f;if(d&&K.root)throw new K.ErrnoError(10);else if(!d&&!e){e=K.lookupPath(c,{follow_mount:!1});c=e.path;f=e.node;if(K.isMountpoint(f))throw new K.ErrnoError(10);if(!K.isDir(f.mode))throw new K.ErrnoError(54)}e={type:a,opts:b,mountpoint:c,mounts:[]};b=a.mount(e);b.mount=e;e.root=b;d?K.root=b:f&&(f.mounted=e,f.mount&&f.mount.mounts.push(e));return b},unmount:function(a){a=K.lookupPath(a,{follow_mount:!1});if(!K.isMountpoint(a.node))throw new K.ErrnoError(28);a=a.node;var b=a.mounted,c=K.getMounts(b);Object.keys(K.nameTable).forEach(function(a){a=K.nameTable[a];while(a){var b=a.name_next;c.includes(a.mount)&&K.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(a,b,c){var d=K.lookupPath(a,{parent:!0});d=d.node;a=G.basename(a);if(!a||a==="."||a==="..")throw new K.ErrnoError(28);var e=K.mayCreate(d,a);if(e)throw new K.ErrnoError(e);if(!d.node_ops.mknod)throw new K.ErrnoError(63);return d.node_ops.mknod(d,a,b,c)},create:function(a,b){b=b!==void 0?b:438;b&=4095;b|=32768;return K.mknod(a,b,0)},mkdir:function(a,b){b=b!==void 0?b:511;b&=511|512;b|=16384;return K.mknod(a,b,0)},mkdirTree:function(a,b){a=a.split("/");var c="";for(var d=0;d<a.length;++d){if(!a[d])continue;c+="/"+a[d];try{K.mkdir(c,b)}catch(a){if(a.errno!=20)throw a}}},mkdev:function(a,b,c){typeof c==="undefined"&&(c=b,b=438);b|=8192;return K.mknod(a,b,c)},symlink:function(a,b){if(!H.resolve(a))throw new K.ErrnoError(44);var c=K.lookupPath(b,{parent:!0});c=c.node;if(!c)throw new K.ErrnoError(44);b=G.basename(b);var d=K.mayCreate(c,b);if(d)throw new K.ErrnoError(d);if(!c.node_ops.symlink)throw new K.ErrnoError(63);return c.node_ops.symlink(c,b,a)},rename:function(a,b){var c=G.dirname(a),d=G.dirname(b),e=G.basename(a),f=G.basename(b),g,h;g=K.lookupPath(a,{parent:!0});h=g.node;g=K.lookupPath(b,{parent:!0});g=g.node;if(!h||!g)throw new K.ErrnoError(44);if(h.mount!==g.mount)throw new K.ErrnoError(75);var i=K.lookupNode(h,e);a=H.relative(a,d);if(a.charAt(0)!==".")throw new K.ErrnoError(28);a=H.relative(b,c);if(a.charAt(0)!==".")throw new K.ErrnoError(55);var j;try{j=K.lookupNode(g,f)}catch(a){}if(i===j)return;d=K.isDir(i.mode);b=K.mayDelete(h,e,d);if(b)throw new K.ErrnoError(b);b=j?K.mayDelete(g,f,d):K.mayCreate(g,f);if(b)throw new K.ErrnoError(b);if(!h.node_ops.rename)throw new K.ErrnoError(63);if(K.isMountpoint(i)||j&&K.isMountpoint(j))throw new K.ErrnoError(10);if(g!==h){b=K.nodePermissions(h,"w");if(b)throw new K.ErrnoError(b)}K.hashRemoveNode(i);try{h.node_ops.rename(i,g,f)}catch(a){throw a}finally{K.hashAddNode(i)}},rmdir:function(a){var b=K.lookupPath(a,{parent:!0});b=b.node;a=G.basename(a);var c=K.lookupNode(b,a),d=K.mayDelete(b,a,!0);if(d)throw new K.ErrnoError(d);if(!b.node_ops.rmdir)throw new K.ErrnoError(63);if(K.isMountpoint(c))throw new K.ErrnoError(10);b.node_ops.rmdir(b,a);K.destroyNode(c)},readdir:function(a){a=K.lookupPath(a,{follow:!0});a=a.node;if(!a.node_ops.readdir)throw new K.ErrnoError(54);return a.node_ops.readdir(a)},unlink:function(a){var b=K.lookupPath(a,{parent:!0});b=b.node;if(!b)throw new K.ErrnoError(44);a=G.basename(a);var c=K.lookupNode(b,a),d=K.mayDelete(b,a,!1);if(d)throw new K.ErrnoError(d);if(!b.node_ops.unlink)throw new K.ErrnoError(63);if(K.isMountpoint(c))throw new K.ErrnoError(10);b.node_ops.unlink(b,a);K.destroyNode(c)},readlink:function(a){a=K.lookupPath(a);a=a.node;if(!a)throw new K.ErrnoError(44);if(!a.node_ops.readlink)throw new K.ErrnoError(28);return H.resolve(K.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){a=K.lookupPath(a,{follow:!b});b=a.node;if(!b)throw new K.ErrnoError(44);if(!b.node_ops.getattr)throw new K.ErrnoError(63);return b.node_ops.getattr(b)},lstat:function(a){return K.stat(a,!0)},chmod:function(a,b,c){if(typeof a==="string"){c=K.lookupPath(a,{follow:!c});c=c.node}else c=a;if(!c.node_ops.setattr)throw new K.ErrnoError(63);c.node_ops.setattr(c,{mode:b&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){K.chmod(a,b,!0)},fchmod:function(a,b){a=K.getStream(a);if(!a)throw new K.ErrnoError(8);K.chmod(a.node,b)},chown:function(a,b,c,d){if(typeof a==="string"){b=K.lookupPath(a,{follow:!d});c=b.node}else c=a;if(!c.node_ops.setattr)throw new K.ErrnoError(63);c.node_ops.setattr(c,{timestamp:Date.now()})},lchown:function(a,b,c){K.chown(a,b,c,!0)},fchown:function(a,b,c){a=K.getStream(a);if(!a)throw new K.ErrnoError(8);K.chown(a.node,b,c)},truncate:function(a,b){if(b<0)throw new K.ErrnoError(28);if(typeof a==="string"){var c=K.lookupPath(a,{follow:!0});c=c.node}else c=a;if(!c.node_ops.setattr)throw new K.ErrnoError(63);if(K.isDir(c.mode))throw new K.ErrnoError(31);if(!K.isFile(c.mode))throw new K.ErrnoError(28);a=K.nodePermissions(c,"w");if(a)throw new K.ErrnoError(a);c.node_ops.setattr(c,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){a=K.getStream(a);if(!a)throw new K.ErrnoError(8);if((a.flags&2097155)===0)throw new K.ErrnoError(28);K.truncate(a.node,b)},utime:function(a,b,c){a=K.lookupPath(a,{follow:!0});a=a.node;a.node_ops.setattr(a,{timestamp:Math.max(b,c)})},open:function(a,b,d,e,f){if(a==="")throw new K.ErrnoError(44);b=typeof b==="string"?K.modeStringToFlags(b):b;d=typeof d==="undefined"?438:d;b&64?d=d&4095|32768:d=0;var g;if(typeof a==="object")g=a;else{a=G.normalize(a);try{var h=K.lookupPath(a,{follow:!(b&131072)});g=h.node}catch(a){}}h=!1;if(b&64)if(g){if(b&128)throw new K.ErrnoError(20)}else g=K.mknod(a,d,0),h=!0;if(!g)throw new K.ErrnoError(44);K.isChrdev(g.mode)&&(b&=-513);if(b&65536&&!K.isDir(g.mode))throw new K.ErrnoError(54);if(!h){d=K.mayOpen(g,b);if(d)throw new K.ErrnoError(d)}b&512&&K.truncate(g,0);b&=~(128|512|131072);h=K.createStream({node:g,path:K.getPath(g),flags:b,seekable:!0,position:0,stream_ops:g.stream_ops,ungotten:[],error:!1},e,f);h.stream_ops.open&&h.stream_ops.open(h);c.logReadFiles&&!(b&1)&&(K.readFiles||(K.readFiles={}),a in K.readFiles||(K.readFiles[a]=1));return h},close:function(a){if(K.isClosed(a))throw new K.ErrnoError(8);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(a){throw a}finally{K.closeStream(a.fd)}a.fd=null},isClosed:function(a){return a.fd===null},llseek:function(a,b,c){if(K.isClosed(a))throw new K.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new K.ErrnoError(70);if(c!=0&&c!=1&&c!=2)throw new K.ErrnoError(28);a.position=a.stream_ops.llseek(a,b,c);a.ungotten=[];return a.position},read:function(b,a,c,d,e){if(d<0||e<0)throw new K.ErrnoError(28);if(K.isClosed(b))throw new K.ErrnoError(8);if((b.flags&2097155)===1)throw new K.ErrnoError(8);if(K.isDir(b.node.mode))throw new K.ErrnoError(31);if(!b.stream_ops.read)throw new K.ErrnoError(28);var f=typeof e!=="undefined";if(!f)e=b.position;else if(!b.seekable)throw new K.ErrnoError(70);a=b.stream_ops.read(b,a,c,d,e);f||(b.position+=a);return a},write:function(b,a,c,d,e,f){if(d<0||e<0)throw new K.ErrnoError(28);if(K.isClosed(b))throw new K.ErrnoError(8);if((b.flags&2097155)===0)throw new K.ErrnoError(8);if(K.isDir(b.node.mode))throw new K.ErrnoError(31);if(!b.stream_ops.write)throw new K.ErrnoError(28);b.seekable&&b.flags&1024&&K.llseek(b,0,2);var g=typeof e!=="undefined";if(!g)e=b.position;else if(!b.seekable)throw new K.ErrnoError(70);a=b.stream_ops.write(b,a,c,d,e,f);g||(b.position+=a);return a},allocate:function(a,b,c){if(K.isClosed(a))throw new K.ErrnoError(8);if(b<0||c<=0)throw new K.ErrnoError(28);if((a.flags&2097155)===0)throw new K.ErrnoError(8);if(!K.isFile(a.node.mode)&&!K.isDir(a.node.mode))throw new K.ErrnoError(43);if(!a.stream_ops.allocate)throw new K.ErrnoError(138);a.stream_ops.allocate(a,b,c)},mmap:function(a,b,c,d,e,f){if((e&2)!==0&&(f&2)===0&&(a.flags&2097155)!==2)throw new K.ErrnoError(2);if((a.flags&2097155)===1)throw new K.ErrnoError(2);if(!a.stream_ops.mmap)throw new K.ErrnoError(43);return a.stream_ops.mmap(a,b,c,d,e,f)},msync:function(b,a,c,d,e){return!b||!b.stream_ops.msync?0:b.stream_ops.msync(b,a,c,d,e)},munmap:function(a){return 0},ioctl:function(a,b,c){if(!a.stream_ops.ioctl)throw new K.ErrnoError(59);return a.stream_ops.ioctl(a,b,c)},readFile:function(a,b){b===void 0&&(b={});b.flags=b.flags||0;b.encoding=b.encoding||"binary";if(b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var c,d=K.open(a,b.flags);a=K.stat(a);a=a.size;var e=new Uint8Array(a);K.read(d,e,0,a,0);b.encoding==="utf8"?c=t(e,0):b.encoding==="binary"&&(c=e);K.close(d);return c},writeFile:function(a,b,c){c===void 0&&(c={});c.flags=c.flags||577;a=K.open(a,c.flags,c.mode);if(typeof b==="string"){var d=new Uint8Array(oa(b)+1),e=ma(b,d,0,d.length);K.write(a,d,0,e,void 0,c.canOwn)}else if(ArrayBuffer.isView(b))K.write(a,b,0,b.byteLength,void 0,c.canOwn);else throw new Error("Unsupported data type");K.close(a)},cwd:function(){return K.currentPath},chdir:function(a){a=K.lookupPath(a,{follow:!0});if(a.node===null)throw new K.ErrnoError(44);if(!K.isDir(a.node.mode))throw new K.ErrnoError(54);var b=K.nodePermissions(a.node,"x");if(b)throw new K.ErrnoError(b);K.currentPath=a.path},createDefaultDirectories:function(){K.mkdir("/tmp"),K.mkdir("/home"),K.mkdir("/home/web_user")},createDefaultDevices:function(){K.mkdir("/dev");K.registerDevice(K.makedev(1,3),{read:function(){return 0},write:function(b,a,c,d,e){return d}});K.mkdev("/dev/null",K.makedev(1,3));I.register(K.makedev(5,0),I.default_tty_ops);I.register(K.makedev(6,0),I.default_tty1_ops);K.mkdev("/dev/tty",K.makedev(5,0));K.mkdev("/dev/tty1",K.makedev(6,0));var a=nb();K.createDevice("/dev","random",a);K.createDevice("/dev","urandom",a);K.mkdir("/dev/shm");K.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){K.mkdir("/proc");var a=K.mkdir("/proc/self");K.mkdir("/proc/self/fd");K.mount({mount:function(){var b=K.createNode(a,"fd",16384|511,73);b.node_ops={lookup:function(a,b){a=+b;var c=K.getStream(a);if(!c)throw new K.ErrnoError(8);b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return c.path}}};b.parent=b;return b}};return b}},{},"/proc/self/fd")},createStandardStreams:function(){c.stdin?K.createDevice("/dev","stdin",c.stdin):K.symlink("/dev/tty","/dev/stdin"),c.stdout?K.createDevice("/dev","stdout",null,c.stdout):K.symlink("/dev/tty","/dev/stdout"),c.stderr?K.createDevice("/dev","stderr",null,c.stderr):K.symlink("/dev/tty1","/dev/stderr"),K.open("/dev/stdin",0),K.open("/dev/stdout",1),K.open("/dev/stderr",1)},ensureErrnoError:function(){if(K.ErrnoError)return;K.ErrnoError=function(a,b){this.node=b,this.setErrno=function(a){this.errno=a},this.setErrno(a),this.message="FS error"};K.ErrnoError.prototype=new Error();K.ErrnoError.prototype.constructor=K.ErrnoError;[44].forEach(function(a){K.genericErrors[a]=new K.ErrnoError(a),K.genericErrors[a].stack="<generic error, no stack>"})},staticInit:function(){K.ensureErrnoError(),K.nameTable=new Array(4096),K.mount(J,{},"/"),K.createDefaultDirectories(),K.createDefaultDevices(),K.createSpecialDirectories(),K.filesystems={MEMFS:J}},init:function(a,b,d){K.init.initialized=!0,K.ensureErrnoError(),c.stdin=a||c.stdin,c.stdout=b||c.stdout,c.stderr=d||c.stderr,K.createStandardStreams()},quit:function(){K.init.initialized=!1;for(var a=0;a<K.streams.length;a++){var b=K.streams[a];if(!b)continue;K.close(b)}},getMode:function(a,b){var c=0;a&&(c|=292|73);b&&(c|=146);return c},findObject:function(a,b){a=K.analyzePath(a,b);if(a.exists)return a.object;else return null},analyzePath:function(a,b){try{var c=K.lookupPath(a,{follow:!b});a=c.path}catch(a){}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=K.lookupPath(a,{parent:!0});d.parentExists=!0;d.parentPath=c.path;d.parentObject=c.node;d.name=G.basename(a);c=K.lookupPath(a,{follow:!b});d.exists=!0;d.path=c.path;d.object=c.node;d.name=c.node.name;d.isRoot=c.path==="/"}catch(a){d.error=a.errno}return d},createPath:function(a,b,c,d){a=typeof a==="string"?a:K.getPath(a);c=b.split("/").reverse();while(c.length){d=c.pop();if(!d)continue;var e=G.join2(a,d);try{K.mkdir(e)}catch(a){}a=e}return e},createFile:function(a,b,c,d,e){c=G.join2(typeof a==="string"?a:K.getPath(a),b);a=K.getMode(d,e);return K.create(c,a)},createDataFile:function(a,b,c,d,e,f){var g=b;a&&(a=typeof a==="string"?a:K.getPath(a),g=b?G.join2(a,b):a);b=K.getMode(d,e);a=K.create(g,b);if(c){if(typeof c==="string"){d=new Array(c.length);for(e=0,g=c.length;e<g;++e)d[e]=c.charCodeAt(e);c=d}K.chmod(a,b|146);e=K.open(a,577);K.write(e,c,0,c.length,0,f);K.close(e);K.chmod(a,b)}return a},createDevice:function(a,b,c,d){a=G.join2(typeof a==="string"?a:K.getPath(a),b);b=K.getMode(!!c,!!d);K.createDevice.major||(K.createDevice.major=64);var e=K.makedev(K.createDevice.major++,0);K.registerDevice(e,{open:function(a){a.seekable=!1},close:function(a){d&&d.buffer&&d.buffer.length&&d(10)},read:function(b,a,d,e,f){f=0;for(var g=0;g<e;g++){var h;try{h=c()}catch(a){throw new K.ErrnoError(29)}if(h===void 0&&f===0)throw new K.ErrnoError(6);if(h===null||h===void 0)break;f++;a[d+g]=h}f&&(b.node.timestamp=Date.now());return f},write:function(b,a,c,e,f){for(f=0;f<e;f++)try{d(a[c+f])}catch(a){throw new K.ErrnoError(29)}e&&(b.node.timestamp=Date.now());return f}});return K.mkdev(a,b,e)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if(typeof XMLHttpRequest!=="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(ba)try{a.contents=ud(ba(a.url),!0),a.usedBytes=a.contents.length}catch(a){throw new K.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(a,b,c,d,e){function f(){this.lengthKnown=!1,this.chunks=[]}f.prototype.get=function(a){if(a>this.length-1||a<0)return void 0;var b=a%this.chunkSize;a=a/this.chunkSize|0;return this.getter(a)[b]};f.prototype.setDataGetter=function(a){this.getter=a};f.prototype.cacheLength=function(){var a=new XMLHttpRequest();a.open("HEAD",c,!1);a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),d,e=(d=a.getResponseHeader("Accept-Ranges"))&&d==="bytes";a=(d=a.getResponseHeader("Content-Encoding"))&&d==="gzip";var f=1024*1024;e||(f=b);var g=function(d,e){if(d>e)throw new Error("invalid range ("+d+", "+e+") or no bytes requested!");if(e>b-1)throw new Error("only "+b+" bytes available! programmer error!");var a=new XMLHttpRequest();a.open("GET",c,!1);b!==f&&a.setRequestHeader("Range","bytes="+d+"-"+e);typeof Uint8Array!="undefined"&&(a.responseType="arraybuffer");a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined");a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);if(a.response!==void 0)return new Uint8Array(a.response||[]);else return ud(a.responseText||"",!0)},h=this;h.setDataGetter(function(a){var c=a*f,d=(a+1)*f-1;d=Math.min(d,b-1);typeof h.chunks[a]==="undefined"&&(h.chunks[a]=g(c,d));if(typeof h.chunks[a]==="undefined")throw new Error("doXHR failed!");return h.chunks[a]});(a||!b)&&(f=b=1,b=this.getter(0).length,f=b,ea("LazyFiles on gzip forces download of the whole file when length is accessed"));this._length=b;this._chunkSize=f;this.lengthKnown=!0};if(typeof XMLHttpRequest!=="undefined"){if(!o)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";f=new f();Object.defineProperties(f,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});f={isDevice:!1,contents:f}}else var f={isDevice:!1,url:c};var g=K.createFile(a,b,f,d,e);f.contents?g.contents=f.contents:f.url&&(g.contents=null,g.url=f.url);Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var h={};a=Object.keys(g.stream_ops);a.forEach(function(a){var b=g.stream_ops[a];h[a]=function(){K.forceLoadFile(g);return b.apply(null,arguments)}});h.read=function(b,a,c,d,e){K.forceLoadFile(g);b=b.node.contents;if(e>=b.length)return 0;d=Math.min(b.length-e,d);if(b.slice)for(var f=0;f<d;f++)a[c+f]=b[e+f];else for(var f=0;f<d;f++)a[c+f]=b.get(e+f);return d};g.stream_ops=h;return g},createPreloadedFile:function(a,b,c,d,e,f,g,h,i,j){var k=b?H.resolve(G.join2(a,b)):a,l=Pa("cp "+k);function m(c){function m(c){j&&j(),h||K.createDataFile(a,b,c,d,e,i),f&&f(),Ra(l)}if(Browser.handledByPreloadPlugin(c,k,m,function(){g&&g(),Ra(l)}))return;m(c)}Qa(l);typeof c=="string"?pb(c,function(a){return m(a)},g):m(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=K.indexedDB();try{var e=d.open(K.DB_NAME(),K.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=function(){ea("creating db");var a=e.result;a.createObjectStore(K.DB_STORE_NAME)};e.onsuccess=function(){var d=e.result;d=d.transaction([K.DB_STORE_NAME],"readwrite");var f=d.objectStore(K.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){a=f.put(K.analyzePath(a).object.contents,a);a.onsuccess=function(){g++,g+h==i&&j()};a.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c},loadFilesFromDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=K.indexedDB();try{var e=d.open(K.DB_NAME(),K.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=c;e.onsuccess=function(){var d=e.result;try{var f=d.transaction([K.DB_STORE_NAME],"readonly")}catch(a){c(a);return}var g=f.objectStore(K.DB_STORE_NAME),h=0,i=0,j=a.length;function k(){i==0?b():c()}a.forEach(function(a){var b=g.get(a);b.onsuccess=function(){K.analyzePath(a).exists&&K.unlink(a),K.createDataFile(G.dirname(a),G.basename(a),b.result,!0,!0,!0),h++,h+i==j&&k()};b.onerror=function(){i++,h+i==j&&k()}});f.onerror=c};e.onerror=c}},L={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(a,b,c){if(b[0]==="/")return b;var d;if(a===-100)d=K.cwd();else{a=K.getStream(a);if(!a)throw new K.ErrnoError(8);d=a.path}if(b.length==0){if(!c)throw new K.ErrnoError(44);return d}return G.join2(d,b)},doStat:function(a,b,c){try{var d=a(b)}catch(a){if(a&&a.node&&G.normalize(b)!==G.normalize(K.getPath(a.node)))return-54;throw a}x[c>>2]=d.dev;x[c+4>>2]=0;x[c+8>>2]=d.ino;x[c+12>>2]=d.mode;x[c+16>>2]=d.nlink;x[c+20>>2]=d.uid;x[c+24>>2]=d.gid;x[c+28>>2]=d.rdev;x[c+32>>2]=0;D=[d.size>>>0,(C=d.size,+Math.abs(C)>=1?C>0?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],x[c+40>>2]=D[0],x[c+44>>2]=D[1];x[c+48>>2]=4096;x[c+52>>2]=d.blocks;x[c+56>>2]=d.atime.getTime()/1e3|0;x[c+60>>2]=0;x[c+64>>2]=d.mtime.getTime()/1e3|0;x[c+68>>2]=0;x[c+72>>2]=d.ctime.getTime()/1e3|0;x[c+76>>2]=0;D=[d.ino>>>0,(C=d.ino,+Math.abs(C)>=1?C>0?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],x[c+80>>2]=D[0],x[c+84>>2]=D[1];return 0},doMsync:function(a,b,c,d,e){a=v.slice(a,a+c);K.msync(b,a,e,c,d)},doMkdir:function(a,b){a=G.normalize(a);a[a.length-1]==="/"&&(a=a.substr(0,a.length-1));K.mkdir(a,b,0);return 0},doMknod:function(a,b,c){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}K.mknod(a,b,c);return 0},doReadlink:function(a,b,c){if(c<=0)return-28;a=K.readlink(a);var d=Math.min(c,oa(a)),e=u[b+d];na(a,b,c+1);u[b+d]=e;return d},doAccess:function(a,b){if(b&-8)return-28;a=K.lookupPath(a,{follow:!0});a=a.node;if(!a)return-44;var c="";b&4&&(c+="r");b&2&&(c+="w");b&1&&(c+="x");return c&&K.nodePermissions(a,c)?-2:0},doDup:function(a,b,c){var d=K.getStream(c);d&&K.close(d);return K.open(a,b,0,c,c).fd},doReadv:function(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=x[b+f*8>>2],h=x[b+(f*8+4)>>2];g=K.read(a,u,g,h,d);if(g<0)return-1;e+=g;if(g<h)break}return e},doWritev:function(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=x[b+f*8>>2],h=x[b+(f*8+4)>>2];g=K.write(a,u,g,h,d);if(g<0)return-1;e+=g}return e},varargs:void 0,get:function(){L.varargs+=4;var a=x[L.varargs-4>>2];return a},getStr:function(a){a=la(a);return a},getStreamFromFD:function(a){a=K.getStream(a);if(!a)throw new K.ErrnoError(8);return a},get64:function(a,b){return a}};function qb(a,b){try{if(b===0)return-28;var c=K.cwd(),d=oa(c);if(b<d+1)return-68;na(c,a,b);return a}catch(a){if(typeof K==="undefined"||!(a instanceof K.ErrnoError))throw a;return-a.errno}}function rb(a,b,c){L.varargs=c;try{a=L.getStr(a);c=c?L.get():0;a=K.open(a,b,c);return a.fd}catch(a){if(typeof K==="undefined"||!(a instanceof K.ErrnoError))throw a;return-a.errno}}function sb(a,b,c,d,e){}function tb(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a)}}function ub(){var a=new Array(256);for(var b=0;b<256;++b)a[b]=String.fromCharCode(b);vb=a}var vb=void 0;function M(a){var b="";a=a;while(v[a])b+=vb[v[a++]];return b}var N={},O={},wb={},xb=48,yb=57;function zb(a){if(void 0===a)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var b=a.charCodeAt(0);if(b>=xb&&b<=yb)return"_"+a;else return a}function Ab(a,b){zb(a);return function(){return b.apply(this,arguments)}}function Bb(a,b){var c=Ab(b,function(a){this.name=b;this.message=a;a=new Error(a).stack;a!==void 0&&(this.stack=this.toString()+"\n"+a.replace(/^Error(:[^\n]*)?\n/,""))});c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.toString=function(){if(this.message===void 0)return this.name;else return this.name+": "+this.message};return c}var P=void 0;function Q(a){throw new P(a)}var Cb=void 0;function Db(a){throw new Cb(a)}function R(a,b,c){a.forEach(function(a){wb[a]=b});function d(b){b=c(b);b.length!==a.length&&Db("Mismatched type converter count");for(var d=0;d<a.length;++d)S(a[d],b[d])}var e=new Array(b.length),f=[],g=0;b.forEach(function(a,b){Object.prototype.hasOwnProperty.call(O,a)?e[b]=O[a]:(f.push(a),Object.prototype.hasOwnProperty.call(N,a)||(N[a]=[]),N[a].push(function(){e[b]=O[a],++g,g===f.length&&d(e)}))});0===f.length&&d(e)}function S(a,b,c){c===void 0&&(c={});if(!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=b.name;a||Q('type "'+d+'" must have a positive integer typeid pointer');if(Object.prototype.hasOwnProperty.call(O,a))if(c.ignoreDuplicateRegistrations)return;else Q("Cannot register type '"+d+"' twice");O[a]=b;delete wb[a];if(Object.prototype.hasOwnProperty.call(N,a)){c=N[a];delete N[a];c.forEach(function(a){a()})}}function Eb(a,b,c,d,e){var f=tb(c);b=M(b);S(a,{name:b,fromWireType:function(a){return!!a},toWireType:function(a,b){return b?d:e},argPackAdvance:8,readValueFromPointer:function(a){var d;if(c===1)d=u;else if(c===2)d=w;else if(c===4)d=x;else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(d[a>>f])},destructorFunction:null})}function Fb(a){if(!(this instanceof T))return!1;if(!(a instanceof T))return!1;var b=this.$$.ptrType.registeredClass,c=this.$$.ptr,d=a.$$.ptrType.registeredClass;a=a.$$.ptr;while(b.baseClass)c=b.upcast(c),b=b.baseClass;while(d.baseClass)a=d.upcast(a),d=d.baseClass;return b===d&&c===a}function Gb(a){return{count:a.count,deleteScheduled:a.deleteScheduled,preservePointerOnDelete:a.preservePointerOnDelete,ptr:a.ptr,ptrType:a.ptrType,smartPtr:a.smartPtr,smartPtrType:a.smartPtrType}}function Hb(a){function b(a){return a.$$.ptrType.registeredClass.name}Q(b(a)+" instance already deleted")}var Ib=!1;function Jb(a){}function Kb(a){a.smartPtr?a.smartPtrType.rawDestructor(a.smartPtr):a.ptrType.registeredClass.rawDestructor(a.ptr)}function Lb(a){a.count.value-=1;var b=0===a.count.value;b&&Kb(a)}function Mb(a){if("undefined"===typeof FinalizationGroup){Mb=function(a){return a};return a}Ib=new FinalizationGroup(function(a){for(var b=a.next();!b.done;b=a.next()){var c=b.value;c.ptr&&Lb(c)}});Mb=function(a){Ib.register(a,a.$$,a.$$);return a};Jb=function(a){Ib.unregister(a.$$)};return Mb(a)}function Nb(){this.$$.ptr||Hb(this);if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var a=Mb(Object.create(Object.getPrototypeOf(this),{$$:{value:Gb(this.$$)}}));a.$$.count.value+=1;a.$$.deleteScheduled=!1;return a}}function Ob(){this.$$.ptr||Hb(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Q("Object already scheduled for deletion"),Jb(this),Lb(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Pb(){return!this.$$.ptr}var Qb=void 0,Rb=[];function Sb(){while(Rb.length){var a=Rb.pop();a.$$.deleteScheduled=!1;a["delete"]()}}function Tb(){this.$$.ptr||Hb(this);this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Q("Object already scheduled for deletion");Rb.push(this);Rb.length===1&&Qb&&Qb(Sb);this.$$.deleteScheduled=!0;return this}function Ub(){T.prototype.isAliasOf=Fb,T.prototype.clone=Nb,T.prototype["delete"]=Ob,T.prototype.isDeleted=Pb,T.prototype.deleteLater=Tb}function T(){}var Vb={};function Wb(a,b,c){if(void 0===a[b].overloadTable){var d=a[b];a[b]=function(){Object.prototype.hasOwnProperty.call(a[b].overloadTable,arguments.length)||Q("Function '"+c+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+a[b].overloadTable+")!");return a[b].overloadTable[arguments.length].apply(this,arguments)};a[b].overloadTable=[];a[b].overloadTable[d.argCount]=d}}function Xb(a,b,d){Object.prototype.hasOwnProperty.call(c,a)?((void 0===d||void 0!==c[a].overloadTable&&void 0!==c[a].overloadTable[d])&&Q("Cannot register public name '"+a+"' twice"),Wb(c,a,a),Object.prototype.hasOwnProperty.call(c,d)&&Q("Cannot register multiple overloads of a function with the same number of arguments ("+d+")!"),c[a].overloadTable[d]=b):(c[a]=b,void 0!==d&&(c[a].numArguments=d))}function Yb(a,b,c,d,e,f,g,h){this.name=a,this.constructor=b,this.instancePrototype=c,this.rawDestructor=d,this.baseClass=e,this.getActualType=f,this.upcast=g,this.downcast=h,this.pureVirtualFunctions=[]}function Zb(a,b,c){while(b!==c)b.upcast||Q("Expected null or instance of "+c.name+", got an instance of "+b.name),a=b.upcast(a),b=b.baseClass;return a}function $b(a,b){if(b===null){this.isReference&&Q("null is not a valid "+this.name);return 0}b.$$||Q('Cannot pass "'+Lc(b)+'" as a '+this.name);b.$$.ptr||Q("Cannot pass deleted object as a pointer of type "+this.name);a=b.$$.ptrType.registeredClass;b=Zb(b.$$.ptr,a,this.registeredClass);return b}function ac(a,b){var c;if(b===null){this.isReference&&Q("null is not a valid "+this.name);if(this.isSmartPointer){c=this.rawConstructor();a!==null&&a.push(this.rawDestructor,c);return c}else return 0}b.$$||Q('Cannot pass "'+Lc(b)+'" as a '+this.name);b.$$.ptr||Q("Cannot pass deleted object as a pointer of type "+this.name);!this.isConst&&b.$$.ptrType.isConst&&Q("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);var d=b.$$.ptrType.registeredClass;c=Zb(b.$$.ptr,d,this.registeredClass);if(this.isSmartPointer){void 0===b.$$.smartPtr&&Q("Passing raw pointer to smart pointer is illegal");switch(this.sharingPolicy){case 0:b.$$.smartPtrType===this?c=b.$$.smartPtr:Q("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:c=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)c=b.$$.smartPtr;else{var e=b.clone();c=this.rawShare(c,Jc.toHandle(function(){e["delete"]()}));a!==null&&a.push(this.rawDestructor,c)}break;default:Q("Unsupporting sharing policy")}}return c}function bc(a,b){if(b===null){this.isReference&&Q("null is not a valid "+this.name);return 0}b.$$||Q('Cannot pass "'+Lc(b)+'" as a '+this.name);b.$$.ptr||Q("Cannot pass deleted object as a pointer of type "+this.name);b.$$.ptrType.isConst&&Q("Cannot convert argument of type "+b.$$.ptrType.name+" to parameter type "+this.name);a=b.$$.ptrType.registeredClass;b=Zb(b.$$.ptr,a,this.registeredClass);return b}function cc(a){return this.fromWireType(y[a>>2])}function dc(a){this.rawGetPointee&&(a=this.rawGetPointee(a));return a}function ec(a){this.rawDestructor&&this.rawDestructor(a)}function fc(a){a!==null&&a["delete"]()}function gc(a,b,c){if(b===c)return a;if(void 0===c.baseClass)return null;a=gc(a,b,c.baseClass);return a===null?null:c.downcast(a)}function hc(){return Object.keys(lc).length}function ic(){var a=[];for(var b in lc)Object.prototype.hasOwnProperty.call(lc,b)&&a.push(lc[b]);return a}function jc(a){Qb=a,Rb.length&&Qb&&Qb(Sb)}function kc(){c.getInheritedInstanceCount=hc,c.getLiveInheritedInstances=ic,c.flushPendingDeletes=Sb,c.setDelayFunction=jc}var lc={};function mc(a,b){b===void 0&&Q("ptr should not be undefined");while(a.baseClass)b=a.upcast(b),a=a.baseClass;return b}function nc(a,b){b=mc(a,b);return lc[b]}function oc(a,b){(!b.ptrType||!b.ptr)&&Db("makeClassHandle requires ptr and ptrType");var c=!!b.smartPtrType,d=!!b.smartPtr;c!==d&&Db("Both smartPtrType and smartPtr must be specified");b.count={value:1};return Mb(Object.create(a,{$$:{value:b}}))}function pc(a){var b=this.getPointee(a);if(!b){this.destructor(a);return null}var c=nc(this.registeredClass,b);if(void 0!==c)if(0===c.$$.count.value){c.$$.ptr=b;c.$$.smartPtr=a;return c.clone()}else{c=c.clone();this.destructor(a);return c}function d(){if(this.isSmartPointer)return oc(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:b,smartPtrType:this,smartPtr:a});else return oc(this.registeredClass.instancePrototype,{ptrType:this,ptr:a})}c=this.registeredClass.getActualType(b);c=Vb[c];if(!c)return d.call(this);var e;this.isConst?e=c.constPointerType:e=c.pointerType;c=gc(b,this.registeredClass,e.registeredClass);if(c===null)return d.call(this);if(this.isSmartPointer)return oc(e.registeredClass.instancePrototype,{ptrType:e,ptr:c,smartPtrType:this,smartPtr:a});else return oc(e.registeredClass.instancePrototype,{ptrType:e,ptr:c})}function qc(){U.prototype.getPointee=dc,U.prototype.destructor=ec,U.prototype.argPackAdvance=8,U.prototype.readValueFromPointer=cc,U.prototype.deleteObject=fc,U.prototype.fromWireType=pc}function U(a,b,c,d,e,f,g,h,i,j,k){this.name=a,this.registeredClass=b,this.isReference=c,this.isConst=d,this.isSmartPointer=e,this.pointeeType=f,this.sharingPolicy=g,this.rawGetPointee=h,this.rawConstructor=i,this.rawShare=j,this.rawDestructor=k,!e&&b.baseClass===void 0?d?(this.toWireType=$b,this.destructorFunction=null):(this.toWireType=bc,this.destructorFunction=null):this.toWireType=ac}function rc(a,b,d){Object.prototype.hasOwnProperty.call(c,a)||Db("Replacing nonexistant public symbol"),void 0!==c[a].overloadTable&&void 0!==d?c[a].overloadTable[d]=b:(c[a]=b,c[a].argCount=d)}function sc(a,b,d){a=c["dynCall_"+a];return d&&d.length?a.apply(null,[b].concat(d)):a.call(null,b)}function tc(a,b,c){return a.includes("j")?sc(a,b,c):E(b).apply(null,c)}function uc(a,b){var c=[];return function(){c.length=arguments.length;for(var d=0;d<arguments.length;d++)c[d]=arguments[d];return tc(a,b,c)}}function V(a,b){a=M(a);function c(){return a.includes("j")?uc(a,b):E(b)}c=c();typeof c!=="function"&&Q("unknown function pointer with signature "+a+": "+b);return c}var vc=void 0;function wc(a){a=xd(a);var b=M(a);X(a);return b}function xc(a,b){var c=[],d={};function e(a){if(d[a])return;if(O[a])return;if(wb[a]){wb[a].forEach(e);return}c.push(a);d[a]=!0}b.forEach(e);throw new vc(a+": "+c.map(wc).join([", "]))}function yc(a,b,c,d,e,f,g,h,i,j,k,l,m){k=M(k);f=V(e,f);h&&(h=V(g,h));j&&(j=V(i,j));m=V(l,m);var n=zb(k);Xb(n,function(){xc("Cannot construct "+k+" due to unbound types",[d])});R([a,b,c],d?[d]:[],function(b){b=b[0];var c;d?(c=b.registeredClass,b=c.instancePrototype):b=T.prototype;var e=Ab(n,function(){if(Object.getPrototypeOf(this)!==g)throw new P("Use 'new' to construct "+k);if(void 0===i.constructor_body)throw new P(k+" has no accessible constructor");var a=i.constructor_body[arguments.length];if(void 0===a)throw new P("Tried to invoke ctor of "+k+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(i.constructor_body).toString()+") parameters instead!");return a.apply(this,arguments)}),g=Object.create(b,{constructor:{value:e}});e.prototype=g;var i=new Yb(k,e,g,m,c,f,h,j);b=new U(k,i,!0,!1,!1);var l=new U(k+"*",i,!1,!1,!1),o=new U(k+" const*",i,!1,!0,!1);Vb[a]={pointerType:l,constPointerType:o};rc(n,e);return[b,l,o]})}function zc(a,b){var c=[];for(var d=0;d<a;d++)c.push(x[(b>>2)+d]);return c}function Ac(a){while(a.length){var b=a.pop(),c=a.pop();c(b)}}function Bc(a,b,c,d,e,f){ja(b>0);var g=zc(b,c);e=V(d,e);R([],[a],function(a){a=a[0];var c="constructor "+a.name;void 0===a.registeredClass.constructor_body&&(a.registeredClass.constructor_body=[]);if(void 0!==a.registeredClass.constructor_body[b-1])throw new P("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+a.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");a.registeredClass.constructor_body[b-1]=function(){xc("Cannot construct "+a.name+" due to unbound types",g)};R([],g,function(d){d.splice(1,0,null);a.registeredClass.constructor_body[b-1]=Cc(c,d,null,e,f);return[]});return[]})}function Cc(a,b,c,d,e){var f=b.length;f<2&&Q("argTypes array size mismatch! Must at least get return value and 'this' types!");var g=b[1]!==null&&c!==null,h=!1;for(c=1;c<b.length;++c)if(b[c]!==null&&b[c].destructorFunction===void 0){h=!0;break}var i=b[0].name!=="void",j=f-2,k=new Array(j),l=[],m=[];return function(){arguments.length!==j&&Q("function "+a+" called with "+arguments.length+" arguments, expected "+j+" args!");m.length=0;var c;l.length=g?2:1;l[0]=e;g&&(c=b[1].toWireType(m,this),l[1]=c);for(var f=0;f<j;++f)k[f]=b[f+2].toWireType(m,arguments[f]),l.push(k[f]);var n=d.apply(null,l);function o(d){if(h)Ac(m);else for(var a=g?1:2;a<b.length;a++){var e=a===1?c:k[a-2];b[a].destructorFunction!==null&&b[a].destructorFunction(e)}if(i)return b[0].fromWireType(d)}return o(n)}}function Dc(a,b,c,d,e,f,g,h){var i=zc(c,d);b=M(b);f=V(e,f);R([],[a],function(a){a=a[0];var d=a.name+"."+b;b.startsWith("@@")&&(b=Symbol[b.substring(2)]);h&&a.registeredClass.pureVirtualFunctions.push(b);function e(){xc("Cannot call "+d+" due to unbound types",i)}var j=a.registeredClass.instancePrototype,k=j[b];void 0===k||void 0===k.overloadTable&&k.className!==a.name&&k.argCount===c-2?(e.argCount=c-2,e.className=a.name,j[b]=e):(Wb(j,b,d),j[b].overloadTable[c-2]=e);R([],i,function(e){e=Cc(d,e,a,f,g);void 0===j[b].overloadTable?(e.argCount=c-2,j[b]=e):j[b].overloadTable[c-2]=e;return[]});return[]})}var Ec=[],W=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Fc(a){a>4&&0===--W[a].refcount&&(W[a]=void 0,Ec.push(a))}function Gc(){var a=0;for(var b=5;b<W.length;++b)W[b]!==void 0&&++a;return a}function Hc(){for(var a=5;a<W.length;++a)if(W[a]!==void 0)return W[a];return null}function Ic(){c.count_emval_handles=Gc,c.get_first_emval=Hc}var Jc={toValue:function(a){a||Q("Cannot use deleted val. handle = "+a);return W[a].value},toHandle:function(a){switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var b=Ec.length?Ec.pop():W.length;W[b]={refcount:1,value:a};return b}}};function Kc(a,b){b=M(b),S(a,{name:b,fromWireType:function(a){var b=Jc.toValue(a);Fc(a);return b},toWireType:function(a,b){return Jc.toHandle(b)},argPackAdvance:8,readValueFromPointer:cc,destructorFunction:null})}function Lc(a){if(a===null)return"null";var b=typeof a;if(b==="object"||b==="array"||b==="function")return a.toString();else return""+a}function Mc(a,b){switch(b){case 2:return function(a){return this.fromWireType(Aa[a>>2])};case 3:return function(a){return this.fromWireType(Ba[a>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Nc(a,b,c){c=tb(c);b=M(b);S(a,{name:b,fromWireType:function(a){return a},toWireType:function(a,b){return b},argPackAdvance:8,readValueFromPointer:Mc(b,c),destructorFunction:null})}function Oc(a,b,c,d,e,f){var g=zc(b,c);a=M(a);e=V(d,e);Xb(a,function(){xc("Cannot call "+a+" due to unbound types",g)},b-1);R([],g,function(c){c=[c[0],null].concat(c.slice(1));rc(a,Cc(a,c,null,e,f),b-1);return[]})}function Pc(a,b,c){switch(b){case 0:return c?function(a){return u[a]}:function(a){return v[a]};case 1:return c?function(a){return w[a>>1]}:function(a){return za[a>>1]};case 2:return c?function(a){return x[a>>2]}:function(a){return y[a>>2]};default:throw new TypeError("Unknown integer type: "+a)}}function Qc(a,b,c,d,e){b=M(b);e===-1&&(e=4294967295);e=tb(c);var f=function(a){return a};if(d===0){var g=32-8*c;f=function(a){return a<<g>>>g}}c=b.includes("unsigned");var h=function(a,b){};c?c=function(a,b){h(b,this.name);return b>>>0}:c=function(a,b){h(b,this.name);return b};S(a,{name:b,fromWireType:f,toWireType:c,argPackAdvance:8,readValueFromPointer:Pc(b,e,d!==0),destructorFunction:null})}function Rc(a,b,c){var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],e=d[b];function f(a){a=a>>2;var b=y,c=b[a];b=b[a+1];return new e(ya,b,c)}c=M(c);S(a,{name:c,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})}function Sc(a,b){b=M(b);var c=b==="std::string";S(a,{name:b,fromWireType:function(a){var b=y[a>>2],d;if(c){var e=a+4;for(var f=0;f<=b;++f){var g=a+4+f;if(f==b||v[g]==0){var h=g-e;h=la(e,h);d===void 0?d=h:(d+=String.fromCharCode(0),d+=h);e=g+1}}}else{h=new Array(b);for(var f=0;f<b;++f)h[f]=String.fromCharCode(v[a+4+f]);d=h.join("")}X(a);return d},toWireType:function(a,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var d,e=typeof b==="string";e||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||Q("Cannot pass non-string to std::string");c&&e?d=function(){return oa(b)}:d=function(){return b.length};d=d();var f=wd(4+d+1);y[f>>2]=d;if(c&&e)na(b,f+4,d+1);else if(e)for(e=0;e<d;++e){var g=b.charCodeAt(e);g>255&&(X(f),Q("String has UTF-16 code units that do not fit in 8 bits"));v[f+4+e]=g}else for(e=0;e<d;++e)v[f+4+e]=b[e];a!==null&&a.push(X,f);return f},argPackAdvance:8,readValueFromPointer:cc,destructorFunction:function(a){X(a)}})}function Tc(a,b,c){c=M(c);var d,e,f,g,h;b===2?(d=qa,e=ra,g=sa,f=function(){return za},h=1):b===4&&(d=ta,e=ua,g=va,f=function(){return y},h=2);S(a,{name:c,fromWireType:function(a){var c=y[a>>2],e=f(),g,i=a+4;for(var j=0;j<=c;++j){var k=a+4+j*b;if(j==c||e[k>>h]==0){var l=k-i;l=d(i,l);g===void 0?g=l:(g+=String.fromCharCode(0),g+=l);i=k+b}}X(a);return g},toWireType:function(a,d){typeof d==="string"||Q("Cannot pass non-string to C++ string type "+c);var f=g(d),i=wd(4+f+b);y[i>>2]=f>>h;e(d,i+4,f+b);a!==null&&a.push(X,i);return i},argPackAdvance:8,readValueFromPointer:cc,destructorFunction:function(a){X(a)}})}function Uc(a,b){b=M(b),S(a,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){return void 0},toWireType:function(a,b){return void 0}})}function Vc(a){a>4&&(W[a].refcount+=1)}function Wc(a,b){var c=O[a];void 0===c&&Q(b+" has unknown type "+wc(a));return c}function Xc(a,b){a=Wc(a,"_emval_take_value");a=a.readValueFromPointer(b);return Jc.toHandle(a)}function Yc(){A("")}function Zc(a){A("OOM")}function $c(a){v.length,a=a>>>0,Zc(a)}var ad={};function bd(){return m||"./this.program"}function cd(){if(!cd.strings){var a=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:bd()};for(var b in ad)ad[b]===void 0?delete a[b]:a[b]=ad[b];var c=[];for(var b in a)c.push(b+"="+a[b]);cd.strings=c}return cd.strings}function dd(a,b){var c=0;cd().forEach(function(d,e){var f=b+c;x[a+e*4>>2]=f;xa(d,f);c+=d.length+1});return 0}function ed(a,b){var c=cd();x[a>>2]=c.length;var d=0;c.forEach(function(a){d+=a.length+1});x[b>>2]=d;return 0}function fd(a){try{a=L.getStreamFromFD(a);K.close(a);return 0}catch(a){if(typeof K==="undefined"||!(a instanceof K.ErrnoError))throw a;return a.errno}}function gd(a,b,c,d){try{a=L.getStreamFromFD(a);a=L.doReadv(a,b,c);x[d>>2]=a;return 0}catch(a){if(typeof K==="undefined"||!(a instanceof K.ErrnoError))throw a;return a.errno}}function hd(a,b,c,d,e){try{a=L.getStreamFromFD(a);var f=4294967296;c=c*f+(b>>>0);f=9007199254740992;if(c<=-f||c>=f)return-61;K.llseek(a,c,d);D=[a.position>>>0,(C=a.position,+Math.abs(C)>=1?C>0?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],x[e>>2]=D[0],x[e+4>>2]=D[1];a.getdents&&c===0&&d===0&&(a.getdents=null);return 0}catch(a){if(typeof K==="undefined"||!(a instanceof K.ErrnoError))throw a;return a.errno}}function id(a,b,c,d){try{a=L.getStreamFromFD(a);a=L.doWritev(a,b,c);x[d>>2]=a;return 0}catch(a){if(typeof K==="undefined"||!(a instanceof K.ErrnoError))throw a;return a.errno}}function jd(){return ga()}function kd(a){r(a)}function ld(a){return a%4===0&&(a%100!==0||a%400===0)}function md(a,b){var c=0;for(var d=0;d<=b;c+=a[d++]);return c}var nd=[31,29,31,30,31,30,31,31,30,31,30,31],od=[31,28,31,30,31,30,31,31,30,31,30,31];function pd(a,b){a=new Date(a.getTime());while(b>0){var c=ld(a.getFullYear()),d=a.getMonth();c=(c?nd:od)[d];if(b>c-a.getDate())b-=c-a.getDate()+1,a.setDate(1),d<11?a.setMonth(d+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);return a}}return a}function qd(a,b,c,d){var e=x[d+40>>2];d={tm_sec:x[d>>2],tm_min:x[d+4>>2],tm_hour:x[d+8>>2],tm_mday:x[d+12>>2],tm_mon:x[d+16>>2],tm_year:x[d+20>>2],tm_wday:x[d+24>>2],tm_yday:x[d+28>>2],tm_isdst:x[d+32>>2],tm_gmtoff:x[d+36>>2],tm_zone:e?la(e):""};e=la(c);c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in c)e=e.replace(new RegExp(f,"g"),c[f]);var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function i(a,b,c){a=typeof a==="number"?a.toString():a||"";while(a.length<b)a=c[0]+a;return a}function j(a,b){return i(a,b,"0")}function k(a,b){function c(a){return a<0?-1:a>0?1:0}var d;(d=c(a.getFullYear()-b.getFullYear()))===0&&((d=c(a.getMonth()-b.getMonth()))===0&&(d=c(a.getDate()-b.getDate())));return d}function l(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function m(a){a=pd(new Date(a.tm_year+1900,0,1),a.tm_yday);var b=new Date(a.getFullYear(),0,4),c=new Date(a.getFullYear()+1,0,4);b=l(b);c=l(c);if(k(b,a)<=0)if(k(c,a)<=0)return a.getFullYear()+1;else return a.getFullYear();else return a.getFullYear()-1}c={"%a":function(a){return g[a.tm_wday].substring(0,3)},"%A":function(a){return g[a.tm_wday]},"%b":function(a){return h[a.tm_mon].substring(0,3)},"%B":function(a){return h[a.tm_mon]},"%C":function(a){a=a.tm_year+1900;return j(a/100|0,2)},"%d":function(a){return j(a.tm_mday,2)},"%e":function(a){return i(a.tm_mday,2," ")},"%g":function(a){return m(a).toString().substring(2)},"%G":function(a){return m(a)},"%H":function(a){return j(a.tm_hour,2)},"%I":function(a){a=a.tm_hour;a==0?a=12:a>12&&(a-=12);return j(a,2)},"%j":function(a){return j(a.tm_mday+md(ld(a.tm_year+1900)?nd:od,a.tm_mon-1),3)},"%m":function(a){return j(a.tm_mon+1,2)},"%M":function(a){return j(a.tm_min,2)},"%n":function(){return"\n"},"%p":function(a){if(a.tm_hour>=0&&a.tm_hour<12)return"AM";else return"PM"},"%S":function(a){return j(a.tm_sec,2)},"%t":function(){return"\t"},"%u":function(a){return a.tm_wday||7},"%U":function(a){var b=new Date(a.tm_year+1900,0,1),c=b.getDay()===0?b:pd(b,7-b.getDay());a=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(k(c,a)<0){var d=md(ld(a.getFullYear())?nd:od,a.getMonth()-1)-31,e=31-c.getDate();e=e+d+a.getDate();return j(Math.ceil(e/7),2)}return k(c,b)===0?"01":"00"},"%V":function(a){var b=new Date(a.tm_year+1900,0,4),c=new Date(a.tm_year+1901,0,4);b=l(b);c=l(c);var d=pd(new Date(a.tm_year+1900,0,1),a.tm_yday);if(k(d,b)<0)return"53";if(k(c,d)<=0)return"01";b.getFullYear()<a.tm_year+1900?c=a.tm_yday+32-b.getDate():c=a.tm_yday+1-b.getDate();return j(Math.ceil(c/7),2)},"%w":function(a){return a.tm_wday},"%W":function(a){var b=new Date(a.tm_year,0,1),c=b.getDay()===1?b:pd(b,b.getDay()===0?1:7-b.getDay()+1);a=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(k(c,a)<0){var d=md(ld(a.getFullYear())?nd:od,a.getMonth()-1)-31,e=31-c.getDate();e=e+d+a.getDate();return j(Math.ceil(e/7),2)}return k(c,b)===0?"01":"00"},"%y":function(a){return(a.tm_year+1900).toString().substring(2)},"%Y":function(a){return a.tm_year+1900},"%z":function(a){a=a.tm_gmtoff;var b=a>=0;a=Math.abs(a)/60;a=a/60*100+a%60;return(b?"+":"-")+String("0000"+a).slice(-4)},"%Z":function(a){return a.tm_zone},"%%":function(){return"%"}};for(var f in c)e.includes(f)&&(e=e.replace(new RegExp(f,"g"),c[f](d)));c=ud(e,!1);if(c.length>b)return 0;wa(c,a);return c.length-1}function rd(a,b,c,d){return qd(a,b,c,d)}d=function(a,b,c,d){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=K.nextInode++,this.name=b,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=d};var sd=292|73,td=146;Object.defineProperties(d.prototype,{read:{get:function(){return(this.mode&sd)===sd},set:function(a){a?this.mode|=sd:this.mode&=~sd}},write:{get:function(){return(this.mode&td)===td},set:function(a){a?this.mode|=td:this.mode&=~td}},isFolder:{get:function(){return K.isDir(this.mode)}},isDevice:{get:function(){return K.isChrdev(this.mode)}}});K.FSNode=d;K.staticInit();ub();P=c.BindingError=Bb(Error,"BindingError");Cb=c.InternalError=Bb(Error,"InternalError");Ub();qc();kc();vc=c.UnboundTypeError=Bb(Error,"UnboundTypeError");Ic();function ud(a,b,c){c=c>0?c:oa(a)+1;c=new Array(c);a=ma(a,c,0,c.length);b&&(c.length=a);return c}var vd={p:Ya,t:db,w:gb,b:ib,g:jb,x:eb,K:kb,u:lb,Y:mb,d:hb,ba:qb,_:rb,U:sb,da:Eb,z:yc,y:Bc,o:Dc,ca:Kc,N:Nc,ga:Oc,s:Qc,m:Rc,M:Sc,G:Tc,ea:Uc,fa:Fc,R:Vc,Q:Xc,C:Yc,Z:$c,$:dd,aa:ed,W:fd,L:gd,T:hd,F:id,a:jd,H:Qd,I:Pd,l:Rd,c:Dd,e:Gd,k:Hd,h:Md,X:Nd,q:Fd,J:Od,P:Jd,B:Td,S:Wd,i:Kd,r:Ed,f:Bd,j:Cd,D:Id,O:Ld,n:Sd,v:Ud,A:Vd,E:kd,V:rd};Wa();c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.ia).apply(null,arguments)};c._bytearray_free=function(){return(c._bytearray_free=c.asm.ja).apply(null,arguments)};var X=c._free=function(){return(X=c._free=c.asm.la).apply(null,arguments)},wd=c._malloc=function(){return(wd=c._malloc=c.asm.ma).apply(null,arguments)},xd=c.___getTypeName=function(){return(xd=c.___getTypeName=c.asm.na).apply(null,arguments)};c.___embind_register_native_and_builtin_types=function(){return(c.___embind_register_native_and_builtin_types=c.asm.oa).apply(null,arguments)};var Y=c._setThrew=function(){return(Y=c._setThrew=c.asm.pa).apply(null,arguments)},Z=c.stackSave=function(){return(Z=c.stackSave=c.asm.qa).apply(null,arguments)},$=c.stackRestore=function(){return($=c.stackRestore=c.asm.ra).apply(null,arguments)},yd=c.___cxa_can_catch=function(){return(yd=c.___cxa_can_catch=c.asm.sa).apply(null,arguments)},zd=c.___cxa_is_pointer_type=function(){return(zd=c.___cxa_is_pointer_type=c.asm.ta).apply(null,arguments)};c.dynCall_ji=function(){return(c.dynCall_ji=c.asm.ua).apply(null,arguments)};c.dynCall_viijii=function(){return(c.dynCall_viijii=c.asm.va).apply(null,arguments)};c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.wa).apply(null,arguments)};var Ad=c.dynCall_jiiii=function(){return(Ad=c.dynCall_jiiii=c.asm.xa).apply(null,arguments)};c.dynCall_iiiiij=function(){return(c.dynCall_iiiiij=c.asm.ya).apply(null,arguments)};c.dynCall_iiiiijj=function(){return(c.dynCall_iiiiijj=c.asm.za).apply(null,arguments)};c.dynCall_iiiiiijj=function(){return(c.dynCall_iiiiiijj=c.asm.Aa).apply(null,arguments)};function Bd(a,b,c){var d=Z();try{E(a)(b,c)}catch(a){$(d);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Cd(a,b,c,d){var e=Z();try{E(a)(b,c,d)}catch(a){$(e);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Dd(a,b){var c=Z();try{return E(a)(b)}catch(a){$(c);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Ed(a,b){var c=Z();try{E(a)(b)}catch(a){$(c);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Fd(a,b,c,d,e,f,g){var h=Z();try{return E(a)(b,c,d,e,f,g)}catch(a){$(h);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Gd(a,b,c){var d=Z();try{return E(a)(b,c)}catch(a){$(d);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Hd(a,b,c,d){var e=Z();try{return E(a)(b,c,d)}catch(a){$(e);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Id(a,b,c,d,e){var f=Z();try{E(a)(b,c,d,e)}catch(a){$(f);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Jd(a,b,c,d,e,f,g,h,i){var j=Z();try{return E(a)(b,c,d,e,f,g,h,i)}catch(a){$(j);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Kd(a){var b=Z();try{E(a)()}catch(a){$(b);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Ld(a,b,c,d,e,f){var g=Z();try{E(a)(b,c,d,e,f)}catch(a){$(g);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Md(a,b,c,d,e){var f=Z();try{return E(a)(b,c,d,e)}catch(a){$(f);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Nd(a,b,c,d,e,f){var g=Z();try{return E(a)(b,c,d,e,f)}catch(a){$(g);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Od(a,b,c,d,e,f,g,h){var i=Z();try{return E(a)(b,c,d,e,f,g,h)}catch(a){$(i);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Pd(a,b,c,d){var e=Z();try{return E(a)(b,c,d)}catch(a){$(e);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Qd(a,b,c,d){var e=Z();try{return E(a)(b,c,d)}catch(a){$(e);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Rd(a){var b=Z();try{return E(a)()}catch(a){$(b);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Sd(a,b,c,d,e,f,g,h){var i=Z();try{E(a)(b,c,d,e,f,g,h)}catch(a){$(i);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Td(a,b,c,d,e,f,g,h,i,j,k,l){var m=Z();try{return E(a)(b,c,d,e,f,g,h,i,j,k,l)}catch(a){$(m);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Ud(a,b,c,d,e,f,g,h,i,j,k){var l=Z();try{E(a)(b,c,d,e,f,g,h,i,j,k)}catch(a){$(l);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Vd(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var aa=Z();try{E(a)(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}catch(a){$(aa);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}function Wd(a,b,c,d,e){var f=Z();try{return Ad(a,b,c,d,e)}catch(a){$(f);if(a!==a+0&&a!=="longjmp")throw a;Y(1,0)}}var Xd;Oa=function a(){Xd||Yd(),Xd||(Oa=a)};function Yd(a){a||l;if(z>0)return;Ha();if(z>0)return;function b(){if(Xd)return;Xd=!0;c.calledRun=!0;if(ia)return;Ia();i(c);c.onRuntimeInitialized&&c.onRuntimeInitialized();Ja()}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),b()},1)):b()}c.run=Yd;if(c.preInit){typeof c.preInit=="function"&&(c.preInit=[c.preInit]);while(c.preInit.length>0)c.preInit.pop()()}Yd();return c.ready}}();typeof f==="object"&&typeof e==="object"?e.exports=h:typeof define==="function"&&define.amd?define([],function(){return h}):typeof f==="object"&&(f.Module=h)}),null);
__d("PakeCpaceWasm",["PakeCpaceUtils","Promise","bx","err","pakeCpace"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e={locateFile:function(){return c("bx").getURL(c("bx")("20913"))},wasmBinary:a};return new(h||(h=b("Promise")))(function(a){c("pakeCpace")(e).then(function(b){return a({clientBegin:function(a,c,d){var e=0;try{e=a.clientBegin(c,d);a=b.getInt8Array(e);return a}finally{b._bytearray_free(e)}},clientFinalize:function(a,c){var e=0,f=0;try{c=d("PakeCpaceUtils").uint8ArrayToVectorInt(b,c);a=a.clientFinalize(c);e=a.getKey1Ptr();c=b.getInt8Array(e);f=a.getKey2Ptr();a=b.getInt8Array(f);return{clientKey1:c,clientKey2:a}}finally{b._bytearray_free(e),b._bytearray_free(f)}},createCPaceClient:function(a){return new b.PAKEClient(a)},createCPaceServer:function(a){return new b.PAKEServer(a)},serverHandleClientStepOnePacket:function(a,c,e,f){var g=0,h=0,i=0;try{e=d("PakeCpaceUtils").uint8ArrayToVectorInt(b,e);a=a.handleClientStepOnePacket(c,e,f);g=a.getKey1Ptr();c=b.getInt8Array(g);h=a.getKey2Ptr();e=b.getInt8Array(h);i=a.getPacketPtr();f=b.getInt8Array(i);return{serverKey1:c,serverKey2:e,stepTwoPacket:f}}finally{b._bytearray_free(g),b._bytearray_free(h),b._bytearray_free(i)}}})})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}g.PakeCPaceWasm=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadInMemoryListDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a}),66);
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9990530167705749"}),null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RelayModernOrCometRelay",["cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1012418")}),98);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},p!=null?{actor_id:p}:null,{search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a})}})}g.commit=a}),98);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9360833174026215"}),null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a}),98);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"29156638353980166",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null||(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.badge_info,f=a.direct_nav_result,g=a.disambiguation_result;a=a.high_confidence_result;var i=[],j,k,l;if(f!=null){i=["direct_nav"];var m=f.ent_id,n=f.entity_type,o=f.img_url,p=f.link_url,q=f.snippet,r=f.title;f=f.type;l=r;j={direct_nav_result:{ent_id:m,entity_type:n,img_url:o,link_url:p,snippet:q,title:r,type:f}};k={stsDirectNavEntityID:m,stsDirectNavEntityType:n,stsDirectNavType:f}}if(a!=null){i=["high_confidence"];o=a.hcm_id;p=a.picture_url;q=a.snippet;r=a.source_as_enum;m=a.text;l=m;j={high_confidence_result:{hcm_id:o,picture_url:p,snippet:q,source_as_enum:r,text:m}};k={stsHighConfidenceID:o,stsHighConfidenceSource:r}}if(g!=null){i=["disambiguation"];n=g.disambiguation_info_list;f=g.title;l=f;j={disambiguation_result:{disambiguation_info_list:n,title:f}};k={stsDisambiguationType:n[0].type}}return{badgeSnippet:(a=e==null?void 0:e.badge_text)!=null?a:void 0,entryKey:j!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(j):null,extraLoggingInfo:k,label:l,markers:i,structuredInfo:j}}g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){var b;if(!a)return[];a=a.viewer;a=((a=a==null||(b=a.bootstrap_keywords)==null?void 0:b.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);return c("filterNulls")(a.map(function(a){var b=a.item_logging_id,d=a.item_logging_info,e=a.keyword_text,f=a.sts_info;a=a.suggestion_keys;if(e==null){c("FBLogger")("search").mustfix("Cannot have TA bootstrap entry without keyword_text");return null}f=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:f});var g=f.badgeSnippet,h=f.entryKey,i=f.extraLoggingInfo,j=f.label,k=f.markers;f=f.structuredInfo;var l=a!=null?a:{},m=l.default_key,n=l.keys;l=l.tier;return{key:(h=h!=null?h:f&&(a==null?void 0:a.default_key))!=null?h:e,label:j!=null?j:e,metaData:{logging:babelHelpers["extends"]({},i,{loggingID:b!=null?b:"",loggingInfo:d}),markers:new Set(["bootstrap","keyword"].concat(k))},rawData:{badgeSnippet:g,structuredInfo:f,suggestion_keys:l!=null?{default_key:m,keys:n,tier:l}:null},subtype:"bootstrap",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(b of b){var c;a===((c=b.rawData.structuredInfo)==null||(c=c.direct_nav_result)==null?void 0:c.ent_id)&&this.$2.remove(b)}};return a}();g["default"]=a}),98);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24756542223987990"}),null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){var d;if(!a)return[];a=a.search_keywords_suggestion;var e=b.query.request_id;a=((a=a==null||(d=a.suggestions)==null?void 0:d.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var f;try{b=JSON.parse(b.query.query_text);f=b!=null?b[0]:null}catch(a){}return a.map(function(a){var b=a.logging_id,d=a.logging_info,g=a.name,h=a.structured_info;a=a.suggestion_keys;h=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:h});var i=h.badgeSnippet,j=h.entryKey,k=h.extraLoggingInfo,l=h.label,m=h.markers;h=h.structuredInfo;var n=a!=null?a:{},o=n.default_key,p=n.keys;n=n.tier;return{key:(a=(j=j!=null?j:h&&(a==null?void 0:a.default_key))!=null?j:g)!=null?a:c("cometUniqueID")(),label:(j=l!=null?l:g)!=null?j:"",metaData:{logging:babelHelpers["extends"]({},k,{loggingID:b,loggingInfo:d,query:f,sequenceID:e}),markers:new Set(["keyword"].concat(m))},rawData:{badgeSnippet:i,structuredInfo:h,suggestion_keys:n!=null?{default_key:o,keys:p,tier:n}:null},subtype:"keyword",type:"entry"}})}g.query=d;g.normalize=a}),98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c=b.loggingEventTrace;b=b.query;var d=a!=null?a:{},e=d.fetch_count,f=d.fetch_mode;d=d.group_id;d=JSON.stringify(d!=null?[{text:"",type:"group",uid:d},b]:[b]);return{query:{fetch_count:e!=null?e:g,fetch_mode:f!=null?f:h,query_text:d,request_id:c==null?void 0:c.sequenceID,session_id:(b=c==null?void 0:c.sessionID)!=null?b:""}}}}f["default"]=a}),66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","cometSearchKeywordDataSourceQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:b!=null?b:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("baseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a}),98);
__d("searchCometTypeaheadSubtractSections",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a}),66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a}),98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("cometSearchNullStateMatchBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a}),66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","filterNulls","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=function(){function a(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}var e=a.prototype;e.$8=function(){var a=c("filterNulls")(this.$2.values().map(function(a){return a.type==="section"&&a.subtype==="recent_searches"?a:null}));return a.length!==0?a[0]:null};e.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$8();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(e=h!=null?h:k)!=null?e:n,selectedText:a.label.toLowerCase(),selectedType:i!=null?i:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};e.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};e.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};e.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?(i||(i=b("Promise"))).resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.subtype==="recent_searches"&&(a.action={label:h._(/*BTDS*/"Edit"),type:"link",url:b})}),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};e.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$8();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};e.clear=function(){this.$3=null;var a=this.$8();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};e.refresh=function(){this.clear(),this.fetchNetwork({query:""})};return a}();g["default"]=a}),226);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_recent_searches"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y=[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],z={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",abstractKey:null};y={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},B={alias:"suggestion_logging_info",args:null,concreteType:"XFBSearchSuggestionLoggingSuggestion",kind:"LinkedField",name:"logging_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fetch_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null}],storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[s,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,s,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,h,c,g,a,b],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[u,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,u,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"9481428298650330",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("searchCometIsValidRecentSearchEntityType",[],(function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a}),66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j={__typename:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",key:"recent-searches",result:{header_text:String(h._(/*BTDS*/"Recent searches"))}};d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=c("filterNulls")(((b=(b=a.search_null_state)==null||(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:j}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}));var d=[],e=null;for(b of b){if(b.__typename==="%other")continue;var f=b.key,g=b.result;if(g==null||f==null)continue;g=g.header_text;if(b.__typename==="XFBSearchNullStateSearchHistoryHeaderRenderingStrategy"&&g!=null){var h;d.push({entries:k((h=(h=a.viewer)==null||(h=h.recent_searches)==null?void 0:h.edges)!=null?h:[]),key:f,label:g,subtype:"recent_searches",type:"section"})}else if(b.__typename==="XFBSearchNullStateGeneralHeaderRenderingStrategy"&&g!=null)e={header_text:g,key:f};else if(b.__typename==="XFBSearchNullStateListRenderingStrategy"&&e!=null){h=e;g=h.header_text;f=h.key;d.push({entries:l(b),key:f,label:g,subtype:"other",type:"section"});e=null}}return d}function k(a){return c("filterNulls")(a.map(function(a){var b=a.node;a=a.search_badge;if(b==null)return null;var d=b.__typename,e=b.id,f=b.item_logging_info,g=b.name,h=b.profile_picture,i=b.sts_info;b=b.url;var j=c("searchCometIsValidRecentSearchEntityType")(d);i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;if(g==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s",d);return null}var n=g.toLocaleLowerCase();return{hasSecondaryAction:!0,key:n,label:l!=null?l:g,metaData:{logging:babelHelpers["extends"]({},k,{entityID:j?e:null,entityType:j&&d!=null?d.toLowerCase():null,loggingInfo:f}),markers:new Set(c("filterNulls")(["recent",j?"entity":null].concat(m)))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:j&&e!=null&&(h==null?void 0:h.uri)!=null&&b!=null?{id:e,profilePictureURL:h.uri,url:b}:void 0,structuredInfo:i},subtype:"recent",type:"entry"}}))}function l(a){if(a.__typename!=="XFBSearchNullStateListRenderingStrategy")return[];a=(a=a.result)!=null?a:{};a=a.suggestions;return c("filterNulls")((a!=null?a:[]).map(function(a){if(a.__typename!=="XFBSearchNullStateQuerySuggestion")return null;var b=a.display_text,d=a.key,e=a.sts_info,f=a.suggestion_logging_info;if(b==null){c("FBLogger")("search").mustfix("Missing name for nullstate suggestion search data with __typename: %s",a.__typename);return null}if(d==null){c("FBLogger")("search").mustfix("Missing key for nullstate suggestion search data with __typename: %s",a.__typename);return null}a=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:e});e=a.extraLoggingInfo;var g=a.markers;a=a.structuredInfo;f=f!=null?f:{};var h=f.fetch_source;f=f.logging_info;return{key:d,label:b,metaData:{logging:babelHelpers["extends"]({fetchSource:h,loggingInfo:(f!=null?f:[])[0]},e),markers:new Set(new Set(["keyword","nullstate_explore"].concat(g)))},rawData:{structuredInfo:a},subtype:"keyword",type:"entry"}}))}g.query=d;g.normalize=a}),226);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("PresenceStatusContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));a=h.createContext;var i=[];b=a({addListener:function(){return c("emptyFunction")},get:function(){return 0},getChatVisibility:function(){return!1},getOnlineIDs:function(){return i},getStatus:function(){return null}});g["default"]=b}),98);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["CometImage.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry","isActive","queryString"],i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;var l=36,m={imageIcon:{display:"x1lliihq",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(30),f,g,i,n;e[0]!==a?(f=a.entry,g=a.isActive,n=a.queryString,i=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=n):(f=e[1],g=e[2],i=e[3],n=e[4]);a=f.rawData;var o=a.badgeSnippet;a=a.structuredInfo;if(e[5]!==(a==null?void 0:a.direct_nav_result)){var p;p=(p=a==null?void 0:a.direct_nav_result)!=null?p:{};e[5]=a==null?void 0:a.direct_nav_result;e[6]=p}else p=e[6];a=p;p=a.ent_id;var q=a.entity_type,r=a.img_url,s=a.link_url,t=a.snippet;a=a.type;var u;e[7]!==s?(u={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:s},e[7]=s,e[8]=u):u=e[8];s=u;u=s;s="circle";a==="SHORTCUT"?s="square":(q==="group"||q==="event")&&(s="roundedRect");q=k(c("PresenceStatusContext"));var v=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&p!=null&&(v=q.get(p)===2);b=null;if(r!=null){e[9]!==r||e[10]!==v||e[11]!==s||e[12]!==a?(q=a==="SHORTCUT"?j.jsx(c("CometImage.react"),{height:l,src:r,width:l,xstyle:m.imageIcon}):j.jsx(c("FDSProfilePhoto.react"),{addOn:v?{type:"availabilityBadge"}:void 0,shape:s,size:l,source:{uri:r}}),e[9]=r,e[10]=v,e[11]=s,e[12]=a,e[13]=q):q=e[13];b=q}e[14]!==o||e[15]!==t?(p=o!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{color:"blue"}),o]}):t,e[14]=o,e[15]=t,e[16]=p):p=e[16];var w=p;e[17]!==w?(r=function(a){return j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:w,title:a})},e[17]=w,e[18]=r):r=e[18];e[19]!==f.label||e[20]!==n||e[21]!==r?(v=j.jsx(c("CometTypeaheadHighlight.react"),{content:f.label,query:n,strategy:"non-match",children:r}),e[19]=f.label,e[20]=n,e[21]=r,e[22]=v):v=e[22];e[23]!==f||e[24]!==b||e[25]!==g||e[26]!==u||e[27]!==i||e[28]!==v?(s=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:f,isActive:g,itemStartContent:b,linkProps:u,children:v})),e[23]=f,e[24]=b,e[25]=g,e[26]=u,e[27]=i,e[28]=v,e[29]=s):s=e[29];return s}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry","isActive","linkProps","queryString"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,i,k;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,k=a.queryString,i=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5]);if(b[6]!==e.rawData.structuredInfo){a=(a=e.rawData.structuredInfo)!=null?a:{};b[6]=e.rawData.structuredInfo;b[7]=a}else a=b[7];a=a;a=a.disambiguation_result;if(a==null){c("FBLogger")("search").mustfix("We were trying to show disambiguation result, but had missing data");return null}a=a.disambiguation_info_list;var l=a[0].snippet;b[8]!==e.label||b[9]!==f?(a=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[8]=e.label,b[9]=f,b[10]=a):a=b[10];var m;b[11]!==l?(m=function(a){return j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:l,title:a})},b[11]=l,b[12]=m):m=b[12];var n;b[13]!==e.label||b[14]!==k||b[15]!==m?(n=j.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:k,strategy:"non-match",children:m}),b[13]=e.label,b[14]=k,b[15]=m,b[16]=n):n=b[16];b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==i||b[21]!==a||b[22]!==n?(k=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:e,isActive:f,itemStartContent:a,linkProps:g,children:n})),b[17]=e,b[18]=f,b[19]=g,b[20]=i,b[21]=a,b[22]=n,b[23]=k):k=b[23];return k}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FBLogger","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry","isActive","linkProps","queryString"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,i,k;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,k=a.queryString,i=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5]);a=e.rawData;var l=a.badgeSnippet;a=a.structuredInfo;if(b[6]!==(a==null?void 0:a.high_confidence_result)){var m;m=(m=a==null?void 0:a.high_confidence_result)!=null?m:{};b[6]=a==null?void 0:a.high_confidence_result;b[7]=m}else m=b[7];a=m;m=a.hcm_id;var n=a.picture_url;a=a.snippet;n==null&&c("FBLogger")("search").mustfix("Missing HC keyword item picture url for hcm_id %s",m!=null?m:"null");b[8]!==l||b[9]!==a?(m=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{color:"blue"}),l]}):a,b[8]=l,b[9]=a,b[10]=m):m=b[10];var o=m;b[11]!==n?(l=n!=null?j.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:n}}):null,b[11]=n,b[12]=l):l=b[12];b[13]!==e.label||b[14]!==f?(a=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[13]=e.label,b[14]=f,b[15]=a):a=b[15];b[16]!==o?(m=function(a){return j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:o,title:a})},b[16]=o,b[17]=m):m=b[17];b[18]!==e.label||b[19]!==k||b[20]!==m?(n=j.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:k,strategy:"non-match",children:m}),b[18]=e.label,b[19]=k,b[20]=m,b[21]=n):n=b[21];b[22]!==e||b[23]!==f||b[24]!==g||b[25]!==i||b[26]!==l||b[27]!==a||b[28]!==n?(k=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:e,isActive:f,itemEndContent:l,itemStartContent:a,linkProps:g,children:n})),b[22]=e,b[23]=f,b[24]=g,b[25]=i,b[26]=l,b[27]=a,b[28]=n,b[29]=k):k=b[29];return k}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","CometPressable.react","CometSearchRecentDataSourceDispatcherContext","FBNucleusCrossFilled20Icon.react","FDSIcon.react","XPlatReactEnvironment","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useState,m={buttonContainer:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0},buttonContainerActive:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.entry;a=a.testid;var f=k(c("CometSearchRecentDataSourceDispatcherContext")),g=l(!1),i=g[0],n=g[1];g=c("useCometInternalTypeaheadState")();var o=g.highlightedEntry;g=g.secondaryActionHighlighted;var p;b[0]!==e||b[1]!==f?(p=function(a){a&&a.type!=="press"&&a.stopPropagation(),n(!0),f==null||f.dispatchRemoveRecentEntry(e)},b[0]=e,b[1]=f,b[2]=p):p=b[2];p=p;var q;b[3]!==e.label?(q=h._(/*BTDS*/"{search_term}, Delete",[h._param("search_term",e.label)]),b[3]=e.label,b[4]=q):q=b[4];q=q;o=o===e&&g===!0&&m.buttonContainerActive;b[5]!==o?(g=[m.buttonContainer,o],b[5]=o,b[6]=g):g=b[6];b[7]!==q||b[8]!==i?(o=j.jsx(c("FDSIcon.react"),{"aria-label":q,color:"secondary",disabled:i,focusable:!1,icon:c("FBNucleusCrossFilled20Icon.react"),size:d("XPlatReactEnvironment").isWeb()?12:20}),b[7]=q,b[8]=i,b[9]=o):o=b[9];b[10]!==p||b[11]!==g||b[12]!==o||b[13]!==a?(q=j.jsx(c("CometPressable.react"),{dynamicHoverTiltAngle:15,dynamicHoverTranslationPercent:.15,onPress:p,overlayRadius:999,showDynamicHover:!0,testid:void 0,xstyle:g,children:o}),b[10]=p,b[11]=g,b[12]=o,b[13]=a,b[14]=q):q=b[14];return q}g["default"]=a}),226);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:e,testid:void 0})}),b[3]=e,b[4]=a):a=b[4];var g;b[5]!==e||b[6]!==f||b[7]!==a?(g=j.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},f,{entry:e,itemEndContent:a,itemEndContentKeyboardFocusable:!0,testid:void 0})),b[5]=e,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","FBLogger","getCometSearchTypeaheadStructuredInfoKey"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("FBLogger")("search").mustfix("The suggestions are not dupes: %s compared to %s",a.key,b.key);return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometTypeaheadEntityViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry","isBadged","isOnline","meta","pictureUrl","queryString","size","style"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(23);if(b[0]!==a){var e=a.entry,f=a.isBadged,g=a.isOnline,i=a.meta,k=a.pictureUrl;a.queryString;var l=a.size,m=a.style,n=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e;f=f;g=g;i=i;k=k;l=l;m=m;n=n;b[0]=a;b[1]=e;b[2]=i;b[3]=k;b[4]=n;b[5]=f;b[6]=g;b[7]=l;b[8]=m}else e=b[1],i=b[2],k=b[3],n=b[4],f=b[5],g=b[6],l=b[7],m=b[8];a=f===void 0?!1:f;f=g===void 0?!1:g;g=l===void 0?36:l;l=m===void 0?"circle":m;b[9]!==f||b[10]!==k||b[11]!==g||b[12]!==l?(m=k!=null?j.jsx(c("FDSProfilePhoto.react"),{addOn:f?{type:"availabilityBadge"}:void 0,shape:l,size:g,source:{uri:k}}):null,b[9]=f,b[10]=k,b[11]=g,b[12]=l,b[13]=m):m=b[13];b[14]!==e.label||b[15]!==a||b[16]!==i?(f=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:a,level:3,snippet:i,title:e.label}),b[14]=e.label,b[15]=a,b[16]=i,b[17]=f):f=b[17];b[18]!==e||b[19]!==n||b[20]!==m||b[21]!==f?(k=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},n,{entry:e,itemStartContent:m,children:f})),b[18]=e,b[19]=n,b[20]=m,b[21]=f,b[22]=k):k=b[22];return k}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["fbt","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadEntityViewItem.react","CometTypeaheadFocusLockRegion.react","FBLogger","FDSBadge.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["entry"],j,k=j||(j=d("react")),l=j.useContext;function a(a){var b,e,f=d("react-compiler-runtime").c(21),g,j;f[0]!==a?(g=a.entry,j=babelHelpers.objectWithoutPropertiesLoose(a,i),f[0]=a,f[1]=g,f[2]=j):(g=f[1],j=f[2]);a=g.rawData;var m=a.badgeSnippet;a=a.profile;var n;f[3]!==a?(n=a!=null?a:{},f[3]=a,f[4]=n):n=f[4];a=n;n=a.id;var o=a.profilePictureURL;a=a.url;o==null&&c("FBLogger")("search").mustfix("Missing profile picture for fbid %s",n!=null?n:"null");var p;f[5]!==m?(p=m!=null?k.jsxs(k.Fragment,{children:[k.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),m]}):void 0,f[5]=m,f[6]=p):p=f[6];p=p;b=(b=g.metaData.logging)==null?void 0:b.entityType;var q="circle";b!==null&&(b==="group"||b==="event")&&(q="roundedRect");b=l(c("PresenceStatusContext"));var r=!1;e=(e=c("qex")._("218"))!=null?e:!1;e&&n!=null&&(r=b.get(n)===2);e=m!=null;f[7]!==g?(b=k.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:k.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:g})}),f[7]=g,f[8]=b):b=f[8];f[9]!==a?(n={preventLocalNavigation:!0,url:a},f[9]=a,f[10]=n):n=f[10];f[11]!==g||f[12]!==r||f[13]!==p||f[14]!==o||f[15]!==j||f[16]!==q||f[17]!==e||f[18]!==b||f[19]!==n?(m=k.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},j,{entry:g,isBadged:e,isOnline:r,itemEndContent:b,itemEndContentKeyboardFocusable:!0,linkProps:n,meta:p,pictureUrl:o,size:36,style:q,testid:void 0})),f[11]=g,f[12]=r,f[13]=p,f[14]=o,f[15]=j,f[16]=q,f[17]=e,f[18]=b,f[19]=n,f[20]=m):m=f[20];return m}g["default"]=a}),226);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+(c!=null?c:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["fbt","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["entry","isActive","queryString"],j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;function a(a){var b,e=d("react-compiler-runtime").c(29);if(e[0]!==a){var f=a.entry,g=a.isActive;a.queryString;var j=babelHelpers.objectWithoutPropertiesLoose(a,i);f=f;g=g;j=j;e[0]=a;e[1]=f;e[2]=g;e[3]=j}else f=e[1],g=e[2],j=e[3];a=f;a=a.rawData;var m=a.badgeSnippet;a=a.structuredInfo;if(e[4]!==(a==null?void 0:a.direct_nav_result)){var n;n=(n=a==null?void 0:a.direct_nav_result)!=null?n:{};e[4]=a==null?void 0:a.direct_nav_result;e[5]=n}else n=e[5];a=n;n=a.ent_id;var o=a.entity_type,p=a.img_url,q=a.link_url,r=a.snippet,s=a.title;a=a.type;var t;e[6]!==q?(t={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:q},e[6]=q,e[7]=t):t=e[7];q=t;t=q;e[8]!==m||e[9]!==r?(q=m!=null?k.jsxs(k.Fragment,{children:[k.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),m]}):r,e[8]=m,e[9]=r,e[10]=q):q=e[10];r=q;q="circle";a==="SHORTCUT"?q="square":(o==="group"||o==="event")&&(q="roundedRect");a=l(c("PresenceStatusContext"));o=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&n!=null&&(o=a.get(n)===2);e[11]!==f?(b=k.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:k.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})}),e[11]=f,e[12]=b):b=e[12];e[13]!==p||e[14]!==o||e[15]!==q?(a=p!=null?k.jsx(c("FDSProfilePhoto.react"),{addOn:o?{type:"availabilityBadge"}:void 0,shape:q,size:36,source:{uri:p}}):null,e[13]=p,e[14]=o,e[15]=q,e[16]=a):a=e[16];n=m!=null;e[17]!==r||e[18]!==n||e[19]!==s?(p=k.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:n,level:3,snippet:r,title:s}),e[17]=r,e[18]=n,e[19]=s,e[20]=p):p=e[20];e[21]!==f||e[22]!==g||e[23]!==t||e[24]!==j||e[25]!==b||e[26]!==a||e[27]!==p?(o=k.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:f,isActive:g,itemEndContent:b,itemEndContentKeyboardFocusable:!0,itemStartContent:a,linkProps:t,testid:void 0,children:p})),e[21]=f,e[22]=g,e[23]=t,e[24]=j,e[25]=b,e[26]=a,e[27]=p,e[28]=o):o=e[28];return o}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["fbt","CometRow.react","CometRowItem.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FBLogger","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["entry","isActive","linkProps","queryString"],j,k=j||d("react");function a(a){var b,e=d("react-compiler-runtime").c(32);if(e[0]!==a){var f=a.entry,g=a.isActive,j=a.linkProps;a.queryString;var l=babelHelpers.objectWithoutPropertiesLoose(a,i);f=f;g=g;j=j;l=l;e[0]=a;e[1]=f;e[2]=g;e[3]=j;e[4]=l}else f=e[1],g=e[2],j=e[3],l=e[4];a=f;var m=a.label;a=a.rawData;var n=a.badgeSnippet;if(e[5]!==((b=a.structuredInfo)==null?void 0:b.high_confidence_result)){b=(b=(b=a.structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};e[5]=(a=a.structuredInfo)==null?void 0:a.high_confidence_result;e[6]=b}else b=e[6];a=b;b=a.hcm_id;var o=a.picture_url;a=a.snippet;o==null&&c("FBLogger")("search").mustfix("Missing HC keyword item picture url for hcm_id %s",b!=null?b:"null");e[7]!==n||e[8]!==a?(b=n!=null?k.jsxs(k.Fragment,{children:[k.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),n]}):a,e[7]=n,e[8]=a,e[9]=b):b=e[9];a=b;e[10]!==o?(b=o!=null?k.jsx(c("CometRowItem.react"),{children:k.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:o}})}):null,e[10]=o,e[11]=b):b=e[11];e[12]!==f?(o=k.jsx(c("CometRowItem.react"),{children:k.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:k.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})})}),e[12]=f,e[13]=o):o=e[13];var p;e[14]!==b||e[15]!==o?(p=k.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[b,o]}),e[14]=b,e[15]=o,e[16]=p):p=e[16];e[17]!==g||e[18]!==m?(b=k.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:g,label:m}),e[17]=g,e[18]=m,e[19]=b):b=e[19];o=n!=null;e[20]!==m||e[21]!==a||e[22]!==o?(n=k.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:o,level:3,snippet:a,title:m}),e[20]=m,e[21]=a,e[22]=o,e[23]=n):n=e[23];e[24]!==f||e[25]!==g||e[26]!==j||e[27]!==l||e[28]!==p||e[29]!==b||e[30]!==n?(m=k.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},l,{entry:f,isActive:g,itemEndContent:p,itemEndContentKeyboardFocusable:!0,itemStartContent:b,linkProps:j,children:n})),e[24]=f,e[25]=g,e[26]=j,e[27]=l,e[28]=p,e[29]=b,e[30]=n,e[31]=m):m=e[31];return m}g["default"]=a}),226);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry","isActive","queryString"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,i;b[0]!==a?(e=a.entry,f=a.isActive,i=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i):(e=b[1],f=b[2],g=b[3],i=b[4]);b[5]!==e.label||b[6]!==f?(a=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];i=String(i);var k;b[8]!==i?(k=i.toLowerCase(),b[8]=i,b[9]=k):k=b[9];b[10]!==k?(i=j.jsx(c("FDSText.react"),{numberOfLines:1,type:"body3",children:k}),b[10]=k,b[11]=i):i=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==a||b[16]!==i?(k=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,children:i})),b[12]=e,b[13]=f,b[14]=g,b[15]=a,b[16]=i,b[17]=k):k=b[17];return k}g["default"]=a}),98);
__d("CometTypeaheadErrorFallback.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","CometTypeaheadViewItem.react","FDSIcon.react","FDSMagnifyingGlassFilled16Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["entry","extraViewItemProps","queryString"],j,k=j||(j=d("react"));j.useMemo;function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;b[0]!==a?(e=a.entry,f=a.extraViewItemProps,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);c("vulture")("d6QLXeKGaHp9D3Vs6iAb4ffnm1Q=");(a=f)==null||a.placeholderBuilder;a=(f=(a=f)==null?void 0:a.placeholderBuilder)!=null?f:l;f=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:"x6s0dn4 xwnonoy x1fmog5m xu25z0z x140muxe xo1y3bh x78zum5 xc9qbxq xl56j7k x14qfxbe",children:k.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSMagnifyingGlassFilled16Icon"),size:16})}),b[5]=a):a=b[5];var j;b[6]!==f||b[7]!==h?(j=f(h),b[6]=f,b[7]=h,b[8]=j):j=b[8];b[9]!==j?(f=k.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:j}),b[9]=j,b[10]=f):f=b[10];b[11]!==e||b[12]!==g||b[13]!==f?(h=k.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,itemStartContent:a,children:f})),b[11]=e,b[12]=g,b[13]=f,b[14]=h):h=b[14];return h}function l(a){return h._(/*BTDS*/"Search for {=m1}",[h._implicitParam("=m1",k.jsx("strong",{children:h._(/*BTDS*/"{query}",[h._param("query",a.toLowerCase())])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a}),66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.additionalEntryMappings,d=a.seeAllLabelBuilder,e=a.children,f=a.entry;a=a.fallbackViewItem;a=a===void 0?c("CometTypeaheadKeywordViewItem.react"):a;var g=i(function(){return[].concat(b!=null?b:[],j({seeAllLabelBuilder:d}))},[b,d]);g=g.find(function(a){a=a.resolver;return a(f)});if(g){var h=g.viewItem;g=g.viewItemProps;return e(h,g)}return e(a)}function j(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a}),98);
__d("XCometGamingVideoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/video/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=b!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=d!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a}),98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.excludeSeeAllAndEcho;d=d===void 0?!1:d;var e=b.keyBuilder,f=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(f),d?null:c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:e,limit:f}),d?null:c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})].filter(Boolean))}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){for(var d of c.entries){var e=b(d);e=e!=null?a.get(e):null;e!=null&&d.type==="section"&&(d.entries=d.entries.slice(0,e))}return c}}f["default"]=a}),66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getSectionLimitKey,e=b.limit;b=b.sectionLimits;var f=a.entries.every(function(a){return a.type==="section"});return c("baseTypeaheadFetchPayloadDecorate")(a,[f&&b!=null?c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b,d):c("BaseTypeaheadPayloadDecoratorAddLimit")(e)])}g["default"]=a}),98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,c){var d=new Map(),e=[];for(b of b){var f=d.get(b.key);f!=null?i({caller:c,dupeEntry:b,existingEntry:f,strategy:a}):(d.set(b.key,b),e.push(b))}return e}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("entity")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(a of a)i.push(a);for(a of b){b=[];for(var k=0;k<i.length;k++){var l=i[k];l!=null&&f(l,a)&&b.push(k)}l=b[0];k=l!=null?i[l]:null;if(k!=null&&!j.has(k)){k=g(k,a);i[l]=k;for(l of b){b=i[l];b!=null&&b!==k&&b!==g(b,a)&&(i[l]=null)}}else i.push(a)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("direct_nav")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")&&b.has("direct_nav")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&(a.subtype==="keyword"||a.subtype==="bootstrap")?a:null}f["default"]=a}),66);
__d("searchCometTypeaheadGetHighConfidenceResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a}),66);
__d("searchCometTypeaheadGetStsDisambiguation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){c=(b=(a=c.structuredInfo)==null||(a=a.disambiguation_result)==null?void 0:a.disambiguation_info_list[0])!=null?b:{};a=c.type;if(a!=null)return{primary:{type:a}}}}f["default"]=a}),66);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Sorry, something went wrong. Please try again at a later time.")})}g["default"]=a}),226);
__d("searchCometTypeaheadSTSMappings",["CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";a=c("filterNulls")([{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadRecentEntityViewItem.react")}]);g["default"]=a}),98);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){a=i(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a}),98);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometInternalTypeaheadStateDispatcher","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h=["inputRef","onChange","onPressEntry","onSelectFreeformQuery"],i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect;b.useMemo;function a(a,b){var e=b.dataSource,f=b.shouldSubscribeToRecentSearches;function g(b){var g=d("react-compiler-runtime").c(28),l,m,n,o,p;g[0]!==b?(l=b.inputRef,m=b.onChange,n=b.onPressEntry,o=b.onSelectFreeformQuery,p=babelHelpers.objectWithoutPropertiesLoose(b,h),g[0]=b,g[1]=l,g[2]=m,g[3]=n,g[4]=o,g[5]=p):(l=g[1],m=g[2],n=g[3],o=g[4],p=g[5]);b=c("useCometInternalTypeaheadFetch")();var q=b.refetch;b=c("useCometInternalTypeaheadStateDispatcher")();var r=b.dispatchHighlightedEntry;b=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var s=b.subscribeToRecentSearchEntryAdded,t;g[6]!==s?(b=function(){if(f)return s==null?void 0:s(i)},t=[s],g[6]=s,g[7]=b,g[8]=t):(b=g[7],t=g[8]);k(b,t);g[9]!==o?(b=function(a){var b={hasSecondaryAction:!0,key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};e.addRecentEntry(b);o&&o(a)},g[9]=o,g[10]=b):b=g[10];t=b;g[11]!==q?(b=function(a){e.removeRecentEntry(a,{onBeforeCommitMutation:function(){q({source:"cache"})}})},g[11]=q,g[12]=b):b=g[12];var u=b;g[13]!==r||g[14]!==n||g[15]!==u?(b=function(a,b){var c,d=a.label,f=a.metaData;c=(c=f==null?void 0:f.markers)!=null?c:new Set();if(b===!0&&a.subtype==="recent"){u(a);r({entry:null,secondaryActionHighlighted:null,source:null});return}if(c.has("nullstate_explore")){n&&n(a);return}var g=new Set(["recent"]);c.has("entity")&&g.add("entity");c.has("direct_nav")&&g.add("direct_nav");c.has("high_confidence")&&g.add("high_confidence");a.subtype==="recent"||a.subtype==="bootstrap"||a.subtype==="keyword"?c=babelHelpers["extends"]({},a.rawData,{badgeSnippet:null}):c={};f=(f=f==null?void 0:f.logging)!=null?f:{};var h=f.entityID,i=f.entityType,j=f.loggingInfo,k=f.stsDirectNavEntityID,l=f.stsDirectNavType,m=f.stsDisambiguationType,o=f.stsHighConfidenceID;f=f.stsHighConfidenceSource;e.addRecentEntry({hasSecondaryAction:!0,key:d.toLocaleLowerCase(),label:d,metaData:{logging:{entityID:h,entityType:i,loggingInfo:j,stsDirectNavEntityID:k,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceID:o,stsHighConfidenceSource:f},markers:g},rawData:c,subtype:"recent",type:"entry"});n==null||n(a,b)},g[13]=r,g[14]=n,g[15]=u,g[16]=b):b=g[16];b=b;var v;g[17]!==u?(v={dispatchRemoveRecentEntry:u},g[17]=u,g[18]=v):v=g[18];v=v;v=v;var w;g[19]!==l||g[20]!==t||g[21]!==b||g[22]!==m||g[23]!==p?(w=j.jsx(a,babelHelpers["extends"]({},p,{inputRef:l,onChange:m,onPressEntry:b,onSelectFreeformQuery:t})),g[19]=l,g[20]=t,g[21]=b,g[22]=m,g[23]=p,g[24]=w):w=g[24];g[25]!==v||g[26]!==w?(l=j.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:v,children:w}),g[25]=v,g[26]=w,g[27]=l):l=g[27];return l}function i(a){e.addRecentEntry(a)}return g}g["default"]=a}),98);
__d("useCometTypeaheadStateQueryString",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c=j(a),e=c[0],f=c[1],g;b[0]!==a?(c=function(){return f(a)},g=[a],b[0]=a,b[1]=c,b[2]=g):(c=b[1],g=b[2]);i(c,g);b[3]!==e?(c=[e,f],b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=16;function a(a){var b=a.fetchSearchBadge,e=b===void 0?!1:b,f=a.filter,g=a.nullStateSurface,h=a.searchScopeEntityID,k=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var l=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return i(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:l,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:j,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:g!=null,fetch_recent_searches:f!=null,fetch_search_badge:e,filter:f,first:j,scale:d("WebPixelRatio").get(),search_null_state_argument:g!=null?{surface:{name:g}}:{surface:{name:"GLOBAL"}},search_scope_entity_id:h}},relayEnvironment:k})},[l,e,f,g,k,h])}g["default"]=a}),98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","justknobx","react","react-compiler-runtime","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(51),f=a.config,g=a.recentDataSource,i=a.searchScopeEntityID;a=f.dataSources;var n=f.logging;f=f.view;var o=a.bootstrapKeywordsDataSourceParams;a=a.keywordDataSourceParams;var p=n.sessionContext,q=f.renderLimit,r=f.sectionLimits;n=d("CometRelay").useRelayEnvironment();e[0]!==o||e[1]!==q||e[2]!==n?(f=o!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},o,{limit:q,relayEnvironment:n})):null,e[0]=o,e[1]=q,e[2]=n,e[3]=f):f=e[3];o=f;var s=o;e[4]!==a||e[5]!==q||e[6]!==n?(f=new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},a,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:q,onError:m,relayEnvironment:n})),e[4]=a,e[5]=q,e[6]=n,e[7]=f):f=e[7];o=f;var t=o;e[8]!==q?(a=function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{excludeSeeAllAndEcho:(b=c("justknobx")._("1509"))!=null?b:!1,keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:q})},e[8]=q,e[9]=a):a=e[9];var u=a,v=l;e[10]!==s||e[11]!==g?(n=function(){s==null||s.bootstrap(),g==null||g.bootstrap()},e[10]=s,e[11]=g,e[12]=n):n=e[12];f=n;e[13]!==p||e[14]!==g||e[15]!==i?(o=function(a,b){if(g==null)return;if(i==null){g.add(a,p,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:i},markers:e.markers};c={hasSecondaryAction:!0,key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};g.add(c,p,b)},e[13]=p,e[14]=g,e[15]=i,e[16]=o):o=e[16];a=o;e[17]!==s||e[18]!==u||e[19]!==t||e[20]!==q||e[21]!==g||e[22]!==r?(n=function(a){var b=a.query;if(b===""&&g!=null){var d=g.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e,params:d},{getSectionLimitKey:k,limit:q,sectionLimits:r})}if(b==="")return{entries:[],params:a};if(s==null){e=t.fetchCache(a);return u(babelHelpers["extends"]({},e))}d=s.fetchCache(a);b=d.entries;e=d.params;if(b.length>=q)return u({entries:b,params:e});d=t.fetchCache(a);e=d.entries;a=d.params;d=v(b,e);return u({entries:d,params:a})},e[17]=s,e[18]=u,e[19]=t,e[20]=q,e[21]=g,e[22]=r,e[23]=n):n=e[23];o=n;e[24]!==s||e[25]!==u||e[26]!==t||e[27]!==q||e[28]!==g||e[29]!==r?(n=function(a){var d=a.query;if(d===""&&g!=null)return g.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries,params:a.params},{getSectionLimitKey:j,limit:q,sectionLimits:r})});if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});return s==null?t.fetchNetwork(a).then(function(a){return u(babelHelpers["extends"]({},a))}):t.fetchNetwork(a).then(function(b){var c=s.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=v(c,d);return u({entries:c,params:b})})},e[24]=s,e[25]=u,e[26]=t,e[27]=q,e[28]=g,e[29]=r,e[30]=n):n=e[30];n=n;var w;e[31]!==g?(w=function(a,b){g!=null&&g.remove(a,b)},e[31]=g,e[32]=w):w=e[32];w=w;var x;e[33]!==t?(x=function(){return t.clearQueryCache()},e[33]=t,e[34]=x):x=e[34];var y;e[35]!==g?(y=function(){return g==null?void 0:g.clear()},e[35]=g,e[36]=y):y=e[36];var z;e[37]!==s?(z=function(){return s},e[37]=s,e[38]=z):z=e[38];var A;e[39]!==g?(A=function(){return g==null?void 0:g.refresh()},e[39]=g,e[40]=A):A=e[40];var B;e[41]!==a||e[42]!==f||e[43]!==o||e[44]!==n||e[45]!==w||e[46]!==x||e[47]!==y||e[48]!==z||e[49]!==A?(B={addRecentEntry:a,bootstrap:f,clearQueryCache:x,clearRecentSearches:y,fetchCache:o,fetchNetwork:n,getBootstrapKeywordsDataSource:z,refreshRecentSearches:A,removeRecentEntry:w},e[41]=a,e[42]=f,e[43]=o,e[44]=n,e[45]=w,e[46]=x,e[47]=y,e[48]=z,e[49]=A,e[50]=B):B=e[50];a=B;return a}function j(a){return a.type==="section"?a.subtype:null}function k(a){return a.type==="section"?a.subtype:null}function l(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")}function m(){return c("searchCometTypeaheadPushErrorToast")()}g["default"]=a}),98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){b===void 0&&(b=!0);return i(function(){return{decorate:function(){return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,arguments)},params:{dataSource:a,shouldSubscribeToRecentSearches:b}}},[a,b])}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry","queryString"],i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.additionalEntryMappings,f=a.getLinkProps,g=a.seeAllLabelBuilder;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){var b=a.entry,d=a.queryString,i=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:e,entry:b,seeAllLabelBuilder:g,children:function(a,c){return j.jsx(a,babelHelpers["extends"]({},i,{entry:b,extraViewItemProps:c,linkProps:f==null?void 0:f({entry:b,queryString:d}),queryString:d}))}})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],(function(a,b,c,d,e,f,g){"use strict";var h=["ariaProps","entries","highlightedEntry","isLoading","queryString"],i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(15),e=a.additionalEntryMappings,f=a.afterNullstateContent,g=a.emptyStateContent,i=a.getLinkProps,k=a.isScrollable,l=a.nullstateContent,m=a.onHeaderActionPress,n=a.scrollableXStyle,o=a.seeAllLabelBuilder,p=a.xstyle;b[0]!==e||b[1]!==i||b[2]!==o?(a={additionalEntryMappings:e,getLinkProps:i,seeAllLabelBuilder:o},b[0]=e,b[1]=i,b[2]=o,b[3]=a):a=b[3];e=c("useSearchCometTypeaheadViewItem")(a);b[4]!==g||b[5]!==l||b[6]!==m||b[7]!==e?(i={emptyStateContent:g,nullstateContent:l,onHeaderActionPress:m,viewItemStrategyRenderer:e},b[4]=g,b[5]=l,b[6]=m,b[7]=e,b[8]=i):i=b[8];var q=c("useCometTypeaheadSectionedViewListStrategy")(i);b[9]!==q||b[10]!==f||b[11]!==k||b[12]!==n||b[13]!==p?(o=function(a){var b=a.ariaProps,e=a.entries,g=a.highlightedEntry,i=a.isLoading,l=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,h);b=j.jsxs(j.Fragment,{children:[j.jsx(q,babelHelpers["extends"]({ariaProps:b,entries:e,highlightedEntry:g,isLoading:i,queryString:l},a)),f!=null&&l.length===0&&e.length>0?f:null]});g=l==="";return j.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(d("react-strict-dom").html.div,{style:p,"data-testid":void 0,children:k?j.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:n,children:b}):b})})},b[9]=q,b[10]=f,b[11]=k,b[12]=n,b[13]=p,b[14]=o):o=b[14];return o}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupSecretRestoreModule",["E2EEBackupCommon","QuickPerformanceLogger","Random","VestaClient","VestaClientError","VestaClientV2","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235874858,"168");function j(){return d("Random").uint32()}async function a(a,b,e){var f=j();(h||(h=c("QuickPerformanceLogger"))).markerStart(i,f);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase}},{instanceKey:f});try{var g=c("gkx")("13570");(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{bool:{is_wasm_vesta_client_v2:g}},{instanceKey:f});var k=await a.initLogin({clientId:b.clientId,productUseCase:b.productUseCase},e),l=k.islandRsaPub,m=k.islandRsaPubSig,n=k.islandEd25519Pub,o=k.islandEd25519PubSig;k=k.isRegistered;h.markerPoint(i,"init_login_network_end",{instanceKey:f});if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"NOT_REGISTERED"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NOT_REGISTERED)}var p;if(g){k=await Promise.all([d("VestaClientV2").validateHsmKey(l,m),d("VestaClientV2").validateHsmKey(n,o)]);p=k[0];k=k[1];if(!p.success)throw p.error;if(!k.success)throw k.error;p=p.value;k=k.value}else{l=await Promise.all([d("VestaClient").validateHsmKey(l,m),d("VestaClient").validateHsmKey(n,o)]);p=l[0];k=l[1]}if(!p){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"validate_hsm_keys_client_end",{instanceKey:f});m=b.vestaAccountPin;if(m==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{o=new TextEncoder();if(g){l=await d("VestaClientV2").beginLogin(o.encode(m));if(!l.success)throw l.error;l=l.value}else l=await d("VestaClient").beginLogin(o.encode(m));p=l;k=p.clientState;o=p.l1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_login_client_end",{instanceKey:f});m=await a.beginLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL1:o},e);l=m.opaqueL2;p=m.opaqueL2Sig;h.markerPoint(i,"begin_login_network_end",{instanceKey:f});if(g){o=await d("VestaClientV2").finishLogin(l,p,n,k);if(!o.success)throw o.error;o=o.value}else o=await d("VestaClient").finishLogin(l,p,n,k);m=o;l=m.exportKey;p=m.l3Message;n=m.sessionKey;h.markerPoint(i,"finish_login_client_end",{instanceKey:f});k=await a.finishLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL3:p},e);o=k.loginSuccess;m=k.loginPayload;h.markerPoint(i,"finish_login_network_end",{instanceKey:f});if(!o){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}if(m!=null){if(g){a=await d("VestaClientV2").unpackLoginPayload(m,n,l);if(!a.success)throw a.error;a=a.value}else a=await d("VestaClient").unpackLoginPayload(m,n,l);b=a;p=b.userSecret;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"unpack_login_payload",{instanceKey:f});h.markerEnd(i,2,f);return p}h.markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}},{instanceKey:f});h.markerEnd(i,3,f);if(a.name==="InvalidUserPassword")throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD,a);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.restoreBackupSecret=a}),98);
__d("MAWEncryptedBackupsClearRecoveryCode",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_recovery_code_data)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_recovery_code_status))]).then(function(c){var d=c[0],e=c[1];if(d!=null||e!=null)return a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([(d==null?void 0:d.taskId)!=null?a.secure_recovery_code_data["delete"](d.taskId):(h||(h=b("Promise"))).resolve(),(e==null?void 0:e.pk)!=null?a.secure_encrypted_backups_recovery_code_status["delete"](e.pk):(h||(h=b("Promise"))).resolve()])},"readwrite",void 0,void 0,f.id+":27")})}g.encryptedBackupsClearRecoveryCode=a}),98);
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.isMessenger;a=a?"disabled_DEPRECATED":"blue";var e;b[0]!==a?(e=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXSpinner.react"),{color:a,size:12})}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._(/*BTDS*/"Verifying your PIN")})}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[e,a]}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24783313654667152"}),null);
__d("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters",["MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsForgotPINDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsForgotPINDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPINDialog.react").__setRef("MWChatEncryptedBackupsForgotPINDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPinStepDialogPage.react").__setRef("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint")};g["default"]=a}),98);
__d("MWEBNoMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBNoMobileEOTRInformationalDialogForEntrypoint.react").__setRef("MWEBNoMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBUntrustedMobileEOTRInformationalDialogForEntrypoint.react").__setRef("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("useWAInfraMobileDeviceList",["cr:8431","react","react-compiler-runtime","useWAInfraDeviceList"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(3),e=c("useWAInfraDeviceList")(),f;a[0]!==e?(f=e.filter(i),a[0]=e,a[1]=f):f=a[1];e=f;f=e;if(b("cr:8431")){a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[b("cr:8431")],a[2]=e):e=a[2];return e}return f}function i(a){var b;return a.platform==="Messenger"&&!["Mac OS X","Windows"].includes(a.manufacturer)&&!["Chrome","Safari","Firefox","Edge","System Product Name"].includes(a.model)&&!(a.manufacturer==="Apple"&&(b=a.model)!=null&&b.includes("Mac"))}g["default"]=a}),98);
__d("MWEncryptedBackupsForgotPinStep",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBNoMobileEOTRInformationalDialog.entrypoint","MWEBUntrustedMobileEOTRInformationalDialog.entrypoint","MWEBVirtualDevicesContext.react","MWJewelPopoverDialogContext.react","QPLUserFlow","UserMobileEBState","emptyFunction","gkx","react","react-compiler-runtime","useGetUserMobileEBState","useMWXEntryPointDialog","usePushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j=["onHighIntent"],k=["onHighIntent"],l;l||(l=d("react"));var m=l.useContext,n=h._(/*BTDS*/"Forgot PIN?"),o=h._(/*BTDS*/"Need help?");e="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more";f=c("gkx")("14456");var p=function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a===n?"PIN_CODE_RESTORE_FORGOT_PIN_CLICK":"PIN_CODE_RESTORE_NEED_HELP_CLICK")},q=f?n:o;h=function(){p(q)};var r={children:q,href:e,onClick:h,rel:"noreferrer",target:"_blank"};function a(a){var b=d("react-compiler-runtime").c(39),e=a.offlineDevicesCount,f=a.onClose,g=a.onComplete,h=a.pushPage;a=c("useGetUserMobileEBState")();var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[0]=l):l=b[0];l=c("usePushPage")(c("MWEBNoMobileEOTRInformationalDialog.entrypoint"),l);var m=l[0];l=l[1];if(b[1]!==l){l.onHighIntent;var q=babelHelpers.objectWithoutPropertiesLoose(l,i);q=q;b[1]=l;b[2]=q}else q=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[3]=l):l=b[3];l=c("usePushPage")(c("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint"),l);var s=l[0];l=l[1];if(b[4]!==l){l.onHighIntent;var t=babelHelpers.objectWithoutPropertiesLoose(l,j);t=t;b[4]=l;b[5]=t}else t=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[6]=l):l=b[6];l=c("usePushPage")(c("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint"),l);var u=l[0];l=l[1];if(b[7]!==l){l.onHighIntent;var v=babelHelpers.objectWithoutPropertiesLoose(l,k);v=v;b[7]=l;b[8]=v}else v=b[8];if(a.state===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE){b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==s?(l=function(){p(n),s({onClose:f,onComplete:g,pushPage:h})},b[9]=f,b[10]=g,b[11]=h,b[12]=s,b[13]=l):l=b[13];var w;b[14]!==l||b[15]!==t.onHoverIn||b[16]!==t.onHoverOut||b[17]!==t.onPressIn?(w={children:n,onClick:l,onHoverEnd:t.onHoverOut,onHoverStart:t.onHoverIn,onPressStart:t.onPressIn},b[14]=l,b[15]=t.onHoverIn,b[16]=t.onHoverOut,b[17]=t.onPressIn,b[18]=w):w=b[18];return w}if(a.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE){b[19]!==f||b[20]!==g||b[21]!==m?(l=function(){p(n),m({onClose:f,onComplete:g})},b[19]=f,b[20]=g,b[21]=m,b[22]=l):l=b[22];b[23]!==q.onHoverIn||b[24]!==q.onHoverOut||b[25]!==q.onPressIn||b[26]!==l?(t={children:n,onClick:l,onHoverEnd:q.onHoverOut,onHoverStart:q.onHoverIn,onPressStart:q.onPressIn},b[23]=q.onHoverIn,b[24]=q.onHoverOut,b[25]=q.onPressIn,b[26]=l,b[27]=t):t=b[27];return t}var x=e>0||!0;if(x){b[28]!==x||b[29]!==f||b[30]!==g||b[31]!==u||b[32]!==h?(w=function(){p(o),u({isRCDeviceEnabled:x,onClose:f,onComplete:g,pushPage:h},{})},b[28]=x,b[29]=f,b[30]=g,b[31]=u,b[32]=h,b[33]=w):w=b[33];b[34]!==v.onHoverIn||b[35]!==v.onHoverOut||b[36]!==v.onPressIn||b[37]!==w?(a={children:o,onClick:w,onHoverEnd:v.onHoverOut,onHoverStart:v.onHoverIn,onPressStart:v.onPressIn},b[34]=v.onHoverIn,b[35]=v.onHoverOut,b[36]=v.onPressIn,b[37]=w,b[38]=a):a=b[38];return a}else return r}function b(a){var b=d("react-compiler-runtime").c(17);a=a.onDismiss;var e=a===void 0?c("emptyFunction"):a,f=c("useGetUserMobileEBState")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var g=a[0];a=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();a=a.virtualDeviceInfo;a=a.offlineDevicesCount;var h=m(c("MWJewelPopoverDialogContext.react")),i=h.setIsOpenForDialog;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h={},b[1]=h):h=b[1];h=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),h);var j,k;b[2]!==h?(k=h[0],j=h.slice(1),b[2]=h,b[3]=j,b[4]=k):(j=b[3],k=b[4]);if(f.state===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE||f.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE){b[5]!==g||b[6]!==f.state?(h={children:n,onClick:function(){p(n),g({onDismissUpsell:c("emptyFunction"),skipToEOTRForgotPINStep:f.state,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP})}},b[5]=g,b[6]=f.state,b[7]=h):h=b[7];return h}h=a>0;if(h){a=j;h=a[0];j=a[1];a=a[2];var l;b[8]!==e||b[9]!==i||b[10]!==k?(l=function(){p(o),i(!0),k({onDismiss:e})},b[8]=e,b[9]=i,b[10]=k,b[11]=l):l=b[11];var q;b[12]!==j||b[13]!==h||b[14]!==a||b[15]!==l?(q={children:o,onClick:l,onHoverEnd:j,onHoverStart:h,onPressStart:a},b[12]=j,b[13]=h,b[14]=a,b[15]=l,b[16]=q):q=b[16];return q}else return r}g.STATIC_HELP_CENTER_LINK_PROPS=r;g.useForgotPinLinkPushPageProps=a;g.useForgotPinLinkShowDialogProps=b}),226);
__d("MWChatEncryptedBackupsRestoreJewelForgotPinButtonSuspender.react",["MWEncryptedBackupsForgotPinStep","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","href","onClick","onHoverEnd","onHoverStart","onPressStart","rel","target"],i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(24),c=a.children;a=a.dismissSoftblock;var e;b[0]!==a?(e={onDismiss:a},b[0]=a,b[1]=e):e=b[1];a=d("MWEncryptedBackupsForgotPinStep").useForgotPinLinkShowDialogProps(e);var f,g,i,j,k,l,m,n;b[2]!==a?(e=a.children,g=a.href,i=a.onClick,j=a.onHoverEnd,k=a.onHoverStart,l=a.onPressStart,m=a.rel,n=a.target,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[2]=a,b[3]=f,b[4]=g,b[5]=e,b[6]=i,b[7]=j,b[8]=k,b[9]=l,b[10]=m,b[11]=n):(f=b[3],g=b[4],e=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11]);if(b[12]!==c||b[13]!==f||b[14]!==a||b[15]!==g||b[16]!==e||b[17]!==i||b[18]!==j||b[19]!==k||b[20]!==l||b[21]!==m||b[22]!==n){var o=babelHelpers["extends"]({},f,{label:e,linkProps:g!=null?{rel:m,target:n,url:g}:void 0,onHoverIn:k,onHoverOut:j,onPress:i,onPressIn:l});o=c({buttonProps:o,linkProps:a});b[12]=c;b[13]=f;b[14]=a;b[15]=g;b[16]=e;b[17]=i;b[18]=j;b[19]=k;b[20]=l;b[21]=m;b[22]=n;b[23]=o}else o=b[23];return o}g["default"]=a}),98);
__d("MWChatEncryptedBackupsSetIsDialogPersistedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({setIsDialogPersisted:function(){}});g["default"]=b}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"labyrinthOnePointOneSecurityUX"}],c={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{args:[{kind:"Variable",name:"labyrinthOnePointOneSecurityUX",variableName:"labyrinthOnePointOneSecurityUX"}],kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsDialogStep_query"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,e],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[f,e,{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{condition:"labyrinthOnePointOneSecurityUX",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_sender_backup",storageKey:null}]},d,{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWEBOTCDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBOTCDialog.react").__setRef("MWEBOTCDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBOTCInterstitialIllustration.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(7),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var i;b[0]!==g?(i=k?g?h("925480"):h("925482"):h("414641"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i):i=b[6];return i}g["default"]=a}),98);
__d("MWEBQPWithPinState.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INITIAL:0,RESTORE_IN_PROGRESS:1});c=a;f["default"]=c}),66);
__d("MWEBRestoreQPWithPin_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreQPWithPin_viewer",selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("23433");function a(){var a=i?h("414274"):h("1745665");return a}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAddDevice",["EBMainThreadEBDBApiDeferred","EBSMAPI","Promise","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=["onStart"],i,j;e=j||d("react");e.useCallback;var k=e.useRef,l=e.useState,m=c("requireDeferred")("MAWEncryptedBackupsClearRecoveryCode").__setRef("useMWChatEncryptedBackupsAddDevice"),n=c("requireDeferred")("mwEBAddDevice").__setRef("useMWChatEncryptedBackupsAddDevice");function a(a){var e=d("react-compiler-runtime").c(12),f=a.environment,g=a.hsmFleetMigrationResetPIN,j=a.onComplete,r=a.onFailure,s=a.onInvalidRecoveryCode,t=a.onStart;a=l(!1);var u=a[0],v=a[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){v(!1)},e[0]=a):a=e[0];var w=a,x=c("useAsyncReStore")(),y=k("");e[1]!==x||e[2]!==f||e[3]!==g||e[4]!==j||e[5]!==r||e[6]!==s||e[7]!==t?(a=function(a,d){y.current=d||"",c("promiseDone")((i||(i=b("Promise"))).all([x,m.load(),n.load().then(q)]),function(d){var e=d[0],b=d[1],i=d[2];d=b.encryptedBackupsClearRecoveryCode;return c("promiseDone")(d(e),function(){var b={onFailure:function(a){w(),r(a)},onInvalidRecoveryCode:function(){w(),s()},onStart:function(){v(!0),t==null||t()},onSuccess:function(){c("promiseDone")(c("EBSMAPI").fetchBackupIds("useMWChatEncryptedBackupsAddDevice")),w(),j(),g&&y.current!==""&&g(y.current)},recoveryCode:a,storage:e};b.onStart();b.onStart;b=babelHelpers.objectWithoutPropertiesLoose(b,h);return i(babelHelpers["extends"]({},b,{environment:f,trackAddingDevice:p,trackOverprompting:o}))})})},e[1]=x,e[2]=f,e[3]=g,e[4]=j,e[5]=r,e[6]=s,e[7]=t,e[8]=a):a=e[8];a=a;var z;e[9]!==u||e[10]!==a?(z=[a,u],e[9]=u,e[10]=a,e[11]=z):z=e[11];return z}function o(a){return d("EBMainThreadEBDBApiDeferred").trackOverprompting(a)}function p(){return d("EBMainThreadEBDBApiDeferred").addNewDevice()}function q(a){return a.EBAddDevice}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGatingUI","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),o=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),p=c("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),q=c("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),r=c("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function a(a){var b=d("react-compiler-runtime").c(47),e=a.clientID,f=a.focusRegionId,g=a.onSubmitPin,i=a.onSubmitPinFailure,t=a.onVestaComplete,u=d("CometRelay").useRelayEnvironment();a=m(!1);var v=a[0],w=a[1];a=m(!1);var x=a[0],y=a[1];a=m(!1);var z=a[0],A=a[1],B=l(!1);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow,D=(h||(h=c("useReStore")))(),E=c("useMWEBFlowSourceContext")();a=m(!1);var F=a[0],G=a[1],H=j(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;b[0]!==D||b[1]!==u||b[2]!==C?(a=function(a){c("promiseDone")(r.load().then(function(b){b({db:D,environment:u,pinCode:a,startFlow:C})}))},b[0]=D,b[1]=u,b[2]=C,b[3]=a):a=b[3];a=a;var I;b[4]!==D||b[5]!==u||b[6]!==t?(I=function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");o.onReady(function(a){a=a.upsertEBSharedStateEntry;c("vulture")("2QC91LZgYfx9jYQu5IFjdQPsFc0=");c("promiseDone")(a({db:D,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});n.onReady(s);d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});t();G(!1);c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})})},b[4]=D,b[5]=u,b[6]=t,b[7]=I):I=b[7];I=I;var J;b[8]!==u||b[9]!==i||b[10]!==H?(J=function(a){i==null||i(),B.current=!0,y(!0),G(!1),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("promiseDone")(q.load(),function(a){c("vulture")("1qS5kQHO8pI2UXjjvdu04Vm9ld8="),a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null||H(!1)},b[8]=u,b[9]=i,b[10]=H,b[11]=J):J=b[11];J=J;var K;b[12]!==u||b[13]!==i||b[14]!==H?(K=function(){i==null||i(),B.current=!0,y(!0),G(!1),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null||H(!1)},b[12]=u,b[13]=i,b[14]=H,b[15]=K):K=b[15];K=K;var L;b[16]!==u||b[17]!==a||b[18]!==I||b[19]!==J||b[20]!==K?(L={environment:u,hsmFleetMigrationResetPIN:a,onComplete:I,onFailure:J,onInvalidRecoveryCode:K},b[16]=u,b[17]=a,b[18]=I,b[19]=J,b[20]=K,b[21]=L):L=b[21];a=c("useMWChatEncryptedBackupsAddDevice")(L);var M=a[0];b[22]===Symbol.for("react.memo_cache_sentinel")?(I=function(){y(!1),A(!1),w(!1)},b[22]=I):I=b[22];b[23]!==M||b[24]!==e||b[25]!==u||b[26]!==E||b[27]!==g||b[28]!==i||b[29]!==H||b[30]!==C?(J=async function(a){var b=await p.load();await b({addDevice:M,clientID:e,environment:u,getSourceFromContext:E,onSubmitPin:g,onSubmitPinFailure:i,onVestaSecretFetch:function(){H==null||H(!0)},pinCode:a,productUseCase:"MSGR_ENC_BACKUP",setIsInProgress:G,setIsPinCodeIncorrect:w,setIsVestaError:A,startFlow:C})},b[23]=M,b[24]=e,b[25]=u,b[26]=E,b[27]=g,b[28]=i,b[29]=H,b[30]=C,b[31]=J):J=b[31];b[32]!==f||b[33]!==J?(K={enableMasking:!0,focusRegionId:f,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:I,onComplete:J,type:"pin"},b[32]=f,b[33]=J,b[34]=K):K=b[34];L=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(K);a=L[0];I=L[1];var N=I.clearNumericInput;f=I.disabled;J=I.focusOnInput;K=I.invalidKeyPressedError;b[35]!==N?(L=function(){B.current&&(N(),B.current=!1)},I=[N],b[35]=N,b[36]=L,b[37]=I):(L=b[36],I=b[37]);k(L,I);L=f!=null?f:!1;b[38]!==J||b[39]!==a||b[40]!==K||b[41]!==F||b[42]!==x||b[43]!==v||b[44]!==z||b[45]!==L?(I={focusOnInput:J,inputProps:a,invalidKeyPressedError:K,isDisabled:L,isInProgress:F,isLabyrinthError:x,isPinCodeIncorrect:v,isVestaError:z},b[38]=J,b[39]=a,b[40]=K,b[41]=F,b[42]=x,b[43]=v,b[44]=z,b[45]=L,b[46]=I):I=b[46];return I}function s(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}g.useMWChatEncryptedBackupsPinCodeRestore=a}),98);
__d("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9618790408209960"}),null);
__d("useMWEBSetHasSeenNoticeMutation.graphql",["useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SetHasSeenEbAutoRestoreNoticeResponsePayload",kind:"LinkedField",name:"set_has_seen_eb_auto_restore_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBSetHasSeenNoticeMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBSetHasSeenNoticeMutation",selections:a},params:{id:b("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"),metadata:{},name:"useMWEBSetHasSeenNoticeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBSetHasSeenNotice",["CometRelay","react","react-compiler-runtime","useMWEBSetHasSeenNoticeMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMWEBSetHasSeenNoticeMutation.graphql"),a[0]=c):c=a[0];c=d("CometRelay").useMutation(c);var e=c[0];a[1]!==e?(c=function(){e({variables:{}})},a[1]=e,a[2]=c):c=a[2];return c}g["default"]=a}),98);
__d("useMWEBAutoRestoreNoticeDialog",["JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","ReQL","ReQLSuspense","react","react-compiler-runtime","useLabyrinthLogging","useMWEBSetHasSeenNotice","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWEBAutoRestoreNoticeDialog.react").__setRef("useMWEBAutoRestoreNoticeDialog");function a(){var a=d("react-compiler-runtime").c(9),b=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),e=b.startFlow;b=c("useMWXLazyDialog")(j);var g=b[0],i=(h||(h=c("useReStore")))();a[0]!==i.tables.auto_restore_opt_out?(b=function(){return d("ReQL").fromTableAscending(i.tables.auto_restore_opt_out)},a[0]=i.tables.auto_restore_opt_out,a[1]=b):b=a[1];var l;a[2]!==i?(l=[i],a[2]=i,a[3]=l):l=a[3];var m=d("ReQLSuspense").useArray(b,l,f.id+":45"),n=c("useMWEBSetHasSeenNotice")();a[4]!==m||a[5]!==n||a[6]!==g||a[7]!==e?(b=function(a){var b=a.hasSeenNotice;a=a.source;var f=m.filter(k).length>0;e({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:a});if(f){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_OUT");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_IN");d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);if(b){d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}n();g({})},a[4]=m,a[5]=n,a[6]=g,a[7]=e,a[8]=b):b=a[8];return b}function k(a){return a.optOutKey===c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE}g["default"]=a}),98);
__d("MWEBRestoreQPWithPin.react",["fbt","CometPlaceholder.react","CometRelay","CometVisualCompletionAttributes","EncryptedBackupsSupportedPlatformUtils","FBLogger","FocusRegion.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsRestoreJewelForgotPinButtonSuspender.react","MWEBFlowSourceContextProvider.react","MWEBOTCDialog.entrypoint","MWEBQPWithPinState.enum","MWEBRestoreQPWithPin_viewer.graphql","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWLogInboxFiltersInteraction","MWLogInteraction","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconCross","MWXImage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","focusScopeQueries","getMWEBRestoreQPCautionCircleProperties","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","useMWChatEncryptedBackupsPinCodeRestore","useMWChatEncryptedBackupsVestaUserInfo","useMWEBAutoRestoreNoticeDialog","useMWEBFlowSourceContext","useMWXEntryPointDialog","useMWXLazyDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedDialog.react").__setRef("MWEBRestoreQPWithPin.react"),q="chat-encrypted-backups-jewel-qp-with-pin-input",r={icon:{paddingTop:"x889kno",$$css:!0}};function s(a){var e,f,g=d("react-compiler-runtime").c(81),j=a.clientID,s=a.doesUserHaveOtcEligibleDevices,x=a.fragmentKey,y=a.isInbox,z=a.setClosed,A=a.setDismissed,B=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEBRestoreQPWithPin_viewer.graphql"),x),C=d("CometRelay").useRelayEnvironment();g[0]!==C?(a=function(a){return d("CometRelay").commitLocalUpdate(C,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("wmi_eb").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB restore qp with pin state");return}b.setValue(a,"qp_with_pin_state")})},g[0]=C,g[1]=a):a=g[1];var D=a;g[2]!==B?(x={viewer$key:B},g[2]=B,g[3]=x):x=g[3];var E=c("useMWChatEncryptedBackupsVestaUserInfo")(x),F=E.attemptsRemaining===0||E.loginTimeoutRemainingSecs!=null;a=o(!1);var G=a[0],H=a[1],I=n(!1);x=c("useMWXLazyDialog")(p);var J=x[0];g[4]!==F||g[5]!==J||g[6]!==G||g[7]!==E.attemptsRemaining||g[8]!==E.loginTimeoutRemainingSecs||g[9]!==E.refetchVestaClientInfo?(a=function(){F&&G===!0&&I.current!==!0&&(I.current=!0,J({attemptsRemaining:E.attemptsRemaining,loginTimeoutRemainingSecs:E.loginTimeoutRemainingSecs,onDismiss:w,refetchVestaClientInfo:E.refetchVestaClientInfo}))},x=[F,J,G,E.attemptsRemaining,E.loginTimeoutRemainingSecs,E.refetchVestaClientInfo],g[4]=F,g[5]=J,g[6]=G,g[7]=E.attemptsRemaining,g[8]=E.loginTimeoutRemainingSecs,g[9]=E.refetchVestaClientInfo,g[10]=a,g[11]=x):(a=g[10],x=g[11]);m(a,x);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var K=a.startFlow,L=c("useAsyncReStore")();x=c("useMWEBFlowSourceContext")();g[12]!==x?(a=x(),g[12]=x,g[13]=a):a=g[13];x=a;var M=x;g[14]!==L||g[15]!==s||g[16]!==M||g[17]!==K?(a=function(a){c("promiseDone")(L.then(function(b){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;K({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:s.toString(),is_pin_set:"true",restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:M});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a)}})}))},g[14]=L,g[15]=s,g[16]=M,g[17]=K,g[18]=a):a=g[18];var N=a;g[19]!==y||g[20]!==z||g[21]!==A||g[22]!==N?(x=function(){var a=y?"RESTORE_QP_WITH_PIN_INBOX_DISMISSED":"RESTORE_QP_WITH_PIN_JEWEL_DISMISSED";N(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_qp_with_pin",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});z();A()},g[19]=y,g[20]=z,g[21]=A,g[22]=N,g[23]=x):x=g[23];a=x;x=l(c("MWJewelPopoverDialogContext.react"));var O=x.setIsOpenForDialog,P=c("useMWEBAutoRestoreNoticeDialog")();if(g[24]!==P||g[25]!==(B==null||(e=B.encrypted_backup)==null?void 0:e.has_seen_eb_auto_restore_notice)||g[26]!==M||g[27]!==z||g[28]!==O||g[29]!==D){var Q;x=function(){var a,b;z();P({hasSeenNotice:(a=B==null||(b=B.encrypted_backup)==null?void 0:b.has_seen_eb_auto_restore_notice)!=null?a:!1,source:M});O(!0);D(c("MWEBQPWithPinState.enum").INITIAL)};g[24]=P;g[25]=B==null||(Q=B.encrypted_backup)==null?void 0:Q.has_seen_eb_auto_restore_notice;g[26]=M;g[27]=z;g[28]=O;g[29]=D;g[30]=x}else x=g[30];B==null||(f=B.encrypted_backup)==null||f.has_seen_eb_auto_restore_notice;x=x;var R,S;g[31]!==D?(R=function(){H(!0),d("MWLogInteraction").logPopoverOpenCancel("initiate_restore"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("initiate_restore"),D(c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS)},S=function(){D(c("MWEBQPWithPinState.enum").INITIAL)},g[31]=D,g[32]=R,g[33]=S):(R=g[32],S=g[33]);var T;g[34]!==j||g[35]!==x||g[36]!==R||g[37]!==S?(T={clientID:j,focusRegionId:q,onSubmitPin:R,onSubmitPinFailure:S,onVestaComplete:x},g[34]=j,g[35]=x,g[36]=R,g[37]=S,g[38]=T):T=g[38];j=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore(T);x=j.inputProps;R=j.invalidKeyPressedError;S=j.isInProgress;T=j.isLabyrinthError;var U=j.isPinCodeIncorrect;j=j.isVestaError;S=(B==null?void 0:B.qp_with_pin_state)===c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS||S;var V;g[39]!==y||g[40]!==N?(V={onVisible:function(){d("FocusRegion.react").focusRegionById(q,d("focusScopeQueries").tabbableScopeQuery);var a=y?"RESTORE_QP_WITH_PIN_INBOX_IMPRESSION":"RESTORE_QP_WITH_PIN_JEWEL_IMPRESSION";N(a)}},g[39]=y,g[40]=N,g[41]=V):V=g[41];V=c("useVisibilityObserver")(V);var W;g[42]===Symbol["for"]("react.memo_cache_sentinel")?(W={},g[42]=W):W=g[42];W=c("useMWXEntryPointDialog")(c("MWEBOTCDialog.entrypoint"),W);var X=W[0];g[43]!==y||g[44]!==X?(W=function(){X({source:y?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP},v)},g[43]=y,g[44]=X,g[45]=W):W=g[45];var Y=W;g[46]!==R||g[47]!==T||g[48]!==U||g[49]!==j?(W=R!=null?R:U?h._(/*BTDS*/"Incorrect PIN. Try again."):T||j?h._(/*BTDS*/"There was an error while using the PIN Code, please try again"):void 0,g[46]=R,g[47]=T,g[48]=U,g[49]=j,g[50]=W):W=g[50];R=W;if(F===!0){z();return null}T=c("gkx")("23219");g[51]===Symbol["for"]("react.memo_cache_sentinel")?(U={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk xe4pinz x14vqqas x1ys307a xod5an3 xyqm7xq xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},1:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk xe4pinz x14vqqas x1ys307a xod5an3 xyqm7xq xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1jx94hy"}}[!!T<<0],g[51]=U):U=g[51];g[52]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("MWXRowItem.react"),{xstyle:r.icon,children:k.jsx(c("MWXImage.react"),{src:c("getMWEBRestoreQPCautionCircleProperties")()})}),g[52]=j):j=g[52];g[53]===Symbol["for"]("react.memo_cache_sentinel")?(W=k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",isSemanticHeading:!0,numberOfLines:2,type:"headlineEmphasized4",children:h._(/*BTDS*/"Chat history is missing")})}),g[53]=W):W=g[53];g[54]===Symbol["for"]("react.memo_cache_sentinel")?(W=k.jsx(c("MWXRowItem.react"),{expanding:!0,children:k.jsxs(c("MWXColumn.react"),{paddingTop:8,spacing:12,children:[W,k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",color:T?"secondary":"primary",numberOfLines:2,type:"body4",children:h._(/*BTDS*/"Enter your PIN to restore chat history.")})})]})}),g[54]=W):W=g[54];var Z;g[55]===Symbol["for"]("react.memo_cache_sentinel")?(Z=h._(/*BTDS*/"Close"),g[55]=Z):Z=g[55];g[56]!==a?(j=k.jsx(c("MWXColumnItem.react"),{children:k.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:12,children:[j,W,k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconCross"),label:Z,onPress:a,size:T?24:32,testid:void 0})})]})}),g[56]=a,g[57]=j):j=g[57];g[58]!==x||g[59]!==S?(W=k.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},x,{color:T?"primary":"secondary",disabled:S,inputSize:"small",testid:void 0})),g[58]=x,g[59]=S,g[60]=W):W=g[60];g[61]!==R||g[62]!==W?(Z=k.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:R,inputSize:"small",children:W})}),g[61]=R,g[62]=W,g[63]=Z):Z=g[63];g[64]!==S?(a=S&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",{className:"xfitlp5 x9otpla",children:k.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:T})})}),g[64]=S,g[65]=a):a=g[65];g[66]!==s||g[67]!==R||g[68]!==S||g[69]!==Y||g[70]!==O?(x=!S&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",babelHelpers["extends"]({},{0:{},2:{className:"xod5an3"},1:{className:"x12nagc x1iorvi4"},3:{className:"x12nagc x1iorvi4"}}[!!(R==null)<<1|!!(R!=null)<<0],{children:k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s===!0?k.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),O(!0),Y()},children:h._(/*BTDS*/"Use a one-time code instead")}):k.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE,{children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("MWXLink.react"),babelHelpers["extends"]({testid:void 0},d("MWEncryptedBackupsForgotPinStep").STATIC_HELP_CENTER_LINK_PROPS,{onClick:u})),name:"mw-chat-encrypted-backups-jewel-forgot-pin-fallback-link",children:k.jsx(c("MWChatEncryptedBackupsRestoreJewelForgotPinButtonSuspender.react"),{children:t})})}))})}))}),g[66]=s,g[67]=R,g[68]=S,g[69]=Y,g[70]=O,g[71]=x):x=g[71];g[72]!==V||g[73]!==j||g[74]!==Z||g[75]!==a||g[76]!==x?(W=k.jsxs(c("MWXColumn.react"),{ref:V,testid:void 0,children:[j,Z,a,x]}),g[72]=V,g[73]=j,g[74]=Z,g[75]=a,g[76]=x,g[77]=W):W=g[77];g[78]!==U||g[79]!==W?(T=k.jsx("div",babelHelpers["extends"]({},U,{children:W})),g[78]=U,g[79]=W,g[80]=T):T=g[80];return T}function t(a){var b=a.linkProps;return k.jsx(c("MWXLink.react"),babelHelpers["extends"]({testid:void 0},b,{onClick:function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_FORGOT_PIN_CLICK"),b.onClick==null||b.onClick(a)}}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){c("FBLogger")("wmi_eb").tags(["jewel_restore_qp"]).warn("User clicked on the placeholder Forgot PIN button"),d("MWEncryptedBackupsForgotPinStep").STATIC_HELP_CENTER_LINK_PROPS.onClick==null||d("MWEncryptedBackupsForgotPinStep").STATIC_HELP_CENTER_LINK_PROPS.onClick(a)}function v(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")}function w(){}function a(a){var b=d("react-compiler-runtime").c(10),e=a.clientID,f=a.currentSupportedPlatform,g=a.doesUserHaveOtcEligibleDevices,h=a.fragmentKey,i=a.setClosed;a=a.setDismissed;f=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;var j=f?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP_WITH_PIN:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP_WITH_PIN,l;b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==f||b[4]!==i||b[5]!==a?(l=k.jsx(s,{clientID:e,doesUserHaveOtcEligibleDevices:g,fragmentKey:h,isInbox:f,setClosed:i,setDismissed:a}),b[0]=e,b[1]=g,b[2]=h,b[3]=f,b[4]=i,b[5]=a,b[6]=l):l=b[6];b[7]!==j||b[8]!==l?(e=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:j,children:l}),b[7]=j,b[8]=l,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListPersistentBanner.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsThreadListPersistentBanner.react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.onDismissUpsell;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var f=a[0];a=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();var g=a!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;a=l(c("MWJewelPopoverDialogContext.react"));var j=a.setIsOpenForDialog,o=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var p=a.startFlow,q=m(!1),r=g?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_PERSISTENT_BANNER:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER;b[1]!==o||b[2]!==r||b[3]!==p?(a=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:o,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;p({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:r});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);q.current===!1&&(q.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},b[1]=o,b[2]=r,b[3]=p,b[4]=a):a=b[4];var s=a;b[5]!==g||b[6]!==s?(a={onVisible:function(){s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION")}},b[5]=g,b[6]=s,b[7]=a):a=b[7];a=c("useVisibilityObserver")(a);var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x1xmf6yo x1e56ztr xyqm7xq x1ys307a x6ikm8r x10wlt62 xyamay9 x1l90r2v xf7dkkf xv54qhq"},b[8]=t):t=b[8];var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Missing chat history."),b[9]=u):u=b[9];var v;b[10]!==g||b[11]!==e||b[12]!==j||b[13]!==f||b[14]!==r||b[15]!==s?(v=function(){j(!0),s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED"),f({onDismissUpsell:e,source:r})},b[10]=g,b[11]=e,b[12]=j,b[13]=f,b[14]=r,b[15]=s,b[16]=v):v=b[16];var w;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Restore now"),b[17]=w):w=b[17];b[18]!==v?(u=k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsxs(k.Fragment,{children:[u," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:v,target:"_blank",testid:void 0,children:w})})]})}),b[18]=v,b[19]=u):u=b[19];b[20]!==a||b[21]!==u?(w=k.jsx("div",babelHelpers["extends"]({},t,{ref:a,children:u})),b[20]=a,b[21]=u,b[22]=w):w=b[22];return w}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer"}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer",selections:[{args:null,kind:"FragmentSpread",name:"MWEBRestoreQPWithPin_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsVerifyDeviceNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXQPCard.react","QPLUserFlow","getMWEBRestoreQPCautionCircleProperties","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsVerifyDeviceNux.react");function a(a){var b=d("react-compiler-runtime").c(46),e=a.children,f=a.currentSupportedPlatform,g=a.setClosed,j=a.setDismissed;a=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState();var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o={},b[0]=o):o=b[0];o=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),o);var p=o[0],q=(i||(i=c("useReStore")))(),r=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,s=r?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP;o=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var t=o.startFlow,u=m(!1);f=l(c("MWJewelPopoverDialogContext.react"));var v=f.setIsOpenForDialog;o=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();f=o.virtualDeviceInfo;var w=f.vestaClientID!=null;o=f.offlineDevicesCount>0;var x=f.doesUserHaveOtcEligibleDevices;f=!w&&x;var y;b[1]!==q||b[2]!==x||b[3]!==w||b[4]!==s||b[5]!==t?(y=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:q,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;t({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:x.toString(),is_pin_set:w.toString(),restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:s});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);u.current===!1&&(u.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},b[1]=q,b[2]=x,b[3]=w,b[4]=s,b[5]=t,b[6]=y):y=b[6];var z=y;b[7]!==r||b[8]!==z?(y={onVisible:function(){var a=r?"VERIFY_DEVICE_INBOX_QP_THREAD_LIST_IMPRESSION":"VERIFY_DEVICE_QP_THREAD_LIST_IMPRESSION";z(a)}},b[7]=r,b[8]=z,b[9]=y):y=b[9];y=c("useVisibilityObserver")(y);var A;b[10]!==r||b[11]!==g||b[12]!==v||b[13]!==z?(A=function(){var a=r?"USER_CLICKED_INBOX_THREAD_LIST_VERIFY_DEVICE":"USER_CLICKED_FB_THREAD_LIST_VERIFY_DEVICE";z(a);v(!0);g()},b[10]=r,b[11]=g,b[12]=v,b[13]=z,b[14]=A):A=b[14];var B=A,C;b[15]!==r||b[16]!==g||b[17]!==j||b[18]!==z?(A=function(){var a=r?"USER_CLOSED_INBOX_THREAD_LIST_VERIFY_DEVICE_NUX":"USER_CLOSED_FB_THREAD_LIST_VERIFY_DEVICE_NUX";z(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_nux",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});C()},C=function(){j(),g()},b[15]=r,b[16]=g,b[17]=j,b[18]=z,b[19]=A,b[20]=C):(A=b[19],C=b[20]);if(!w&&!o&&!x)return e;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Chat history is missing"),b[21]=o):o=b[21];e=o;b[22]!==x||b[23]!==a||b[24]!==w||b[25]!==f?(o=a&&x?h._(/*BTDS*/"Restore now"):w?h._(/*BTDS*/"Enter PIN"):f?h._(/*BTDS*/"Restore now"):h._(/*BTDS*/"Enter 40-character code"),b[22]=x,b[23]=a,b[24]=w,b[25]=f,b[26]=o):o=b[26];var D;b[27]!==C||b[28]!==B||b[29]!==s||b[30]!==p?(D=function(){B(),p({onDismissUpsell:C,source:s})},b[27]=C,b[28]=B,b[29]=s,b[30]=p,b[31]=D):D=b[31];var E;b[32]!==o||b[33]!==D?(E={label:o,onPress:D,testid:"mw-encrypted-backups-in-thread-verify-device-nux-verify-now-button"},b[32]=o,b[33]=D,b[34]=E):E=b[34];b[35]!==x||b[36]!==a||b[37]!==w||b[38]!==f?(o=a&&x?h._(/*BTDS*/"Send a one-time code to restore your chat history"):w?h._(/*BTDS*/"Enter your PIN to see messages that aren't loaded on this device."):f?h._(/*BTDS*/"Send a one-time code to restore your chat history"):h._(/*BTDS*/"Enter your 40-character code to see messages that aren't loaded on this device."),b[35]=x,b[36]=a,b[37]=w,b[38]=f,b[39]=o):o=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(D={props:{src:c("getMWEBRestoreQPCautionCircleProperties")()},type:"image"},b[40]=D):D=b[40];b[41]!==A||b[42]!==y||b[43]!==E||b[44]!==o?(a=k.jsx(c("MWXQPCard.react"),{addOnPrimary:E,body:o,headline:e,icon:D,onClose:A,ref:y}),b[41]=A,b[42]=y,b[43]=E,b[44]=o,b[45]=a):a=b[45];return a}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper.react",["CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBEntrypointsKillswitch.enum","MWEBRestoreQPWithPin.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql","MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql","MWEncryptedBackupsVerifyDeviceNux.react","react","react-compiler-runtime","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBBackupState","useReStore","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a){var e=d("react-compiler-runtime").c(32),f=a.backupState,g=a.children,i=a.currentSupportedPlatform,k=a.fragmentKey,m=a.setHasDismissedQp,n=a.setHasDismissedQpWithPin;c("vulture")("UheynvngJzXAUjTZdm5Y-pJMGBQ=");a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql"),k);var o=(j||(j=c("useReStore")))();k=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();k=k.virtualDeviceInfo;var p=i===d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,q=k.doesUserHaveOtcEligibleDevices,r=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),s;e[0]!==f||e[1]!==r?(s={backupState:f,isCooldownOrLockOutState:r},e[0]=f,e[1]=r,e[2]=s):s=e[2];f=c("useHasRestoreInterstitialSoftblockBeenDismissed")(s);if(!q&&r&&f)return null;else if(r&&f){e[3]!==m?(s=function(){m(!0)},e[3]=m,e[4]=s):s=e[4];e[5]!==o?(q=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[5]=o,e[6]=q):q=e[6];e[7]!==g||e[8]!==i||e[9]!==s||e[10]!==q?(r=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:s,setDismissed:q}),e[7]=g,e[8]=i,e[9]=s,e[10]=q,e[11]=r):r=e[11];return r}else if(p&&k.vestaClientID!=null&&c("MWEBRestoreQPWithPin.react")){e[12]!==n?(f=function(){n(!0)},e[12]=n,e[13]=f):f=e[13];e[14]!==o?(s=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL})},e[14]=o,e[15]=s):s=e[15];e[16]!==i||e[17]!==a||e[18]!==f||e[19]!==s||e[20]!==k.doesUserHaveOtcEligibleDevices||e[21]!==k.vestaClientID?(q=l.jsx(c("MWEBRestoreQPWithPin.react"),{clientID:k.vestaClientID,currentSupportedPlatform:i,doesUserHaveOtcEligibleDevices:k.doesUserHaveOtcEligibleDevices,fragmentKey:a,setClosed:f,setDismissed:s}),e[16]=i,e[17]=a,e[18]=f,e[19]=s,e[20]=k.doesUserHaveOtcEligibleDevices,e[21]=k.vestaClientID,e[22]=q):q=e[22];return q}else{e[23]!==m?(r=function(){m(!0)},e[23]=m,e[24]=r):r=e[24];e[25]!==o?(p=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[25]=o,e[26]=p):p=e[26];e[27]!==g||e[28]!==i||e[29]!==r||e[30]!==p?(a=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:r,setDismissed:p}),e[27]=g,e[28]=i,e[29]=r,e[30]=p,e[31]=a):a=e[31];return a}}function a(a){var e=d("react-compiler-runtime").c(12),f=a.children,g=a.currentSupportedPlatform,h=a.fragmentKey,k=a.hasDismissedQps,n=a.setHasDismissedBanner,o=a.setHasDismissedQp,p=a.setHasDismissedQpWithPin;a=a.trigger;c("vulture")("eFXCsmMO9TsjXtV_2a_GpfdaMNs=");h=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql"),h);var q=(j||(j=c("useReStore")))(),r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r={entrypoint:c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST},e[0]=r):r=e[0];r=c("useMWEBBackupState")(r);var s;e[1]!==r||e[2]!==f||e[3]!==g||e[4]!==(h==null?void 0:h.viewer)||e[5]!==q||e[6]!==k||e[7]!==n||e[8]!==o||e[9]!==p||e[10]!==a?(s=k?l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){n(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:q,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}})}):l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(m,{backupState:r,children:f,currentSupportedPlatform:g,fragmentKey:h==null?void 0:h.viewer,setHasDismissedQp:o,setHasDismissedQpWithPin:p})}),e[1]=r,e[2]=f,e[3]=g,e[4]=h==null?void 0:h.viewer,e[5]=q,e[6]=k,e[7]=n,e[8]=o,e[9]=p,e[10]=a,e[11]=s):s=e[11];return s}g["default"]=a}),98);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9747954008656745"}),null);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql",["VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_login_request",variableName:"input"}],concreteType:"VestaBeginLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderBeginLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9611648865601020"}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql",["VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"finish_login_request",variableName:"input"}],concreteType:"VestaFinishLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_login_payload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderFinishLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9285801411531503"}),null);
__d("VestaServerGraphQLLoginProviderInitQuery.graphql",["VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_login_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLLoginProviderBeginLoginMutation.graphql","VestaServerGraphQLLoginProviderFinishLoginMutation.graphql","VestaServerGraphQLLoginProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLLoginProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_login_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql"),g={input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL1)}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_login;var e=c==null?void 0:c.base64url_encoded_opaque_l2;c=c==null?void 0:c.base64url_encoded_opaque_l2_sig;if(e!=null&&c!=null){a({opaqueL2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueL2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql"),variables:{input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l3:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL3)}},onCompleted:function(a){a=a.fbid_based_auth_layer_vesta_finish_login;var b=a==null?void 0:a.base64url_encoded_login_payload,e=a==null?void 0:a.login_success;a=a==null?void 0:a.attempts_remaining;if(e!=null){c({loginSuccess:e,loginPayload:b==null?b:d("E2EEBackupUtil").decodeBase64Url(b),attemptsRemaining:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initLogin=a;g.beginLogin=c;g.finishLogin=e}),98);
__d("mwEBAddDevice",["EBSMAPI","MAWCurrentUser","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsInitializeRestoreDeferred","QPLUserFlow","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.onFailure,f=a.onInvalidRecoveryCode,g=a.onSuccess,h=a.recoveryCode,i=a.storage;return c("EBSMAPI").addDeviceWithRecoveryCode({environment:b,recoveryCode:h,userId:d("MAWCurrentUser").getID()}).then(function(a){a.success?(g(),!c("isInstamadilloEB")()?d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:i,onFailure:function(){},onSuccess:function(){}}):c("QPLUserFlow").endSuccess(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent)):a.error==="INVALID_RECOVERY_CODE"?f():e(a.error)})}g.EBAddDevice=a}),98);
__d("vestaBackupSecretRestore",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("vestaBackupSecretRestore"),i=c("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("vestaBackupSecretRestore");async function a(a){var b=a.input;a=a.environment;var c=await Promise.all([i.load(),h.load()]),d=c[0],e=d.beginLogin,f=d.finishLogin;d=d.initLogin;c=c[1].restoreBackupSecret;return c({beginLogin:e,finishLogin:f,initLogin:d},b,{environment:a})}g.default=a}),98);
__d("mwEBGetPINSecretFromVesta",["CometRelay","E2EEBackupCommon","FBLogger","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","QPLUserFlow","promiseDone","vestaBackupSecretRestore"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.addDevice,e=a.clientID,f=a.environment,g=a.getSourceFromContext,h=a.onSubmitPin,i=a.onSubmitPinFailure,j=a.onVestaSecretFetch,k=a.pinCode,l=a.productUseCase,m=a.setIsInProgress,n=a.setIsPinCodeIncorrect,o=a.setIsVestaError;a=a.startFlow;m(!0);h==null||h();h=g();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code",source:h}});g=new TextDecoder();var p;a({additionalAnnotations:{device_type:"HSM"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH,source:h});try{c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_begin"),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SUBMIT"),p=g.decode(await c("vestaBackupSecretRestore")({environment:f,input:{clientId:e,productUseCase:l,vestaAccountPin:k}})),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_success")}catch(b){i==null||i();c("promiseDone")(d("CometRelay").fetchQuery(f,c("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise());if(b.errorType===d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD)m(!1),n(!0),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"incorrect_pin_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_PIN_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"incorrect_pin_code");else{d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorMessage:b.message,errorType:b.errorType}},errorName:"vesta_login_failure",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error");m(!1);o(!0);a="Error when restoring using PIN: "+b;c("FBLogger")("wmi_eb").mustfix(a)}throw b}p!=null&&(j==null||j(),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_begin"),b(p,k))}g.default=a}),98);
__d("updateUpsellsStateInRelayStore",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.updateValue;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("wmi_eb").mustfix("[labyrinth][upsells] A viewer record does not exist when updating upsell state.");return}a.setValue(e,"is_eb_restore_upsells_dismissed")})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter$p_2=d;e.$CrossWindowEventEmitter$p_1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[e,d].concat(c.__v))}});return e}babelHelpers.inheritsLoose(d,a);var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter$p_1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt==null||a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure==null||a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected==null||a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess==null||a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost==null||a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect==null||a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe==null||b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe==null||b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish==null||b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage==null||b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal==null||a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var e=a.messages;b.$10=a.remaining;for(a=0;a<e.length;a++)b.handleMessage(e[a])}catch(e){a=c("getErrorSafe")(e);b.$10=null;b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage);b.$9.bumpCounter("protocol.error.onmessage.parse");b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null||g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null||b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null||e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(d of d)try{d(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}d=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(c of d)try{c(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b of this.$3)b.onJSError&&b.onJSError(a)};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b of this.$3)b.onMQTTStateChanged(a)};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&!c("MetaConfig")._("262")&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){function a(a){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$7(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=a}a.getInstance=function(b){n||(n=new a(b));return n};var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;var s=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+s);s=r/(r+j);r=n&&this.getBrowserConnectivity();var t={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:s.toString(),device_id:this.$4,hostname:k,connectionStatus:f.toString(),exposure:(j=this.$6)!=null?j:""},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return t})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$9(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$9(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4,exposure:(b=this.$6)!=null?b:""},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(d=this.$5)==null?void 0:d.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$8(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return!1;case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),a!=null?a:null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);/*FB_PKG_DELIM*/
__d("CometTahoeCustomVideoAreaContext",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=i.createContext({customVideoAreaHidden:!0,setCustomVideoAreaHidden:c("emptyFunction")});function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(!0),e=c[0];c=c[1];b[0]!==e?(c={customVideoAreaHidden:e,setCustomVideoAreaHidden:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.CometTahoeCustomVideoAreaContext=k;g.CometTahoeCustomVideoAreaContextProvider=a}),98);
__d("CometTahoeSidePaneContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={rightRailExpanded:!1,rightRailHidden:!1,setRightRailExpanded:function(){},setRightRailHidden:function(){}};c=a.createContext(b);g["default"]=c}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","react-compiler-runtime","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState,n=44,o={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.height,g=a.initialBottomRowAddOn,i=a.isBackgroundVisible,p=a.isVisible,q=a.xstyle;a=g===void 0?null:g;g=m(0);var r=g[0],s=g[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){s(a.height)},b[0]=g):g=b[0];var t=c("useResizeObserver")(g),u=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(a);g=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var v=g.release,w=g.reserve,x=f!=null?f:n;b[1]!==x||b[2]!==i||b[3]!==p||b[4]!==v||b[5]!==w?(a=function(){if(Boolean(p)||Boolean(i)){var a=w({location:"bottom",size:x});return function(){v(a)}}},g=[p,i,w,v,x],b[1]=x,b[2]=i,b[3]=p,b[4]=v,b[5]=w,b[6]=a,b[7]=g):(a=b[6],g=b[7]);l(a,g);var y=i===!1||p===!1,z=i===!0||p===!0;b[8]!==u||b[9]!==r||b[10]!==t||b[11]!==e||b[12]!==x||b[13]!==y||b[14]!==z||b[15]!==p||b[16]!==q?(f=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:b,children:k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h"},4:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},2:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h xg01cxk x47corl xlshs6z"},6:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np xg01cxk x47corl xlshs6z"},1:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x1hc1fzr"},5:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x1hc1fzr"},3:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x47corl xlshs6z x1hc1fzr"},7:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x47corl xlshs6z x1hc1fzr"}}[!!(u==null)<<2|!!(p===!1)<<1|!!(p===!0)<<0],{"data-testid":void 0,children:[k.jsx("div",{className:(h||(h=c("stylex")))(o.backgroundGradient,y&&o.hidden,z&&o.visible,q),style:{height:x+r}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:y,children:u==null?e:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:e}),k.jsx(c("CometErrorBoundary.react"),{children:k.jsx("div",{ref:t,children:u})})]})})]}))})}}),b[8]=u,b[9]=r,b[10]=t,b[11]=e,b[12]=x,b[13]=y,b[14]=z,b[15]=p,b[16]=q,b[17]=f):f=b[17];return f}g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.isVisible,g=a.noPaddingEnd;a=a.noPaddingStart;f=f===void 0?!0:f;g=g===void 0?!1:g;a=a===void 0?!1:a;var h=j(c("VideoControlsContainerFocusedContext"));f=f||h;h=j(c("VideoPlayerControlsHiddenContext"));var k;b[0]!==f||b[1]!==g||b[2]!==a?(k={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1fmh03i x47corl"},4:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1fmh03i x47corl"},2:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1fmh03i x47corl"},6:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1hc1fzr"},5:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1hc1fzr"},3:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1hc1fzr"},7:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1hc1fzr"}}[!!g<<2|!!a<<1|!!f<<0],b[0]=f,b[1]=g,b[2]=a,b[3]=k):k=b[3];g=h||!f;b[4]!==e||b[5]!==g?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:g,children:e}),b[4]=e,b[5]=g,b[6]=a):a=b[6];b[7]!==k||b[8]!==a?(h=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),b[7]=k,b[8]=a,b[9]=h):h=b[9];return h}function b(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.isVisible;a=a===void 0?!0:a;var f=j(c("VideoControlsContainerFocusedContext"));a=a||f;f=j(c("VideoPlayerControlsHiddenContext"));var g;b[0]!==a?(g={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1hc1fzr"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];f=f||!a;b[2]!==e||b[3]!==f?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});g["default"]=b}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","FBLogger","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.onPress,f=a.playbackIcon,g=a.showTooltip;a=a.useOutlineIcons;g=g===void 0?!0:g;var j,l;bb0:switch(f){case"pause":var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Pause"),b[0]=m):m=b[0];j=m;b[1]!==a?(m=a===!0?d("fbicon")._(i("497677"),20):d("fbicon")._(i("497675"),20),b[1]=a,b[2]=m):m=b[2];l=m;break bb0;case"replay":b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Replay"),b[3]=m):m=b[3];j=m;b[4]!==a?(m=a===!0?d("fbicon")._(i("534222"),20):d("fbicon")._(i("534219"),20),b[4]=a,b[5]=m):m=b[5];l=m;break bb0;case"play":b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Play"),b[6]=m):m=b[6];j=m;b[7]!==a?(m=a===!0?d("fbicon")._(i("484866"),20):d("fbicon")._(i("484863"),20),b[7]=a,b[8]=m):m=b[8];l=m;break bb0;default:throw c("FBLogger")("comet_video_player").mustfixThrow("The playback icon is unsupported %s",f)}a=g?j:null;b[9]!==l||b[10]!==j||b[11]!==e||b[12]!==a?(m=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:j,onPress:e,tooltip:a}),b[9]=l,b[10]=j,b[11]=e,b[12]=a,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","react-compiler-runtime","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(14),e=a.isNPC,f=a.showTooltip,g=a.unmuteOnPlay;a=a.useOutlineIcons;var h=e===void 0?!1:e;e=f===void 0?!0:f;var m=g===void 0?!1:g;b[0]!==h?(f=function(){h&&c("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},g=[h],b[0]=h,b[1]=f,b[2]=g):(f=b[1],g=b[2]);k(f,g);f=c("useVideoPlayerControllerSubscription")(l);var n=f.showPauseButton;g=f.showReplayButton;var o=(i||(i=d("VideoPlayerHooks"))).useController(),p=c("useMinifiedProductAttribution")();b[3]!==o||b[4]!==h||b[5]!==p||b[6]!==n||b[7]!==m?(f=function(){h&&c("VideoHomeTypedLiteLogger").log({attribution_id_v2:p,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),n?o.pause("user_initiated"):(m&&o.setMuted(!1,"user_initiated"),o.play("user_initiated"))},b[3]=o,b[4]=h,b[5]=p,b[6]=n,b[7]=m,b[8]=f):f=b[8];f=c("useFeedClickEventHandler")(f);g=n?"pause":g?"replay":"play";var q;b[9]!==f||b[10]!==g||b[11]!==e||b[12]!==a?(q=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:592,children:j.jsx(c("VideoPlayerPlaybackControlBase.react"),{onPress:f,playbackIcon:g,showTooltip:e,useOutlineIcons:a})}),b[9]=f,b[10]=g,b[11]=e,b[12]=a,b[13]=q):q=b[13];return q}function l(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}}g["default"]=a}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="";a=a;isNaN(a)?a=0:a<0&&(a*=-1,b="-");var c=Math.floor(a/d("DateConsts").SEC_PER_HOUR),e=Math.floor((a-c*d("DateConsts").SEC_PER_HOUR)/d("DateConsts").SEC_PER_MIN);a=Math.round(a-c*d("DateConsts").SEC_PER_HOUR-e*d("DateConsts").SEC_PER_MIN);a===d("DateConsts").SEC_PER_MIN&&(a=0,e++);e===d("DateConsts").MIN_PER_HOUR&&(e=0,c++);a=("0"+a).slice(-2);if(c===0)return""+b+e+":"+a;else{e=("0"+e).slice(-2);return""+b+c+":"+e+":"+a}}g["default"]=a}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.currentTime;a=a.duration;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb"},g={className:"x1s688f x15hfatp"},b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h;b[2]!==e?(h=c("getFormattedTimestamp")(e),b[2]=e,b[3]=h):h=b[3];b[4]!==h?(e=i.jsx("span",babelHelpers["extends"]({},g,{children:h})),b[4]=h,b[5]=e):e=b[5];b[6]!==a?(g=a!=null&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:" / "}),i.jsx("span",{children:c("getFormattedTimestamp")(a)})]}),b[6]=a,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(h=i.jsxs("div",babelHelpers["extends"]({},f,{children:[e,g]})),b[8]=e,b[9]=g,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");j.useCallback;var k=j.useContext,l=10,m=10;function a(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;var c=Math.min(b.getPlayheadPosition()+l,a);c===a?(b.setIsLiveRewindActive(!1),b.seek(a)):b.seek(c);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function b(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;a=Math.max(b.getPlayheadPosition()-m,a);b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function e(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;b.seek(a);b.play("user_initiated");b.setIsLiveRewindActive(!1);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function f(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function n(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.play("user_initiated"),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function o(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.pause("user_initiated"),b.setIsLiveRewindActive(!0),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function p(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);b.play("user_initiated");e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function q(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(a){var c,d=b.getCurrentState().seekableRanges;c=(c=d==null?void 0:d.start(0))!=null?c:0;d=d!=null?(d=d.end(d.length()-1))!=null?d:0:0;c=Math.min(c+a,d);b.scrubEnd(c);c===d?b.setIsLiveRewindActive(!1):b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function r(){return c("useVideoPlayerControllerSubscription")(s)}function s(a){return(a=(a=a.getCurrentState().seekableRanges)==null?void 0:a.start(0))!=null?a:0}g.useLiveRewindForward=a;g.useLiveRewindBack=b;g.useLiveRewindLive=e;g.useLiveRewindStart=f;g.useLiveRewindPlay=n;g.useLiveRewindPause=o;g.useLiveRewindReplay=p;g.useLiveRewindScrub=q;g.useLiveRewindSeekableStartTime=r}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");b=a;var k=function(a,b){return a-b.duration};function l(){var a=d("react-compiler-runtime").c(2),b=d("useLiveRewindUtils").useLiveRewindSeekableStartTime(),e=(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200),f=i.useCurrentTimeThrottled(1e3,k),g=i.useIsLiveRewindActive();g=g?f:e-b;a[0]!==g?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:g,duration:null}),a[0]=g,a[1]=f):f=a[1];return f}function m(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useDuration(),e=i.useCurrentTimeThrottled(200),f;a[0]!==e||a[1]!==b?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:e,duration:b}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function a(){var a=d("react-compiler-runtime").c(2),b=(i||(i=d("VideoPlayerHooks"))).useIsLive();if(b){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(l,{}),a[0]=b):b=a[0];return b}else{a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(m,{}),a[1]=b):b=a[1];return b}}e=b;g["default"]=e}),98);
__d("VideoPlayerPointerDrag",["react","react-compiler-runtime","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=d("react-compiler-runtime").c(5),b=j(null),e=j(null),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a,c){b.current=c.getBoundingClientRect(),e.current=c},a[0]=f):f=a[0];f=c("useResizeObserver")(f);var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return function(){var a=e.current;a?b.current=a.getBoundingClientRect():b.current=null}},a[1]=g):g=a[1];g=c("useStable")(g);var h;a[2]!==g||a[3]!==f?(h={invalidateRootRect:g,rootRectRef:b,rootSizeRefCallback:f},a[2]=g,a[3]=f,a[4]=h):h=a[4];return h}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null||a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null||a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null||a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null||a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null||a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null||a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null||a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b.current||c[1]!==a?(e=function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},c[0]=b.current,c[1]=a,c[2]=e):e=c[2];var f;c[3]!==b||c[4]!==a?(f=[a,b],c[3]=b,c[4]=a,c[5]=f):f=c[5];i(e,f)}function r(a,b,e){var f=d("react-compiler-runtime").c(13),g=k(n),h=g[0],j=g[1];f[0]!==a||f[1]!==b?(g=function(){return p(j,a,b)},f[0]=a,f[1]=b,f[2]=g):g=f[2];g=c("useStable")(g);var l=g.destroy,m=g.onMouseDown;g=g.onTouchStart;var o,q;f[3]!==l?(o=function(){return l},q=[l],f[3]=l,f[4]=o,f[5]=q):(o=f[4],q=f[5]);i(o,q);f[6]!==m||f[7]!==g||f[8]!==(e==null?void 0:e.hasTouchEvents)?(o={onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:m,onTouchStart:(e==null?void 0:e.hasTouchEvents)===!0?g:void 0},f[6]=m,f[7]=g,f[8]=e==null?void 0:e.hasTouchEvents,f[9]=o):o=f[9];f[10]!==h||f[11]!==o?(q={dragState:h,rootProps:o},f[10]=h,f[11]=o,f[12]=q):q=f[12];return q}function e(a,b){var c=d("react-compiler-runtime").c(7),e=j(a),f=j(null),g,h;c[0]!==a?(g=function(){e.current=a},h=[a],c[0]=a,c[1]=g,c[2]=h):(g=c[1],h=c[2]);i(g,h);g=r(e,f,b);h=g.dragState;f=g.rootProps;q(h,e);b=h.dragState==="dragging";c[3]!==h||c[4]!==f||c[5]!==b?(g={dragState:h,isDragging:b,rootProps:f},c[3]=h,c[4]=f,c[5]=b,c[6]=g):g=c[6];return g}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.isVisible;var c;b[0]!==a?(c={0:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya x1s85apg xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm"},1:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm x1lliihq"}}[!!a<<0],b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0})),b[2]=c,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.bufferedRatio,f=a.isLive,g=a.isLiveRewindActive,i=a.isNubVisible,l=a.playedRatio,m=a.timelineBackgroundXStyle,n=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;var o;b[0]!==m?(o=(h||(h=c("stylex"))).props(k.timelineBackground,m),b[0]=m,b[1]=o):o=b[1];m=!f&&k.timelineBufferedBackground;var p;b[2]!==m||b[3]!==n?(p=(h||(h=c("stylex")))(k.timelineBuffered,m,n),b[2]=m,b[3]=n,b[4]=p):p=b[4];m=(100*e).toFixed(5)+"%";b[5]!==m?(n={width:m},b[5]=m,b[6]=n):n=b[6];b[7]!==p||b[8]!==n?(e=j.jsx("div",babelHelpers["extends"]({className:p},c("CometVisualCompletionAttributes").IGNORE,{style:n})),b[7]=p,b[8]=n,b[9]=e):e=b[9];m=f&&!g&&k.liveTimePlayed;p=f&&g&&k.liveRewindTimePlayed;b[10]!==m||b[11]!==p||b[12]!==a?(n=(h||(h=c("stylex")))(k.timelinePlayed,m,p,a),b[10]=m,b[11]=p,b[12]=a,b[13]=n):n=b[13];f=(100*l).toFixed(5)+"%";b[14]!==f?(g={width:f},b[14]=f,b[15]=g):g=b[15];b[16]!==i?(m=j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:i}),b[16]=i,b[17]=m):m=b[17];b[18]!==g||b[19]!==m||b[20]!==n?(p=j.jsx("div",babelHelpers["extends"]({className:n},c("CometVisualCompletionAttributes").IGNORE,{style:g,children:m})),b[18]=g,b[19]=m,b[20]=n,b[21]=p):p=b[21];b[22]!==o||b[23]!==p||b[24]!==e?(a=j.jsxs("div",babelHelpers["extends"]({},o,{children:[e,p]})),b[22]=o,b[23]=p,b[24]=e,b[25]=a):a=b[25];return a}g["default"]=a}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=d("react-compiler-runtime").c(41),e=a.bufferEnd,f=a.currentTime,g=a.duration,h=a.onScrubCancel,l=a.onScrubEnd,m=a.onScrubStart;a=a.supportsTouch;var n=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),o=n.invalidateRootRect,p=n.rootRectRef;n=n.rootSizeRefCallback;var q=j(0),r=q[0],s=q[1];q=j(!1);var t=q[0],u=q[1],v=c("usePrevious")(f),w;b[0]!==f||b[1]!==v?(q=function(){f!==v&&u(!1)},w=[f,v],b[0]=f,b[1]=v,b[2]=q,b[3]=w):(q=b[2],w=b[3]);i(q,w);b[4]!==h?(q=function(a){h()},b[4]=h,b[5]=q):q=b[5];b[6]!==g||b[7]!==h||b[8]!==l||b[9]!==p?(w=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a){h();return}s(a.ratioX);a=a.ratioX*g;l(a)},b[6]=g,b[7]=h,b[8]=l,b[9]=p,b[10]=w):w=b[10];var x;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){u(!0)},b[11]=x):x=b[11];var y;b[12]!==p?(y=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX)},b[12]=p,b[13]=y):y=b[13];var z;b[14]!==o||b[15]!==m||b[16]!==p?(z=function(a){o();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX);m()},b[14]=o,b[15]=m,b[16]=p,b[17]=z):z=b[17];b[18]!==q||b[19]!==w||b[20]!==y||b[21]!==z?(x={onDragCancel:q,onDragEnd:w,onDragEndSync:x,onDragMove:y,onDragStart:z},b[18]=q,b[19]=w,b[20]=y,b[21]=z,b[22]=x):x=b[22];q=a===!0;b[23]!==q?(w={hasTouchEvents:q},b[23]=q,b[24]=w):w=b[24];y=d("VideoPlayerPointerDrag").usePointerDrag(x,w);z=y.isDragging;a=y.rootProps;b[25]!==e||b[26]!==g?(q=k(g,e),b[25]=e,b[26]=g,b[27]=q):q=b[27];x=q;b[28]!==f||b[29]!==g?(w=k(g,f),b[28]=f,b[29]=g,b[30]=w):w=b[30];y=w;b[31]!==x||b[32]!==y||b[33]!==o||b[34]!==z||b[35]!==t||b[36]!==r||b[37]!==a||b[38]!==p||b[39]!==n?(e={bufferedRatio:x,currentPlayedRatio:y,invalidateRootRect:o,isDragging:z,isWaitingForSeek:t,pointerOffsetRatio:r,rootProps:a,rootRectRef:p,rootSizeRefCallback:n},b[31]=x,b[32]=y,b[33]=o,b[34]=z,b[35]=t,b[36]=r,b[37]=a,b[38]=p,b[39]=n,b[40]=e):e=b[40];return e}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","react","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useState;function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.disableKeyCommands,g=a.duration,i=a.hideNub;i=i===void 0?!1:i;var n=a.isLive,o=a.isLiveRewindActive,p=a.keyLeftDescription,q=a.keyRightDescription,r=a.onScrubCancel,s=a.onScrubEnd,t=a.onScrubStart,u=a.onUserInteraction,v=a.playFromBeginningImpl,w=a.renderScrubber,x=a.renderTooltip,y=a.skipBackwardImpl,z=a.skipForwardImpl,A=a.skipToEndImpl,B=a.supportsTouch,C=a.timelineBackgroundXStyle,D=a.timelineBufferedXStyle,E=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var F=m(!1),G=F[0],H=F[1];F=m(0);var I=F[0],J=F[1];F=m(null);var K=F[0],L=F[1];F=c("useVideoPlayerScrubberState")({bufferEnd:b,currentTime:e,duration:g,onScrubCancel:r,onScrubEnd:s,onScrubStart:t,supportsTouch:B});b=F.bufferedRatio;r=F.currentPlayedRatio;var M=F.invalidateRootRect;s=F.isDragging;t=F.isWaitingForSeek;B=F.pointerOffsetRatio;var N=F.rootProps,O=F.rootRectRef;F=F.rootSizeRefCallback;var P=k(function(){H(!0)},[]),Q=k(function(){H(!1)},[]),R=k(function(a){M();if(O.current!=null){var b=O.current.left,c=O.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(g)&&g>0?g*d:null;J(a.clientX-b);L(c)}},[g,M,O]),S=G||s;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",S,u);S=G||s||t;u=s||t?B:n&&!o?1:r;s=l(function(){return f===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:q,handler:z},{command:{key:c("CometKeys").LEFT},description:p,handler:y},{command:{key:c("CometKeys").HOME},description:h._(/*BTDS*/"Play from beginning"),handler:v},{command:{key:c("CometKeys").END},description:h._(/*BTDS*/"Skip to end"),handler:A}]},[f,q,z,p,y,v,A]);t={bufferedRatio:b,duration:g,hoveringPositionSec:K,isHovering:G,isLive:n,isLiveRewindActive:o,isNubVisible:!i&&S,playedRatio:u,timelineBackgroundXStyle:C,timelineBufferedXStyle:D,timelinePlayedXStyle:E};return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,children:j.jsxs("div",babelHelpers["extends"]({},N,{"aria-label":h._(/*BTDS*/"Change Position"),"aria-orientation":"horizontal","aria-valuemax":g,"aria-valuemin":"0","aria-valuenow":e,className:{0:"x1ypdohk x1y1aw1k xyri2b xwib8y2 x1c1uobl x1n2onr6 x87ps6o xh8yej3",1:"x1ypdohk xyri2b x1c1uobl x1n2onr6 x87ps6o xh8yej3 x18d9i69 xexx8yu"}[!!a<<0],"data-testid":void 0,onMouseEnter:P,onMouseLeave:Q,onMouseMove:R,ref:F,role:"slider",tabIndex:0,children:[w!=null?w(t):j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},t)),x!=null&&K!=null&&G&&j.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:I},children:x(K)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerScrubber.react",["fbt","VideoPlayerHooks","VideoPlayerScrubberBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;function l(){return(j||(j=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=d("react-compiler-runtime").c(48),e=a.onUserInteraction,f=a.renderScrubber;a=a.renderTooltip;var g=l(),i=(j||(j=d("VideoPlayerHooks"))).useDuration(),m=j.useController(),n=j.useBufferEnd(),o=j.useIsLive(),p=j.useIsLiveRewindActive(),q=d("useLiveRewindUtils").useLiveRewindScrub(),r=d("useLiveRewindUtils").useLiveRewindForward(),s=d("useLiveRewindUtils").useLiveRewindBack(),t=d("useLiveRewindUtils").useLiveRewindStart(),u=d("useLiveRewindUtils").useLiveRewindLive(),v=d("useLiveRewindUtils").useLiveRewindSeekableStartTime();o&&(i=i-v,i,g=g-v);b[0]!==m||b[1]!==i||b[2]!==o||b[3]!==r?(v=function(){if(o)r();else{var a=m.getPlayheadPosition()+5;a>=i?m.seek(i-.01):m.seek(a)}},b[0]=m,b[1]=i,b[2]=o,b[3]=r,b[4]=v):v=b[4];i;v=v;var w;b[5]!==o?(w=o?h._(/*BTDS*/"Fast forward 10 seconds"):h._(/*BTDS*/"Fast forward 5 seconds"),b[5]=o,b[6]=w):w=b[6];w=w;var x;b[7]!==m||b[8]!==o||b[9]!==s?(x=function(){if(o)s();else{var a=m.getPlayheadPosition()-5;a<0?m.seek(0):m.seek(a)}},b[7]=m,b[8]=o,b[9]=s,b[10]=x):x=b[10];x=x;var y;b[11]!==o?(y=o?h._(/*BTDS*/"Rewind 10 seconds"):h._(/*BTDS*/"Rewind 5 seconds"),b[11]=o,b[12]=y):y=b[12];y=y;var z;b[13]!==m||b[14]!==o||b[15]!==t?(z=function(){o?t():m.seek(0)},b[13]=m,b[14]=o,b[15]=t,b[16]=z):z=b[16];z=z;var A;b[17]!==m||b[18]!==i||b[19]!==o||b[20]!==u?(A=function(){o?u():m.seek(i-.01)},b[17]=m,b[18]=i,b[19]=o,b[20]=u,b[21]=A):A=b[21];i;A=A;var B;b[22]!==m?(B=function(){m.scrubEnd(null)},b[22]=m,b[23]=B):B=b[23];B=B;var C;b[24]!==m?(C=function(){m.scrubBegin()},b[24]=m,b[25]=C):C=b[25];C=C;var D;b[26]!==m||b[27]!==o||b[28]!==q?(D=function(a){!o?m.scrubEnd(a):q(a)},b[26]=m,b[27]=o,b[28]=q,b[29]=D):D=b[29];D=D;var E;b[30]!==n||b[31]!==g||b[32]!==i||b[33]!==o||b[34]!==p||b[35]!==A||b[36]!==y||b[37]!==w||b[38]!==e||b[39]!==z||b[40]!==f||b[41]!==a||b[42]!==B||b[43]!==D||b[44]!==C||b[45]!==x||b[46]!==v?(E=k.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:n,currentTime:g,duration:i,isLive:o,isLiveRewindActive:p,keyLeftDescription:y,keyRightDescription:w,onScrubCancel:B,onScrubEnd:D,onScrubStart:C,onUserInteraction:e,playFromBeginningImpl:z,renderScrubber:f,renderTooltip:a,skipBackwardImpl:x,skipForwardImpl:v,skipToEndImpl:A}),b[30]=n,b[31]=g,b[32]=i,b[33]=o,b[34]=p,b[35]=A,b[36]=y,b[37]=w,b[38]=e,b[39]=z,b[40]=f,b[41]=a,b[42]=B,b[43]=D,b[44]=C,b[45]=x,b[46]=v,b[47]=E):E=b[47];return E}g["default"]=a}),226);
__d("VideoPlayerScrubberPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberPreview_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_preview_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberChapterPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberDefaultPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberPreview.react",["CometRelay","VideoPlayerScrubberPreview_video.graphql","VideoPlayerTimeIndicator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.timestampSec;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberPreview_video.graphql"),a);if(a==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:f}),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_preview_renderer;var i;e[2]!==f||e[3]!==a?(i={timestampSec:f,video:a},e[2]=f,e[3]=a,e[4]=i):i=e[4];e[5]!==g||e[6]!==i?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:i}),e[5]=g,e[6]=i,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("VideoPlayerScrubberRenderer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberRenderer_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberRenderer_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer.react",["CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberRenderer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.scrubberProps;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberRenderer_video.graphql"),a);if((a==null?void 0:a.video_player_scrubber_base_content_renderer)==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},f)),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_base_content_renderer;e[2]!==f?(a=babelHelpers["extends"]({},f),e[2]=f,e[3]=a):a=e[3];e[4]!==g||e[5]!==a?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:a}),e[4]=g,e[5]=a,e[6]=f):f=e[6];return f}g["default"]=a}),98);
__d("VideoPlayerVolumeControlBase.react",["fbt","ix","FocusWithinHandler.react","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState,m=.33,n=.66;function a(a){var b=d("react-compiler-runtime").c(18),e=a.audioAvailabilityUI,f=a.isMuted,g=a.onMouseEnter,j=a.onMouseLeave,o=a.onSetMuted,p=a.onUserInteraction,q=a.renderVolumeSlider,r=a.useOutlineIcons;a=a.volume;r=r===void 0?!1:r;var s=!f&&a>0,t;b[0]!==e||b[1]!==s||b[2]!==r||b[3]!==a?(e!=null&&e.shouldShowNullIcon?t=r?d("fbicon")._(i("944795"),20):d("fbicon")._(i("944792"),20):s?a<=m?t=r?d("fbicon")._(i("1146252"),20):d("fbicon")._(i("1104387"),20):a<=n?t=r?d("fbicon")._(i("1104392"),20):d("fbicon")._(i("1104390"),20):t=r?d("fbicon")._(i("564393"),20):d("fbicon")._(i("564390"),20):t=r?d("fbicon")._(i("564399"),20):d("fbicon")._(i("564396"),20),b[0]=e,b[1]=s,b[2]=r,b[3]=a,b[4]=t):t=b[4];s=l(!1);var u=s[0],v=s[1];b[5]!==f?(r=f?h._(/*BTDS*/"Unmute"):h._(/*BTDS*/"Mute"),b[5]=f,b[6]=r):r=b[6];var w=r;b[7]!==e||b[8]!==t||b[9]!==f||b[10]!==u||b[11]!==w||b[12]!==g||b[13]!==j||b[14]!==o||b[15]!==p||b[16]!==q?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsxs("div",{className:"x1ypdohk x1rg5ohu xhsvlbd xyamay9 x1icxu4v x10b6aqq x25sj25 x1n2onr6",onMouseEnter:g,onMouseLeave:j,children:[e!=null&&e.shouldDisableVolumeControl?null:k.jsx("div",{className:"xk7dvq3 x9f619 x1o0tod x1yrsyyn x1icxu4v x10b6aqq x25sj25 x10l6tqk xh8yej3",children:q({focusVisible:b,onVisibilityChange:v})}),k.jsx(c("VideoPlayerControlIcon.react"),{icon:t,label:w,onPress:function(){e&&e.onVolumeControlPress(),e!=null&&e.shouldDisableVolumeControl||o(!f,"user_initiated"),p&&p({name:"video_mute_button",type:"happened"})},tooltip:e!=null?e.tooltipContent:null,tooltipAlign:"end",tooltipImpl:e!=null?e.tooltipImpl:null,tooltipOffsetY:u?-80:0})]})}}),b[7]=e,b[8]=t,b[9]=f,b[10]=u,b[11]=w,b[12]=g,b[13]=j,b[14]=o,b[15]=p,b[16]=q,b[17]=a):a=b[17];return a}g["default"]=a}),226);
__d("VideoPlayerVolumeSliderBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o={root:{cursor:"x1ypdohk",height:"xng8ra",opacity:"xg01cxk",pointerEvents:"x47corl",position:"x1n2onr6",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x1td3qas",zIndex:"x1ja2u2z",$$css:!0},rootVisible:{opacity:"x1hc1fzr",pointerEvents:"x67bb7w",$$css:!0},sliderForeground:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",bottom:"x1ey2m1c",position:"x10l6tqk",width:"xh8yej3",$$css:!0},sliderForegroundOverlayColorBlue:{backgroundColor:"x1spa7qu",$$css:!0},sliderForegroundOverlayColorWhite:{backgroundColor:"x14hiurz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(65),e=a.isHovering,f=a.isMuted,g=a.onChangeVolumeDown,j=a.onChangeVolumeUp,p=a.onSetMuted,q=a.onSetVolume,r=a.onUserInteraction,s=a.onVisibilityChange,t=a.showBackgroundOverlay,u=a.volume;a=t===void 0?!1:t;t=d("VideoPlayerPointerDrag").usePointerDragResizeObserver();var v=t.invalidateRootRect,w=t.rootRectRef;t=t.rootSizeRefCallback;var x=m(u),y=m(f),z=f?0:u,A=n(z),B=A[0],C=A[1];b[0]!==f||b[1]!==p||b[2]!==q||b[3]!==w?(A=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,w.current);if(!a)return;a=Math.max(0,Math.min(1,1-a.ratioY));C(a);q(a);f&&p(!1,"user_initiated")},b[0]=f,b[1]=p,b[2]=q,b[3]=w,b[4]=A):A=b[4];var D=A;b[5]!==p||b[6]!==q?(A=function(a){C(x.current),q(x.current),p(y.current,"user_initiated")},b[5]=p,b[6]=q,b[7]=A):A=b[7];var E,F;b[8]!==D?(E=function(a){D(a)},F=function(a){D(a)},b[8]=D,b[9]=E,b[10]=F):(E=b[9],F=b[10]);var G;b[11]!==v||b[12]!==f||b[13]!==D||b[14]!==u||b[15]!==z?(G=function(a){v(),x.current=u,y.current=f,C(z),D(a)},b[11]=v,b[12]=f,b[13]=D,b[14]=u,b[15]=z,b[16]=G):G=b[16];var H;b[17]!==A||b[18]!==E||b[19]!==F||b[20]!==G?(H={onDragCancel:A,onDragEnd:E,onDragMove:F,onDragStart:G},b[17]=A,b[18]=E,b[19]=F,b[20]=G,b[21]=H):H=b[21];A=d("VideoPlayerPointerDrag").usePointerDrag(H);E=A.isDragging;F=A.rootProps;G=E?B:z;var I=e||E,J=m(I);b[22]!==I||b[23]!==s?(H=function(){J.current!==I&&(s&&s(I)),J.current=I},A=[s,I],b[22]=I,b[23]=s,b[24]=H,b[25]=A):(H=b[24],A=b[25]);l(H,A);B=I;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_volume_slider",B,r);b[26]===Symbol["for"]("react.memo_cache_sentinel")?(e={key:c("CometKeys").UP},E=h._(/*BTDS*/"Increase volume"),b[26]=e,b[27]=E):(e=b[26],E=b[27]);b[28]!==j?(H={command:e,description:E,handler:function(){j()}},b[28]=j,b[29]=H):H=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(A={key:c("CometKeys").DOWN},B=h._(/*BTDS*/"Decrease volume"),b[30]=A,b[31]=B):(A=b[30],B=b[31]);b[32]!==g?(r={command:A,description:B,handler:function(){g()}},b[32]=g,b[33]=r):r=b[33];b[34]!==H||b[35]!==r?(e=[H,r],b[34]=H,b[35]=r,b[36]=e):e=b[36];E=e;A=E;b[37]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._(/*BTDS*/"Change volume"),b[37]=B):B=b[37];H=I&&o.rootVisible;b[38]!==H?(r=(i||(i=c("stylex")))(o.root,H),b[38]=H,b[39]=r):r=b[39];b[40]!==I||b[41]!==a?(e=I&&a&&k.jsx("div",{className:"x1f4ngb1 x1obq294 x5a5i1n xde0f50 x15x8krk xi2lk0m x1f889gz xaoy8p5 x1iorvi4 xjkvuk6 x135b78x x11lfxj5 x10l6tqk x1v4kod4"}),b[40]=I,b[41]=a,b[42]=e):e=b[42];b[43]===Symbol["for"]("react.memo_cache_sentinel")?(E={className:"x18fn2jl xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c xng8ra xi5uv41 x10l6tqk x1xc55vz"},b[43]=E):E=b[43];H=a?o.sliderForegroundOverlayColorWhite:o.sliderForegroundOverlayColorBlue;b[44]!==H?(a=(i||(i=c("stylex")))(o.sliderForeground,H),b[44]=H,b[45]=a):a=b[45];H=G*100+"%";b[46]!==H?(G={height:H},b[46]=H,b[47]=G):G=b[47];b[48]===Symbol["for"]("react.memo_cache_sentinel")?(H={className:"x1c7jfne x1f4buv5 x1n2onr6"},b[48]=H):H=b[48];b[49]!==I?(H=k.jsx("div",babelHelpers["extends"]({},H,{children:k.jsx(c("VideoPlayerSliderNub.react"),{isVisible:I})})),b[49]=I,b[50]=H):H=b[50];b[51]!==a||b[52]!==G||b[53]!==H?(E=k.jsx("div",babelHelpers["extends"]({},E,{children:k.jsx("div",{className:a,style:G,children:H})})),b[51]=a,b[52]=G,b[53]=H,b[54]=E):E=b[54];b[55]!==F||b[56]!==t||b[57]!==r||b[58]!==e||b[59]!==E||b[60]!==u?(a=k.jsxs("div",babelHelpers["extends"]({},F,{"aria-label":B,"aria-orientation":"vertical","aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":u,className:r,ref:t,role:"slider",tabIndex:0,children:[e,E]})),b[55]=F,b[56]=t,b[57]=r,b[58]=e,b[59]=E,b[60]=u,b[61]=a):a=b[61];b[62]!==A||b[63]!==a?(G=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:A,children:a}),b[62]=A,b[63]=a,b[64]=G):G=b[64];return G}g["default"]=a}),226);
__d("VideoPlayerVolumeSlider.react",["VideoPlayerHooks","VideoPlayerVolumeSliderBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(21),e=a.isHovering,f=a.onUserInteraction,g=a.onVisibilityChange;a=a.showBackgroundOverlay;a=a===void 0?!1:a;var h=(i||(i=d("VideoPlayerHooks"))).useController(),k=i.useMuted(),l=i.useVolume(),m;b[0]!==h?(m=function(a){h.setVolume(a)},b[0]=h,b[1]=m):m=b[1];m=m;var n;b[2]!==h?(n=function(a,b){h.setMuted(a,b)},b[2]=h,b[3]=n):n=b[3];n=n;var o;b[4]!==h?(o=function(a){var b=h.getCurrentState();a=Math.max(0,Math.min(1,b.volume+a));h.setVolume(a);a===0?h.setMuted(!0,"user_initiated"):b.muted&&h.setMuted(!1,"user_initiated")},b[4]=h,b[5]=o):o=b[5];var p=o;b[6]!==p?(o=function(){p(.05)},b[6]=p,b[7]=o):o=b[7];o=o;var q;b[8]!==p?(q=function(){p(-.05)},b[8]=p,b[9]=q):q=b[9];q=q;var r;b[10]!==q||b[11]!==o||b[12]!==e||b[13]!==k||b[14]!==f||b[15]!==g||b[16]!==n||b[17]!==m||b[18]!==a||b[19]!==l?(r=j.jsx(c("VideoPlayerVolumeSliderBase.react"),{isHovering:e,isMuted:k,onChangeVolumeDown:q,onChangeVolumeUp:o,onSetMuted:n,onSetVolume:m,onUserInteraction:f,onVisibilityChange:g,showBackgroundOverlay:a,volume:l}),b[10]=q,b[11]=o,b[12]=e,b[13]=k,b[14]=f,b[15]=g,b[16]=n,b[17]=m,b[18]=a,b[19]=l,b[20]=r):r=b[20];return r}g["default"]=a}),98);
__d("VideoPlayerVolumeControl.react",["VideoPlayerHooks","VideoPlayerVolumeControlBase.react","VideoPlayerVolumeSlider.react","cr:1826284","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useState,l=(f=b("cr:1826284"))!=null?f:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(16),e=a.onUserInteraction,f=a.showBackgroundOverlay;a=a.useOutlineIcons;var g=f===void 0?!1:f;f=a===void 0?!1:a;a=k(!1);var h=a[0],m=a[1],n=(i||(i=d("VideoPlayerHooks"))).useController();a=i.useMuted();var o=i.useVolume(),p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){m(!0)},b[0]=p):p=b[0];p=p;var q;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){m(!1)},b[1]=q):q=b[1];q=q;var r;b[2]!==n?(r=function(a,b){n.setMuted(a,b)},b[2]=n,b[3]=r):r=b[3];r=r;var s=!a&&o>0;s=l({canPlayerProduceSound:s,isHovering:h})||null;var t;b[4]!==h||b[5]!==e||b[6]!==g?(t=function(a){var b=a.focusVisible;a=a.onVisibilityChange;return j.jsx(c("VideoPlayerVolumeSlider.react"),{isHovering:h||b,onUserInteraction:e,onVisibilityChange:a,showBackgroundOverlay:g})},b[4]=h,b[5]=e,b[6]=g,b[7]=t):t=b[7];b[8]!==s||b[9]!==a||b[10]!==e||b[11]!==r||b[12]!==t||b[13]!==f||b[14]!==o?(p=j.jsx(c("VideoPlayerVolumeControlBase.react"),{audioAvailabilityUI:s,isMuted:a,onMouseEnter:p,onMouseLeave:q,onSetMuted:r,onUserInteraction:e,renderVolumeSlider:t,useOutlineIcons:f,volume:o}),b[8]=s,b[9]=a,b[10]=e,b[11]=r,b[12]=t,b[13]=f,b[14]=o,b[15]=p):p=b[15];return p}g["default"]=a}),98);
__d("useVideoPlayerVolumeControlAudioAvailabilityUI",["fbt","CometTooltipImpl.react","VideoPlayerControlsHiddenContext","clearTimeout","emptyFunction","react","setTimeout","useAudioAvailabilityAtPlayhead","usePrevious","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=3e3;function a(a){var b=a.canPlayerProduceSound,d=a.isHovering;a=c("useAudioAvailabilityAtPlayhead")();var e=a.isSilentAtPlayhead;a=a.volumeControlState;var g=null;switch(a){case"VOLUME_SILENT":g=h._(/*BTDS*/"Video has no sound");break;case"VOLUME_COPYRIGHT_FULL":g=h._(/*BTDS*/"Muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_SILENCED":g=h._(/*BTDS*/"Partially muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED":break;case"VOLUME_DEFAULT":break;default:a}var i=c("usePrevious")(e),p=n(!1),q=p[0],r=p[1],s=m(c("emptyFunction")),t=m(!1);p=n(!1);var u=p[0],v=p[1],w=c("useStable")(function(){return function(a){t.current=a,v(a),s.current(a),a||r(!1)}}),x=k(c("VideoPlayerControlsHiddenContext"));l(function(){x?w(!1):g==null?w(!1):d||q?w(!0):e!==i&&e&&b&&w(!0)},[g,b,x,d,q,e,i,w]);l(function(){if(u){var a=c("setTimeout")(function(){w(!1)},o);return function(){c("clearTimeout")(a)}}},[u,w]);p=c("useStable")(function(){return function(){r(function(a){return!a})}});var y=c("useStable")(function(){function a(a){var b=n(!1),d=b[0],e=b[1];l(function(){s.current=e;return function(){s.current=c("emptyFunction")}},[e]);l(function(){a.isVisible||w(!1)},[a.isVisible]);return j.jsx(c("CometTooltipImpl.react"),babelHelpers["extends"]({},a,{isVisible:d}))}a.displayName=a.name+" [from "+f.id+"]";return a}),z=a==="VOLUME_COPYRIGHT_FULL"||a==="VOLUME_SILENT",A=b?e:z;return g==null?null:{onVolumeControlPress:p,shouldDisableVolumeControl:z,shouldShowNullIcon:A,tooltipContent:g,tooltipImpl:y,volumeControlState:a}}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("LSSendOTCNotifications",["LSIssueNewEbTaskAndGetTaskIDV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.forEach(c.db.table(285).fetch(),function(a){return a["delete"]()})},function(a){return c.forEach(c.filter(c.db.table(285).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(285).add({pk:c.i64.cast([0,1]),notificationSendingStatus:c.i64.cast([0,2]),authorityLevel:c.i64.cast([0,20])})},function(e){return d[0]=new c.Map(),d[0].set("device_ids",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_send_otc_notifications",c.i64.cast([0,50032]),d[1],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsSendOTCNotificationsStoredProcedure";a.__tables__=["encrypted_backups_otc_notification_sending_status"];e.exports=a}),null);
__d("LSSendOTCNotificationsStoredProcedure",["LSSendOTCNotifications","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendOTCNotifications"),e.deviceIds);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWEncryptedBackupsRestoreDialogContexts_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWEncryptedBackupsRestoreDialogContexts_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupOnCloseContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");function a(){c("FBLogger")("messenger_web_trust").warn("setOnCloseSkipConfirmation called outside of a provider")}e=b.createContext({onCloseSkipConfirmation:null,setOnCloseSkipConfirmation:a});g["default"]=e}),98);
__d("MWChatEncryptedBackupOnCloseContextProvider.react",["MWChatEncryptedBackupOnCloseContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var e=j(null),f=e[0];e=e[1];b[0]!==f?(e={onCloseSkipConfirmation:f,setOnCloseSkipConfirmation:e},b[0]=f,b[1]=e):e=b[1];f=e;e=f;b[2]!==a||b[3]!==e?(f=i.jsx(c("MWChatEncryptedBackupOnCloseContext").Provider,{value:e,children:a}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupResetContextProvider.react",["MWChatEncryptedBackupResetContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=j(!1),f=j(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={isEncryptedBackupResetStartedRef:e,isEncryptedBackupResetUserJourneyStartedRef:f},b[0]=e):e=b[0];f=e;e=f;b[1]!==a?(f=i.jsx(c("MWChatEncryptedBackupResetContext").Provider,{value:e,children:a}),b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupsDismissalDialogContextProvider.react",["MWChatEncryptedBackupsDismissalDialogContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.isDismissedDisabledValue;a=j(a);var f=a[0];a=a[1];b[0]!==f?(a={isDismissedDisabled:f,setIsDismissedDisabled:a},b[0]=f,b[1]=a):a=b[1];f=a;a=f;b[2]!==e||b[3]!==a?(f=i.jsx(c("MWChatEncryptedBackupsDismissalDialogContext").Provider,{value:a,children:e}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react",["MWChatEncryptedBackupsSetIsDialogPersistedContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.setIsDialogPersisted;var f;b[0]!==a?(f={setIsDialogPersisted:a},b[0]=a,b[1]=f):f=b[1];f=f;f=f;if(a!=null){b[2]!==e||b[3]!==f?(a=i.jsx(c("MWChatEncryptedBackupsSetIsDialogPersistedContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}return e}g["default"]=a}),98);
__d("MWEBHasSeenAutoRestoreNoticeContextProvider.react",["MWEBHasSeenAutoRestoreNoticeContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.hasSeenNotice;var f;b[0]!==a?(f={hasSeenNotice:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("MWEBHasSeenAutoRestoreNoticeContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MAWEncryptedBackupsRestoreDialogContexts.react",["CometRelay","CometTransientDialogProvider.react","MAWEncryptedBackupsRestoreDialogContexts_query.graphql","MWChatEncryptedBackupOnCloseContextProvider.react","MWChatEncryptedBackupResetContextProvider.react","MWChatEncryptedBackupsDismissalDialogContextProvider.react","MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react","MWEBFlowSourceContextProvider.react","MWEBHasSeenAutoRestoreNoticeContextProvider.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContextProvider.react","react","react-compiler-runtime","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f,g=d("react-compiler-runtime").c(25),i=a.children,k=a.query,l=a.setIsDialogPersisted;a=a.source;k=d("CometRelay").useFragment(h!==void 0?h:h=b("MAWEncryptedBackupsRestoreDialogContexts_query.graphql"),k);var m;g[0]!==k.xfb_backup?(m={encryptedBackup:k.xfb_backup},g[0]=k.xfb_backup,g[1]=m):m=g[1];m=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(m);m=m.getVirtualDevices;var n;g[2]!==m?(n=m(),g[2]=m,g[3]=n):n=g[3];m=n;n=m.offlineDevicesCount;m=m.vestaClientID;e=(e=(e=k.xfb_backup)==null?void 0:e.has_otc_eligible_devices)!=null?e:void 0;f=(f=(f=k.viewer.encrypted_backup)==null?void 0:f.has_seen_eb_auto_restore_notice)!=null?f:!1;var o;g[4]!==l?(o=function(a){l==null||l(a)},g[4]=l,g[5]=o):o=g[5];var p;g[6]!==i?(p=j.jsx(c("CometTransientDialogProvider.react"),{children:i}),g[6]=i,g[7]=p):p=g[7];g[8]!==k.viewer||g[9]!==p?(i=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContextProvider,{viewer$key:k.viewer,children:p}),g[8]=k.viewer,g[9]=p,g[10]=i):i=g[10];g[11]!==o||g[12]!==i?(k=j.jsx(c("MWChatEncryptedBackupOnCloseContextProvider.react"),{children:j.jsx(c("MWChatEncryptedBackupResetContextProvider.react"),{children:j.jsx(c("MWChatEncryptedBackupsDismissalDialogContextProvider.react"),{isDismissedDisabledValue:!1,children:j.jsx(c("MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react"),{setIsDialogPersisted:o,children:i})})})}),g[11]=o,g[12]=i,g[13]=k):k=g[13];g[14]!==a||g[15]!==k?(p=j.jsx(c("MWEBFlowSourceContextProvider.react"),{source:a,children:k}),g[14]=a,g[15]=k,g[16]=p):p=g[16];g[17]!==f||g[18]!==p?(o=j.jsx(c("MWEBHasSeenAutoRestoreNoticeContextProvider.react"),{hasSeenNotice:f,children:p}),g[17]=f,g[18]=p,g[19]=o):o=g[19];g[20]!==n||g[21]!==o||g[22]!==e||g[23]!==m?(i=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:e,offlineDevicesCountInitialValue:n,vestaClientIDInitialValue:m,children:o}),g[20]=n,g[21]=o,g[22]=e,g[23]=m,g[24]=i):i=g[24];return i}g["default"]=a}),98);
__d("MWEBLazyLoadResetPinPage",["JSResourceForInteraction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MWEBPushResetPinPage").__setRef("MWEBLazyLoadResetPinPage");function a(a,b){c("promiseDone")(h.load().then(function(c){return c(a,b)}))}g["default"]=a}),98);
__d("MWEBPinCodeUpsellDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBPinCodeUpsellDialog.react").__setRef("MWEBPinCodeUpsellDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBRestoreOTCFirstDialogStepDeferred.react",["deferredLoadComponent","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWEBRestoreOTCFirstStep.react").__setRef("MWEBRestoreOTCFirstDialogStepDeferred.react"));function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=i.jsx(j,babelHelpers["extends"]({},a)),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),98);
__d("MAWEncryptedBackupsRestoreStep.react",["MWChatEncryptedBackupResetContext","MWChatEncryptedBackupsQPLSource.enum","MWEBLazyLoadResetPinPage","MWEBOTCDialogStepDeferred.react","MWEBPinCodeUpsellDialog.entrypoint","MWEBRestoreOTCFirstDialogStepDeferred.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","requireDeferredForDisplay","usePushFDSMultiStepDialogEntryPointPage","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsAccessCodeInputStep.react").__setRef("MAWEncryptedBackupsRestoreStep.react")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatEncryptedBackupsPinCodeRestoreStep.react").__setRef("MAWEncryptedBackupsRestoreStep.react")),n=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsKVSOnlyRestoreStep.react").__setRef("MAWEncryptedBackupsRestoreStep.react"));function o(a){var b=d("react-compiler-runtime").c(21),e=a.offlineDevicesCount,f=a.onClose,g=a.onComplete,h=a.onForgotRC,j=a.onSkip,k=a.pushPage,m=a.shouldShowForgotButton;a=a.source;var o=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();o=o.virtualDeviceInfo;if(o.doesUserHaveOtcEligibleDevices){o=a===c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK;if(o){b[0]!==f||b[1]!==g||b[2]!==j||b[3]!==k?(a=i.jsx(c("MWEBRestoreOTCFirstDialogStepDeferred.react"),{onCloseDialog:f,onComplete:g,onSkip:j,pushPage:k}),b[0]=f,b[1]=g,b[2]=j,b[3]=k,b[4]=a):a=b[4];return a}b[5]!==f||b[6]!==g||b[7]!==j||b[8]!==k?(o=i.jsx(c("MWEBOTCDialogStepDeferred.react"),{onClose:f,onComplete:g,onSkip:j,pushPage:k}),b[5]=f,b[6]=g,b[7]=j,b[8]=k,b[9]=o):o=b[9];return o}if(e!==null&&e>=1){b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==j||b[14]!==k||b[15]!==m?(a=i.jsx(l,{onClose:f,onComplete:g,onForgotRC:h,onSkip:j,pushPage:k,shouldShowForgotButton:m}),b[10]=f,b[11]=g,b[12]=h,b[13]=j,b[14]=k,b[15]=m,b[16]=a):a=b[16];return a}b[17]!==f||b[18]!==g||b[19]!==k?(o=i.jsx(n,{onClose:f,onComplete:g,pushPage:k}),b[17]=f,b[18]=g,b[19]=k,b[20]=o):o=b[20];return o}function a(a){var b=a.clientID,e=a.offlineDevicesCount,f=a.onClose,g=a.onComplete,h=a.onForgotRC,l=a.onSkip,n=a.pushPage,p=a.shouldShowForgotButton;a=a.source;var q=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),r=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();r=r.virtualDeviceInfo;r=r.doesUserHaveOtcEligibleDevices;var s=j(function(){c("MWEBLazyLoadResetPinPage")(g,n)},[g,n]),t=c("usePushFDSMultiStepDialogEntryPointPage")(c("MWEBPinCodeUpsellDialog.entrypoint"),{});t[0];var u=t[1],v=k(c("MWChatEncryptedBackupResetContext"));t=j(function(){var a;if(((a=v.isEncryptedBackupResetStartedRef)==null?void 0:a.current)===!0){g();return}u({onClose:l,onComplete:g},{withoutBackButton:!0})},[v,g,l,u]);if(q)return i.jsx(m,{onClose:f,onComplete:g,onSkip:l,pushPage:n,shouldShowForgotButton:p});if(b!=null&&q&&r){c("vulture")("1qMwdD2NN3MYmNe7aqWvRYoPY64=");return i.jsx(o,{offlineDevicesCount:e,onClose:f,onComplete:s,onForgotRC:h,onSkip:l,pushPage:n,shouldShowForgotButton:p,source:a})}else if(b!=null)return i.jsx(m,{onClose:f,onComplete:g,onSkip:l,pushPage:n,shouldShowForgotButton:p});else return i.jsx(o,{offlineDevicesCount:e,onClose:f,onComplete:t,onForgotRC:h,onSkip:l,pushPage:n,shouldShowForgotButton:p,source:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWPinCodeGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3955")&&c("justknobx")._("1015")}g.isPinCodeEnabled=a}),98);
__d("MWChatEncryptedBackupsPinCodeRestoreStep.react",["fbt","CometPlaceholder.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWEBQPResetPIN.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsOtcRestoreSteps","MWLogInteraction","MWXColumn.react","MWXColumnItem.react","MWXDialogPageLegacy.react","MWXLink.react","MWXMultiStepDialogHeader.react","MWXText.react","QPLUserFlow","cr:6247","gkx","lazyLoadComponent","nullthrows","promiseDone","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsPinCodeRestore","useVisibilityObserver","useWAInfraMobileDeviceList","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useState,m=c("gkx")("23219"),n=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedStep.react").__setRef("MWChatEncryptedBackupsPinCodeRestoreStep.react"),o=c("lazyLoadComponent")(n),p="chat-encrypted-backups-dialog-layout-restore-step";function q(a){var b=d("react-compiler-runtime").c(12),e=a.isInProgress,f=a.onClose,g=a.onComplete;a=a.pushPage;var h=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();h=h.virtualDeviceInfo;h=h.offlineDevicesCount;var i=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),k=c("useWAInfraMobileDeviceList")();k=k.length>0;var l;b[0]!==h||b[1]!==f||b[2]!==g||b[3]!==a||b[4]!==k?(l={hasMobileDevices:k,offlineDevicesCount:h,onClose:f,onComplete:g,pushPage:a},b[0]=h,b[1]=f,b[2]=g,b[3]=a,b[4]=k,b[5]=l):l=b[5];h=d("MWEncryptedBackupsForgotPinStep").useForgotPinLinkPushPageProps(l);f=i||e?"disabled":"highlight";g=i||e;b[6]!==h||b[7]!==g?(a=j.jsx(c("MWXLink.react"),babelHelpers["extends"]({},h,{disabled:g,testid:void 0})),b[6]=h,b[7]=g,b[8]=a):a=b[8];b[9]!==f||b[10]!==a?(k=j.jsx(c("MWXText.react"),{color:f,type:"button2",children:a}),b[9]=f,b[10]=a,b[11]=k):k=b[11];return k}function a(a){var e=d("react-compiler-runtime").c(44),f=a.onClose,g=a.onComplete,i=a.onSkip,n=a.pushPage;a=a.shouldShowForgotButton;a=a===void 0?!0:a;var t=l(null),u=t[0];t=t[1];var v=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();v=v.virtualDeviceInfo;v=v.vestaClientID;var w;e[0]!==v?(w=c("nullthrows")(v),e[0]=v,e[1]=w):w=e[1];e[2]!==g||e[3]!==w?(v={clientID:w,focusRegionId:p,onVestaComplete:g},e[2]=g,e[3]=w,e[4]=v):v=e[4];w=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore(v);var x=w.focusOnInput;v=w.inputProps;var y=w.invalidKeyPressedError,z=w.isInProgress,A=w.isLabyrinthError,B=w.isPinCodeIncorrect;w=w.isVestaError;var C=l(!1),D=C[0];C=C[1];z=z||D;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"Some messages are missing. Enter your PIN to restore your chat history."),e[5]=D):D=e[5];D=D;var E=d("MWEBVestaUserInfoContext.react").useMWEBVestaUserInfo(),F=E.attemptsRemaining,G=E.loginTimeoutRemainingSecs;E=E.refetchVestaClientInfo;var H=F===0,I=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),J=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SCREEN",void 0,function(){x(),N!=null&&c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_OPTION_DISPLAYED_RESTORE_SCREEN")}),K=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();K=K.virtualDeviceInfo;K=K.doesUserHaveOtcEligibleDevices;var L;e[6]!==z||e[7]!==f||e[8]!==g||e[9]!==n||e[10]!==a?(L=a?j.jsx(q,{isInProgress:z,onClose:f,onComplete:g,pushPage:n}):null,e[6]=z,e[7]=f,e[8]=g,e[9]=n,e[10]=a,e[11]=L):L=e[11];a=L;e[12]!==f||e[13]!==g||e[14]!==i||e[15]!==n?(L=function(){d("MWEncryptedBackupsOtcRestoreSteps").pushByOneTimeCodePage({onClose:f,onOtcComplete:g,onSkip:i,pushPage:n})},e[12]=f,e[13]=g,e[14]=i,e[15]=n,e[16]=L):L=e[16];var M=L,N=K?j.jsx(c("MWXText.react"),{color:I||z?"disabled":"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{disabled:I||z,onClick:function(){d("MWLogInteraction").logPopoverOpenCancel("initiate_restore"),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),M()},rel:"noreferrer",testid:void 0,children:h._(/*BTDS*/"Use a one-time code instead")})}):null;L=N!=null?N:a;e[17]===Symbol["for"]("react.memo_cache_sentinel")?(K=h._(/*BTDS*/"Enter your PIN to restore your chat history"),e[17]=K):K=e[17];a=K;e[18]===Symbol["for"]("react.memo_cache_sentinel")?(K={onVisible:s},e[18]=K):K=e[18];K=c("useVisibilityObserver")(K);if(e[19]!==F||e[20]!==v||e[21]!==y||e[22]!==I||e[23]!==z||e[24]!==A||e[25]!==B||e[26]!==w||e[27]!==G||e[28]!==H||e[29]!==f||e[30]!==g||e[31]!==i||e[32]!==u||e[33]!==n||e[34]!==J||e[35]!==E||e[36]!==L||e[37]!==N||e[38]!==K){D=I?j.jsx(o,{attemptsRemaining:F,loginTimeoutRemainingSecs:G,onClose:f,onComplete:g,onSkip:i,pushPage:n,refetchVestaClientInfo:E}):j.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,ref:d("xplatToDOMRef").xplatToDOMRef(J),children:j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:16,ref:K,spacing:0,children:[j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:16,children:j.jsx("div",{className:"xg87l8a",children:j.jsx(c("MWEBQPResetPIN.react"),{})})}),j.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:16,children:j.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,type:"headlineEmphasized2",children:a})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:j.jsx("div",{className:"x1l90r2v x2b8uid",children:D})})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:(a=y!=null?y:u)!=null?a:B&&N!=null?h._(/*BTDS*/"Incorrect PIN. Try again or use a one-time code."):B?h._(/*BTDS*/"Incorrect PIN. Try again."):A||w?h._(/*BTDS*/"There was an error while using the PIN Code, please try again"):void 0,children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},v,{disabled:G!=null||H||z,testid:void 0}))})}),z&&j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:m})}),!z&&j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"x1y1aw1k",children:L})}),b("cr:6247")!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatEncryptedBackupsPinCodeRestoreStep",children:j.jsx(b("cr:6247"),{onComplete:g,onError:t,setIsLoading:C})})]})});e[19]=F;e[20]=v;e[21]=y;e[22]=I;e[23]=z;e[24]=A;e[25]=B;e[26]=w;e[27]=G;e[28]=H;e[29]=f;e[30]=g;e[31]=i;e[32]=u;e[33]=n;e[34]=J;e[35]=E;e[36]=L;e[37]=N;e[38]=K;e[39]=D}else D=e[39];a=D;e[40]===Symbol["for"]("react.memo_cache_sentinel")?(t=[],e[40]=t):t=e[40];k(r,t);e[41]===Symbol["for"]("react.memo_cache_sentinel")?(C=j.jsx(c("MWXMultiStepDialogHeader.react"),{withCloseButton:!1,withoutBackButton:!0}),e[41]=C):C=e[41];e[42]!==a?(F=j.jsxs(j.Fragment,{children:[C,a]}),e[42]=a,e[43]=F):F=e[43];return F}function r(){c("promiseDone")(n.load())}function s(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").ebResetObserverQplEvent,"PUSH_PIN_CODE_RESTORE_DIALOG_VISIBLE"),c("QPLUserFlow").endSuccess(d("MWChatEncryptedBackupsQPLEvents").ebResetObserverQplEvent)}g["default"]=a}),226);
__d("MWEBEOTRDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MWEBEOTRDialog.react").__setRef("MWEBEOTRDialog.entrypoint");b={getPreloadProps:function(){return{queries:{}}},root:a};g["default"]=b}),98);
__d("MWEBOTCErrorMessages",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*BTDS*/"Incorrect code. Try again.")};b=function(){return h._(/*BTDS*/"Code not found. Try resending a new code.")};c=function(){return h._(/*BTDS*/"Too many attempts. Try again later.")};d=function(){return h._(/*BTDS*/"Code expired. Try generating a new code.")};e=function(){return h._(/*BTDS*/"Something went wrong. Please try again.")};f=function(){return h._(/*BTDS*/"Couldn't send code. Please try again.")};var i=function(){return h._(/*BTDS*/"Couldn't load trusted devices. Please try again.")};g.getOtcIsWrongErrorMessage=a;g.getNoSessionOngoingErrorMessage=b;g.getMaxAttemptsReachedErrorMessage=c;g.getSessionExpiredErrorMessage=d;g.getGeneralErrorMessage=e;g.getNotificationFailedToSendErrorMessage=f;g.getFailedToFetchOtcDevicesErrorMessage=i}),226);
__d("MWEBPinCodeTryAgainLaterDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBPinCodeTryAgainLaterDialog.react").__setRef("MWEBPinCodeTryAgainLaterDialog.entrypoint")};g["default"]=a}),98);
__d("PAKEClientTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({PAKE_TEST:-1,ENCRYPTED_BACKUPS:0,EB_MULTI_USER_OTC:1});f["default"]=a}),66);
__d("useMWAbandonRestoreConfirmationDialog",["fbt","MWChatEncryptedBackupResetContext","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","gkx","react","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");var j=b.useCallback,k=b.useContext;function a(a){var b=c("useMWXConfirmationDialog")(),e=c("gkx")("23219"),f=k(c("MWChatEncryptedBackupResetContext")),g=f.isEncryptedBackupResetUserJourneyStartedRef;return j(function(){b({body:g!=null&&g.current?h._(/*BTDS*/"Your chats won't be backed up, and you won't be able to restore them if you switch devices."):e?h._(/*BTDS*/"This means that you won't see your full chat history on this device."):h._(/*BTDS*/"This means you won't see your full chat history on this device and new messages you send or receive may not load on other new devices."),cancel:g!=null&&g.current?h._(/*BTDS*/"Go back"):void 0,confirm:g!=null&&g.current?h._(/*BTDS*/"Close"):h._(/*BTDS*/"Don't restore messages"),title:g!=null&&g.current?h._(/*BTDS*/"Are you sure?"):h._(/*BTDS*/"Continue without restoring?")},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"DONT_RESTORE_CONFIRMATION_CLICK"),a==null||a()},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"DONT_RESTORE_CANCEL_CLICK")})},[g,b,e,a])}g["default"]=a}),226);
__d("MWEBRestoreDialog.react",["FBLogger","InteractionTracing.xplat","MAWEncryptedBackupsRestoreStep.react","MAWPinCodeGating","MWChatEncryptedBackupOnCloseContext","MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBHasSeenAutoRestoreNoticeContext","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsForgotRCStep","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXMultiStepDialog_DEPRECATED.react","PAKECleanupSessionReasonEnum","PAKEClientTypeEnum","QPLUserFlow","UserMobileEBState","cr:27430","cr:3042","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWAbandonRestoreConfirmationDialog","useMWEBAutoRestoreNoticeStep","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useContext,l=e.useEffect,m=e.useRef,n=c("requireDeferred")("CleanupPakeSession").__setRef("MWEBRestoreDialog.react"),o=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreDialog.react");function a(a){var e=d("react-compiler-runtime").c(34),f=a.cancellable,g=a.onClose,i=a.onDismissUpsell,q=a.skipToEOTRForgotPINStep;a=f===void 0?!0:f;var r=m(!1),s=(h||(h=c("useReStore")))();f=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var t=f.startFlow,u=c("useMWEBFlowSourceContext")();f=k(c("MWChatEncryptedBackupsDismissalDialogContext"));f=f.isDismissedDisabled;var v=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices(),w=v.virtualDeviceInfo;v=k(c("MWEBHasSeenAutoRestoreNoticeContext"));var x=v.hasSeenNotice;e[0]!==i||e[1]!==s||e[2]!==w.doesUserHaveOtcEligibleDevices?(v=function(){i==null||i(),w.doesUserHaveOtcEligibleDevices===!0&&n.onReady(function(a){c("promiseDone")(a({cleanupReason:c("PAKECleanupSessionReasonEnum").FLOW_ABANDONED,clientType:c("PAKEClientTypeEnum").ENCRYPTED_BACKUPS,deviceId:d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),storage:s}))})},e[0]=i,e[1]=s,e[2]=w.doesUserHaveOtcEligibleDevices,e[3]=v):v=e[3];var y=v;e[4]!==g||e[5]!==y?(v=function(){d("MWChatEncryptedBackupsLogging").closeDialogCancelFlow({event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,onClose:function(){return g()}}),y()},e[4]=g,e[5]=y,e[6]=v):v=e[6];var z=v;v=k(c("MWChatEncryptedBackupOnCloseContext"));var A=v.setOnCloseSkipConfirmation,B;e[7]!==z||e[8]!==A?(v=function(){A(function(){return z})},B=[z,A],e[7]=z,e[8]=A,e[9]=v,e[10]=B):(v=e[9],B=e[10]);l(v,B);var C=c("useMWAbandonRestoreConfirmationDialog")(z);e[11]!==g||e[12]!==y?(v=function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"reset_skip",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),g(),y()},e[11]=g,e[12]=y,e[13]=v):v=e[13];var D=v,E=c("useMWEBAutoRestoreNoticeStep")(),F=w.vestaClientID!=null;e[14]!==u||e[15]!==t||e[16]!==s?(B=function(){r.current||(r.current=!0,d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:s,onFetch:function(a){var b=a.ebsmWiped,e=a.firstUpsellTime,f=a.hasEbKeysLocally,g=a.hasEBSM,h=a.hasPDB,i=a.hasUserRestoredBefore;a=a.hasUserRestoredBeforeTemp;var j=u();t({additionalAnnotations:{eb_session_identifier:e,ebsm_wiped:b,has_eb_keys_locally:f,has_ebsm:g,has_pdb:h,has_user_restored_before:i,has_user_restored_before_temp:a,restore_upsell_first_impression_time:e},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:j});j===c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK&&(c("InteractionTracing.xplat").getPendingInteractions().forEach(p),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"INBOX_SOFTBLOCK_RESTORE_SCREEN"));c("promiseDone")(o.load(),function(a){return a(f)})}}))},v=[u,t,s],e[14]=u,e[15]=t,e[16]=s,e[17]=B,e[18]=v):(B=e[17],v=e[18]);l(B,v);B=f?g:C;e[19]!==E||e[20]!==u||e[21]!==x||e[22]!==F||e[23]!==g||e[24]!==C||e[25]!==D||e[26]!==q||e[27]!==w.offlineDevicesCount||e[28]!==w.vestaClientID?(v=function(a){var e=function(b){return E({hasSeenNotice:x,onNextStep:b,pushPage:a})},f=b("cr:27430")!=null?j.jsx(b("cr:27430"),{closeOnComplete:!0,onClose:g,onComplete:function(){e(g)}}):null,h=b("cr:3042")!=null?j.jsx(b("cr:3042"),{onClose:g,onComplete:function(){e(g)},pushPage:a}):null;h=q===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE?h:q===d("UserMobileEBState").UserMobileEBState.NO_MOBILE?f:null;f=q===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE||q===d("UserMobileEBState").UserMobileEBState.NO_MOBILE;f&&h==null&&c("FBLogger")("messenger_web_trust").mustfix("No dialog step found for EOTR flow - empty dialog rendered to the user");return h!=null?h:j.jsx(c("MAWEncryptedBackupsRestoreStep.react"),{clientID:d("MAWPinCodeGating").isPinCodeEnabled()&&F?w.vestaClientID:null,offlineDevicesCount:w.offlineDevicesCount,onClose:C,onComplete:function(){e(g)},onForgotRC:function(){d("MWEncryptedBackupsForgotRCStep").pushForgotRCPage({onClose:g,onComplete:g,pushPage:a})},onSkip:D,pushPage:a,shouldShowForgotButton:!0,source:u()})},e[19]=E,e[20]=u,e[21]=x,e[22]=F,e[23]=g,e[24]=C,e[25]=D,e[26]=q,e[27]=w.offlineDevicesCount,e[28]=w.vestaClientID,e[29]=v):v=e[29];e[30]!==a||e[31]!==v||e[32]!==B?(f=j.jsx(c("MWXMultiStepDialog_DEPRECATED.react"),{onClose:B,size:"small",withCloseButton:a,children:v}),e[30]=a,e[31]=v,e[32]=B,e[33]=f):f=e[33];return f}function p(a){a.addAnnotationBoolean("eb_soft_block",!0)}g["default"]=a}),98);
__d("MWEBRestoreInterstitialDialogWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreInterstitialDialogWrapper_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWEncryptedBackupsRestoreDialogContexts_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBRestoreInterstitialDialogWrapper.react",["CometRelay","MAWEncryptedBackupsRestoreDialogContexts.react","MWChatEncryptedBackupsQPLSource.enum","MWEBRestoreDialog.react","MWEBRestoreInterstitialDialogWrapper_query.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.query,g=a.setIsClosed,i=a.setIsDialogPersisted;a=a.setIsDismissed;f=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBRestoreInterstitialDialogWrapper_query.graphql"),f);var k=c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK,l;e[0]!==g?(l=function(){return g(!0)},e[0]=g,e[1]=l):l=e[1];var m;e[2]!==a||e[3]!==l?(m=j.jsx(c("MWEBRestoreDialog.react"),{onClose:l,onDismissUpsell:a}),e[2]=a,e[3]=l,e[4]=m):m=e[4];e[5]!==f||e[6]!==i||e[7]!==m?(a=j.jsx(c("MAWEncryptedBackupsRestoreDialogContexts.react"),{query:f,setIsDialogPersisted:i,source:k,children:m}),e[5]=f,e[6]=i,e[7]=m,e[8]=a):a=e[8];return a}g["default"]=a}),98);
__d("MWEncryptedBackupsOTCShowNotificationSentToast",["fbt","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:4027","cr:6570","mwPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=b("cr:6570")?j.jsx(b("cr:6570"),{icon:c("FDSCheckmarkFilled24Icon")}):void 0,e=b("cr:4027")?d("SVGIcon").svgIcon(b("cr:4027")):void 0;d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"Code sent."),icon:{comet:a,mds:e},testid:"mw-chat-encrypted-backups-otc-notification-sent-successful-toast"});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_NOTIFICATION_SENT_SUCCESSFUL_TOAST")}g.showOTCNotificationSentToast=a}),226);
__d("MWEncrypedBackupsSendOTCNotifications",["FBLogger","I64","LSAuthorityLevel","LSEncryptedBackupsOpStatus","LSFactory","LSSendOTCNotificationsStoredProcedure","LSVec","MWEncryptedBackupsOTCShowNotificationSentToast","ReQL","ReQLSuspense","err","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(i||d("react")).useCallback;async function k(a){var b=a.db,e=a.deviceIds;a=new Promise(function(a,e){var f=d("ReQL").fromTableAscending(b.tables.encrypted_backups_otc_notification_sending_status),g=f.subscribe(function(b,f){if(f.operation==="delete")return;b=f.value;if(b==null)return;f=(j||(j=d("I64"))).to_int32(b.authorityLevel);if(f!==c("LSAuthorityLevel").AUTHORITATIVE)return;g();switch((j||(j=d("I64"))).to_int32(b.notificationSendingStatus)){case c("LSEncryptedBackupsOpStatus").SUCCESS:d("MWEncryptedBackupsOTCShowNotificationSentToast").showOTCNotificationSentToast();return a();case c("LSEncryptedBackupsOpStatus").FAILURE:return e(c("err")("[sendOTCNotifications] Failure"));default:c("FBLogger")("wmi_eb").mustfix("OTC: Unexpected UNKNOWN status type for notification sending result.");return e(c("err")("[sendOTCNotifications] Unknown"))}})});await b.runInTransaction(function(a){return c("LSSendOTCNotificationsStoredProcedure")(c("LSFactory")(a),{deviceIds:c("LSVec").ofArray(e!=null?e:[])})},"readwrite",void 0,void 0,f.id+":81");return a}function a(){var a,b=d("react-compiler-runtime").c(5),e=(h||(h=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.encrypted_backups_otc_notification_sending_status)},[e.tables.encrypted_backups_otc_notification_sending_status],f.id+":98"))==null?void 0:a.authorityLevel;a=a!=null&&(j||(j=d("I64"))).to_int32(a)===c("LSAuthorityLevel").OPTIMISTIC;var g;b[0]!==e?(g=function(a){return k({db:e,deviceIds:a})},b[0]=e,b[1]=g):g=b[1];g=g;var i;b[2]!==a||b[3]!==g?(i=[g,a],b[2]=a,b[3]=g,b[4]=i):i=b[4];return i}g.sendOTCNotifications=k;g.useSendOTCNotifications=a}),98);
__d("usePakeInitiatorManager",["FBLogger","PakeCpaceWasm","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=c("requireDeferred")("establishPakeHandshakeAsInitiator").__setRef("usePakeInitiatorManager"),l=3e4;function a(a){var b=d("react-compiler-runtime").c(15),e=a.onGeneralFailure,f=a.onMaxAttemptsReached,g=a.onNoSessionExists,h=a.onSessionExpired,r=a.onSuccessfulSecretDecryption,s=a.onWrongOtc,t=a.timeout,u=a.clientType,v=t===void 0?l:t,w=c("useAsyncReStore")(),x=j(null),y=j(q),z=j(p),A=j(null),B=j(!1);b[0]===Symbol.for("react.memo_cache_sentinel")?(a=function(){var a;z.current();z.current=o;(a=x.current)==null||a.delete();x.current=null;y.current();y.current=n},b[0]=a):a=b[0];var C=a;b[1]===Symbol.for("react.memo_cache_sentinel")?(t=function(){B.current===!1&&(B.current=!0,c("promiseDone")(d("PakeCpaceWasm").PakeCPaceWasm().then(function(a){A.current=a}),void 0,m));return C},a=[C],b[1]=t,b[2]=a):(t=b[1],a=b[2]);i(t,a);b[3]!==u||b[4]!==w||b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==r||b[10]!==s||b[11]!==v?(t=function(a){return Promise.all([w,k.load()]).then(async function(b){var c=b[0];b=b[1];b=await b({clientType:u,onGeneralFailure:e,onMaxAttemptsReached:f,onNoSessionExists:g,onSessionExpired:h,onSuccessfulSecretDecryption:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b;C();r.apply(void 0,d)},onWrongOtc:s,otc:a,pakeCpaceModule:A.current,storage:c,timeout:v});c=b.pakeClient;var d=b.stopTimeout;b=b.unsubFromMessagesTable;x.current=c;y.current=d;z.current=b})},b[3]=u,b[4]=w,b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=r,b[10]=s,b[11]=v,b[12]=t):t=b[12];a=t;b[13]!==a?(t={establishPakeHandshakeAsInitiator:a},b[13]=a,b[14]=t):t=b[14];return t}function m(){c("FBLogger")("wmi_eb").mustfix("PAKE: Error loading WASM module")}function n(){}function o(){}function p(){}function q(){}g.default=a}),98);
__d("MWEncryptedBackupsInsertOTCStep.react",["fbt","EBSMAPI","EBSMGatingUI","FBLogger","JSResourceForInteraction","MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBEOTRDialog.entrypoint","MWEBLazyLoadResetPinPage","MWEBOTCErrorMessages","MWEBOTCInterstitialIllustration.react","MWEBPinCodeTryAgainLaterDialog.entrypoint","MWEBVirtualDevicesContext.react","MWEncrypedBackupsSendOTCNotifications","MWEncryptedBackupsLocalStorageEntryEnum","MWXColumn.react","MWXColumnItem.react","MWXDeferredPopoverTrigger.react","MWXDialogPageLegacy.react","MWXLink.react","MWXMultiStepDialogHeader.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","PAKEClientTypeEnum","QPLUserFlow","gkx","justknobx","promiseDone","react","requireDeferred","useAsyncReStore","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","usePakeInitiatorManager","usePushFDSMultiStepDialogEntryPointPage","usePushPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useMemo,p=b.useRef,q=b.useState,r=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsInsertOTCStep.react"),s=c("requireDeferred")("MWEncryptedBackupsOTCEligibleDevicesPopover.react").__setRef("MWEncryptedBackupsInsertOTCStep.react"),t=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("MWEncryptedBackupsInsertOTCStep.react"),u=c("requireDeferred")("deserializeSecretsAndAddDevice").__setRef("MWEncryptedBackupsInsertOTCStep.react"),v=c("JSResourceForInteraction")("MWEBPushResetPinPage").__setRef("MWEncryptedBackupsInsertOTCStep.react"),w=c("gkx")("18276"),aa="chat-encrypted-backups-dialog-layout-second-step",ba=6,ca="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more",da=c("gkx")("23219"),ea=c("gkx")("20861"),x=c("justknobx")._("654");function a(a){var b=a.onClose,e=a.onComplete,f=a.onSkip,g=a.pushPage;a=q(!1);var j=a[0],y=a[1],z=p(!1),A=p(!1),B=p(function(){});a=q(null);var C=a[0],D=a[1],E=c("useAsyncReStore")(),fa=c("useMWEBFlowSourceContext")(),F=m(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;n(function(){return function(){B.current()}},[]);a=d("MWEncrypedBackupsSendOTCNotifications").useSendOTCNotifications();var G=a[0],H=a[1],I=l(function(){G()["catch"](function(){c("FBLogger")("wmi_eb").mustfix("OTC: Send otc notifications sproc failed."),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_SEND_NOTIFICATION_FAILURE"),D(d("MWEBOTCErrorMessages").getNotificationFailedToSendErrorMessage())})},[G]);a=q(!1);var J=a[0],ga=a[1];a=c("useVisibilityObserver")({onVisible:function(){ga(!0)}});n(function(){if(x===!0)return;z.current===!1&&(z.current=!0,c("promiseDone")(v.load()),I())},[I]);n(function(){if(x===!1)return;if(z.current===!0||J===!1)return;z.current=!0;c("promiseDone")(v.load());I()},[J,I]);var K=m(c("MWChatEncryptedBackupsDismissalDialogContext")),L=K.setIsDismissedDisabled;K=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();var M=K.virtualDeviceInfo,N=l(function(){M.vestaClientID!=null?(L(!0),c("MWEBLazyLoadResetPinPage")(e,g)):e()},[e,g,L,M.vestaClientID]);K=c("usePakeInitiatorManager")({clientType:c("PAKEClientTypeEnum").ENCRYPTED_BACKUPS,onGeneralFailure:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_API_FAILURE"),D(d("MWEBOTCErrorMessages").getGeneralErrorMessage()),A.current=!0,y(!1),F==null||F(!1)},[F]),onMaxAttemptsReached:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_MAX_ATTEMPTS_REACHED"),D(d("MWEBOTCErrorMessages").getMaxAttemptsReachedErrorMessage()),A.current=!0,y(!1)},[]),onNoSessionExists:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_NO_SESSION"),D(d("MWEBOTCErrorMessages").getNoSessionOngoingErrorMessage()),A.current=!0,y(!1)},[]),onSessionExpired:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SESSION_EXPIRED"),D(d("MWEBOTCErrorMessages").getSessionExpiredErrorMessage()),A.current=!0,y(!1)},[]),onSuccessfulSecretDecryption:l(function(a){var b=a.decryptedSecret,e=a.initiatorId;F==null||F(!0);c("promiseDone")(u.load(),function(a){c("promiseDone")(E.then(function(f){return a({db:f,initiatorId:e,onAddDeviceFailure:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_ADD_DEVICE_FAILURE"),D(d("MWEBOTCErrorMessages").getGeneralErrorMessage()),A.current=!0,y(!1),F==null||F(!1)},onAddDeviceFinish:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_ADD_DEVICE_FINISHED"),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),t.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:f,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))}),r.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}),N(),y(!1),c("EBSMAPI").fetchBackupIds("MWEncryptedBackupsInsertOTCStep.react")["catch"](function(a){return c("FBLogger")("wmi_eb").mustfix("OTC Restore: Error when fetching backup ids, %s",a)})},secrets:b})}),function(a){B.current=a})})},[E,N,F]),onWrongOtc:l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_INCORRECT_CODE"),D(d("MWEBOTCErrorMessages").getOtcIsWrongErrorMessage()),A.current=!0,y(!1)},[])});var ha=K.establishPakeHandshakeAsInitiator;K=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode({focusRegionId:aa,inputSize:ba,onChange:function(){D()},onComplete:function(a){var b=fa();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"one_time_code",source:b}});y(!0);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SUBMIT");c("promiseDone")(ha(a))},type:"otc"});var ia=K[0];K=K[1];var O=K.clearNumericInput,P=K.focusOnInput,Q=K.isLoading,R=l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_RESEND_CLICK"),I(),P()},[P,I]);K=c("usePushFDSMultiStepDialogEntryPointPage")(c("MWEBEOTRDialog.entrypoint"),{});K[0];var S=K[1];K=c("usePushPage")(c("MWEBPinCodeTryAgainLaterDialog.entrypoint"),{});var T=K[0];K=K[1];K.onHighIntent;var U=babelHelpers.objectWithoutPropertiesLoose(K,i),V=l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_HELP_CLICK"),S({onClose:b,onSkip:f})},[b,f,S]),W=l(function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_PIN_LOCKED_NO_OTHER_DEVICE_CLICK"),T({onSkip:f})},[f,T]);n(function(){A.current&&(O(),A.current=!1)},[O]);K=c("useVisibilityObserver")({onVisible:function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{bool:{otc_check_first:!1,otc_devices_popover:!0}}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SCREEN"),P()}});var ja=h._(/*BTDS*/"Check Messenger or Facebook on your mobile device for a one-time code"),X=o(function(){return{disabled:Q||H,label:h._(/*BTDS*/"Resend code"),onPress:R,testid:"mw-eb-otc-insert-resend-code-button",type:"secondary"}},[Q,H,R]),Y=c("justknobx")._("4787"),Z=o(function(){return{label:h._(/*BTDS*/"Need help?"),linkProps:Y?{rel:"noreferrer",target:"_blank",url:ca}:void 0,onPress:Y?void 0:V,testid:"mw-eb-otc-insert-help-button"}},[V,Y]),$=o(function(){return babelHelpers["extends"]({label:h._(/*BTDS*/"Don\u2019t have your other device?"),onPress:W},U,{testid:"mw-eb-otc-no-other-device-button"})},[W,U]);$=w?$:Z;Z=$!=null;return k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMultiStepDialogHeader.react"),{withCloseButton:!1,withoutBackButton:!0,withoutHeaderBottomBorder:!0}),k.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,primaryCallToAction:Z&&!j?X:void 0,ref:K,secondaryCallToAction:Z&&!j?$:void 0,children:k.jsx("div",{className:"x2lwn1j",ref:a,children:k.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingTop:16,paddingVertical:Z&&!j?void 0:16,spacing:8,children:[k.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:16,children:k.jsx("div",{className:"xg87l8a",children:k.jsx(c("MWEBOTCInterstitialIllustration.react"),{})})}),k.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:16,children:k.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,type:"headlineEmphasized2",children:ja})}),k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",{className:"x1l90r2v x2b8uid",children:k.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"middle",popoverProps:{},popoverResource:s,position:"above",children:function(a,b){return k.jsx(c("MWXText.react"),{color:"secondary",type:"body3",children:h._(/*BTDS*/"After confirming on {device} that you requested a code, you can enter it here.",[h._param("device",k.jsx(c("MWXText.react"),{color:"blueLink",ref:a,type:"bodyLink3",children:k.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_DEVICES_POPOVER_CLICK"),b()},testid:void 0,children:h._(/*BTDS*/"your mobile device")})}))])})}})})}),k.jsxs(c("MWXColumnItem.react"),{align:"center",children:[k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:C,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},ia,{disabled:Q||j,testid:void 0}))}),ea&&C===d("MWEBOTCErrorMessages").getGeneralErrorMessage()?k.jsx("div",{className:"xwib8y2",children:k.jsx(c("MWXText.react"),{align:"center",color:"negative",type:"body4",children:h._(/*BTDS*/"[meta-only] please rageshake from both devices (mobile and web) when reporting an OTC bug")})}):null]}),j&&k.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:Z?16:0,paddingVertical:Z?8:0,children:k.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[k.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:k.jsx(c("MWXSpinner.react"),{color:da?"disabled_DEPRECATED":"blue",size:12})}),k.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:k.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"body3",children:h._(/*BTDS*/"Verifying your code")})})]})}),!Z&&!j&&k.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:8,children:k.jsx(c("MWXText.react"),{color:X.disabled?"disabled":"highlight",type:"button2",children:k.jsx(c("MWXLink.react"),{disabled:X.disabled,onClick:X.onPress,rel:"noreferrer",children:X.label})})})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWResetAttachmentsRangesOnEBOnboard",["LSThreadMediaGalleryGroup","MAWFetchAndPersistMedia","MAWMediaRestoreEBRange","MWEBEntrypointsKillswitch.enum","promiseDone","react","react-compiler-runtime","useMWEBBackupState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(8),e=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={entrypoint:c("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE},b[0]=a):a=b[0];var f=c("useMWEBBackupState")(a);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("MAWMediaRestoreEBRange").getMediaRestoreEBRange(),b[1]=a):a=b[1];var g=a,h;b[2]!==f||b[3]!==e.threadKey?(a=function(){f===3&&(g.resetRange(e.threadKey),c("promiseDone")(d("MAWFetchAndPersistMedia").updateLocalAttachmentsRange(e.threadKey,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS,{hasMoreBefore:!0})))},h=[f,g,e.threadKey],b[2]=f,b[3]=e.threadKey,b[4]=a,b[5]=h):(a=b[4],h=b[5]);i(a,h);b[6]!==f?(a={backupState:f},b[6]=f,b[7]=a):a=b[7];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometBatchNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30300156509571373"}),null);
__d("CometBatchNotificationsStateChangeSubscription.graphql",["CometBatchNotificationsStateChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"BatchNotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"batch_notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometBatchNotificationsStateChangeSubscription",selections:d,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometBatchNotificationsStateChangeSubscription",selections:d},params:{id:b("CometBatchNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"batch_notification_state_change_subscribe"},name:"CometBatchNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometBatchNotificationsStateChangeSubscription",["CometBatchNotificationsStateChangeSubscription.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometBatchNotificationsStateChangeSubscription.graphql");function a(a){return d("CometRelay").requestSubscription(a,{subscription:i,variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE",query_flags:["INCLUDE_WA_P2B_NOTIFS"]}}})}g.subscription=i;g.batchSubscribe=a}),98);
__d("CometNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23864641996495578"}),null);
__d("CometNotificationsStateChangeSubscription.graphql",["CometNotificationsStateChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometNotificationsStateChangeSubscription",selections:d,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometNotificationsStateChangeSubscription",selections:d},params:{id:b("CometNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometNotificationsStateChangeSubscription",["CometNotificationsStateChangeSubscription.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometNotificationsStateChangeSubscription.graphql");function a(a){return d("CometRelay").requestSubscription(a,{subscription:i,updater:function(a,b){if(!b)return;b=b.notification_state_change_subscribe;if(!b)return;var c=b==null?void 0:b.notification;b=b==null?void 0:b.seen_state;if(!c||!b)return;if(c.id!=null&&c.id!==""){a=a.get(c.id);a&&a.setValue(b,"seen_state")}},variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE",query_flags:["INCLUDE_WA_P2B_NOTIFS"]}}})}c={subscribe:a,subscription:i};g["default"]=c}),98);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});var g=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,E2eeStateP2PSFrameExpStatus:g,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("FDSArrowsCircleFilled24Icon",["cr:14428"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14428")}),98);
__d("FDSArrowsCircleFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("538038"),24);b=a;g["default"]=b}),98);
__d("FDSCrossCircleOutline20Icon",["cr:14804"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14804")}),98);
__d("FDSCrossCircleOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("491584"),20);b=a;g["default"]=b}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4])):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[19]=c[0].get("last_sync_request_timestamp_ms"),c[20]=c[0].get("can_ignore_timestamp"),c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[38]=c[0].get("sync_params"),c[39]=c[0].get("current_cursor"),c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4]}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure";a.__tables__=["sync_groups","network_requests"];e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSyncForSyncGroup"),e.syncGroupId,e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSync"),e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function a(){return d("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(h).load()}g["default"]=a}),98);
__d("LSPlatformClientInit",["FBLogger","LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeEagerly","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","cr:3411","cr:7705","emptyFunction","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);i.debug("Platform client sync connection status: ",b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":77"),function(){i.debug("Platform client sync connection status set successfully")},function(a){i.error("Platform client sync connection status set failed: "+(a==null?void 0:a.message));throw a})}async function a(a,e,f,g,h,l){var m;i.debug("Platform client sync starting...");(m=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();m.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");m.addPoint("ds_eval_registration");g=await e.getEval();i.debug("Getting datascript evaluator success");var n;try{n=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("FBLogger")("ls_web_init").catching(c("getErrorSafe")(b)).mustfix("fail to register datascriptEvaluator"),n=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");l.didEvaluateInitSyncEagerly||(d("LSPlatformLsInitLog").addPoint("ls_clear_epoch"),await d("LSClearEpochBeforeResumeSync").call(a),d("LSPlatformLsInitLog").addPoint("ls_clear_epoch_end"),i.debug("Clearing epoch before resume sync success"),d("LSPlatformLsInitLog").addPoint("create_client_end"),e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),await d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,n,a,f),i.debug("Starting hard-coded init sync success")));d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a));i.debug("Starting realtime transport");m=await e.realtimeUnderylingTransport();d("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_end");var o=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(m,e.appId,f);d("LSPlatformLsInitLog").addPoint("platform_realtime_transport_end");i.debug("Starting task system");var p=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,o,n,e.schemaVersion));d("LSPlatformLsInitLog").addPoint("platform_task_system_end");i.debug("Starting sync system");var q=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeEagerly")(),function(b){q=b(a,o,n,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var r=j(a);d("LSPlatformLsInitLog").addPoint("init_listeners_backup_state_end");var s;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){s=a}));i.debug("Subscribing to mqtt sync status change events");o.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");d("LSPlatformLsInitLog").endSuccess();return{cleanup:function(){var b;i.debug("Platform client sync cleaning up");h(a);p==null||p.cleanup();(b=q)==null||b.cleanup();o.cleanup();r();s==null||s()},db:a}}g.init=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","cr:10018","emptyFunction","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction").thatReturns(Promise.resolve());function j(a,b,e){var f,g=async function(){var g=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");f=await d("LSPlatformClientInit").init(a,b,g,c("emptyFunction"),c("emptyFunction"),e)};return{cleanup:function(){var a;(a=f)==null||a.cleanup()},db:a,start:g}}async function k(a,e,f){if(b("cr:10018")==null)throw c("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=await b("cr:10018").make(a,e,f);e.isTabWithoutClient()===!0&&(d("MAWMIC").addPoint("ls_init_end"),d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end),d("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:i}}async function a(a,e){d("LSPlatformLsInitLog").addPoint("make_client");if((h||(h=c("ExecutionEnvironment"))).canUseDOM){d("LSPlatformLsInitLog").addPoint("create_client_get_db");var f=await a.getDb();d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(f)&&b("cr:10018")!==null)try{return k(f,a,e)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return j(f,a,e)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:i}}g.make=a}),98);
__d("LSPlatformDGWTransport",["DGWClient","DGWLoggingContext","DGWStream","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","LSStreamGroupRef","MWPBumpEntityKey","MessengerWebRegion","MqttConfig","NetworkStatus","QuickPerformanceLogger","Random","getErrorSafe","gkx","justknobx","promiseDone","qex","qpl","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("3218"),k=c("gkx")("12101"),l=(b=c("qex")._("2084"))!=null?b:!1,m=(e=c("qex")._("2085"))!=null?e:!1,n=(f=c("qex")._("2088"))!=null?f:!1,o=(b=c("qex")._("2090"))!=null?b:!1,p=(e=c("qex")._("2092"))!=null?e:!1,q=c("justknobx")._("1573"),r=c("justknobx")._("3666"),s=c("qpl")._(701246226,"1285"),t=15,u=0,v=!1,w=new Map(),x=null,y=!1,z=!1,A=null;function B(a){a=1*Math.pow(2,a);a=Math.max(a,1);a=Math.min(a,64);return Math.ceil(a*(1e3+d("Random").random()*200))}function C(a,b,e,f){var g;if(y){var h;(h=d("LSStreamGroupRef").streamGroupRef.current)==null||h.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","","deviceId:"+a);return}y=!0;h=B(u++);n&&u>t&&(u=0);var i="deviceId:"+a+", reconnectMs:"+h+", attempt:"+u+", isClosedLocally:"+String(z);(g=d("LSStreamGroupRef").streamGroupRef.current)==null||g.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect","",i);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect");A=c("setTimeout")(function(){D(a,b,e,f),y=!1},h)}function D(a,b,e,f){var g=c("uuidv4")();d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId=g;var h={authToken:e,authType:f,connectTimeoutMs:r,deviceId:a,keepAliveMs:q,loggingId:g,serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:j};k&&(h.trafficTracing="dgw-"+g);d("MessengerWebRegion").regionNullable!=null&&(h.regionHint=d("MessengerWebRegion").regionNullable);var i={onStreamGroupError:function(b){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var c;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Error"));(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b));d("DGWStreamGroupCallbacks").isRetryableError(b)?(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),C(a,"reconnect_on_streamgrouperror."+d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),e,f)):d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(b){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var c;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+b);(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain",b,"deviceId:"+a);C(a,"reconnect_on_streamgroupmustdrain",e,f)},onStreamGroupTransportClose:function(){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var b;(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Close"));(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+a);C(a,"onStreamGroupTransportClose",e,f)}};w.clear();d("LSStreamGroupRef").streamGroupRef.status="Connecting";i=c("DGWClient")().createStreamGroup(i,h);h="deviceId:"+a+", runtime_site_is_comet_fb_web:"+String(c("gkx")("2116"))+", endpoint:"+c("MqttConfig").endpoint+", reason:"+b;i.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport","",h);c("promiseDone")(i.initTransport(),function(c){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSLogHistory").log("StreamGroupTransport Connected","debug");d("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(d("LSStreamGroupRef").streamGroupRef.status="Connected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Connected"));v&&(d("LSStreamGroupRef").streamGroupRef.reconnectHandler&&d("LSStreamGroupRef").streamGroupRef.reconnectHandler(3));v=!0;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","","deviceId:"+a+", reason:"+b);(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"BufferFlushed","",String(d("LSStreamGroupRef").streamGroupRef.publishBuffer.size));u=0;d("LSStreamGroupRef").streamGroupRef.publishBuffer.forEach(function(a,b,c){a.resolve(),d("LSStreamGroupRef").streamGroupRef.publishBuffer.delete(b)})},function(b){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var c;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSLogHistory").log("StreamGroupTransport onError","debug");d("LSStreamGroupRef").streamGroupRef.publishBuffer.clear();d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected",b));(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError");b!==d("DGWStream").StreamError.UNAUTHORIZED&&C(a,"reconnect_on_streamgrouptransportonerror."+String(b),e,f)});d("LSStreamGroupRef").streamGroupRef.current=i;return d("LSStreamGroupRef").streamGroupRef.current}async function E(a,b,e,f){e===void 0&&(e=!0);var g=d("LSStreamGroupRef").streamGroupRef.current;if(g==null)throw c("FBLogger")("ls_web_init").mustfixThrow("LS Stream Group not initialized");var h=new TextDecoder(),i={};d("LSPlatformDGWHostnameOverride").useHostNameOverride&&d("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(i["javascript-sandbox"]=d("LSPlatformDGWHostnameOverride").hostNameOverride);try{var k=c("uuidv4")();g=await g.establishStream({groupedStreamHeaders:i,loggingId:k,verboseLoggingEnabled:j},{onClose:function(){d("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(a){var b=h.decode(a);b.length>0&&d("LSStreamGroupRef").streamGroupRef.subscribers.forEach(function(a){a(b)})},onError:function(a){d("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(a){d("LSLogHistory").log("Stream finished sending data","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),a.close()},onStreamMustDrain:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),d("LSLogHistory").log("Stream must drain","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),a.close()}},b,e,f);d("LSLogHistory").log("Stream Connected","debug");return g}catch(b){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+a);d("LSLogHistory").log("Error Establishing Stream. Disconnected","debug");throw b}}var F="Disconnected";f=function(){return F};function a(a,b,c,d){x||(x=G(a,b,"init_single_transport_instance",c,d));return x}function G(a,b,e,f,g){var j=new TextEncoder();D(b,e,f,g);var k=c("NetworkStatus").onChange(function(a){a=a.online;m&&a&&(A!=null&&(window.clearTimeout(A),A=null,y=!1,u=0,C(b,"network_status_change",f,g)))});return{cleanup:function(){var a;z=!0;k.remove();(a=d("LSStreamGroupRef").streamGroupRef.current)==null||a.close();d("LSStreamGroupRef").streamGroupRef.reconnectHandler=null;d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null;d("LSStreamGroupRef").streamGroupRef.publishBuffer.clear();d("LSStreamGroupRef").streamGroupRef.subscribers.clear()},logEvent:function(a){var b;(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a)},onConnectionStatusChange:function(a){d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=a;return function(){d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null}},onReconnect:function(a){d("LSStreamGroupRef").streamGroupRef.reconnectHandler=a;return function(){d("LSStreamGroupRef").streamGroupRef.reconnectHandler=null}},publish:async function(a,e,k){var m=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);(i||(i=c("QuickPerformanceLogger"))).markerStart(s,m);i.markerAnnotate(s,{int:{database:k},string:{streamGroupId:d("LSStreamGroupRef").getTransportId()}},{instanceKey:m});var n=(h||(h=d("LSIntEnum"))).toNumber(e);try{d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream."+(h||(h=d("LSIntEnum"))).toNumber(e));d("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(p&&d("LSStreamGroupRef").streamGroupRef.status==="Disconnected"&&(A!=null&&(window.clearTimeout(A),A=null,u=0,y=!1),(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"reconnect",{instanceKey:m}),D(b,"reconnect_when_publish",f,g)),(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"wait_for_connection",{instanceKey:m}),await H().then(function(){}).catch(function(){var a;d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+n);(a=d("LSStreamGroupRef").streamGroupRef.current)==null||a.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(n));return Promise.reject({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}));(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"send_message",{instanceKey:m});var q=1===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e)||2===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);if(q&&w.has(k)){var r=w.get(k);await (r==null?void 0:r.send(j.encode(a)))}else{r=4!==(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);var t={int:{databaseType:k,requestType:n}};a=await E(n,j.encode(a),r,t);r&&(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"send_message_acked",{instanceKey:m});(i||(i=c("QuickPerformanceLogger"))).markerEnd(s,2,m);q&&w.set(k,a)}}catch(a){a===d("DGWStream").StreamError.ACK_TIMEOUT&&(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"ack_timeout",{instanceKey:m});(i||(i=c("QuickPerformanceLogger"))).markerEnd(s,3,m);if(c("getErrorSafe")(a).message==="Max number of stream IDs reached"){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+n);(t=d("LSStreamGroupRef").streamGroupRef.current)==null||t.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream","StreamIdLimitExceeded",n.toString())}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+n);(r=d("LSStreamGroupRef").streamGroupRef.current)==null||r.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",n.toString());q=l&&3===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);if(q)return Promise.resolve();else{o&&a===d("DGWStream").StreamError.ACK_TIMEOUT&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",A!=null&&(window.clearTimeout(A),A=null,u=0,y=!1),D(b,"stream_ack_timeout",f,g));return Promise.reject(a)}}},subscribe:function(a){d("LSStreamGroupRef").streamGroupRef.subscribers.set(a,a);return function(){d("LSStreamGroupRef").streamGroupRef.subscribers.delete(a)}}}}function H(){var a={reject:function(){},resolve:function(){}},b=d("Random").uint32(),c=new Promise(function(b,c){a.resolve=b,a.reject=c});d("LSStreamGroupRef").streamGroupRef.publishBuffer.set(b,a);return c}g.getStatusForDebugging=f;g.LSPlatformDGWTransport=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","ReQL","gkx","promiseDone","qex","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g,j,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=new(c("LSPlatformServerResponseHandler"))(e),n=d("LSDatabaseProviderType").isProviderPersisted(a),o=function(b){return a.runInTransaction(async function(a){var c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",b));c!=null&&await a.network_requests.put({epochId:void 0,failureCount:(h||(h=d("I64"))).add(c.failureCount,h.one),lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName})},"readwrite",void 0,void 0,f.id+":78")},p=new(c("LSPlatformRequestScheduler"))(),q=async function(f,l){l=d("LSShape").toRecord(l);var o=d("LSShape").toRecord(l.request_payload);l=l.type;var p=c("LSPlatformRequestId").generate(),q=d("LSJson").stringify(d("LSShape").ofRecord({database:o.database,epoch_id:o.epoch_id,failure_count:o.failure_count,last_applied_cursor:o.last_applied_cursor,sync_params:o.sync_params,version:(h||(h=d("I64"))).of_string(g)})),r=(h||(h=d("I64"))).equal(f.sync_group_id,(i||(i=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!r&&f.skip_realtime_gateway){r=await d("LSPlatformGraphQLTransport").publish(j,p,l,q,k);var s=r[0],t=r[1],u=r[2];r=r[3];u={experiments:u,syncScript:t,target:r};return n?m.maybeEvalInOrderReceived(s,u):e(u)}else{t=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id));r=t!=null&&(h||(h=d("I64"))).equal(t.syncChannel,(i||(i=d("LSIntEnum"))).ofNumber(2))?(i||(i=d("LSIntEnum"))).ofNumber(2):d("LSMailboxInitialSyncCursor").syncChannel;s=c("qex")._("2071");if(t!=null&&s!=null&&s!=="default"){u=(i||(i=d("LSIntEnum"))).unwrapIntEnum(l);if(1===u||2===u||5===u){f=s+"."+(i||(i=d("LSIntEnum"))).toNumber(r)+"."+i.toNumber(l)+"."+i.toNumber(t.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}u=(h||(h=d("I64"))).to_int32(o.database);return b.publish({databaseType:u,payload:q,queueName:void 0,requestId:p,syncChannel:r,type_:l}).then(function(){return Promise.resolve()})}},r=function(b){var e=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:b})},"readwrite",void 0,void 0,f.id+":206").then(function(a){return r(a[0])})},g=function(a,b){p.schedule(function(){c("promiseDone")(e(a))},(h||(h=d("I64"))).to_string(a),h.to_float(b))},j=d("LSShape").toRecord(b);b=j.work_item_type;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(5))){var k=c("qex")._("2071");if(k!=null&&k!=="default"){var m=k+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",m)}var n=j.network_payload;if(n!=null)return q(j,n).catch(function(a){if(k!=null&&k!=="default"){var b=k+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception");a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.timeout"):a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.notconnected")}if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),l.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(i||(i=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(n).type)+"."+i.toNumber(j.sync_group_id));return o(j.sync_group_id).then(function(){return e(j.sync_group_id)})});else{c("FBLogger")("ls_web_init").mustfix("Expected networkpayload for sync request but didn't get any");return Promise.resolve()}}if(!(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(3)))if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(4))||!(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(2)))return Promise.resolve();else{c("FBLogger")("ls_web_init").mustfix("Native handling for sync group not implemented yet");return Promise.resolve()}m=j.next_sync_ms;if(m!=null){g(j.sync_group_id,m);return Promise.resolve()}else{c("FBLogger")("ls_web_init").mustfix("Expected delay for delayed sync request but didn't get any");return Promise.resolve()}},s=function(a){return Promise.all(c("LSVec").toArray(a[0]).map(function(a){return r(a)}))},t=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":384").then(s))},u=c("throttle")(t,500);t=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return u()})};var v=function(){return b.subscribeToNonTaskResponses(function(a,b){var e=b.ex,f=b.payload;e={experiments:e,sp:b.sp,syncScript:f,target:b.target};c("promiseDone")(m.maybeEvalInOrderReceived(a,e),function(){return u()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,b)}})})},w=function(){return b.onReconnect(function(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect");if(d("LSMailboxInitialSyncCursor").isWebApp&&1===b&&c("qex")._("2072")===!0&&c("qex")._("2080")===!0)return;l.debug("Sync System reconnecting");c("promiseDone")(a.runInTransaction(async function(b){var e;e=await (e=d("ReQL")).toArrayAsync(e.mergeJoin(e.fromTableAscending(a.tables.sync_groups),e.fromTableAscending(a.tables.network_requests).getKeyRange("")));await Promise.all(e.map(function(a){a=a[1];return b.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(b),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":478").then(s))})},x=t(),y=v(),z=w();u();return{cleanup:function(){x(),z(),y()}}}g.default=a}),98);
__d("LSUserVisibleErrorsUtil",["LSFactory","LSRemoveErrorStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("promiseDone")(a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":24"))}g.removeUserVisibleErrorFromTable=a}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureLargeUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=a.profilePictureLargeFallbackUrl)!=null?b:a.profilePictureLargeUrl}else return a.profilePictureLargeUrl}g["default"]=a}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","ReQL","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;async function a(a,b,e){var f;if(((f=Notification)==null?void 0:f.permission)!=="granted")return;f=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b.threadKey,b.senderId)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId))]);var g=f[0],h=f[1],j=f[2];f=f[3];if(g==null||h==null||j==null)return;var n=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);n=k(n,g.threadName,j.nickname,h.name);j=l(b,f);f=await m(f,d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType));g=new Notification(n,{body:j,icon:(j=(n=c("getLSMediaThreadPictureUrl")(g))!=null?n:c("getLSMediaContactProfilePictureLargeUrl")(h))!=null?j:c("getLSMediaContactProfilePictureUrl")(h),image:f,tag:b.messageId,timestamp:(i||(i=d("I64"))).to_float(b.timestampMs)});g.onclick=function(){window.focus(),c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),function(a){a!=null&&e.openInbox({threadKey:b.threadKey,threadType:a.threadType},"desktopNotification")})}}function k(a,b,c,d){c=c!=null?c:d;return a&&b!=null?h._(/*BTDS*/"{senderName} to {threadName}",[h._param("senderName",c),h._param("threadName",b)]).toString():a?h._(/*BTDS*/"{senderName} to your group",[h._param("senderName",c)]).toString():c}function l(a,d){a=a.text;a=a!=null?b("cr:2472")==null?a:b("cr:2472").unvault(a):null;return a!=null&&a!==""?a:(a=c("getMWPAttachmentMessageAnnouncement")(d,!1))==null?void 0:a.toString()}async function m(a,b){if(a.length===0)return;a=a[0];if(!b)return d("LSMediaUrlAttachment").previewUrl(a);b=a.attachmentFbid;var e=a.attachmentType,f=a.authorityLevel;if(b===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;switch(!0){case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):try{return d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):if(a.previewUrl!=null)return d("LSMediaUrlAttachment").previewUrl(a);try{return d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):try{return d("MAWAttachmentBlob.react").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}}}g.triggerLocalNotification=a}),226);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPathGated",["cr:8784","cr:8786"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:8784"))!=null?a:b("cr:8786");d=c;g["default"]=d}),98);
__d("RTWebDropInUtils",["FBLogger","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("useSearchCometGlobalTypeaheadInitializeDataSource",["SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","searchCometGlobalTypeahead.config","useSearchCometEventEmitterContext","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(17),b=c("useSearchCometGlobalTypeaheadNullStateDataSource")(),e;a[0]!==b?(e={config:c("searchCometGlobalTypeahead.config"),recentDataSource:b},a[0]=b,a[1]=e):e=a[1];var f=c("useSearchCometGlobalTypeaheadCompositeDataSource")(e);e=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var g=e.subscribeToClearGlobalRecentSearches,h=e.subscribeToRecentSearchEntryAdded,j=e.subscribeToRefreshRecentSearches;a[2]!==f||a[3]!==h?(b=function(){return h==null?void 0:h(function(a){f.addRecentEntry(a)})},e=[f,h],a[2]=f,a[3]=h,a[4]=b,a[5]=e):(b=a[4],e=a[5]);i(b,e);a[6]!==f||a[7]!==g?(b=function(){return g==null?void 0:g(function(){f.clearRecentSearches()})},e=[f,g],a[6]=f,a[7]=g,a[8]=b,a[9]=e):(b=a[8],e=a[9]);i(b,e);a[10]!==f||a[11]!==j?(b=function(){return j==null?void 0:j(function(){f.refreshRecentSearches()})},e=[f,j],a[10]=f,a[11]=j,a[12]=b,a[13]=e):(b=a[12],e=a[13]);i(b,e);a[14]!==f?(b=function(){f.bootstrap()},e=[f],a[14]=f,a[15]=b,a[16]=e):(b=a[15],e=a[16]);i(b,e)}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadDataSourceLoader.react",["CometVisualCompletionAttributes","react","react-compiler-runtime","useSearchCometGlobalTypeaheadInitializeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1);c("useSearchCometGlobalTypeaheadInitializeDataSource")();var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE)),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("XCometGamingVanityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ZenonDeviceId",["ChannelClientID","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="chatd-deviceid";function j(){return d("ChannelClientID").getID()}function a(a){(h||(h=c("WebStorage"))).setAllowlistedKeyToLocalStorage(h.getLocalStorage(),i,a)}function k(){return(h||(h=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(i)}function b(){var a;return(a=k())!=null?a:j()}g.getZenonDeviceId=j;g.setZenonLocalStorageDeviceId=a;g.getZenonLocalStorageDeviceId=k;g.getZenonLocalStorageDeviceIdWithFallback=b}),98);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","FDSArrowsCircleFilled24Icon","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useRef;function a(){var a=d("react-compiler-runtime").c(10),e=l(null),f=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),g=f.startFlow;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:6570")?k.jsx(b("cr:6570"),{color:"primary",icon:c("FDSArrowsCircleFilled24Icon"),size:24}):void 0,a[0]=f):f=a[0];var j=f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:1376")?new(b("cr:1376"))(i("685423"),32,32):void 0,a[1]=f):f=a[1];var m=f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("BaseToasterStateManager").getInstance(),a[2]=f):f=a[2];var n=f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){if(e.current==null)return;n.expire(e.current);e.current=null},a[3]=f):f=a[3];var o=f;a[4]!==g?(f=function(){o(),e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"Restoring messages..."),icon:{comet:j,mds:m},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),g({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},a[4]=g,a[5]=f):f=a[5];f=f;var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){o(),d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"Failed to restore end-to-end encrypted messages. Try again.")})},a[6]=p):p=a[6];p=p;var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a=b("cr:6570")?k.jsx(b("cr:6570"),{icon:c("FDSCheckmarkFilled24Icon"),size:24}):void 0,f=b("cr:4027")?d("SVGIcon").svgIcon(b("cr:4027")):void 0;o();e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"End-to-end encrypted messages restored."),icon:{comet:a,mds:f},testid:"mw-chat-encrypted-backups-restore-successful-toast"});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},a[7]=q):q=a[7];q=q;a[8]!==f?(p={hideToast:o,showErrorToast:p,showInProgressToast:f,showSuccessToast:q},a[8]=f,a[9]=p):p=a[9];return p}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]);c=function(a){function b(b,c){var d;d=a.call(this,c==null?void 0:c.message)||this;d.name="BackupError";d.errorType=b;d.detailedError=c;d.message=b+((c==null?void 0:c.message)!=null?": "+(c==null?void 0:c.message):"");return d}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.BackupErrorType=a;f.BackupError=c}),66);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("tweetnacl-util").encodeBase64(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");a=a.length%4;if(a>0){if(a===1)throw new Error("Invalid length, couldn't decode input string");b=b.padEnd(b.length+(4-a),"=")}return c("tweetnacl-util").decodeBase64(b)}g.encodeBase64Url=a;g.decodeBase64Url=b}),98);
__d("MWChatEncrypedBackupsNumericCodeKeyTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NUM_PAD_WITHOUT_NUM_LOCK","NON_NUMERIC_CHAR"]);f.InvalidKeyType=a}),66);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.error;a=a.inputSize;a=a===void 0?"large":a;var g=a==="large"?k.outterWrapper:k.outterWrapperSmall;a=a==="large"?20:0;var i;b[0]!==f?(i=(h||(h=c("stylex"))).props(f!=null&&[k.inputWrapperErrorOnly]),b[0]=f,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==i?(l=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[2]=e,b[3]=i,b[4]=l):l=b[4];b[5]!==f?(e=f!=null?j.jsx("div",{className:"x10b6aqq x1y1aw1k x2b8uid",children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:f})}):null,b[5]=f,b[6]=e):e=b[6];b[7]!==a||b[8]!==l||b[9]!==e?(i=j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a,paddingTop:0,children:[l,e]}),b[7]=a,b[8]=l,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=j.jsx(c("MWXColumn.react"),{xstyle:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCodeInputAutoFocus",["FocusRegion.react","HiddenSubtreePassiveContext","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function k(a){if(!("elementsFromPoint"in document))return!0;var b=a.getBoundingClientRect();b=document.elementsFromPoint(b.left+b.width/2,b.top+b.height/2);for(b of b){if(b===a)return!1;var c=window.getComputedStyle(b);if(c.visibility!=="hidden"&&c.display!=="none")return!0}return!1}function l(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){var b=function(b){b.key>="0"&&b.key<="9"&&a(b.key)};window.addEventListener("keydown",b);return function(){window.removeEventListener("keydown",b)}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);j(c,e)}function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=i(c("HiddenSubtreePassiveContext")),h;f[0]!==b||f[1]!==a||f[2]!==g||f[3]!==e?(h=function(){var f=g.getCurrentState(),h=["input","textarea"].some(m);!a&&!h&&!f.hiddenOrBackgrounded&&!(e.current?k(e.current):!0)&&(c("gkx")("15923")&&d("FocusRegion.react").focusRegionById(b,d("focusScopeQueries").tabbableScopeQuery))},f[0]=b,f[1]=a,f[2]=g,f[3]=e,f[4]=h):h=f[4];l(h)}function m(a){var b;return(b=document.activeElement)==null?void 0:b.matches(a)}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","qex","react","react-compiler-runtime","useMWChatEncryptedBackupsNumericCodeInputAutoFocus"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=c("gkx")("24058"),n=function(a){return["0","1","2","3","4","5","6","7","8","9"].includes(a.key)},o=new Map([["Numpad0","0"],["Numpad1","1"],["Numpad2","2"],["Numpad3","3"],["Numpad4","4"],["Numpad5","5"],["Numpad6","6"],["Numpad7","7"],["Numpad8","8"],["Numpad9","9"]]),p=function(a){return a.location===3&&!n(a)&&!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey?o.get((a=a.nativeEvent)==null?void 0:a.code):null},q={input:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(44),e=a.extraProps;a=a.props;var f=e.hasFocus,g=e.setFocus;e=a["aria-label"];var h=a.disabled,n=a.focusRegionId,o=a.inputMode,s=a.onChange,t=a.onCompletionChange,u=a.onEnabledNumLock,v=a.onPressedInvalidKey,w=a.size,x=a.testid,y=a.value,z=h===void 0?!1:h;a=l(y.length===w);var A=a[0],B=a[1],C=k(null),D=k(z);c("useMWChatEncryptedBackupsNumericCodeInputAutoFocus")(f,n,C);b[0]!==A||b[1]!==s||b[2]!==t||b[3]!==w?(h=function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,w);s(a);t!=null&&b!==A&&(B(b),t(b))},b[0]=A,b[1]=s,b[2]=t,b[3]=w,b[4]=h):h=b[4];var E=h;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a=r,b=C.current;b==null||b.addEventListener("selectstart",a);return function(){b==null||b.removeEventListener("selectstart",a)}},f=[],b[5]=a,b[6]=f):(a=b[5],f=b[6]);j(a,f);b[7]!==z||b[8]!==g?(h=function(){z&&g(!1)},a=[z,g],b[7]=z,b[8]=g,b[9]=h,b[10]=a):(h=b[9],a=b[10]);j(h,a);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a=C.current;if(a==null)return;var b=function(){var b=a.value.length,c=a.selectionStart===a.selectionEnd&&a.selectionStart===b;c||a.setSelectionRange(b,b)};a.addEventListener("selectionchange",b);return function(){a.removeEventListener("selectionchange",b)}},h=[],b[11]=h,b[12]=f):(h=b[11],f=b[12]);j(f,h);b[13]!==z||b[14]!==n?(a=function(){D.current!==z&&(D.current=z,z||d("FocusRegion.react").focusRegionById(n,d("focusScopeQueries").tabbableScopeQuery))},f=[z,n],b[13]=z,b[14]=n,b[15]=a,b[16]=f):(a=b[15],f=b[16]);j(a,f);b[17]!==u||b[18]!==v||b[19]!==y||b[20]!==E?(h=function(a){var b=p(a);if(b!=null){v==null||v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK);if(c("qex")._("4752")===!0){b=y+b;E(b);a.preventDefault();a.stopPropagation()}}else a.key==="NumLock"&&(a.getModifierState==null?void 0:a.getModifierState("NumLock"))===!0&&(u==null||u())},b[17]=u,b[18]=v,b[19]=y,b[20]=E,b[21]=h):h=b[21];var F=h;a=x!=null?x+"-mw-numeric-code-input-prevent-composer-focus-steal":"mw-numeric-code-input-prevent-composer-focus-steal";b[22]!==g?(f=function(){g(!1)},h=function(){g(!0)},b[22]=g,b[23]=f,b[24]=h):(f=b[23],h=b[24]);var G;b[25]!==F?(G=function(a){var b=a.keyCode;(b===35||b===36||b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation());F==null||F(a)},b[25]=F,b[26]=G):G=b[26];var H;b[27]!==v||b[28]!==w||b[29]!==E?(H=function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,w)?E(a):v==null||v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)},b[27]=v,b[28]=w,b[29]=E,b[30]=H):H=b[30];var I;b[31]===Symbol["for"]("react.memo_cache_sentinel")?(I=[q.input,m&&q.testOpacity],b[31]=I):I=b[31];b[32]!==e||b[33]!==z||b[34]!==o||b[35]!==w||b[36]!==a||b[37]!==f||b[38]!==h||b[39]!==G||b[40]!==H||b[41]!==x||b[42]!==y?(I=i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:z,id:a,inputMode:o,maxLength:w,onBlur:f,onFocus:h,onKeyDown:G,onValueChange:H,ref:C,testid:void 0,value:y,xstyle:I}),b[32]=e,b[33]=z,b[34]=o,b[35]=w,b[36]=a,b[37]=f,b[38]=h,b[39]=G,b[40]=H,b[41]=x,b[42]=y,b[43]=I):I=b[43];return I}function r(a){a.preventDefault()}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},input:{alignItems:"x6s0dn4",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}},n="-",o="\u25cf";function p(a,b){return b?"disabled":a===n?"secondary":"primary"}function a(a){var b=d("react-compiler-runtime").c(28),e=a.color,f=a.disabled,g=a.enableMasking,i=a.hasFocus,q=a.inputSize,r=a.size,s=a.testid,t=a.value,u=e===void 0?"primary":e,v=f===void 0?!1:f,w=g===void 0?!1:g,x=q===void 0?"large":q;a=s===void 0?"numeric-renderer":s;b[0]!==i||b[1]!==r||b[2]!==t?(e=function(a){return(t.length===a||t.length>a&&a===r-1)&&i},b[0]=i,b[1]=r,b[2]=t,b[3]=e):e=b[3];var y=e;b[4]!==r?(f=Array(r).fill(n),b[4]=r,b[5]=f):f=b[5];g=l(f);q=g[0];var z=g[1];b[6]!==w||b[7]!==r||b[8]!==t?(s=function(){z(Array(r).fill().map(function(a,b){return t[b]!=null?w?o:t[b]:n}))},e=[w,r,t],b[6]=w,b[7]=r,b[8]=t,b[9]=s,b[10]=e):(s=b[9],e=b[10]);k(s,e);if(b[11]!==u||b[12]!==v||b[13]!==w||b[14]!==x||b[15]!==y||b[16]!==a||b[17]!==q){b[19]!==u||b[20]!==v||b[21]!==w||b[22]!==x||b[23]!==y||b[24]!==a?(f=function(a,b){return j.jsx(c("MWXRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.input,x==="small"&&m.inputSmall,x==="tiny"&&m.inputTiny,u==="primary"&&m.inputColorPrimary,u==="secondary"&&m.inputColorSecondary,y(b)&&m.focusRing),{"aria-hidden":a===n,"data-testid":void 0,children:w?j.jsx(c("MWXText.react"),{color:p(a,v),type:a===n?"entityHeaderHeadline1":"headlineEmphasized4",children:v?o:a}):j.jsx(c("MWXText.react"),{color:p(a,v),type:a===n?"entityHeaderHeadline1":"headlineEmphasized1",children:a})}))},b)},b[19]=u,b[20]=v,b[21]=w,b[22]=x,b[23]=y,b[24]=a,b[25]=f):f=b[25];g=q.map(f);b[11]=u;b[12]=v;b[13]=w;b[14]=x;b[15]=y;b[16]=a;b[17]=q;b[18]=g}else g=b[18];b[26]!==g?(s=j.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:g}),b[26]=g,b[27]=s):s=b[27];return s}g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["FocusRegion.react","MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(22),e=a.enableMasking,f=a.focusRegionId,g=a.inputSize,h=a.size,k=a.testid,l=a.value,m=a.withFocusRegion;m=m===void 0?!0:m;var n=j(!1),o=n[0];n=n[1];var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1n2onr6"},b[0]=p):p=b[0];var q;b[1]!==e||b[2]!==o||b[3]!==a.color||b[4]!==a.disabled||b[5]!==g||b[6]!==h||b[7]!==k||b[8]!==l?(q=i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:e,hasFocus:o,inputSize:g,size:h,testid:void 0,value:l}),b[1]=e,b[2]=o,b[3]=a.color,b[4]=a.disabled,b[5]=g,b[6]=h,b[7]=k,b[8]=l,b[9]=q):q=b[9];b[10]!==o?(e={hasFocus:o,setFocus:n},b[10]=o,b[11]=e):e=b[11];b[12]!==a||b[13]!==e?(g=i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:e,props:a}),b[12]=a,b[13]=e,b[14]=g):g=b[14];b[15]!==q||b[16]!==g?(h=i.jsxs("div",babelHelpers["extends"]({},p,{children:[q,g]})),b[15]=q,b[16]=g,b[17]=h):h=b[17];k=h;b[18]!==f||b[19]!==k||b[20]!==m?(l=m?i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:f,children:k}):k,b[18]=f,b[19]=k,b[20]=m,b[21]=l):l=b[21];return l}g["default"]=a}),98);
__d("MWChatEncryptedBackupsPINInterstitialIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var i;b[0]!==g?(i=g?h("901817"):h("901819"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==g?(i=k?g:h("398891"),b[2]=g,b[3]=i):i=b[3];g=i;b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[4]=e,b[5]=f,b[6]=g,b[7]=a,b[8]=i):i=b[8];return i}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.bottomItem,g=a.children,h=a.ref,j=a.size;a=a.topItem;b=(b=a==null?void 0:a.align)!=null?b:"start";j=j==="small"?8:16;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x21xpn4"},e[0]=k):k=e[0];a=a==null?void 0:a.item;e[1]!==a?(k=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),e[1]=a,e[2]=k):k=e[2];e[3]!==b||e[4]!==j||e[5]!==k?(a=i.jsx(c("MWXColumnItem.react"),{align:b,paddingHorizontal:16,paddingTop:j,children:k}),e[3]=b,e[4]=j,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2"},e[7]=b):b=e[7];e[8]!==g||e[9]!==h?(j=i.jsx("div",babelHelpers["extends"]({},b,{ref:h,children:g})),e[8]=g,e[9]=h,e[10]=j):j=e[10];e[11]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xisnujt"},e[11]=k):k=e[11];e[12]!==f?(b=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",babelHelpers["extends"]({},k,{children:f}))}),e[12]=f,e[13]=b):b=e[13];e[14]!==b||e[15]!==a||e[16]!==j?(g=i.jsxs(c("CometScrollView.react"),{children:[a,j,b]}),e[14]=b,e[15]=a,e[16]=j,e[17]=g):g=e[17];return g}b=a;e=b;g["default"]=e}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.source;var f;b[0]!==a?(f={source:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("MWEBFlowSourceContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWEBPinCodeSize",[],(function(a,b,c,d,e,f){"use strict";a=6;f.EB_PIN_CODE_SIZE=a}),66);
__d("VestaClientBootstrap",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);function j(a,b){return a[b]}var k=i.length;function l(a){if(a<36)return;i[a]=k;k=a}function m(a){var b=j(i,a);l(a);return b}function n(a){k===i.length&&i.push(i.length+1);var b=k;k=j(i,b);i[b]=a;return b}function o(a){return a}var p=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});p.decode();var q=null;function r(){var a=o(h.memory);(q===null||q.buffer!==a.buffer)&&(q=new Uint8Array(a.buffer));return q}function s(a,b){return p.decode(r().subarray(a,a+b))}function t(a,b){try{return a.apply(void 0,b)}catch(b){a=o(h.__wbindgen_exn_store);a(n(b))}}function u(a,b){return r().subarray(a/1,a/1+b)}async function v(a,b){if(typeof WebAssembly.instantiateStreaming==="function")return WebAssembly.instantiateStreaming(a,b);a=await a.arrayBuffer();return WebAssembly.instantiate(a,b)}async function w(b){var d=arguments,e={wbg:{__wbg_buffer_de1150f91b23aa89:function(a){return n(j(i,a).buffer)},__wbg_call_4573f605ca4b5f10:function(){return t(function(a,b){a=j(i,a).call(j(i,b));return n(a)},d)},__wbg_crypto_98fc271021c7d2ad:function(a){return n(j(i,a).crypto)},__wbg_getRandomValues_98117e9a7e993920:function(){return t(function(a,b){j(i,a).getRandomValues(j(i,b))},arguments)},__wbg_global_8c35aeee4ac77f2b:function(){return t(function(){var b=a.global;return n(b)},d)},__wbg_globalThis_56d9c9f814daeeee:function(){return t(function(){return n(window)},d)},__wbg_length_e09c0b925ab8de5d:function(a){return j(i,a).length},__wbg_modulerequire_3440a4bcf44437db:function(){return t(function(a,b){a=f.require(s(a,b));return n(a)},d)},__wbg_msCrypto_a2cdb043d2bfe57f:function(a){return n(j(i,a).msCrypto)},__wbg_new_97cf52648830a70d:function(a){return n(new Uint8Array(j(i,a)))},__wbg_newnoargs_fc5356289219b93b:function(a,b){a=new Function(s(a,b));return n(a)},__wbg_newwithlength_e833b89f9db02732:function(a){return n(new Uint8Array(a>>>0))},__wbg_node_4b517d861cbcb3bc:function(a){return n(j(i,a).node)},__wbg_process_2f24d6544ea7b200:function(a){return n(j(i,a).process)},__wbg_randomFillSync_64cc7d048f228ca8:function(){return t(function(a,b,c){j(i,a).randomFillSync(u(b,c))},d)},__wbg_self_ba1ddafe9ea7a3a2:function(){return t(function(){var a=self.self;return n(a)},d)},__wbg_set_a0172b213e2469e9:function(a,b,c){return j(i,a).set(j(i,b),c>>>0)},__wbg_subarray_9482ae5cd5cd99d3:function(a,b,c){return n(j(i,a).subarray(b>>>0,c>>>0))},__wbg_versions_6164651e75405d4a:function(a){return n(j(i,a).versions)},__wbg_window_be3cc430364fd32c:function(){return t(function(){var a=window.window;return n(a)},d)},__wbindgen_is_object:function(a){return typeof j(i,a)==="object"&&j(i,a)!==null},__wbindgen_is_string:function(a){return typeof j(i,a)==="string"},__wbindgen_is_undefined:function(a){return j(i,a)===void 0},__wbindgen_memory:function(){return n(h.memory)},__wbindgen_object_clone_ref:function(a){return n(j(i,a))},__wbindgen_object_drop_ref:m,__wbindgen_throw:function(a,b){throw c("FBLogger")("wasm_vesta_client").mustfixThrow(s(a,b))}}},g=await window.fetch(b),k=await v(await g,e),l=k.instance;h=l.exports;w.__wbindgen_wasm_module=f;return l}g.default=w}),98);
__d("VestaClientError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("mapVestaClientError",["VestaClientError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return new h();case 2:return new i();case 3:return new j();case 4:return new k();case 5:return new l();case 6:return new m();case 7:return new n();case 8:return new o();case 9:return new p();case 10:return new q();case 11:return new r();case 12:return new s();default:return new t()}}var h=function(a){function b(b){b===void 0&&(b="Buffer supplied to WASM for response is too small");b=a.call(this,b)||this;b.name="InsufficientResultBuffer";return b}babelHelpers.inheritsLoose(b,a);return b}(b=c("VestaClientError")),i=function(a){function b(b){b===void 0&&(b="Incorrect user password supplied during login");b=a.call(this,b)||this;b.name="InvalidUserPassword";return b}babelHelpers.inheritsLoose(b,a);return b}(b),j=function(a){function b(b){b===void 0&&(b="Invalid input from server");b=a.call(this,b)||this;b.name="MalformedServerResponse";return b}babelHelpers.inheritsLoose(b,a);return b}(b),k=function(a){function b(b){b===void 0&&(b="Invalid input from client");b=a.call(this,b)||this;b.name="MalformedClientInput";return b}babelHelpers.inheritsLoose(b,a);return b}(b),l=function(a){function b(b){b===void 0&&(b="Error during encryption operation");b=a.call(this,b)||this;b.name="EncryptionFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),m=function(a){function b(b){b===void 0&&(b="Error during decryption operation");b=a.call(this,b)||this;b.name="DecryptionFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),n=function(a){function b(b){b===void 0&&(b="Error during serialization operation.");b=a.call(this,b)||this;b.name="SerializationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),o=function(a){function b(b){b===void 0&&(b="Error deserializing inputs, likely due to malformed input");b=a.call(this,b)||this;b.name="DeserializationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),p=function(a){function b(b){b===void 0&&(b="Passed RSA public key is in an invalid format.");b=a.call(this,b)||this;b.name="RsaInvalidKey";return b}babelHelpers.inheritsLoose(b,a);return b}(b),q=function(a){function b(b){b===void 0&&(b="Unable to verify RSA signature");b=a.call(this,b)||this;b.name="RsaVerificationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),r=function(a){function b(b){b===void 0&&(b="Passed Ed25519 public key is in an invalid format.");b=a.call(this,b)||this;b.name="Ed25519InvalidKey";return b}babelHelpers.inheritsLoose(b,a);return b}(b),s=function(a){function b(b){b===void 0&&(b="Unable to verify Ed25519 signature");b=a.call(this,b)||this;b.name="Ed25519VerificationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),t=function(a){function b(b){b===void 0&&(b="Unknown error code received from WASM binary");b=a.call(this,b)||this;b.name="UnknownErrorCode";return b}babelHelpers.inheritsLoose(b,a);return b}(b);g.mapErrorCode=a;g.DeserializationFailure=o}),98);
__d("VestaClient",["$InternalEnum","VestaClientBootstrap","bx","mapVestaClientError"],(function(a,b,c,d,e,f,g){"use strict";var h=4096,i,j;async function k(){var a=await c("VestaClientBootstrap")(c("bx").getURL(c("bx")("604")));i=a.exports;j=l(i.memory)}function l(a){return a}async function a(a,b){(i===void 0||j===void 0)&&await k();var c=0,e=new Uint8Array(j.buffer,c,a.byteLength);e.set(a);c+=e.byteLength;a=new Uint8Array(j.buffer,c,b.byteLength);a.set(b);c+=a.byteLength;b=new Uint8Array(j.buffer,c,h);var f=l(i.vesta_client_validate_hsm_key);f=f(e.byteOffset,e.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength);if(f!==0)throw d("mapVestaClientError").mapErrorCode(f);e=new DataView(j.buffer,c,h);a=q(e);return a[0][0]!==0}async function e(a){(i===void 0||j===void 0)&&await k();var b=0,c=new Uint8Array(j.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(j.buffer,b,h);var e=l(i.vesta_client_begin_register);e=e(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(e!==0)throw d("mapVestaClientError").mapErrorCode(e);c=new DataView(j.buffer,b,h);a=q(c);return{clientState:new Uint8Array(a[1]),r1Message:new Uint8Array(a[0])}}var m=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);async function f(a,b,c,e,f,g,n,o,p,r){p===void 0&&(p=0);r===void 0&&(r=m.WaBackupKeyData);(i===void 0||j===void 0)&&await k();var s=0,t=new Uint8Array(j.buffer,s,a.byteLength);t.set(a);s+=a.byteLength;a=new Uint8Array(j.buffer,s,b.byteLength);a.set(b);s+=b.byteLength;b=new Uint8Array(j.buffer,s,c.byteLength);b.set(c);s+=c.byteLength;c=new Uint8Array(j.buffer,s,e.byteLength);c.set(e);s+=e.byteLength;e=new Uint8Array(j.buffer,s,f.byteLength);e.set(f);s+=f.byteLength;f=new Uint8Array(j.buffer,s,g.byteLength);f.set(g);s+=g.byteLength;g=new Uint8Array(j.buffer,s,n.byteLength);g.set(n);s+=n.byteLength;n=new Uint8Array(j.buffer,s,o.byteLength);n.set(o);s+=o.byteLength;o=new Uint8Array(j.buffer,s,h);if(r===m.Raw){r=l(i.vesta_client_finish_register);r=r(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,n.byteOffset,n.byteLength,p,o.byteOffset,o.byteLength)}else{var u=l(i.vesta_client_finish_register_proto);r=u(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,n.byteOffset,n.byteLength,p,o.byteOffset,o.byteLength)}if(r!==0)throw d("mapVestaClientError").mapErrorCode(r);u=new DataView(j.buffer,s,h);t=q(u);return{registerIdentifier:new Uint8Array(t[1]),registerPayload:new Uint8Array(t[0])}}async function n(a){(i===void 0||j===void 0)&&await k();var b=0,c=new Uint8Array(j.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(j.buffer,b,h);var e=l(i.vesta_client_begin_login);e=e(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(e!==0)throw d("mapVestaClientError").mapErrorCode(e);c=new DataView(j.buffer,b,h);a=q(c);return{clientState:new Uint8Array(a[1]),l1Message:new Uint8Array(a[0])}}async function o(a,b,c,e){(i===void 0||j===void 0)&&await k();var f=0,g=new Uint8Array(j.buffer,f,a.byteLength);g.set(a);f+=a.byteLength;a=new Uint8Array(j.buffer,f,b.byteLength);a.set(b);f+=b.byteLength;b=new Uint8Array(j.buffer,f,c.byteLength);b.set(c);f+=c.byteLength;c=new Uint8Array(j.buffer,f,e.byteLength);c.set(e);f+=e.byteLength;e=new Uint8Array(j.buffer,f,h);var m=l(i.vesta_client_finish_login);m=m(g.byteOffset,g.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,e.byteOffset,e.byteLength);if(m!==0)throw d("mapVestaClientError").mapErrorCode(m);g=new DataView(j.buffer,f,h);a=q(g);return{exportKey:new Uint8Array(a[2]),l3Message:new Uint8Array(a[0]),sessionKey:new Uint8Array(a[1])}}async function p(a,b,c,e){e===void 0&&(e=m.WaBackupKeyData);(i===void 0||j===void 0)&&await k();var f=0,g=new Uint8Array(j.buffer,f,a.byteLength);g.set(a);f+=a.byteLength;a=new Uint8Array(j.buffer,f,b.byteLength);a.set(b);f+=b.byteLength;b=new Uint8Array(j.buffer,f,c.byteLength);b.set(c);f+=c.byteLength;c=new Uint8Array(j.buffer,f,h);if(e===m.Raw){e=l(i.vesta_client_unpack_login_payload);e=e(g.byteOffset,g.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}else{var n=l(i.vesta_client_unpack_login_payload_proto);e=n(g.byteOffset,g.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}if(e!==0)throw d("mapVestaClientError").mapErrorCode(e);n=new DataView(j.buffer,f,h);g=q(n);return{userSecret:new Uint8Array(g[0])}}function q(a){var b=[],c=0,d=a.getUint8(c++);for(var e=0;e<d;e++){var f=a.getUint32(c);c+=4;b[e]=[];for(var g=0;g<f;g++)b[e].push(a.getUint8(c++))}return b}g.validateHsmKey=a;g.beginRegister=e;g.SerializationMode=m;g.finishRegister=f;g.beginLogin=n;g.finishLogin=o;g.unpackLoginPayload=p}),98);
__d("VestaGetWasm",["WAWasmModuleCache","bx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("72238"));a=function(){return d("WAWasmModuleCache").loadWasmModule(h)};g.getVestaWasm=a}),98);
__d("VestaWasm.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={};a.name="ValidateHsmKeyRequest";a.internalSpec={hsmKey:[1,(d=d("WAProtoConst")).FLAGS.REQUIRED|d.TYPES.BYTES],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};b.name="ValidateHsmKeyResponse";b.internalSpec={isValid:[1,d.FLAGS.REQUIRED|d.TYPES.BOOL]};c.name="BeginRegisterRequest";c.internalSpec={password:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};e.name="BeginRegisterResponse";e.internalSpec={r1Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};f.name="FinishRegisterRequest";f.internalSpec={r1Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],r2Message:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],r2MessageSig:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],islandEd25519Pub:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],userSecret:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES],registrationChallenge:[7,d.FLAGS.REQUIRED|d.TYPES.BYTES],hsmRsaPublicKey:[8,d.FLAGS.REQUIRED|d.TYPES.BYTES],loginAttempts:[9,d.TYPES.UINT32],useProtobufMode:[10,d.FLAGS.REQUIRED|d.TYPES.BOOL]};h.name="FinishRegisterResponse";h.internalSpec={registrationPayloadEncrypted:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],registrationIdentifier:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};i.name="BeginLoginRequest";i.internalSpec={password:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};j.name="BeginLoginResponse";j.internalSpec={l1Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};k.name="FinishLoginRequest";k.internalSpec={l2Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],l2MessageSig:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],islandEd25519Pub:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};l.name="FinishLoginResponse";l.internalSpec={l3Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],sessionKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],exportKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};m.name="UnpackLoginPayloadRequest";m.internalSpec={loginPayload:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],sessionKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],exportKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],useProtobufMode:[4,d.FLAGS.REQUIRED|d.TYPES.BOOL]};n.name="UnpackLoginPayloadResponse";n.internalSpec={userSecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};o.name="CliCommand";o.internalSpec={validateHsmKey:[1,d.TYPES.MESSAGE,a],beginRegister:[2,d.TYPES.MESSAGE,c],finishRegister:[3,d.TYPES.MESSAGE,f],beginLogin:[4,d.TYPES.MESSAGE,i],finishLogin:[5,d.TYPES.MESSAGE,k],unpackLoginPayload:[6,d.TYPES.MESSAGE,m],__oneofs__:{command:["validateHsmKey","beginRegister","finishRegister","beginLogin","finishLogin","unpackLoginPayload"]}};p.name="CliResponse";p.internalSpec={errorCode:[1,d.FLAGS.REQUIRED|d.TYPES.INT32],validateHsmKey:[2,d.TYPES.MESSAGE,b],beginRegister:[3,d.TYPES.MESSAGE,e],finishRegister:[4,d.TYPES.MESSAGE,h],beginLogin:[5,d.TYPES.MESSAGE,j],finishLogin:[6,d.TYPES.MESSAGE,l],unpackLoginPayload:[7,d.TYPES.MESSAGE,n],__oneofs__:{response:["validateHsmKey","beginRegister","finishRegister","beginLogin","finishLogin","unpackLoginPayload"]}};g.ValidateHsmKeyRequestSpec=a;g.ValidateHsmKeyResponseSpec=b;g.BeginRegisterRequestSpec=c;g.BeginRegisterResponseSpec=e;g.FinishRegisterRequestSpec=f;g.FinishRegisterResponseSpec=h;g.BeginLoginRequestSpec=i;g.BeginLoginResponseSpec=j;g.FinishLoginRequestSpec=k;g.FinishLoginResponseSpec=l;g.UnpackLoginPayloadRequestSpec=m;g.UnpackLoginPayloadResponseSpec=n;g.CliCommandSpec=o;g.CliResponseSpec=p}),98);
__d("VestaClientV2",["$InternalEnum","VestaClientError","VestaGetWasm","VestaWasm.pb","WAByteArray","WAResultOrError","WATagsLogger","WAWasmReactor","err","mapVestaClientError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("WATagsLogger").TAGS(["VestaClient"]),j=0,k="VestaClientV2_REPL",l=function(){function a(){if(!a.$2){var b=d("WAWasmReactor").createWasmInstance(d("VestaGetWasm").getVestaWasm,k);a.$1=b;return}throw c("err")("VestaWasmReactorSingleton is already initialized")}a.getInstance=function(){if(!a.$2){var b=new a();a.$2=b;b=d("WAWasmReactor").createWasmInstance(d("VestaGetWasm").getVestaWasm,k);a.$1=b}return a.$2};var b=a.prototype;b.createWasmReactorCommand=async function(b){var d=b.InputSpec,e=b.ResultSpec;b=b.validateResult;var f=await a.$1;if(!f)throw c("err")("wasmReactor is not initialized");return f.createWasmCommand({InputSpec:d,ResultSpec:e,validateResult:b})};return a}();l.$1=null;l.$2=null;var m=function(a){var b=l.getInstance();if(!b)throw c("err")("VestaWasmReactorSingleton is not initialized");return b.createWasmReactorCommand(a)};function n(a){var b=a.processResult;function e(a){var e=a.errorCode;if(e!==j){i.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Vesta error: ",""])),e);return d("WAResultOrError").makeError(d("mapVestaClientError").mapErrorCode(e))}try{return d("WAResultOrError").makeResult(b(a))}catch(a){if(a instanceof c("VestaClientError"))return d("WAResultOrError").makeError(a);throw a}}return m({InputSpec:d("VestaWasm.pb").CliCommandSpec,ResultSpec:d("VestaWasm.pb").CliResponseSpec,validateResult:e})}function a(a,b){var c=n({processResult:function(a){if(a.validateHsmKey)return a.validateHsmKey.isValid;throw new(d("mapVestaClientError").DeserializationFailure)()}}),e={validateHsmKey:{hsmKey:d("WAByteArray").uint8ArrayToBuffer(a),signature:d("WAByteArray").uint8ArrayToBuffer(b)}};return c.then(function(a){return a(e)})}function e(a){var b=n({processResult:function(a){if(a.beginRegister){a=a.beginRegister;return{clientState:new Uint8Array(a.clientState),r1Message:new Uint8Array(a.r1Message)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),c={beginRegister:{password:d("WAByteArray").uint8ArrayToBuffer(a)}};return b.then(function(a){return a(c)})}var o=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);function f(a,b,c,e,f,g,h,i,j,k){j===void 0&&(j=0);k===void 0&&(k=o.WaBackupKeyData);var l=n({processResult:function(a){if(a.finishRegister){a=a.finishRegister;return{registerIdentifier:new Uint8Array(a.registrationIdentifier),registerPayload:new Uint8Array(a.registrationPayloadEncrypted)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),m={finishRegister:{clientState:d("WAByteArray").uint8ArrayToBuffer(f),hsmRsaPublicKey:d("WAByteArray").uint8ArrayToBuffer(i),islandEd25519Pub:d("WAByteArray").uint8ArrayToBuffer(e),loginAttempts:j>0?j:void 0,r1Message:d("WAByteArray").uint8ArrayToBuffer(a),r2Message:d("WAByteArray").uint8ArrayToBuffer(b),r2MessageSig:d("WAByteArray").uint8ArrayToBuffer(c),registrationChallenge:d("WAByteArray").uint8ArrayToBuffer(h),useProtobufMode:k===o.WaBackupKeyData,userSecret:d("WAByteArray").uint8ArrayToBuffer(g)}};return l.then(function(a){return a(m)})}function p(a){var b=n({processResult:function(a){if(a.beginLogin){a=a.beginLogin;return{clientState:new Uint8Array(a.clientState),l1Message:new Uint8Array(a.l1Message)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),c={beginLogin:{password:d("WAByteArray").uint8ArrayToBuffer(a)}};return b.then(function(a){return a(c)})}function q(a,b,c,e){var f,g=n({processResult:function(a){if(a.finishLogin){a=a.finishLogin;return{exportKey:new Uint8Array(a.exportKey),l3Message:new Uint8Array(a.l3Message),sessionKey:new Uint8Array(a.sessionKey)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),h={finishLogin:{clientState:(f=d("WAByteArray")).uint8ArrayToBuffer(e),islandEd25519Pub:f.uint8ArrayToBuffer(c),l2Message:f.uint8ArrayToBuffer(a),l2MessageSig:f.uint8ArrayToBuffer(b)}};return g.then(function(a){return a(h)})}function r(a,b,c,e){e===void 0&&(e=o.WaBackupKeyData);var f=n({processResult:function(a){if(a.unpackLoginPayload){a=a.unpackLoginPayload;return{userSecret:new Uint8Array(a.userSecret)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),g={unpackLoginPayload:{exportKey:d("WAByteArray").uint8ArrayToBuffer(c),loginPayload:d("WAByteArray").uint8ArrayToBuffer(a),sessionKey:d("WAByteArray").uint8ArrayToBuffer(b),useProtobufMode:e===o.WaBackupKeyData}};return f.then(function(a){return a(g)})}g.validateHsmKey=a;g.beginRegister=e;g.SerializationMode=o;g.finishRegister=f;g.beginLogin=p;g.finishLogin=q;g.unpackLoginPayload=r}),98);
__d("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError",["fbt","MWChatEncrypedBackupsNumericCodeKeyTypes"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)return b==="pin"?h._(/*BTDS*/"Your PIN can only contain numbers"):null;else if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK)return h._(/*BTDS*/"Press Num Lock to use the numeric keypad")}g["default"]=a}),226);
__d("useMWChatEncryptedBackupsNumericCode",["fbt","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","MWLogInteraction","focusScopeQueries","getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError","promiseDone","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useState,k={confirmPin:h._(/*BTDS*/"Confirm your PIN"),otc:h._(/*BTDS*/"One-time code"),pin:h._(/*BTDS*/"PIN")};function a(a){var b=a.checkPreviouslyInsertedCode,e=a.clearInputOnComplete,f=e===void 0?!1:e;e=a.enableMasking;var g=a.focusRegionId,h=a.inputSize,i=a.onChange,l=a.onComplete;a=a.type;var m=j(!1),n=m[0],o=m[1];m=j(!0);var p=m[0],q=m[1];m=j("");var r=m[0],s=m[1];m=j(null);var t=m[0],u=m[1];m=function(a){u(null),q(!a)};var v=async function(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,h)){d("MWLogInteraction").logPopoverOpenCancel("initiate_restore");if(b!=null){var c=b.onCodeMismatch,e=b.previouslyInsertedCode;e=e===a;if(!e){c();return}}q(!0);o(!0);try{await l(a),f&&s("")}catch(a){s("")}finally{o(!1)}}},w=b!=null&&a==="pin"?"confirmPin":a;return[{"aria-label":k[w],disabled:n,enableMasking:e,focusRegionId:g,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,h)&&(s(a),u(null),i==null||i(a),c("promiseDone")(v(a)))};b()},onCompletionChange:m,onEnabledNumLock:function(){t===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&u(null)},onPressedInvalidKey:function(a){(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR||a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&c("qex")._("4752")!==!0)&&u(a)},size:h,value:r},{clearNumericInput:function(){return s("")},disabled:p,focusOnInput:function(){d("FocusRegion.react").focusRegionById(g,d("focusScopeQueries").tabbableScopeQuery)},invalidKeyPressedError:c("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError")(t,a),isLoading:n,onPress:function(){c("promiseDone")(v(r))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),226);/*FB_PKG_DELIM*/
__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSSynchronousPromise","LSVerifyThreadsActivityStatus","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadsActivityStatus"),e.sessionId,e.serverMode,e.fromTimestampMs,e.threads);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="maw_unsupported_browser_nux_dismissed",j="dismissed";a=function(){var a;return((a=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(i))===j};b=function(){var a;(a=(h||(h=c("WebStorage"))).getLocalStorage())==null||a.setItem(i,j)};g.getIsDismissed=a;g.setIsDismissed=b}),98);
__d("MAWUserVisibleErrorsNux.react",["ix","MAWLoggerUtils","MWXIconCautionTriangle","MWXQPCard.react","QPLUserFlow","gkx","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={hasNoMargin:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.hasNoMargin,f=a.icon,g=a.nuxBodyText,i=a.nuxButtonProps,m=a.nuxTitleText,n=a.onCloseButtonClick,o=a.ref;a=a.secondaryButtonProps;var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("MAWLoggerUtils").getInstanceKey(),b[0]=p):p=b[0];var q=p,r;b[1]!==m?(p=function(){c("QPLUserFlow").start(c("qpl")._(1056846286,"652"),{annotations:{string:{nuxTitleText:m.toString()}},instanceKey:q});return function(){return c("QPLUserFlow").endSuccess(c("qpl")._(1056846286,"652"),{instanceKey:q})}},r=[q,m],b[1]=m,b[2]=p,b[3]=r):(p=b[2],r=b[3]);k(p,r);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=c("gkx")("4425")?h("428841"):h("212797"),b[4]=p):p=b[4];r=p;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(p=c("gkx")("4425")?{props:{src:h("1745665")},type:"image"}:{props:{color:"negative",icon:c("MWXIconCautionTriangle"),size:24},type:"icon"},b[5]=p):p=b[5];p=p;b[6]!==f?(r=f!=null?f:c("gkx")("23219")?{props:{src:r},type:"image"}:p,b[6]=f,b[7]=r):r=b[7];p=e===!0?l.hasNoMargin:void 0;b[8]!==g||b[9]!==i||b[10]!==m||b[11]!==n||b[12]!==o||b[13]!==a||b[14]!==r||b[15]!==p?(f=j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXQPCard.react"),{addOnPrimary:i,addOnSecondary:a,body:g,headline:m,icon:r,onClose:n,ref:o,xstyle:p})}),b[8]=g,b[9]=i,b[10]=m,b[11]=n,b[12]=o,b[13]=a,b[14]=r,b[15]=p,b[16]=f):f=b[16];return f}g["default"]=a}),98);
__d("MAWUserVisibleErrorsNuxWrapper.react",["fbt","CometPlaceholder.react","MAWIssueNewUserVisibleErrors","MAWUnsupportedIndexedDBNuxKey","cr:4216","cr:9767","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors","useMAWUnsupportedBrowserNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MAWUserVisibleErrorsNuxWrapper.react");function a(a){var e=d("react-compiler-runtime").c(23),f=a.children;a=a.hasNoMargin;var g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=d("MAWUnsupportedIndexedDBNuxKey").getIsDismissed(),e[0]=g):g=e[0];g=k(g);var i=g[0],n=g[1];if(e[1]===Symbol.for("react.memo_cache_sentinel")){g=(g=b("cr:4216").buildUri({cms_id:"597429858389632"}).setDomain("www.facebook.com"))==null||(g=g.setProtocol("https"))==null?void 0:g.toString();e[1]=g}else g=e[1];g=g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g={label:h._(/*BTDS*/"Learn more"),linkProps:{target:"_blank",url:g}},e[2]=g):g=e[2];g=g;var o=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();o=o.shouldShowQP;var p=k(!1),q=p[0],r=p[1];p=c("useMAWGetUserVisibleErrors")();var s=p[0],t=p[1];e[3]!==t||e[4]!==(s==null?void 0:s.errorExtraData)?(p=function(){c("promiseDone")(async function(){r(!0);if((s==null?void 0:s.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=await l.load();await a.handleEARKeychainError()}return t()}(),m,function(){r(!1)})},e[3]=t,e[4]=s==null?void 0:s.errorExtraData,e[5]=p):p=e[5];p=p;var u;e[6]!==(s==null?void 0:s.errorBodyText)?(u=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(s==null?void 0:s.errorBodyText),e[6]=s==null?void 0:s.errorBodyText,e[7]=u):u=e[7];u=u;var v;e[8]!==(s==null?void 0:s.errorTitleText)?(v=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(s==null?void 0:s.errorTitleText),e[8]=s==null?void 0:s.errorTitleText,e[9]=v):v=e[9];v=v;e[10]!==f||e[11]!==t||e[12]!==i||e[13]!==u||e[14]!==v||e[15]!==s||e[16]!==a||e[17]!==q||e[18]!==p||e[19]!==o?(g=b("cr:9767")&&o&&!i?j.jsx(b("cr:9767"),{hasNoMargin:a,nuxBodyText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsg,nuxButtonProps:g,nuxTitleText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsgTitle,onCloseButtonClick:function(){n(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):s&&b("cr:9767")&&v!=null&&u!=null?j.jsx(b("cr:9767"),{nuxBodyText:u,nuxButtonProps:{disabled:q,label:h._(/*BTDS*/"Refresh"),loading:q,onPress:p},nuxTitleText:v,onCloseButtonClick:function(){c("promiseDone")(t())}}):f,e[10]=f,e[11]=t,e[12]=i,e[13]=u,e[14]=v,e[15]=s,e[16]=a,e[17]=q,e[18]=p,e[19]=o,e[20]=g):g=e[20];e[21]!==g?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWUserVisibleErrorsNuxWrapper",children:g}),e[21]=g,e[22]=f):f=e[22];return f}function m(){window.location.reload(!0)}g.default=a}),226);
__d("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react",["cr:1266"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1266")}),98);
__d("MWEncryptedBackupsJewelNuxWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsJewelNuxWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query"}]},{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup",selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null}],storageKey:null}],type:"XFBEncryptedBackup",abstractKey:null};e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded",["CometRelay","react","react-compiler-runtime","useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var c=d("react-compiler-runtime").c(4);a=a.encryptedBackup;var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"),a);c[0]!==(e==null?void 0:e.virtual_devices)?(a=function(){var a=0,b=null;e==null||e.virtual_devices.forEach(function(c){bb13:switch(c.device_type){case"HSM":b=c.client_generated_id;break bb13;case"OFFLINE":a=a+1;a;break bb13;default:}});return{offlineDevicesCount:a,vestaClientID:b}},c[0]=e==null?void 0:e.virtual_devices,c[1]=a):a=c[1];e==null||e.virtual_devices;a=a;var f;c[2]!==a?(f={getVirtualDevices:a},c[2]=a,c[3]=f):f=c[3];return f}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","HeroInteractionIgnoreWithDiv.react","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEBVirtualDevicesContextProvider.react","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsJewelNuxWrapper_query.graphql","MWEncryptedBackupsThreadListQPWrapper.react","cr:10269","cr:20045","cr:2046","cr:3562","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapper.react"));function a(a){var e,f,g=d("react-compiler-runtime").c(19),i=a.children;a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsJewelNuxWrapper_query.graphql"),a);var k;g[0]!==a?(k={entrypoint:c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST,query:a},g[0]=a,g[1]=k):k=g[1];k=c("useEncryptedBackupsProcessStatePreLoaded")(k);var m=a==null?void 0:a.xfb_backup,n;g[2]!==m?(n={encryptedBackup:m},g[2]=m,g[3]=n):n=g[3];m=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(n);n=m.getVirtualDevices;g[4]!==n?(m=n(),g[4]=n,g[5]=m):m=g[5];n=m;m=n.offlineDevicesCount;n=n.vestaClientID;e=(e=a==null||(f=a.xfb_backup)==null?void 0:f.has_otc_eligible_devices)!=null?e:void 0;var o=a.viewer.if_viewer_can_see_messenger_eb_auto_eb_upsells!=null,p;g[6]!==k||g[7]!==i||g[8]!==a||g[9]!==o?(p=j.jsx(l,{backupState:k,children:i,fragment:a,isUserEligibleForAutoEB:o}),g[6]=k,g[7]=i,g[8]=a,g[9]=o,g[10]=p):p=g[10];g[11]!==a.viewer||g[12]!==p?(k=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContextProvider,{viewer$key:a.viewer,children:p}),g[11]=a.viewer,g[12]=p,g[13]=k):k=g[13];g[14]!==m||g[15]!==e||g[16]!==k||g[17]!==n?(i=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:e,offlineDevicesCountInitialValue:m,vestaClientIDInitialValue:n,children:k}),g[14]=m,g[15]=e,g[16]=k,g[17]=n,g[18]=i):i=g[18];return i}function l(a){var e=d("react-compiler-runtime").c(15),f=a.backupState,g=a.children,h=a.fragment;a=a.isUserEligibleForAutoEB;a=a===void 0?!1:a;var i=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();i=i.virtualDeviceInfo;switch(f){case 3:if(b("cr:3562")!=null&&!i.isPINCodeRegistered){e[0]!==g?(f=j.jsx(b("cr:3562"),{bannerSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:g}),e[0]=g,e[1]=f):f=e[1];return f}return g;case 4:e[2]!==g||e[3]!==h?(i=b("cr:2046")||c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")?j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return g},children:c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")!=null?j.jsx(c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react"),{trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g}):b("cr:2046")!=null&&j.jsx(b("cr:2046"),{fragmentKey:h,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g})})}):g,e[2]=g,e[3]=h,e[4]=i):i=e[4];return i;case 2:if(d("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS||a)return g;e[5]!==g?(f=b("cr:20045")?j.jsx(b("cr:20045"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:g}):g,e[5]=g,e[6]=f):f=e[6];var l=f;e[7]!==l?(i=function(){return l},e[7]=l,e[8]=i):i=e[8];e[9]!==l||e[10]!==h.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells?(a=h.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(d("CometRelay").MatchContainer,{match:h.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{bannerSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,children:l,qpSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP}})}):b("cr:10269")?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(b("cr:10269"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:l})}):j.jsx(k,{fallback:l,props:{children:l,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL}}),e[9]=l,e[10]=h.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,e[11]=a):a=e[11];e[12]!==i||e[13]!==a?(f=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:i,children:a})}),e[12]=i,e[13]=a,e[14]=f):f=e[14];return f;default:return g}}g["default"]=a}),98);
__d("MWEncryptedBackupsQPWithPinPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23433"),k={logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",width:"xvy4d1p",$$css:!0},pinInputGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},root:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x xw7yly9 x1ys307a x1yztbdb xyqm7xq x1l90r2v xyamay9"},1:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x xw7yly9 x1ys307a x1yztbdb xyqm7xq x2lwn1j xsag5q8 xz9dl7a"}}[!!j<<0],a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"x16ngw23 xwib8y2",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})})}),a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:k.pinInputGlimmer})})}),a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsxs(c("MWXColumn.react"),{spacing:8,style:k.root,children:[e,f,g,i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"x18xe386 xpdvgm7 x1y1aw1k",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})})})]})})),a[5]=b):b=a[5];return b}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query"}]}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWEBIsUpsellDeferred",["MWEncryptedBackupsDeferLocalStorageUpsell","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(18);a=a.upsellType;var e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=d("MWEncryptedBackupsDeferLocalStorageUpsell").getLocalStorageKeys(a),b[0]=a,b[1]=g):g=b[1];a=g;g=a;var i=g.countdownInMS,j=g.impressionsCountKey,k=g.lastImpressionTimeKey,l=g.maxImpressionLimit;b[2]!==i||b[3]!==e.tables.experiences_shared_state||b[4]!==k?(a=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(k).map(function(a){a=a.stateValue;return a!=null&&+a+i>Date.now()?!0:!1})},b[2]=i,b[3]=e.tables.experiences_shared_state,b[4]=k,b[5]=a):a=b[5];b[6]!==i||b[7]!==e||b[8]!==k?(g=[i,e,k],b[6]=i,b[7]=e,b[8]=k,b[9]=g):g=b[9];a=d("ReQLSuspense").useFirst(a,g,f.id+":41");b[10]!==e.tables.experiences_shared_state||b[11]!==j||b[12]!==l?(g=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(j).map(function(a){a=a.stateValue;return l===d("MWEncryptedBackupsDeferLocalStorageUpsell").INFINITE_IMPRESSIONS_LIMIT||+a<l?!1:!0})},b[10]=e.tables.experiences_shared_state,b[11]=j,b[12]=l,b[13]=g):g=b[13];var m;b[14]!==e||b[15]!==j||b[16]!==l?(m=[e,j,l],b[14]=e,b[15]=j,b[16]=l,b[17]=m):m=b[17];b=d("ReQLSuspense").useFirst(g,m,f.id+":56");return a===!0||b===!0}g["default"]=a}),98);
__d("useMWEncryptedBackupsIsUpsellDismissed",["MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","react","react-compiler-runtime","useMWEBIsUpsellDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.upsellType;var e=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),f=i(!1),g=f[0];f=f[1];var h;b[0]!==a?(h={upsellType:a},b[0]=a,b[1]=h):h=b[1];h=c("useMWEBIsUpsellDeferred")(h);var j=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();j=j.virtualDeviceInfo;j=j.doesUserHaveOtcEligibleDevices;if(e&&a===d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL&&!j){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!0,f],b[2]=e):e=b[2];return e}a=h===!0||g;b[3]!==a?(j=[a,f],b[3]=a,b[4]=j):j=b[4];return j}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react",["CometPlaceholder.react","CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBVestaUserInfoContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsQPWithPinPlaceholder.react","MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferred","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBGetUpsellState","useMWEncryptedBackupsIsUpsellDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("MWEncryptedBackupsThreadListRestoreQPWrapper.react").__setRef("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react")),l=c("gkx")("3952");function a(a){var e=d("react-compiler-runtime").c(15),f=a.children,g=a.fragmentKey;a=a.trigger;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql"),g);var i=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),m=c("useMWEBGetUpsellState")();m=m.isRestoreUpsellsDismissed;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL},e[0]=n):n=e[0];n=c("useMWEncryptedBackupsIsUpsellDismissed")(n);var o=n[0];n=n[1];var p;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(p={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL},e[1]=p):p=e[1];p=c("useMWEncryptedBackupsIsUpsellDismissed")(p);var q=p[0];p=p[1];var r;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL},e[2]=r):r=e[2];r=c("useMWEncryptedBackupsIsUpsellDismissed")(r);var s=r[0];r=r[1];var t;e[3]!==i?(t={backupState:4,isCooldownOrLockOutState:i},e[3]=i,e[4]=t):t=e[4];i=c("useHasRestoreInterstitialSoftblockBeenDismissed")(t);t=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();o=o||q;if(m||o&&!l||o&&l&&s)return f;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWEncryptedBackupsQPWithPinPlaceholder.react"),{}),e[5]=q):q=e[5];e[6]!==f||e[7]!==t||e[8]!==g||e[9]!==o||e[10]!==r||e[11]!==n||e[12]!==p||e[13]!==a?(m=j.jsx(c("CometPlaceholder.react"),{fallback:q,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred",children:j.jsx(k,{children:f,currentSupportedPlatform:t,fragmentKey:g,hasDismissedQps:o,setHasDismissedBanner:r,setHasDismissedQp:n,setHasDismissedQpWithPin:p,trigger:a})}),e[6]=f,e[7]=t,e[8]=g,e[9]=o,e[10]=r,e[11]=n,e[12]=p,e[13]=a,e[14]=m):m=e[14];s=m;switch(t){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:return i?s:f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:return s}}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferredWithEBCheck.react",["cr:9938"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9938")}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","promiseDone","react","react-compiler-runtime","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=1e3*60*60,o=n*3;function p(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function q(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=d("react-compiler-runtime").c(32),g=(h||(h=c("useReStore")))(),i=l(null),s="__"+a+".fromTimestampMs__",t;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-o)),e[0]=t):t=e[0];t=t;t=m(t);var u=t[0],v=t[1],w=l(u),x;e[1]!==u?(t=function(){w.current=u},x=[u],e[1]=u,e[2]=t,e[3]=x):(t=e[2],x=e[3]);k(t,x);var y=l(!1);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],e[4]=t):t=e[4];x=t;e[5]!==a?(t=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],e[5]=a,e[6]=t):t=e[6];a=t;e[7]!==a?(t=[].concat(x,a),e[7]=a,e[8]=t):t=e[8];x=t;var z=x;e[9]!==g||e[10]!==s||e[11]!==z?(a=function(){z.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(s).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:p(b),serverMode:c("LSVec").ofArray(z),threads:new(c("LSDict"))([])})},"readwrite",void 0,void 0,f.id+":98"))}})["catch"](r),function(){y.current=!0;var a=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(s,JSON.stringify(a)),function(){v(a)})})},e[9]=g,e[10]=s,e[11]=z,e[12]=a):a=e[12];var A=a;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){i.current!=null&&(c("clearInterval")(i.current),i.current=null)},e[13]=t):t=e[13];var B=t;e[14]!==A?(x=function(){if(i.current!=null)return;if(c("MetaConfig")._("96")){var a;i.current=c("setInterval")(A,(a=c("MetaConfig")._("43"))!=null?a:n)}},e[14]=A,e[15]=x):x=e[15];var C=x;e[16]!==C||e[17]!==A?(a=function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(p(w.current));i.current==null&&C();a>=((a=c("MetaConfig")._("43"))!=null?a:n)&&A()},e[16]=C,e[17]=A,e[18]=a):a=e[18];var D=a;e[19]!==D||e[20]!==b?(t=function(){d("VisibilityAPI").isVisibilityHidden()?B():b&&c("MetaConfig")._("97")&&D()},e[19]=D,e[20]=b,e[21]=t):t=e[21];var E=t;e[22]!==C||e[23]!==A||e[24]!==E?(x=function(){var a=null;y.current||(A(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(E)),C());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),i.current!=null&&(c("clearInterval")(i.current),i.current=null)}},e[22]=C,e[23]=A,e[24]=E,e[25]=x):x=e[25];e[26]!==D||e[27]!==C||e[28]!==b||e[29]!==A||e[30]!==E?(a=[B,D,C,b,A,E],e[26]=D,e[27]=C,e[28]=b,e[29]=A,e[30]=E,e[31]=a):a=e[31];k(x,a)}function r(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to set timestamp for thread activity status")}g["default"]=a}),98);
__d("useMWInboxContextSwitcherFilterPreloaderCond",["cr:4651","emptyFunction","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onHoverIn:c("emptyFunction"),onHoverOut:c("emptyFunction"),onPressIn:c("emptyFunction")},a[0]=b):b=a[0];return b}f=(e=b("cr:4651"))!=null?e:a;b=f;g["default"]=b}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSIntEnum","LSThreadRangeFilter","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","MWVerticalRhythm","Promise","gkx","promiseDone","react","react-compiler-runtime","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useMWInboxContextSwitcherFilterPreloaderCond","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["filter","hasNewContentBadge","isShown","logClick","odsAction","overrideTabChange","ref"],j,k,l,m,n,o=n||(n=d("react")),p=n.useEffect,q={tabContainerWithFilters:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xwn43p0",paddingInlineEnd:"x1x5flf6",paddingLeft:null,paddingRight:null,$$css:!0},tabWithFilters:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29),e=a.entryPoint,g=a.onTabChange,j=a.parentThreadKey,n=a.selectedFilterTab,t=a.showMessageRequests,u=a.showNestedFolderThreads,v=(k||(k=c("useReStore")))();c("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",e==="inbox");var w;b[0]!==v?(a=function(){c("promiseDone")(v.runInTransaction(s,"readwrite",void 0,void 0,f.id+":83"))},w=[v],b[0]=v,b[1]=a,b[2]=w):(a=b[1],w=b[2]);p(a,w);var x=c("useHasUnjoinedCMThreads")();a=d("MWInboxPersistedUIState").usePersistedUIState(x,"__MWInboxContextSwitcher.hasViewedSuggestedChats__");var y=a[0],z=a[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(w=(l||(l=d("LSIntEnum"))).ofNumber(0),b[3]=w):w=b[3];a=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(w);w=a!=null&&a>0;a=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads();var A=x&&!y,B=e==="jewel"?"jewel_tray":"messenger_inbox",C=e==="inbox"?"jewel_inbox":"chats_inbox",D;b[4]!==C||b[5]!==B?(D={onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:C,source:"blended_threadlist_community_tab",surface:B})}},b[4]=C,b[5]=B,b[6]=D):D=b[6];D=c("useSinglePartialViewImpression")(D);var E;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(E=(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),b[7]=E):E=b[7];E=c("useMWInboxContextSwitcherFilterPreloaderCond")(v,j,E);E=E.onPressIn;var F;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(F=(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),b[8]=F):F=b[8];j=c("useMWInboxContextSwitcherFilterPreloaderCond")(v,j,F);F=j.onPressIn;if(b[9]!==e||b[10]!==x||b[11]!==A||b[12]!==a||b[13]!==w||b[14]!==y||b[15]!==D||b[16]!==E||b[17]!==F||b[18]!==g||b[19]!==C||b[20]!==n||b[21]!==z||b[22]!==t||b[23]!==u||b[24]!==B){j=[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE),hasNewContentBadge:w,isShown:!0,label:h._(/*BTDS*/"All"),odsAction:"inbox_tab_click"},{filter:l.ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Unread"),odsAction:"unread_tab_click",onPressIn:F},{filter:l.ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Groups"),odsAction:"groups_tab_click",onPressIn:E}].concat(c("gkx")("2165")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES),hasNewContentBadge:a||A,isShown:!0,label:h._(/*BTDS*/"Communities"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:C,source:"blended_threadlist_community_tab",surface:B})},odsAction:"communities_tab_click",ref:D}]:[],c("gkx")("6437")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").DRAFTS),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Drafts"),odsAction:"drafts_tab_click"}]:[],c("gkx")("17132")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").MARKETPLACE),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Marketplace"),odsAction:"marketplace_tab_click",overrideTabChange:function(){u!=null&&u((l||(l=d("LSIntEnum"))).ofNumber(-12))}},{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").MESSAGE_REQUESTS),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Message requests"),odsAction:"message_request_tab_click",overrideTabChange:function(){t==null||t()}}]:[]);j=j.filter(r).map(function(a,b){var f=a.filter;b=a.hasNewContentBadge;a.isShown;var h=a.logClick,j=a.odsAction,k=a.overrideTabChange,o=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(m||(m=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))&&x&&!y&&z(!0);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,j);h==null||h();if(k!=null){k();return}g(f)},ref:o,selected:(m||(m=d("I64"))).equal(f,n),testid:(m||(m=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))?"communities_tab":void 0,xstyle:q.tabWithFilters})});b[9]=e;b[10]=x;b[11]=A;b[12]=a;b[13]=w;b[14]=y;b[15]=D;b[16]=E;b[17]=F;b[18]=g;b[19]=C;b[20]=n;b[21]=z;b[22]=t;b[23]=u;b[24]=B;b[25]=j}else j=b[25];A=j;if(A.length<=1){b[26]===Symbol["for"]("react.memo_cache_sentinel")?(a=o.jsx(c("MWVerticalRhythm"),{height:8}),b[26]=a):a=b[26];return a}b[27]!==A?(w=o.jsx(c("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:A,tabsContainerStyle:q.tabContainerWithFilters}),b[27]=A,b[28]=w):w=b[28];return w}function r(a){return a.isShown}function s(a){return(j||(j=b("Promise"))).resolve()}g["default"]=a}),226);
__d("useMWInboxContextSwitcherFilterPreloader",["MWPBaseThreadListHooks","MWPBaseThreadListUtils","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g=d("MWPBaseThreadListHooks").useMWPBaseThreadListDefaultThreadsRange(a,b,e),h;f[0]!==a||f[1]!==g||f[2]!==e||f[3]!==b?(h=function(){g==null&&d("MWPBaseThreadListUtils").loadMoreThreadsForEmptyRangeDefault(a,b,e)},f[0]=a,f[1]=g,f[2]=e,f[3]=b,f[4]=h):h=f[4];h=h;h=c("useCometPreloader")("button",h,h);var i=h.onHighIntentPreloader,j=h.onHoverInPreloader,k=h.onHoverOutPreloader;h=h.onPressInPreloader;var l;f[5]!==i||f[6]!==j?(l=function(a){j(a),i(!0)},f[5]=i,f[6]=j,f[7]=l):l=f[7];var m;f[8]!==k||f[9]!==h||f[10]!==l?(m={onHoverIn:l,onHoverOut:k,onPressIn:h},f[8]=k,f[9]=h,f[10]=l,f[11]=m):m=f[11];k=m;return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","BasePopoverReflowSheet.react","LayoutAnimationBoundaryContext","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(18),e=a.anchorRef,f=a.anchorRefOverride,g=a.anchorRootRefContext,h=a.animationContext,l=a.children,m=a.contextualLayerProps,n=a.imperativeRef,o=a.scrollableAreaContext;a=f===void 0?!1:f;f=c("useCometDisplayTimingTrackerForInteraction")("FDSCalloutManager");var p=c("useMatchViewport")("max","width",600)?c("BasePopoverReflowSheet.react"):i.Fragment,q,r;b[0]!==n||b[1]!==o?(q=function(){var a=o.map(k).filter(Boolean),b=function(){var a;return(a=n.current)==null?void 0:a.reposition()};if(a.length>0){a.forEach(function(a){return a.addEventListener("scroll",b,{passive:!0})});return function(){a.forEach(function(a){return a.removeEventListener("scroll",b,{passive:!0})})}}},r=[n,o],b[0]=n,b[1]=o,b[2]=q,b[3]=r):(q=b[2],r=b[3]);j(q,r);if(m==null||e==null)return null;b[4]!==p||b[5]!==e||b[6]!==a||b[7]!==l||b[8]!==m||b[9]!==n||b[10]!==f?(q=m!=null?i.jsx(p,{children:i.jsx(c("BaseContextualLayer.react"),{align:m.align,anchorRef:a?e:void 0,contextRef:e,disableAutoAlign:m.disableAutoAlign,disableAutoFlip:m.disableAutoFlip,imperativeRef:n,position:m.position,ref:f,reflowToPosition:p!==i.Fragment,children:l})}):null,b[4]=p,b[5]=e,b[6]=a,b[7]=l,b[8]=m,b[9]=n,b[10]=f,b[11]=q):q=b[11];b[12]!==g||b[13]!==q?(r=i.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:g,children:q}),b[12]=g,b[13]=q,b[14]=r):r=b[14];b[15]!==h||b[16]!==r?(p=i.jsx(c("LayoutAnimationBoundaryContext").Provider,{value:h,children:r}),b[15]=h,b[16]=r,b[17]=p):p=b[17];return p}function k(a){return a.getDOMNode()}g["default"]=a}),98);
__d("FDSCalloutEdgeArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","xstyle"],i,j,k=j||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return k.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0,className:(i||(i=c("stylex")))(d),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&k.jsx("title",{children:a.title}),b!=null&&k.jsx("defs",{children:b}),k.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("FDSCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutEdgeArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"],i,j=i||(i=d("react")),k=i.useContext,l={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0}},m={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},n={end:{borderEndEndRadius:"x16uus16",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderEndStartRadius:"xbiv7yw",marginBottom:"xieb3on",$$css:!0}},o={end:{borderStartEndRadius:"x1ga7v0g",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderStartStartRadius:"x15mokao",marginTop:"x1sy10c2",$$css:!0}},p={end:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0}},q={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},r={end:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0}},s={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},t={end:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{insetInlineStart:"x1o0tod",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},u={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},v={end:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{insetInlineStart:"x1o0tod",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},w={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}};function x(a){if(a==="start")return"end";return a==="end"?"start":a}function a(a){var b,e=d("react-compiler-runtime").c(41),f,g,i,p,q,r,s,t;e[0]!==a?(g=a.children,r=a.disableAutoFocus,i=a.id,p=a.onClose,q=a.onOutsideClick,s=a.type,t=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=p,e[5]=q,e[6]=r,e[7]=s,e[8]=t):(f=e[1],g=e[2],i=e[3],p=e[4],q=e[5],r=e[6],s=e[7],t=e[8]);a=r===void 0?!1:r;r=s===void 0?"default":s;s=k(c("BaseContextualLayerOrientationContext"));var u=s.align;s=s.position;u=u==="stretch"?"start":u;s=s==="start"?"above":s==="end"?"below":s;var v=k(c("BaseContextualLayerContextSizeContext"));b=(b=k(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;var w;e[9]!==u||e[10]!==b?(w=b!==0?x(u):u,e[9]=u,e[10]=b,e[11]=w):w=e[11];u=w;v=(w=v==null?void 0:v.width)!=null?w:0;e[12]!==u||e[13]!==b||e[14]!==v?(w=A(u,v,b),e[12]=u,e[13]=b,e[14]=v,e[15]=w):w=e[15];b=w;v=c("useOnOutsideClick")(q);w=i!=null?i:void 0;q=a?void 0:d("focusScopeQueries").tabbableScopeQuery;i=m[r];a=s==="above"&&n[u];var y=s==="below"&&o[u],B;e[16]!==y||e[17]!==i||e[18]!==a||e[19]!==t?(B=[l.content,i,a,y,t],e[16]=y,e[17]=i,e[18]=a,e[19]=t,e[20]=B):B=e[20];e[21]!==g||e[22]!==v||e[23]!==B?(y=j.jsx(c("BaseRow.react"),{ref:v,xstyle:B,children:g}),e[21]=g,e[22]=v,e[23]=B,e[24]=y):y=e[24];e[25]!==u||e[26]!==s||e[27]!==r?(i=j.jsx(z,{align:u,position:s,type:r}),e[25]=u,e[26]=s,e[27]=r,e[28]=i):i=e[28];e[29]!==p||e[30]!==y||e[31]!==i?(a=j.jsxs(c("CometHideLayerOnEscape.react"),{onHide:p,children:[y,i]}),e[29]=p,e[30]=y,e[31]=i,e[32]=a):a=e[32];e[33]!==a||e[34]!==q?(t=j.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:q,children:a}),e[33]=a,e[34]=q,e[35]=t):t=e[35];e[36]!==f||e[37]!==b||e[38]!==t||e[39]!==w?(g=j.jsx(c("BaseView.react"),babelHelpers["extends"]({},f,{id:w,role:"dialog",style:b,xstyle:l.container,children:t})),e[36]=f,e[37]=b,e[38]=t,e[39]=w,e[40]=g):g=e[40];return g}var y=c("Locale").isRTL();function z(a){var b=d("react-compiler-runtime").c(8),e=a.align,f=a.position;a=a.type;var g=a==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",h=f==="above"&&a==="default"&&(y?q[e]:p[e]),i=f==="above"&&a==="accent"&&(y?s[e]:r[e]),k=f==="below"&&a==="default"&&(y?u[e]:t[e]);f=f==="below"&&a==="accent"&&(y?w[e]:v[e]);b[0]!==h||b[1]!==i||b[2]!==k||b[3]!==f?(a=[l.arrow,h,i,k,f],b[0]=h,b[1]=i,b[2]=k,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=j.jsx(c("FDSCalloutEdgeArrow.svg.react"),{fill:g,xstyle:a}),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}function A(a,b,c){c=c===0?b/2:0;if(c===0)return void 0;if(a==="start")return{transform:"translateX("+(y?-1*c:c)+"px)"};return a==="end"?{transform:"translateX("+(y?c:-1*c)+"px)"}:void 0}g["default"]=a}),98);
__d("FDSCalloutInsetArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","xstyle"],i,j,k=j||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return k.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0,className:(i||(i=c("stylex")))(d),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&k.jsx("title",{children:a.title}),b!=null&&k.jsx("defs",{children:b}),k.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("FDSCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutInsetArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"],i,j=i||(i=d("react")),k=i.useContext,l={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0}},m={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},n={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginInlineStart:"xyqm7xq",$$css:!0}},o={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},p={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(38),f,g,i,o,p,r,t,u;e[0]!==a?(g=a.children,r=a.disableAutoFocus,i=a.id,o=a.onClose,p=a.onOutsideClick,t=a.type,u=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=o,e[5]=p,e[6]=r,e[7]=t,e[8]=u):(f=e[1],g=e[2],i=e[3],o=e[4],p=e[5],r=e[6],t=e[7],u=e[8]);a=r===void 0?!1:r;r=t===void 0?"default":t;t=k(c("BaseContextualLayerOrientationContext"));var v=t.align;t=t.position;v=v==="stretch"?"start":v;t=t==="start"?"above":t==="end"?"below":t;var w=k(c("BaseContextualLayerContextSizeContext"));b=(b=k(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;w=(w=w==null?void 0:w.width)!=null?w:0;var x;e[9]!==v||e[10]!==b||e[11]!==t||e[12]!==w?(x=s(v,t,w,b),e[9]=v,e[10]=b,e[11]=t,e[12]=w,e[13]=x):x=e[13];v=x;b=v[0];w=v[1];x=c("useOnOutsideClick")(p);v=i!=null?i:void 0;p=a?void 0:d("focusScopeQueries").tabbableScopeQuery;i=m[r];a=n[t];var y;e[14]!==i||e[15]!==a||e[16]!==u?(y=[l.content,i,a,u],e[14]=i,e[15]=a,e[16]=u,e[17]=y):y=e[17];e[18]!==g||e[19]!==x||e[20]!==y?(i=j.jsx(c("BaseRow.react"),{ref:x,xstyle:y,children:g}),e[18]=g,e[19]=x,e[20]=y,e[21]=i):i=e[21];e[22]!==w||e[23]!==t||e[24]!==r?(a=j.jsx(q,{arrowStyles:w,position:t,type:r}),e[22]=w,e[23]=t,e[24]=r,e[25]=a):a=e[25];e[26]!==o||e[27]!==i||e[28]!==a?(u=j.jsxs(c("CometHideLayerOnEscape.react"),{onHide:o,children:[i,a]}),e[26]=o,e[27]=i,e[28]=a,e[29]=u):u=e[29];e[30]!==u||e[31]!==p?(g=j.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:p,children:u}),e[30]=u,e[31]=p,e[32]=g):g=e[32];e[33]!==f||e[34]!==b||e[35]!==g||e[36]!==v?(x=j.jsx(c("BaseView.react"),babelHelpers["extends"]({},f,{id:v,role:"dialog",style:b,xstyle:l.container,children:g})),e[33]=f,e[34]=b,e[35]=g,e[36]=v,e[37]=x):x=e[37];return x}function q(a){var b=d("react-compiler-runtime").c(7),e=a.arrowStyles,f=a.position;a=a.type;var g=a==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",h=o[f];a=a==="accent"&&p[f];b[0]!==h||b[1]!==a?(f=[l.arrow,h,a],b[0]=h,b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==g||b[5]!==f?(h=j.jsx(c("FDSCalloutInsetArrow.svg.react"),{fill:g,style:e,xstyle:f}),b[3]=e,b[4]=g,b[5]=f,b[6]=h):h=b[6];return h}var r=c("Locale").isRTL();function s(a,b,c,d){var e=Math.max(c/2-8,16)+Math.abs(d),f=c/2-8<16;c=24-c/2;if(b==="above")if(a==="start"){var g;b=r?"right":"left";return[f?{transform:"translateX("+(r?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){b=r?"left":"right";return[f?{transform:"translateX("+(r?-c:c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else{var h;b=r?"left":"right";g=(r?-d:d)-8;return[void 0,(h={},h[b]="calc(50% + "+g+"px)",h)]}else if(a==="start"){b=r?"right":"left";return[f?{transform:"translateX("+(r?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){h=r?"left":"right";return[f?{transform:"translateX("+(r?-c:c)+"px)"}:void 0,(b={},b[h]="min(calc(100% - 32px), "+e+"px)",b)]}else{g=r?"left":"right";a=(r?-d:d)-8;return[void 0,(f={},f[g]="calc(50% + "+a+"px)",f)]}}g["default"]=a}),98);
__d("FDSCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BasePopoverReflowSheetContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometHideLayerOnEscape.react","FBLogger","FDSCalloutEdge.react","FDSCalloutInset.react","FDSIcon.react","FDSTextPairing.react","FocusRegionStrictMode.react","fbicon","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;var m={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},crossoutButton:{marginInlineEnd:"x1lxpwgx",marginTop:"x9otpla",$$css:!0},fitContent:{width:"xeq5yr9",$$css:!0},item:{paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0}},n={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},o={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginInlineStart:"xdwrcjd",$$css:!0},start:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(66),e=a.arrowStyle,f=a.calloutID,g=a.content,j=a.contentID,q=a.disableAutoFocus,r=a.onClose,s=a.onHide,t=a.onOutsideClick,u=a.onShow,v=a.titleID,w=a.type,x=a.xstyle,y=a.addOn,z=a["aria-label"],A=a.hasCloseButton;a=a.title;e=e===void 0?"none":e;q=q===void 0?!1:q;w=w===void 0?"default":w;A=A===void 0?!0:A;var B=l(c("BaseContextualLayerOrientationContext"));B=B.position;var C=c("useOnOutsideClick")(t),D=l(c("BasePopoverReflowSheetContext"));D=D.isReflowSheet;var E;b[0]!==s||b[1]!==u?(E={onHidden:s,onVisible:u},b[0]=s,b[1]=u,b[2]=E):E=b[2];s=c("useVisibilityObserver")(E);u=w==="default"?"primary":"white";if(B==="end"&&(e==="inset"||e==="edge"))throw c("FBLogger")("comet_ui").mustfixThrow('"end" position with arrow is not supported yet');b[3]!==z||b[4]!==j||b[5]!==a||b[6]!==v?(E=a!=null?{"aria-describedby":j,"aria-labelledby":v}:{"aria-describedby":j,"aria-label":z},b[3]=z,b[4]=j,b[5]=a,b[6]=v,b[7]=E):E=b[7];z=E;E=z;b[8]!==u||b[9]!==g||b[10]!==j||b[11]!==a||b[12]!==v?(z=k.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:u,bodyId:j,headline:a,headlineColor:u,headlineId:v,isSemanticHeading:!0,level:3}),b[8]=u,b[9]=g,b[10]=j,b[11]=a,b[12]=v,b[13]=z):z=b[13];b[14]!==z||b[15]!==s?(u=k.jsx(c("BaseRowItem.react"),{expanding:!0,ref:s,verticalAlign:"center",xstyle:m.item,children:z}),b[14]=z,b[15]=s,b[16]=u):u=b[16];b[17]!==A||b[18]!==r||b[19]!==w?(g=A&&k.jsx(c("BaseRowItem.react"),{xstyle:[m.crossoutButton,m.item],children:k.jsx(c("FDSIcon.react"),{"aria-label":h._(/*BTDS*/"Close"),color:w==="default"?"secondary":"white",focusable:!0,icon:d("fbicon")._(i("478232"),16),onPress:r,size:16})}),b[17]=A,b[18]=r,b[19]=w,b[20]=g):g=b[20];b[21]!==g||b[22]!==u?(j=k.jsx(c("CometColumnItem.react"),{children:k.jsxs(c("BaseRow.react"),{children:[u,g]})}),b[21]=g,b[22]=u,b[23]=j):j=b[23];b[24]!==y?(a=y!=null&&k.jsx(c("CometColumnItem.react"),{paddingTop:12,children:k.jsx(c("BaseRow.react"),{children:k.jsx(c("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:m.item,children:y})})}),b[24]=y,b[25]=a):a=b[25];b[26]!==j||b[27]!==a?(v=k.jsxs(c("CometColumn.react"),{children:[j,a]}),b[26]=j,b[27]=a,b[28]=v):v=b[28];z=v;if(!D&&e==="inset"){b[29]!==E||b[30]!==f||b[31]!==z||b[32]!==q||b[33]!==r||b[34]!==t||b[35]!==w||b[36]!==x?(s=k.jsx(c("FDSCalloutInset.react"),babelHelpers["extends"]({},E,{disableAutoFocus:q,id:f,onClose:r,onOutsideClick:t,type:w,xstyle:x,children:z})),b[29]=E,b[30]=f,b[31]=z,b[32]=q,b[33]=r,b[34]=t,b[35]=w,b[36]=x,b[37]=s):s=b[37];return s}if(!D&&e==="edge"){b[38]!==E||b[39]!==f||b[40]!==z||b[41]!==q||b[42]!==r||b[43]!==t||b[44]!==w||b[45]!==x?(A=k.jsx(c("FDSCalloutEdge.react"),babelHelpers["extends"]({},E,{disableAutoFocus:q,id:f,onClose:r,onOutsideClick:t,type:w,xstyle:x,children:z})),b[38]=E,b[39]=f,b[40]=z,b[41]=q,b[42]=r,b[43]=t,b[44]=w,b[45]=x,b[46]=A):A=b[46];return A}g=f!=null?f:void 0;u=q?void 0:d("focusScopeQueries").tabbableScopeQuery;y=n[w];j=e==="none"&&o[B];a=D&&m.fitContent;b[47]!==y||b[48]!==j||b[49]!==a||b[50]!==x?(v=[m.content,y,j,x,a],b[47]=y,b[48]=j,b[49]=a,b[50]=x,b[51]=v):v=b[51];b[52]!==z||b[53]!==C||b[54]!==v?(s=k.jsx(c("BaseRow.react"),{ref:C,xstyle:v,children:z}),b[52]=z,b[53]=C,b[54]=v,b[55]=s):s=b[55];b[56]!==r||b[57]!==s?(t=k.jsx(c("CometHideLayerOnEscape.react"),{onHide:r,children:s}),b[56]=r,b[57]=s,b[58]=t):t=b[58];b[59]!==u||b[60]!==t?(A=k.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:u,children:t}),b[59]=u,b[60]=t,b[61]=A):A=b[61];b[62]!==E||b[63]!==g||b[64]!==A?(f=k.jsx(c("CometErrorBoundary.react"),{fallback:p,children:k.jsx(c("BaseView.react"),babelHelpers["extends"]({},E,{id:g,role:"dialog",xstyle:m.container,children:A}))}),b[62]=E,b[63]=g,b[64]=A,b[65]=f):f=b[65];return f}function p(){return k.jsx("div",{})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSCalloutImpl.react",["BaseCalloutImpl.react","FDSCallout.react","FDSCalloutContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["disableOutsideClick","onClose"],i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.calloutID,f=a.calloutProps,g=a.contentID,i=a.titleID,l=k(c("FDSCalloutContext"));if(l==null||f==null)return null;var m,n,o;b[0]!==f?(n=f.disableOutsideClick,o=f.onClose,m=babelHelpers.objectWithoutPropertiesLoose(f,h),b[0]=f,b[1]=m,b[2]=n,b[3]=o):(m=b[1],n=b[2],o=b[3]);b[4]!==l||b[5]!==e||b[6]!==o?(f=function(){l.removeCallout(e),o==null||o()},b[4]=l,b[5]=e,b[6]=o,b[7]=f):f=b[7];var p;b[8]!==l||b[9]!==e||b[10]!==n||b[11]!==o?(p=function(){n!==!0&&(l.removeCallout(e),o==null||o())},b[8]=l,b[9]=e,b[10]=n,b[11]=o,b[12]=p):p=b[12];var q;b[13]!==e||b[14]!==m||b[15]!==g||b[16]!==f||b[17]!==p||b[18]!==i?(q=j.jsx(c("FDSCallout.react"),babelHelpers["extends"]({},m,{calloutID:e,contentID:g,onClose:f,onOutsideClick:p,titleID:i})),b[13]=e,b[14]=m,b[15]=g,b[16]=f,b[17]=p,b[18]=i,b[19]=q):q=b[19];b[20]!==a||b[21]!==q?(m=j.jsx(c("BaseCalloutImpl.react"),babelHelpers["extends"]({},a,{children:q})),b[20]=a,b[21]=q,b[22]=m):m=b[22];return m}g["default"]=a}),98);
__d("removeFromMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.has(b)){var c=new Map(a);c["delete"](b);return c}return a}f["default"]=a}),66);
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=a.get(b);d!=null&&(d.portablePlaceContainer=null);return c("removeFromMap")(a,b)}a=c("emptyFunction");function i(a){return a.unlinkedAtTimestampMs!==null}var j=1e4;b=function(){function a(a){var b=this;this.$1=function(c){var d=function(a){return c(b.$2(a))};a(d)}}var b=a.prototype;b.addOrUpdatePlace=function(a){var b=this,d=a.coreVideoPlayerMetaData,e=a.fullscreenController,f=a.implementations,g=a.injectCoreVideoStatesRef,j=a.isFullscreen,k=a.portablePlaceContainer,l=a.portablePlaceID,m=a.portablePlaceMetaData,n=a.portableVideoID,o=a.renderComponents,p=a.renderPlaceholder,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.viewportMarginsForViewability;this.$1(function(a){var t,u=b.getPortableVideoState(a,n),v=(t=a.places.get(l))!=null?t:null;t=v!=null&&!i(v)?v.sequenceNumber:a.placesSequenceNumberNext;var w=t===a.placesSequenceNumberNext?a.placesSequenceNumberNext+1:a.placesSequenceNumberNext,x=m||{},y=a.places;if(n!=null){var z=b.getPlacesBorrowingThisVideo(y,n);z.forEach(function(a){i(a)&&a.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(y=h(y,a.portablePlaceID))})}y=c("addToMap")(y,l,babelHelpers["extends"]({},v,{coreVideoPlayerMetaData:d,currentVideoID:n,fullscreenController:e,implementations:f,injectCoreVideoStatesRef:g,isFullscreen:j,portablePlaceContainer:k,portablePlaceID:l,portablePlaceMetaData:x,renderComponents:o,renderPlaceholder:p!=null?p:null,sequenceNumber:t,trackingDataEncrypted:q,trackingNodes:r,unlinkedAtTimestampMs:null,viewportMarginsForViewability:s}));z=v!==null&&n===null?v.currentVideoID:null;x=a.videos;if(z!==null){t=b.getPlacesBorrowingThisVideo(y,z);t=0===t.length;t&&(x=c("removeFromMap")(a.videos,z))}if(n!==null){t=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:u,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:y,videoID:n});z=t.nextPreviousPlaceMetaData;x=c("addToMap")(x,n,u?babelHelpers["extends"]({},u,{portableVideoID:n,previousPlaceMetaData:z}):{portableVideoID:n,preferredPlaceID:null,previousPlaceMetaData:z})}return y===a.places&&w===a.placesSequenceNumberNext&&x===a.videos?a:babelHelpers["extends"]({},a,{places:y,placesSequenceNumberNext:w,videos:x})})};b.removePlace=function(a){var b=this,d=a.portablePlaceID,e=Date.now();this.$1(function(a){var f;f=(f=a.places.get(d))!=null?f:null;var g=f!==null?f.currentVideoID:null;if(f===null)return a;var i=a.places,j=g!==null?b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(i,g)).filter(function(a){return a.portablePlaceID!==d}):[];g!==null&&j.length===0?i=c("addToMap")(i,d,babelHelpers["extends"]({},f,{unlinkedAtTimestampMs:e})):i=h(i,d);j=a.videos;if(g!==null){f=b.getPlacesBorrowingThisVideo(i,g);f=0===f.length;if(f)j=c("removeFromMap")(j,g);else{f=b.getPortableVideoState(a,g);var k=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:f,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:i,videoID:g}),l=k.nextPreviousPlaceMetaData;k=k.shouldUpdatePreviousPlaceMetaDataForVideo;f!=null&&k&&(j=c("addToMap")(j,g,babelHelpers["extends"]({},f,{portableVideoID:g,previousPlaceMetaData:l})))}}return i===a.places&&j===a.videos?a:babelHelpers["extends"]({},a,{places:i,videos:j})})};b.setPreferredPlaceForVideo=function(a){var b=this,d=a.portablePlaceID,e=a.portableVideoID;this.$1(function(a){var f=b.getPortableVideoState(a,e),g=d!=null?a.places.get(d):null,h=b.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:g,existingVideoState:f,places:a.places,preferredPlaceID:d,setPreferredPlaceForVideo:!0,updatedPlaces:a.places,videoID:e});h=h.nextPreviousPlaceMetaData;f=f!=null?c("addToMap")(a.videos,e,babelHelpers["extends"]({},f,{preferredPlaceID:g!=null&&d!=null?d:null,previousPlaceMetaData:h})):a.videos;return f===a.videos?a:babelHelpers["extends"]({},a,{videos:f})})};b.getPlacesBorrowingThisVideo=function(a,b){var c=[];a.forEach(function(a){a.currentVideoID===b&&c.push(a)});return c};b.skipUnlinkedPlaces=function(a){return a.filter(function(a){return!i(a)})};b.selectCurrentPlaceFromThesePlaces=function(a,b){var c;a=a.slice().sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});c=(c=a.find(function(a){return a.portablePlaceID===b}))!=null?c:null;a=a.length>0?a[a.length-1]:null;return(c=c!=null?c:a)!=null?c:null};b.getCurrentPlaceStateForVideo=function(a,b){var c=this.getPortableVideoState(a,b);if(c!=null&&b!=null){a=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(a.places,b)),c.preferredPlaceID);return a!=null?a:null}else return null};b.getPortableVideoState=function(a,b){if(b!=null){a=a.videos.get(b);return a!=null?a:null}return null};b.updatePreviousPlaceMetaDataInfoForVideo=function(a){var b=this,c=a.existingPlaceStateForSetPreferredPlaceForVideo,d=a.existingVideoState,e=a.places,f=a.preferredPlaceID,g=a.setPreferredPlaceForVideo,h=a.updatedPlaces,i=a.videoID;a=function(a,c){return b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(a,i)),c!=null?c:null)};var j=a(e,d==null?void 0:d.preferredPlaceID);g?g=c!=null?a(e,f):null:g=a(h,d==null?void 0:d.preferredPlaceID);e=j!=null&&(j==null?void 0:j.portablePlaceID)!==((c=g)==null?void 0:c.portablePlaceID);return{nextPreviousPlaceMetaData:e&&j!=null?j.portablePlaceMetaData:(f=d==null?void 0:d.previousPlaceMetaData)!=null?f:null,shouldUpdatePreviousPlaceMetaDataForVideo:e}};b.collectGarbage=function(){this.$1(function(a){return a})};b.$2=function(a){var b=Date.now(),d=new Set(),e=a.places;a.places.forEach(function(a){a.unlinkedAtTimestampMs!==null&&b-a.unlinkedAtTimestampMs>=j?e=h(e,a.portablePlaceID):a.currentVideoID!==null&&d.add(a.currentVideoID)});var f=a.videos;a.videos.forEach(function(a){d.has(a.portableVideoID)||(f=c("removeFromMap")(f,a.portableVideoID))});return e===a.places&&f===a.videos?a:babelHelpers["extends"]({},a,{places:e,videos:f})};return a}();g.isUnlinkedGlobalVideoPortsPlace=i;g.UNLINKED_PLACE_TIMEOUT_MS=j;g.GlobalVideoPortsManager=b}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={errorRaw:null},b.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);b.getDerivedStateFromError=function(a){return{errorRaw:a}};var c=b.prototype;c.componentDidCatch=function(a,b){b=this.props.onError;b!=null&&b(a)};c.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.errorRaw;return c!=null?typeof a==="function"?a(b):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("everySet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(!b.call(c,f[1],f[0],a))return!1;e=d.next()}return!0}f["default"]=a}),66);
__d("equalsSet",["everySet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.size!==b.size?!1:c("everySet")(a,function(a){return b.has(a)})}g["default"]=a}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOM","equalsSet","react","react-compiler-runtime","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState;function n(a,b,e,f,g){var h=d("react-compiler-runtime").c(6),i=l(null),j;h[0]!==b||h[1]!==e||h[2]!==f||h[3]!==g||h[4]!==a?(j=function(){var d,h=i.current;d=new Set((d=a.map(o))!=null?d:[]);if(h==null||!c("equalsSet")(h,d)){i.current=d;h=b.current;d=e.current;h!=null&&f(h);d!=null&&g(d)}},h[0]=b,h[1]=e,h[2]=f,h[3]=g,h[4]=a,h[5]=j):j=h[5];k(j,void 0)}function o(a){return a.portablePlaceID}function a(a){var b=a.globalVideoPortsManager,e=a.globalVideoPortsState,f=a.thisVideoID;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var g=a[0],i=l(null),k=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),o=(a=e.videos.get(f))!=null?a:null,p=b.getPlacesBorrowingThisVideo(e.places,f);a=p.length<=0;e=a?null:b.selectCurrentPlaceFromThesePlaces(p,o?o.preferredPlaceID:null);var q=a?null:b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(p),o?o.preferredPlaceID:null);b=function(a){k.current=a,p.forEach(function(b){b=b.injectCoreVideoStatesRef.current;b&&b(i.current,a)})};var r=function(){return null},s=function(a){i.current=a,p.forEach(function(a){a=a.injectCoreVideoStatesRef.current;a&&a(i.current,k.current)})};n(p,k,i,b,s);return a?null:j.jsxs(j.Fragment,{children:[d("ReactDOM").createPortal(e?j.jsx(c("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:r,onError:s,children:j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:e.coreVideoPlayerMetaData,currentPlaceID:e.portablePlaceID,currentVideoID:f,fullscreenController:e.fullscreenController,implementations:e.implementations,isFullscreen:e.isFullscreen,onCoreVideoStatesChanged:b,previousPlaceMetaData:(a=o==null?void 0:o.previousPlaceMetaData)!=null?a:null,trackingDataEncrypted:e.trackingDataEncrypted,trackingNodes:e.trackingNodes,viewportMarginsForViewability:e.viewportMarginsForViewability})}):null,g),p.map(function(a){var b;return d("ReactDOM").createPortal(a.portablePlaceID===(q==null?void 0:q.portablePlaceID)?j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:g}):j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(b=q==null?void 0:q.portablePlaceID)!=null?b:null,currentVideoID:f,previousPlaceMetaData:(b=o==null?void 0:o.previousPlaceMetaData)!=null?b:null,renderPlaceholder:a.renderPlaceholder,thisPlaceID:a.portablePlaceID,videoPixelsAspectRatio:(b=a.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?b:null}),a.portablePlaceContainer)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(3),e=a.setGlobalVideoPortsManager,f;b[0]!==e?(a=function(){var a=k;e(a)},f=[e],b[0]=e,b[1]=a,b[2]=f):(a=b[1],f=b[2]);j(a,f);var g=[],h=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),l=d("GlobalVideoPortsContexts").useGlobalVideoPortsState();h&&l&&l.videos.forEach(function(a,b){g.push(i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:h,globalVideoPortsState:l,thisVideoID:b})},b))});return i.jsx(i.Fragment,{children:g})}function k(a){return new(d("GlobalVideoPortsManager").GlobalVideoPortsManager)(a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseMiddotSeparator.react",["BaseMiddot.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a["aria-label"],g=a["aria-labelledby"];a=a.asList;var h=a===void 0?!1:a;if(b[0]!==h||b[1]!==e){b[3]!==h?(a=function(a,b){return i.jsxs(j,{asList:h,children:[b!==0?i.jsx(c("BaseMiddot.react"),{}):null,a]},b)},b[3]=h,b[4]=a):a=b[4];a=i.Children.toArray(e).filter(Boolean).map(a);b[0]=h;b[1]=e;b[2]=a}else a=b[2];e=a;b[5]!==f||b[6]!==g||b[7]!==h||b[8]!==e?(a=h?i.jsx(d("react-strict-dom").html.span,{"aria-label":f!=null?f:void 0,"aria-labelledby":g!=null?g:void 0,role:"list",children:e}):e,b[5]=f,b[6]=g,b[7]=h,b[8]=e,b[9]=a):a=b[9];return a}function j(a){var b=d("react-compiler-runtime").c(3),c=a.asList;a=a.children;var e;b[0]!==c||b[1]!==a?(e=c?i.jsx(d("react-strict-dom").html.span,{role:"listitem",children:a}):a,b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometUFIConstants",[],(function(a,b,c,d,e,f){"use strict";a=525;b=750;c={INLINE_COMPOSER:"INLINE_COMPOSER",UFI:"UFI"};f.REACTION_MENU_SHOW_DELAY=a;f.REACTION_MENU_HIDE_DELAY=b;f.RTA_ENTRYPOINT_TAG=c}),66);
__d("CometVideoUnificationUFIReactActionRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoUnificationUFIReactActionRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIReactButtonBase_feedback"},{args:null,kind:"FragmentSpread",name:"useReelReactionCount_feedback"}],storageKey:null}],storageKey:null}],type:"XFBFBReelReactButtonRenderer",abstractKey:null};e.exports=a}),null);
__d("FBNucleusLikeOutline24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10.999.5a2.5 2.5 0 0 0-2.5 2.5v.814a8.258 8.258 0 0 1-.872 3.694l-.889 1.778a7 7 0 0 0-.309.714H3a2.5 2.5 0 0 0-2.5 2.5v8A2.5 2.5 0 0 0 3 23h14.75a3.5 3.5 0 0 0 3.47-3.044 3.494 3.494 0 0 0 1.242-3.219A3.49 3.49 0 0 0 23.5 14.25c0-.602-.153-1.17-.422-1.666A3.5 3.5 0 0 0 19.75 8h-4.751V4.5a4 4 0 0 0-4-4zM8 21v-8.682a5 5 0 0 1 .527-2.138l.89-1.778a10.259 10.259 0 0 0 1.082-4.588V3a.5.5 0 0 1 .5-.5 2 2 0 0 1 2 2v4.01c0 .823.668 1.49 1.491 1.49h5.26a1.5 1.5 0 0 1 1.321 2.211 1 1 0 0 0 .1 1.102 1.498 1.498 0 0 1-.369 2.206 1 1 0 0 0-.399 1.199 1.5 1.5 0 0 1-.655 1.833 1 1 0 0 0-.498.95 1.5 1.5 0 0 1-1.5 1.5H13.5L13.479 21H8zm-2-8.7a7 7 0 0 0-.001.116V21H3a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 3 12h3v.3z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBReelsFeedbackUtils",["CometUFIConstants","QE2Logger","clearTimeout","intlSummarizeNumber","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef,j=3;function a(a){var b=c("intlSummarizeNumber")(a);return k(b)>j?c("intlSummarizeNumber")(a,0):b}function k(a){return a.replace(/\D/g,"").length}function l(){d("QE2Logger").logExposureForUser("fbreels_web_enable_all_reactions")}function b(){var a=d("react-compiler-runtime").c(3),b=i(null),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){c("clearTimeout")(b.current),b.current=c("setTimeout")(l,d("CometUFIConstants").REACTION_MENU_SHOW_DELAY)},a[0]=e):e=a[0];e=e;var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return c("clearTimeout")(b.current)},a[1]=f):f=a[1];f=f;if(a[2]===Symbol["for"]("react.memo_cache_sentinel")){var g=function(){return c("clearTimeout")(b.current)};g={onMouseDown:g,onMouseEnter:e,onMouseLeave:f};a[2]=g}else g=a[2];return g}g.intlSummarizeTruncateNumber=a;g.logAllReactionsExposure=l;g.useHoverOnLikeButtonExposureLog=b}),98);
__d("useReelReactionCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReelReactionCount_feedback",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_reel_group_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:"likers",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("useReelReactionCount",["RelayHooks","gkx","useReelReactionCount_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e,f,g,i;a=d("RelayHooks").useFragment(h!==void 0?h:h=b("useReelReactionCount_feedback.graphql"),a);var j=(a==null||(e=a.associated_group)==null||(e=e.if_viewer_can_see_reel_group_attribution)==null?void 0:e.__typename)!=null,k=(a==null||(f=a.reaction_display_config)==null?void 0:f.reaction_display_strategy)==="HIDE_COUNTS"&&c("gkx")("9947");if(k)return 0;k=(k=a==null||(g=a.likers)==null?void 0:g.count)!=null?k:0;a=(a=a==null||(i=a.unified_reactors)==null?void 0:i.count)!=null?a:0;return j?k:a}g["default"]=a}),98);
__d("CometVideoUnificationUFIReactActionRenderer.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometPressable.react","CometReactionIcon.react","CometRelay","CometRow.react","CometRowItem.react","CometTrackingCodeProvider.react","CometUFIReactButtonBase.react","CometVideoUnificationUFIReactActionRenderer_renderer.graphql","CometWithReactionBounceAnimation.react","DynamicUFIReactionTypes","FBLogger","FBNucleusLikeOutline24Icon.react","FBReelsFeedbackUtils","FDSIcon.react","FDSText.react","UFICommonInteractionEvents","cometGetKeyCommandConfig","fbicon","getVideoShareDownstreamSignalTracking","react","react-compiler-runtime","useKeyCommands","useReelReactionCount"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));k.useMemo;var m={hiddenElement:{clip:"xzpqnlu",clipPath:"x179tack",position:"x10l6tqk",$$css:!0},pressable:{width:"x1useyqa",$$css:!0},reactA11yMenuWithOverlay:{insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(4);a=a.onKeyboardLike;var e;b[0]!==a?(e=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","likeStory",a),b[0]=a,b[1]=e):e=b[1];b[2]!==e?(a=[e],b[2]=e,b[3]=a):a=b[3];e=a;b=e;c("useKeyCommands")(b,!0);return null}function a(a){var e,f,g=d("react-compiler-runtime").c(14),k=a.feedbackSource;a=a.renderer;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometVideoUnificationUFIReactActionRenderer_renderer.graphql"),a);a=a.story;var o=a==null?void 0:a.feedback,p=c("useReelReactionCount")(o);e=(e=a==null?void 0:a.click_tracking_linkshim_cb)!=null?e:"";f=(f=a==null?void 0:a.encrypted_click_tracking)!=null?f:"";a=(a=a==null?void 0:a.encrypted_tracking)!=null?a:"";var q;g[0]!==e||g[1]!==f||g[2]!==a?(q={click_tracking_linkshim_cb:e,encrypted_click_tracking:f,encrypted_tracking:a},g[0]=e,g[1]=f,g[2]=a,g[3]=q):q=g[3];e=q;f=e;if(g[4]===Symbol["for"]("react.memo_cache_sentinel")){q=babelHelpers["extends"]({},(a=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTracking())!=null?a:{},{reels_vdd_ui_interaction_source:"REACT_BUTTON"});g[4]=q}else q=g[4];e=q;if(o==null)throw c("FBLogger")("ufi2").mustfixThrow("Failed to load `feedback` with which to render the reels reaction button.");g[5]!==p?(a=function(a){var b=a.a11yMenuTriggerLabel,e=a.handleA11yMenuActivate,f=a.handleHoverIn,g=a.handleHoverOut,j=a.handlePress,k=a.handlePressIn,o=a.handlePressOut,q=a.label,r=a.reactionDisplayName,s=a.reactionID,t=a.shouldShowReactA11yMenuTrigger;a=a.triggerRef;var u,v="CometUFIReactionActionLinkReactionIcon-"+r.toString().toLowerCase();s==null?u=l.jsx(c("FDSIcon.react"),{color:"white",icon:c("FBNucleusLikeOutline24Icon.react"),isDecorative:!0,size:24}):s!=="1635855486666999"&&(c("DynamicUFIReactionTypes").reactions[s]&&(u=l.jsx(c("CometReactionIcon.react"),{alt:r,reactionID:s,size:24,testid:void 0})));u==null&&(u=l.jsx(c("CometReactionIcon.react"),{reactionID:"1635855486666999",size:24,testid:void 0}));v=p>0?h._(/*BTDS*/"{Number}",[h._param("Number",d("FBReelsFeedbackUtils").intlSummarizeTruncateNumber(p))]):null;return l.jsxs(l.Fragment,{children:[l.jsxs(c("CometRow.react"),{paddingHorizontal:0,children:[l.jsx(c("CometRowItem.react"),{children:l.jsx(c("CometPressable.react"),{label:q,onHoverIn:f,onHoverOut:g,onPress:j,onPressIn:function(a){k(a)},onPressOut:function(a){o(a)},overlayRadius:8,preventContextMenu:!0,ref:a,testid:void 0,xstyle:m.pressable,children:l.jsxs(c("CometColumn.react"),{align:"center",paddingHorizontal:12,paddingVertical:12,spacing:8,children:[l.jsx(c("CometColumnItem.react"),{children:l.jsx("div",babelHelpers["extends"]({},{0:{className:"xxk0z11 xvy4d1p"},1:{className:"xlirdee xxk0z11 xvy4d1p"}}[!!(s!=null)<<0],{children:l.jsx(c("CometWithReactionBounceAnimation.react"),{reactionID:s,children:u})}))}),l.jsx(c("CometColumnItem.react"),{children:v==null?l.jsx("div",{className:"xdvlbce"}):l.jsx("div",{className:"x1plvlek xryxfnj",children:l.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:v})})})]})})}),l.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:l.jsx(c("CometPressable.react"),{focusable:!0,label:b,onPress:e,preventContextMenu:!0,xstyle:[m.reactA11yMenuWithOverlay,!t&&m.hiddenElement],children:l.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(i("481882"),16)})})})]}),l.jsx(n,{onKeyboardLike:e})]})},g[5]=p,g[6]=a):a=g[6];g[7]!==o||g[8]!==k||g[9]!==a?(q=l.jsx(c("CometUFIReactButtonBase.react"),{feedback:o,feedbackSource:k,interactionEvent:c("UFICommonInteractionEvents").COMET_UFI_STORY_REACTION,reelReactionVariables:e,children:a}),g[7]=o,g[8]=k,g[9]=a,g[10]=q):q=g[10];e=q;g[11]!==e||g[12]!==f?(o=l.jsx(c("CometTrackingCodeProvider.react"),{trackingCode:f,children:e}),g[11]=e,g[12]=f,g[13]=o):o=g[13];return o}g["default"]=a}),226);
__d("CometVideoUnificationUFIReactActionRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d=[c,b],e=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometVideoUnificationUFIReactActionRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:a,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[b],storageKey:null},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:[{alias:null,args:null,concreteType:"FeedbackReactionAnimation",kind:"LinkedField",name:"animation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_keyframes2",storageKey:null}],storageKey:null},b],storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:[{kind:"Literal",name:"supported",value:"3PKu67"},{kind:"Literal",name:"use_static_icons",value:!1}],concreteType:null,kind:"LinkedField",name:"comet_ufi_reaction_icon_renderer",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIReactionStrategy_feedback",fragmentName:"CometAnimatedReactionIconRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometUFIAnimatedReactionIconRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIReactionStrategy_feedback",fragmentName:"CometStaticReactionIconRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometUFIStaticReactionIconRenderer",abstractKey:null}],storageKey:'comet_ufi_reaction_icon_renderer(supported:"3PKu67",use_static_icons:false)'},b,{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_reel_group_attribution",plural:!1,selections:d,storageKey:null},b],storageKey:null},{alias:"likers",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null}],storageKey:null},b],storageKey:null}]}}();e.exports=a}),null);
__d("FBUnifiedVideoChainingSessionIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={videoChainingSessionID:""};c=a.createContext(b);g["default"]=c}),98);
__d("FBUnifiedVideoMediaContentContainer_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"FBUnifiedVideoMediaContentContainer_styleTypeRenderer$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("FBUnifiedVideoMenuTrigger_menu.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FBUnifiedVideoMenuTrigger_menu",selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FBUnifiedVideoMenu_menu"},{args:null,kind:"FragmentSpread",name:"FBUnifiedVideoAdsMenu_menu"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("FBUnifiedVideoMoreOptionsButton.react",["CometButtonCommandStopper.react","CometColumn.react","CometColumnItem.react","CometPressable.react","FDSTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a=function(a){var b=a.type==="press";b||a.preventDefault();var c=e;c=c.onClick;c!=null&&(!b&&a.type!=="keydown"&&a.stopPropagation(),c())},b[3]=e,b[4]=a):a=b[4];a=a;var g=e,i=g.icon,k=g.isMenuVisible,l=g.label,m=g.testid;g=g.tooltipLabel;var n;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1ypdohk"},b[5]=n):n=b[5];b[6]!==i||b[7]!==m?(n=j.jsx(c("CometColumn.react"),{align:"center",paddingHorizontal:12,paddingVertical:12,spacing:8,children:j.jsx(c("CometColumnItem.react"),{children:j.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:i}))})}),b[6]=i,b[7]=m,b[8]=n):n=b[8];b[9]!==a||b[10]!==k||b[11]!==l||b[12]!==f||b[13]!==n?(i=j.jsx(c("CometPressable.react"),{"aria-expanded":k,display:"inline",label:l,onPress:a,overlayRadius:8,ref:f,role:"button",testid:void 0,children:n}),b[9]=a,b[10]=k,b[11]=l,b[12]=f,b[13]=n,b[14]=i):i=b[14];b[15]!==l||b[16]!==i?(m=j.jsx(c("CometButtonCommandStopper.react"),{label:l,children:i}),b[15]=l,b[16]=i,b[17]=m):m=b[17];b[18]!==m||b[19]!==g?(a=j.jsx(c("FDSTooltip.react"),{tooltip:g,children:m}),b[18]=m,b[19]=g,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("FBUnifiedVideoURLUtils",["ConstUriUtils","XCometFBReelControllerRouteBuilder","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e,f,g,h,i){b=b!=null?b:"UNKNOWN";var j="group_other",k=void 0;if(Boolean(e)){switch(d){case"group":case"group_mall":j="group";k=f==null?void 0:f;break;case"groups_tab":j="groups_tab";break;default:break}b=j}e={group_id:k,hide_next:h==null?void 0:h,page_id:i==null||i===""?void 0:i,s:b,stack_idx:g==null?void 0:g,video_id:a==null?void 0:a};return c("XCometFBReelControllerRouteBuilder").buildURL(e)}function a(a,b,c,e,f,g){a=h(a,b,c,e,f,g);if(i()){c=(b=d("ConstUriUtils").getUri(a))==null||(b=b.getQualifiedUri())==null||(b=b.setDomain("www.facebook.com"))==null?void 0:b.toString();if(c!=null)return c}return a}function b(a){return["fb_shorts_video_deep_dive","fb_shorts_profile_video_deep_dive"].includes(a)}function i(){return c("gkx")("21034")||c("gkx")("24206")}g.getReelsURL=h;g.getReelsAbsoluteURL=a;g.isReelsRenderLocationVDD=b;g.isBizSurface=i}),98);
__d("FBUnifiedVideoMenuTrigger.react",["fbt","CometFeedStoryMenuSection.react","CometRelay","CometStoryRenderLocationContext.react","CometTrackingNodeProvider.react","FBNucleusDots3HorizontalOutline24Icon.react","FBUnifiedVideoMenuTrigger_menu.graphql","FBUnifiedVideoMoreOptionsButton.react","FBUnifiedVideoPlayerControllerContext","FBUnifiedVideoURLUtils","FDSDeferredPopoverTrigger.react","FDSIcon.react","FDSTooltip.react","gkx","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useContext,m=c("requireDeferred")("FBUnifiedVideoAdsMenu.react").__setRef("FBUnifiedVideoMenuTrigger.react"),n=c("requireDeferred")("FBUnifiedVideoMenu.react").__setRef("FBUnifiedVideoMenuTrigger.react"),o={menuIcon:{paddingTop:"xexx8yu",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(21),g=a.menu,j=a.renderBelowContext,q=a.triggerHandler;a=j===void 0?!0:j;j=d("CometRelay").useFragment(i!==void 0?i:i=b("FBUnifiedVideoMenuTrigger_menu.graphql"),g);g=l(c("FBUnifiedVideoPlayerControllerContext"));var r=g.controller;f[0]!==r?(g=function(a){a?r==null||r.pause("user_initiated"):r==null||r.play("user_initiated")},f[0]=r,f[1]=g):g=f[1];g=g;var s=j==null||(e=j.sponsored_data)==null?void 0:e.ad_id;s=s!=null;s=s&&c("gkx")("53");var t=l(c("CometStoryRenderLocationContext.react")),u=d("FBUnifiedVideoURLUtils").isReelsRenderLocationVDD(t),v=t==="group_admin_to_member_feedback",w="NEWSFEED";u?w="REELS_VIEWER":v&&(w="GROUP_ADMIN_TO_MEMBER_FEEDBACK");v=!u;if(v){f[2]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"More options"),f[2]=u):u=f[2];v=j==null?void 0:j.id;var x=j==null?void 0:j.serialized_frtp_identifiers,y=j==null?void 0:j.debug_info;f[3]!==w||f[4]!==g||f[5]!==t||f[6]!==v||f[7]!==x||f[8]!==y?(u=k.jsx(c("FDSTooltip.react"),{tooltip:u,children:k.jsx(c("CometFeedStoryMenuSection.react"),{color:"white",feedLocation:w,id:v,onPopoverVisibilityChange:g,renderLocation:t,serializedFRTPIdentifiers:x,storyDebugInfo:y,xstyle:o.menuIcon})}),f[3]=w,f[4]=g,f[5]=t,f[6]=v,f[7]=x,f[8]=y,f[9]=u):u=f[9];return u}w=a?"end":"middle";f[10]!==j||f[11]!==g?(t={menu:j,onClose:p,setPause:g},f[10]=j,f[11]=g,f[12]=t):t=f[12];v=s?m:n;x=a?"below":"above";f[13]!==q?(y=function(a,b,d,e,f,g,i,j){return q!=null?q(a,b):k.jsx(c("FBUnifiedVideoMoreOptionsButton.react"),{icon:k.jsx(c("FDSIcon.react"),{color:"white",icon:c("FBNucleusDots3HorizontalOutline24Icon.react"),size:24}),isMenuVisible:j,label:h._(/*BTDS*/"Menu"),onClick:b,ref:a,testid:void 0,tooltipLabel:h._(/*BTDS*/"More options")})},f[13]=q,f[14]=y):y=f[14];f[15]!==w||f[16]!==t||f[17]!==v||f[18]!==x||f[19]!==y?(u=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:163,children:k.jsx(c("FDSDeferredPopoverTrigger.react"),{align:w,popoverProps:t,popoverResource:v,position:x,children:y})}),f[15]=w,f[16]=t,f[17]=v,f[18]=x,f[19]=y,f[20]=u):u=f[20];return u}function p(){}g["default"]=a}),226);
__d("FBUnifiedVideoMenuTriggerLegacyRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FBUnifiedVideoMenuTriggerLegacyRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FBUnifiedVideoMenuTrigger_menu"}],storageKey:null}],type:"XFBCometUnifiedVideoMenuTriggerLegacyRenderer",abstractKey:null};e.exports=a}),null);
__d("FBUnifiedVideoMenuTriggerLegacyRenderer.react",["CometRelay","FBUnifiedVideoMenuTrigger.react","FBUnifiedVideoMenuTriggerLegacyRenderer_renderer.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.renderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("FBUnifiedVideoMenuTriggerLegacyRenderer_renderer.graphql"),a);a=a==null?void 0:a.story;var f;e[0]!==a?(f=j.jsx(c("FBUnifiedVideoMenuTrigger.react"),{menu:a}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("FBUnifiedVideoMenuTriggerLegacyRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},e=[b],f={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},g=[a,b],h={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:g,storageKey:null},i=[a,b,c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"FBUnifiedVideoMenuTriggerLegacyRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FBShortsRemixInfo",kind:"LinkedField",name:"remix_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_remixable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,b,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_country",storageKey:null}],storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_download",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:"downloadable_uri_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"download_link",storageKey:'download_link(quality:"HD")'},{alias:"downloadable_uri_sd",args:[{kind:"Literal",name:"quality",value:"SD"}],kind:"ScalarField",name:"download_link",storageKey:'download_link(quality:"SD")'},{alias:null,args:null,kind:"ScalarField",name:"shareable_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_update_original_audio_status_on_comet",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reels_remix_and_original_audio_asset_settings",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_audio_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_original_audio",storageKey:null},d,{alias:null,args:[{kind:"Literal",name:"video_delivery_request",value:{transcript_url_requests:[{}]}}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBTranscriptUrlResponse",kind:"LinkedField",name:"transcript_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"transcript_url",storageKey:null},{alias:null,args:null,concreteType:"XFBTranscriptUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"language",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'video_delivery_response(video_delivery_request:{"transcript_url_requests":[{}]})'},{condition:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"do_not_translate_languages_string",storageKey:null},b],storageKey:null}]}],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:e,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_delete",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_cancel_collaboration_invite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_collaborator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_collaboration_invite",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"legal_reporting_cta_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legal_reporting_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},b,{alias:null,args:null,concreteType:"StorySaveInfo",kind:"LinkedField",name:"save_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_save_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[b,h],storageKey:null},{alias:null,args:null,concreteType:"PostCollaborationRoot",kind:"LinkedField",name:"post_collaboration",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboration_id",storageKey:null},h,f,{alias:null,args:null,kind:"ScalarField",name:"collaborator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaborator_invitee_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaborator_entity_origin",storageKey:null},b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaborator_invitee",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaborator",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_self_as_collaborator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_groups_ugc_post_feedback_actions",storageKey:null},{alias:null,args:null,concreteType:"XFBTransparencyAdInfo",kind:"LinkedField",name:"transparency_ad_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"menu_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_display_ad_info",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("FBUnifiedVideoMuteContextDefaultValue",[],(function(a,b,c,d,e,f){"use strict";a={isMuted:!1,setMute:function(a){}};f["default"]=a}),66);
__d("FBUnifiedVideoMuteContext",["FBUnifiedVideoMuteContextDefaultValue","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("FBUnifiedVideoMuteContextDefaultValue"));g["default"]=b}),98);
__d("FBUnifiedVideoParentVideoIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={videoParentVideoID:""};c=a.createContext(b);g["default"]=c}),98);
__d("FBUnifiedVideoSingleUnitDimensionsUtils",[],(function(a,b,c,d,e,f){"use strict";var g=500,h=590,i=680,j=700,k=790,l=1080,m=9/16,n=3/4,o=112;function p(a){if(a>=l)return i/n;if(a>=k)return i;return a>=j?h:g}function a(a,b){var c=p(a),d;a>=l?d=i*(m/n):a>=k?d=i*m:a>=j?d=h*m:d=g*m;a=d/b+2;return{height:a,top:(c-a)/2,width:d}}function b(a,b){var c=p(a);if(b>1)return{height:c-o,top:0,width:c*b};var d;a>=l?d=i*(m/n):a>=k?d=i*m:a>=j?d=h*m:d=g*m;a=d/b+2;return{height:a,top:(c-a)/2,width:d}}f.getFBUnifiedVideoSingleUnitContainerHeight=p;f.getFBUnifiedVideoSingleUnitVideoDimensions=a;f.getFBUnifiedVideoLightweightAttachmentVideoDimensions=b}),66);
__d("useFBUnifiedVideoProcessRoute",["CometRouteParams","GlobalVideoPortsID","gkx","qex","react-compiler-runtime","useRoutePassthroughProps","useSetVideoShareDownstreamSignalTracking","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(27),b=d("CometRouteParams").useRouteParams(),e=c("useRoutePassthroughProps")()||{},f=typeof b.video_id==="string"?b.video_id:"",g=typeof b.hide_next==="boolean"?b.hide_next:!1,h=typeof b.page_id==="string"?b.page_id:"",i=typeof e.trackingString==="string"?e.trackingString:"",j=typeof e.rootVideoTrackingKey==="string"?e.rootVideoTrackingKey:"",k=typeof e.rootVideoEncryptedTrackingKey==="string"?e.rootVideoEncryptedTrackingKey:"",l=typeof e.rootVideoClickTrackingLinkshimCb==="string"?e.rootVideoClickTrackingLinkshimCb:"",m=typeof e.rootVideoEncryptedClickTracking==="string"?e.rootVideoEncryptedClickTracking:"",n=typeof e.rootVideoID==="string"?e.rootVideoID:f,o;a[0]!==e.portableVideoID?(o=e.portableVideoID!=null&&typeof e.portableVideoID==="string"?d("GlobalVideoPortsID").ensureVideoID(e.portableVideoID):null,a[0]=e.portableVideoID,a[1]=o):o=a[1];o=o;var p=typeof b.group_id==="string"?b.group_id:null,q="";typeof b.s==="string"?q=b.s:typeof e.s==="string"&&(q=e.s);var r=c("qex")._("3027")===!0;f===""&&q===""&&r&&(q="tab");a[2]!==e.sessionID?(r=typeof e.sessionID==="string"?e.sessionID:c("uuidv4")(),a[2]=e.sessionID,a[3]=r):r=a[3];r=r;b=b.comment_id!=null&&c("gkx")("18631")&&typeof b.comment_id==="string"?b.comment_id:null;var s=!(Boolean(e.showComments)||b!=null),t=typeof e.isMuted==="boolean"?e.isMuted:null,u=typeof e.index==="number"?e.index:null,v=e.paginationFragment,w=e.paginationFragmentKey;e=e.entrypoint!=null?e.entrypoint:null;var x;a[4]!==f?(x=function(a){return f!=null&&f.length>0},a[4]=f,a[5]=x):x=a[5];c("useSetVideoShareDownstreamSignalTracking")(x);a[6]!==u||a[7]!==v||a[8]!==w||a[9]!==e||a[10]!==b||a[11]!==p||a[12]!==s||a[13]!==t||a[14]!==g||a[15]!==h||a[16]!==o||a[17]!==l||a[18]!==m||a[19]!==k||a[20]!==n||a[21]!==j||a[22]!==q||a[23]!==i||a[24]!==f||a[25]!==r?(x={aggregationPageNodeIndex:u,aggregationPaginationFragment:v,aggregationPaginationFragmentKey:w,entrypoint:e,focusCommentID:b,groupID:p,isCommentSectionCollapsed:s,isMutedFromPreviousRoute:t,isNextButtonHidden:g,pageID:h,portableVideoID:o,rootVideoClickTrackingLinkshimCb:l,rootVideoEncryptedClickTracking:m,rootVideoEncryptedTrackingKey:k,rootVideoID:n,rootVideoTrackingKey:j,source:q,trackingString:i,videoID:f,viewerSessionID:r},a[6]=u,a[7]=v,a[8]=w,a[9]=e,a[10]=b,a[11]=p,a[12]=s,a[13]=t,a[14]=g,a[15]=h,a[16]=o,a[17]=l,a[18]=m,a[19]=k,a[20]=n,a[21]=j,a[22]=q,a[23]=i,a[24]=f,a[25]=r,a[26]=x):x=a[26];return x}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYISingleton","I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;async function a(a,b,c,e,f,g,n){var o=d("EncryptedBackupsDYISingleton").getSingleton(),p=o.getLogger();o=o.getThreadKeyForThreadId(b);if(o==null){p.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread key for thread id: ",""])),b);return}void p.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handling message range query for thread with thread key ",", hasMoreBefore: ",""])),b,e);c.length>0&&await g(o,b,c);if(!e||f==null){e&&f==null&&void p.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["nextTimestampMs was not supplied for thread with thread key ","."])),b);m(o);return}g=(l||(l=d("I64"))).to_string(f);void p.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Issuing next range query for thread with thread key ",", server generated next reference timestamp: ",""])),b,g);void n(a,g,b)}function m(a){var b=d("EncryptedBackupsDYISingleton").getSingleton();b.deleteThreadKeyFromThreadsRestoreInProgress(a)}g.handleMessageRangeQueryRestore=a}),98);
__d("MAWAsyncEBPendingQueryPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Map(),m=new Map();function a(a){var c=new(g||(g=b("Promise")))(function(b,c){i.set(a,b),k.set(a,c)});h.set(a,c);return c}function c(a,b){j.set(a,b)}function d(a){return j.get(a)}function e(a){var c=new(g||(g=b("Promise")))(function(b,c){l.set(a,{data:null,resolve:b}),m.set(a,c)});return c}function n(a,b){var c=i.get(a);c!=null&&(i["delete"](a),c(b));c=l.get(a);c!=null&&l.set(a,{data:b,resolve:c.resolve})}function o(a,b){var c=k.get(a);c!=null&&(i["delete"](a),c(b));c=m.get(a);c!=null&&(m["delete"](a),c(b),l["delete"](a))}function p(a){var b=l.get(a);b!=null&&b.data!=null&&(b.resolve(b.data),l["delete"](a),m["delete"](a))}f.getPendingQueryPromiseFromTrace=a;f.setJidFromThreadId=c;f.getJidFromThreadId=d;f.getWaitForRestorePromiseFromTrace=e;f.resolvePendingQueryIfPresent=n;f.rejectPendingQueryIfPresent=o;f.resolvePendingQueryUponReStore=p}),66);
__d("MAWEncryptedBackupsDYIProcessProtobufMessages",["CurrentUser","EncryptedBackupsDYIMessageProcessingUtils","EncryptedBackupsDYISingleton","MAWGroupPollsDualEncryptionUtils","MAWHandleEchoProtobufsRestoreApi","MAWJids","MAWMsgType","WAHashUtils","WAJids","WALongInt","WAStanzaUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;async function a(a,b,e){var f=d("EncryptedBackupsDYISingleton").getSingleton(),g=f.getLogger();void g.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Processing "," protobuf messages for thread ",""])),e.length,b);e=e.map(function(b){var c=f.hasMessage(a,d("WAStanzaUtils").toStanzaId(b.otid));if(c){g.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Encountered a duplicate message otid ",", skipping"])),b.otid);return null}return b}).filter(Boolean);var n=d("MAWJids").toUserJid(c("CurrentUser").getAccountID()),o=!1,p=!1,q;try{for(var r=babelHelpers.asyncIterator(e),e;o=!(e=await r.next()).done;o=!1){e=e.value;try{e=d("MAWHandleEchoProtobufsRestoreApi").decodeDecryptedMessageProtobuf(e,n,void 0,new Set(),new Set(),new Map(),new Map(),new Map(),!0);if(e==null){void g.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Decoded protobuf is empty"])));return}if(e!=null&&e.metadata!=null&&e.metadata.messageId!=null){var s=d("WAStanzaUtils").toStanzaId(e.metadata.messageId);e=await B(a,b,e);if(e==null){void g.WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Error converting protobuf to DYI format. Dropping the message"])));continue}f.setMessagesByThreadKey(a,s,e)}else{void g.WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Error converting protobuf to DYI format. Dropping the message"])));continue}}catch(a){void g.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf. Dropping the message: ",""])),a);continue}}}catch(a){p=!0,q=a}finally{try{o&&r.return!=null&&await r.return()}finally{if(p)throw q}}}async function B(a,b,c){var e=d("EncryptedBackupsDYISingleton").getSingleton(),f=e.getLogger(),g=c.metadata,h=c.msgType,i=c.sortOrderMs;if(g==null||h==null){void f.WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf: metadata or message type is null"])));return}h=g.messageId;var j=g.senderId;g=g.timestampMs;if(g==null||typeof g!=="number"||h==null||j==null){void f.WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf: ts or messageId or senderId is null"])));return}h=d("WATimeUtils").castMilliSecondsToUnixTime(g);g=d("EncryptedBackupsDYIMessageProcessingUtils").buildBaseDyiMessage(j,i);j=(j=c.decodedPayload)==null?void 0:j.text;if(c.editMsgData.length>0){var k=h;c.editMsgData.forEach(function(a){var b;if(a.ts>k&&((b=a.editMsgContent.message)==null?void 0:b.text)!=null){k=a.ts;j=(b=a.editMsgContent.message)==null?void 0:b.text}})}c.reactionData.length>0&&(g.reactions=c.reactionData.map(function(a){var b=a.reaction;a=a.senderId;return{actor:(a=e.getContactNameForContactId(a))!=null?a:"unknown",reaction:(a=b.text)!=null?a:"unknown"}}));switch(c.msgType){case d("MAWMsgType").MSG_TYPE.TEXT:g.type="text";g.text=j||"";break;case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.PTT:g.type="media";g.text=j||"";g=D(a,b,c,i,g);break;case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:void f.WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Documents are not supported in DYI"])));return;case d("MAWMsgType").MSG_TYPE.XMA:g.type="link";if(c.xmaData==null){void f.WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] XMA message doesn't have xmaData"])));return}g.text=((h=c.xmaData)==null?void 0:h.ctas.map(function(a){return a.nativeUrl}).filter(Boolean).join("\n"))||"";break;case d("MAWMsgType").MSG_TYPE.REVOKED:g.type="placeholder";g.isUnsent=!0;g.text="User unsent a message";break;case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:g.type="poll";g.text=await C(c);break;case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:void f.WARN(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Bump message is not supported in DYI"])));return;default:void f.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Explicitly dropping "," message type"])),c.msgType);return}return g}async function C(a){var b=d("EncryptedBackupsDYISingleton").getSingleton().getLogger(),c=a.groupPollInfo;if(c==null){void b.WARN(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Group poll creation message is missing group poll info"])));return""}var e=new Map(),f=new Map();await Promise.all(c.options.map(async function(a){var b=await d("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(a);e.set(b,{optionName:a,voterUserJids:[]})}));if(a.groupPollUpdateData!=null){var g=!1,h=!1,i;try{for(var j=babelHelpers.asyncIterator(a.groupPollUpdateData),k;g=!(k=await j.next()).done;g=!1){k=k.value;var l,m;if(((l=k.pollCreationMessageKey)==null?void 0:l.id)==null||((l=k.pollCreationMessageKey)==null?void 0:l.remoteJid)==null){b.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Poll creation message key is incomplete. Skipping"])));continue}l=k.pollCreationMessageKey;var n=l.id;l=l.remoteJid;l=d("WAJids").unsafeCoerceToUserJid(l);m={pollCreationMessageKey:c.encKey,pollCreationSenderJid:d("WAJids").toMsgrUserJid(((m=a.metadata)==null?void 0:m.senderId)||""),pollCreationStanzaId:d("WAStanzaUtils").toStanzaId(n),pollUpdateSenderJid:l,pollUpdateStanzaId:k.externalId};if(k.addOption!=null){n=await d("MAWGroupPollsDualEncryptionUtils").decryptGroupPollAddOption(k.addOption,m);if(n.success){var o=n.value,p=!1,q=!1,r;try{for(var s=babelHelpers.asyncIterator(o.pollOption),o;p=!(o=await s.next()).done;p=!1){o=o.value;if(o.optionName==null)continue;o=o.optionName;var y=await d("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(o);e.has(y)||e.set(y,{optionName:o,voterUserJids:[]})}}catch(a){q=!0,r=a}finally{try{p&&s.return!=null&&await s.return()}finally{if(q)throw r}}}else b.ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Decryption failure when trying to decrypt poll add option update: ",""])),n.error)}if(k.vote!=null){y=await d("MAWGroupPollsDualEncryptionUtils").decryptGroupPollVote(k.vote,m);if(y.success){o=y.value;if(o.senderTimestampMs==null){b.WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[Polls] senderTimestampMs is null. Cannot determine the latest poll vote"])));continue}p=o.selectedOptions;q=o.senderTimestampMs;n=f.get(l);(n==null||n.senderTimestampMs<d("WALongInt").numberOrThrowIfTooLarge(q))&&f.set(l,{senderTimestampMs:d("WALongInt").numberOrThrowIfTooLarge(q),votes:p.map(d("MAWGroupPollsDualEncryptionUtils").getBase64EncodedHash)})}else b.ERROR(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Decryption failure when trying to decrypt poll vote update: ",""])),y.error)}}}catch(a){h=!0,i=a}finally{try{g&&j.return!=null&&await j.return()}finally{if(h)throw i}}}for(k of f){m=k[0];o=k[1];for(n of o.votes){l=e.get(n);l==null?e.set(n,{optionName:"Unknown",voterUserJids:[m]}):e.set(n,babelHelpers.extends({},l,{voterUserJids:[].concat(l.voterUserJids,[m])}))}}return"Question: "+c.name+"; Options: "+Array.from(e).map(function(a){a[0];a=a[1];var b=a.optionName;a=a.voterUserJids;return b+" ("+a.length+" votes"+(a.length>0?": "+a.map(function(a){return d("EncryptedBackupsDYIMessageProcessingUtils").getSenderName(d("WAJids").userIdFromJid(d("WAJids").unsafeCoerceToUserJid(a)))}).join(", "):"")+")"}).join("; ")}function D(a,b,c,e,f){var g;a=d("EncryptedBackupsDYISingleton").getSingleton();var h=a.getLogger();if(c.mediaMetadata==null){void h.WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Media message is missing media data"])));return f}var i=c.mediaMetadata,j=i.mediaEntryData;i=i.plaintextHash;g=(g=(g=c.metadata)==null?void 0:g.senderId)!=null?g:"0";c=d("WAStanzaUtils").toStanzaId(c.externalId);i=d("WAHashUtils").stringToPlaintextHash(i);f.media.add(i);if(!a.isAttachmentDownloadInProgressForPlaintextHash(i)&&!a.isAttachmentDownloadCompleteForPlaintextHash(i)){void h.LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Starting DYI media download for attachemnt with hash ",""])),d("WAHashUtils").sanitisePlaintextHash(i));a.addPlaintextHashToAttachmentDownloadsInProgress(i);if(j==null){h.ERROR(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Media message is missing media entry data"])));a.deletePlaintextHashFromAttachmentDownloadsInProgress(i);return f}h={author:d("WAJids").toMsgrUserJid(g),chat:d("WAJids").toMsgrUserJid(b),externalId:c};void d("EncryptedBackupsDYIMessageProcessingUtils").downloadMediaWithMediaManager(i,h,e,j)}return f}g.processEBProtobufMessagesForDYI=a}),98);
__d("MAWEncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYIHandleMessageRestore","EncryptedBackupsDYISingleton","I64","LSDatabaseSingleton","LSIntEnum","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWEncryptedBackupsDYIProcessProtobufMessages","MAWJobDefinitions","MAWThreadKeyUtils","MpsOverBridge","MpsTypes","WAJids","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=(i||d("LSIntEnum")).ofNumber(c("LSMEBTaskCreationSource").MSGR_DYI);var l=c("justknobx")._("467"),m=async function(a,b,e){d("MAWEBRestoreTrackingUtils").markEBRestoreDYI(c("LSMEBTaskCreationSource").MSGR_DYI);a=d("WAJids").createJidUtils({platform:"msgr"}).toUserJid(e);b=d("MpsTypes").toTimestamp(Number(b));b=await d("MpsOverBridge").mps().loadMessages({config:{persistToReverb:"no-persist",shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"remote-only"},debug:{purpose:"dyi"},direction:"desc",from:[b,null],numMessages:l,threadId:d("MpsTypes").toThreadId(a)});if(!b.success){d("EncryptedBackupsDYISingleton").getSingleton().getLogger().ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Message batch query failed for thread ",": ",""])),e,b.error);d("EncryptedBackupsDYISingleton").getSingleton().deleteThreadKeyFromThreadsRestoreInProgress(d("MAWThreadKeyUtils").toStringThreadKey(e));return}a=b.value;b=a.cursorInfo;a=a.messages;var f=(b==null?void 0:b.endCursor)!=null?(j||(j=d("I64"))).of_float(b.endCursor[0]):void 0;await n(e,a.map(d("MAWJobDefinitions").mpsMessageToEncryptedBackupsMessage),b.hasNext,f)};async function n(a,b,c,e){var f=await (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton;await d("EncryptedBackupsDYIHandleMessageRestore").handleMessageRangeQueryRestore(f,a,b,c,e,d("MAWEncryptedBackupsDYIProcessProtobufMessages").processEBProtobufMessagesForDYI,m)}g.taskCreationSource=a;g.MESSENGER_DYI_BATCH_SIZE=l;g.issueNextRangeQuery=m;g.handleMAWProtobufMessageRangeQueryRestore=n}),98);
__d("MWSimpleWorkQueue",["FBLogger","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i={first:null,last:null};function a(a){return new(h||(h=b("Promise")))(function(d,e){var f=function(){var f=new(h||(h=b("Promise")))(function(a,b){window.setTimeout(function(){b(c("err")("Work item timed out after 30 seconds"))},3e4)});return h.race([a(),f]).then(d,e)};if(i.first===null||i.last==null)i.first=i.last={next:null,value:f},j();else{var g=i.last;g.next={next:null,value:f};i.last=g.next}})}function j(){if(i.first===null)return;var a=i.first;if(a==null)return;var b=function(){i.first=a.next;if(i.first==null){i.last=null;return}j()};a.value().then(function(){b()})["catch"](function(a){c("FBLogger")("messenger_web").catching(a).mustfix("Error in MWSimpleWorkQueue"),b()})}g.queueWork=a}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsDeferred",["ExecutionEnvironment","I64","MWSimpleWorkQueue","WAJobOrchestratorTypes","cr:10036","justknobx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWRestoreProtobufsFromEncryptedBackupsNOP").__setRef("MAWRestoreProtobufsFromEncryptedBackupsDeferred");function a(a,e,f,g,k,l,m,n,o,p,q,r,s,t,u){t===void 0&&(t=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);return j.load().then(async function(j){(i||(i=c("ExecutionEnvironment"))).isInWorker&&b("cr:10036")!=null&&await b("cr:10036").init();var v=function(b){return j.call(b,a,e,f,g,k!=null?(h||(h=d("I64"))).to_float(k):0,l,m!=null?(h||(h=d("I64"))).to_float(m):(h||(h=d("I64"))).to_float((h||(h=d("I64"))).max_int),n,o,p,q,r,s,t,u)};return c("justknobx")._("4404")?d("MWSimpleWorkQueue").queueWork(function(){return v(null)}):v(null)})}g.call=a}),98);
__d("LSProtobufRestoreHandler",["CurrentUser","LSIntEnum","LSMEBTaskCreationSource","LSVec","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWEBUnstoredDbMsgUtils","MAWEncryptedBackupUtils","MAWEncryptedBackupsDYIHandleMessageRestore","MAWJids","MAWJobDefinitions","MAWRestoreProtobufsFromEncryptedBackupsDeferred","WAErrorMessage","WATagsLogger","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r=["ERROR"],s,t=d("WATagsLogger").TAGS(["labyrinth_web","protobuf_restore"]);async function a(a,b,e,f,g,v,w,x,y,z,A,B,C){var D=t.TAGS([x!=null?x:"no_request_id"]);D.ERROR;D=babelHelpers.objectWithoutPropertiesLoose(D,r);var E=D;D=null;A!=null&&(D=u(A));E.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop"])));d("MAWEBRestoreTrackingUtils").markEBRestoreProtobuf(B);b.type==="convertedProtobufs"?A=b.convertedProtobufs:(b.type,A=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(b.decryptedMessagesProtobufs));d("MAWEncryptedBackupUtils").logIfDuplicateMessagesFoundInRestore(A,"protobuf_restore");if(x!=null)try{d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_start",traceId:x});b=d("MAWJids").toUserJid(c("CurrentUser").getAccountID());b=d("MAWEBUnstoredDbMsgUtils").getUnstoredDbMsgFromProtobuf(A,a,void 0,b);if(e===!0&&b.length===0){d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_decodedMessages_inconsistency",traceId:x});var F=A.length;E.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no decoded messages but hasMoreBefore is true, messages count after decryption: ",""])),F);t.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no decoded messages but hasMoreBefore is true, messages count after decryption: ",""])),F)}d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryIfPresent(x,{echoMessages:D,hasMoreAfter:g,hasMoreBefore:e,isPointQuery:w,messages:b,nextMessageTimestampMsBefore:f,protobufMessages:A,referenceTimestamp:y,requestId:x,restoreType:"protobuf",threadId:a})}catch(a){F=d("WAErrorMessage").maybeGetMessageFromError(a);E.WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to decode protobufs, with error: ",""])),F);t.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to decode protobufs, with error: ",""])),F);d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(x,a instanceof Error?a:c("err")(F))}e===!0&&A.length===0&&(x!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_messages_inconsistency",traceId:x}),E.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no messages but hasMoreBefore is true"]))),t.ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no messages but hasMoreBefore is true"]))));b=B!=null&&(s||(s=d("LSIntEnum"))).unwrapIntEnum(B)===c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB;if(b){x!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"search_restore_end",traceId:x});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(x);return Promise.resolve()}F=B!=null&&(s||(s=d("LSIntEnum"))).unwrapIntEnum(B)===c("LSMEBTaskCreationSource").MSGR_DYI;if(F){E.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Restoring Messenger DYI batch"])));await d("MAWEncryptedBackupsDYIHandleMessageRestore").handleMAWProtobufMessageRangeQueryRestore(a,A,e,f);x!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"dyi_restore_end",traceId:x});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(x);return Promise.resolve()}c("promiseDone")(d("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(a),A,e,f,g,v,w,x,y,z,D,B,void 0,C!=null?C:void 0),function(){x!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_end",traceId:x})},function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);E.WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to restore protobufs, with error: ",""])),a);t.ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to restore protobufs, with error: ",""])),a);a={string:{error:a}};x!=null&&d("MAWEBRestoreTrackingUtils").markEBRestoreFail(x,!1,"native_op_reject",a)});return Promise.resolve()}function u(a){return c("LSVec").toArray(a).map(function(a){return d("MAWJobDefinitions").toEncodedEchoMessage(a)})}g.handleProtobufRestoreHelper=a;g.convertLSEchoMessageVecToArray=u}),98);
__d("LSRestoreEchoBlobsHandler",["LSProtobufRestoreHandler","LSVec","MAWBridgeSafeActionsWorkerAndUI","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWJobDefinitions"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g,h,i,j,k,l,m){var n=c("LSVec").toArray(a).map(d("MAWJobDefinitions").toEncodedEchoMessage);j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"echo_to_protobuf_conversion_start",traceId:j});n=await d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("convertEchoMessagesToEBProtobufs",{chatJid:m,encodedEchoMessages:n});j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"echo_to_protobuf_conversion_success",traceId:j});n=d("MAWEncryptedBackupUtils").convertJSTypesToLSTypesForRestoreJob(n);await d("LSProtobufRestoreHandler").handleProtobufRestoreHelper(i,{decryptedMessagesProtobufs:n,type:"decryptedMessagesProtobufs"},b,e,f,g,h,j,k,"",a,l,m);return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}g.handleEchoBlobsRestore=a}),98);
__d("MAWThreadIdToChatJidMapping",["I64","MAWAsyncEBPendingQueryPromise","MAWJidUtils","ReQL","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=new Map();async function a(a,b,c){if(l.has(b))return l.get(b);var e=d("MAWAsyncEBPendingQueryPromise").getJidFromThreadId(b);if(e!=null){l.set(b,e);return e}e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange((k||(k=d("I64"))).of_string(b)));if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Cannot find MI ACT mapping table entry for threadId ",", called from ",""])),b,c);return null}var f=e.serverThreadKey;e=e.jid;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f));if(a==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Cannot find thread with serverThreadKey ",", called from ",""])),(k||(k=d("I64"))).to_string(f),c);return null}f=d("MAWJidUtils").LSJidtoChatJid(e,a.threadType);if(f!=null){l.set(b,f);return f}else{d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Cannot generate ChatJid from threadKey, called from ",""])),c);return null}}g.genChatJidFromThreadId=a}),98);
__d("LSRestoreProtobufs.nop",["LSProtobufRestoreHandler","MAWMpsGating","MAWThreadIdToChatJidMapping","MWEBODSEntityName.enum","MWEBODSUtils","WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q){d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_protobufs");if(d("MAWMpsGating").isFullMpsEnabled())return;b=null;q!=null?b=d("WAJids").validateChatJid(q):d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_protobufs.no_chat_jid_provided");b==null&&(b=await d("MAWThreadIdToChatJidMapping").genChatJidFromThreadId(a,e,"LSRestoreProtobufs.nop"));b==null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_protobufs.no_chat_jid");return d("LSProtobufRestoreHandler").handleProtobufRestoreHelper(e,{decryptedMessagesProtobufs:f,type:"decryptedMessagesProtobufs"},g,h,i,j,k,l,m,n,o,p,b)};a.__nop_name__="LSRestoreProtobufs";g.default=a}),98);/*FB_PKG_DELIM*/
__d("MAWAsyncEBIssueFetchAndIndexFTSQuery",["I64","MAWEBUnstoredDbMsgUtils","MAWJobDefinitions","MAWUserJidWrapper","MpsOverBridge","MpsTypes","WAJids","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){f===void 0&&(f=function(){});var i=d("WAJids").threadIdForChatJid(a),j=b==null?Date.now()+6e4:Number(b);f();return d("MpsOverBridge").mps().loadMessages({config:{persistToReverb:"no-persist",shouldFetchSupplementals:!1,shouldFetchTags:!1,shouldIgnoreLocalOnly:!0,strategy:"remote-only"},debug:{purpose:"MAWAsyncEBIssueFetchAndIndexFTSQuery_"+g},direction:"desc",from:[d("MpsTypes").toTimestamp(j),null],numMessages:(h||(h=d("I64"))).to_int32(e),threadId:d("MpsTypes").toThreadId(a)}).then(function(b){var e;if(b.success===!1)throw b.payload||c("err")(b.error);var f=b.value.messages.map(d("MAWJobDefinitions").mpsMessageToEncryptedBackupsMessage);e=b.value.cursorInfo.hasNext?(e=b.value.cursorInfo.endCursor)==null?void 0:e[0]:0;return{echoMessages:[],hasMoreAfter:b.value.cursorInfo.hasPrevious,hasMoreBefore:b.value.cursorInfo.hasNext,isPointQuery:!1,messages:d("MAWEBUnstoredDbMsgUtils").getUnstoredDbMsgFromProtobuf(f,void 0,a,d("MAWUserJidWrapper").getMyUserJid()),nextMessageTimestampMsBefore:e==null?void 0:(h||(h=d("I64"))).of_float(e),protobufMessages:f,referenceTimestamp:j.toString(),requestId:void 0,restoreType:"protobuf",threadId:i}})}g.issueQueryAsPromise=a}),98);
__d("MAWMediaGalleryBufferAndRestore",[],(function(a,b,c,d,e,f){"use strict";var g=null,h=[],i=[],j=[],k=null,l=2e3,m=10;function a(a,b,c,d,e,f,n,o,p,q){q==null||q.addPoint("buffer_and_restore_protobuf_start");var r=function(){h=h.concat(b),i=i.concat(c!=null?c:[]),q!=null&&j.push(q),h.length>=m?(j.forEach(function(a){return a.addPoint("buffer_and_restore_protobuf_end",{string:{reason:"max_buffer_size"}})}),void p(a,h,i,d,e,f,n,o,j),h=[],i=[],j=[]):k=window.setTimeout(function(){var b=[].concat(h),c=[].concat(i),g=[].concat(j);g.forEach(function(a){return a.addPoint("buffer_and_restore_protobuf_end",{string:{reason:"timeout"}})});void p(a,b,c,d,e,f,n,o,g);h=[];i=[];j=[]},l)},s=function(){window.clearTimeout(k);var a=h.map(function(a){return a}),b=i.map(function(a){return a}),c=[].concat(j),l=g;l!=null&&(c.forEach(function(a){return a.addPoint("buffer_and_restore_protobuf_end",{string:{reason:"immediately"}})}),void p(l,a,b,d,e,f,n,o,c));h=[];i=[];j=[]};if(a!==g){s();g=a;r();return}h.length===0?r():(h=h.concat(b),i=i.concat(c!=null?c:[]),q!=null&&j.push(q),h.length>=m&&s())}f.bufferAndRestoreProtobuf=a}),66);
__d("MWMediaRestoreStatus",["I64","LSDatabaseSingleton","MAWChatJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={mediaCount:0,messageCount:0,threadId:(h||(h=d("I64"))).zero};async function a(a,b,c){var e=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;e=await e.runInTransaction(function(b){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(b,(h||(h=d("I64"))).of_string(a))},"readwrite",void 0,void 0,f.id+":35");j.threadId===e?(j.messageCount+=b,j.mediaCount+=c):(j.messageCount=b,j.mediaCount=c,j.threadId=e!=null?e:(h||(h=d("I64"))).zero)}function b(){return j}g.updateRestoreStatus=a;g.getRestoreStatus=b}),98);
__d("MAWMediaGalleryRestoreSync",["CurrentUser","EchoMessage","EchoMessageMediaFieldUtils","I64","LSDatabaseSingleton","LSIntEnum","LSMEBTaskCreationSource","LSThreadMediaGalleryGroup","MAWChatJid","MAWFTSRestoreSync","MAWHandleEchoProtobufsRestoreApi","MAWJids","MAWJobDefinitions","MAWMediaGalleryBufferAndRestore","MAWMediaGalleryEBTaggingUtils","MAWRestoreMessagesFromEncryptedBackupsDeferred","MAWRestoreProtobufsFromEncryptedBackupsDeferred","MWMediaRestoreStatus","ReQL","WAJobOrchestratorTypes","WALogger","WAMsgType","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p;async function a(a,b){var e=a.echoMessages,g=a.hasMoreAfter,p=a.hasMoreBefore,r=a.isPointQuery,s=a.protobufMessages,t=a.referenceTimestamp,u=a.requestId,v=a.restoreType,w=a.threadId;if(w==null){b==null||b.endFail("threadId is null");d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore: threadId is null"])));return}b==null||b.addAnnotations({string:{restore_type:v}});b==null||b.addPoint("handle_media_restore_sync_start");var x=!d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryEBTaggingRestoreEnabled();if(v==="echo"){var y;if(e==null){b==null||b.endFail("echoMessages is null");d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore: echoMessages is null"])));return}b==null||b.addPoint("messages_decoding_and_filtering_start");a=e.filter(function(a){var b;a=d("EchoMessage").decodeEchoMessage(a);return x?(a==null?void 0:a.contentType)===d("EchoMessage").EchoMessageContentType.MEDIA:(a==null||(b=a.mediaData)==null?void 0:b.attachmentType)===d("EchoMessageMediaFieldUtils").AttachmentType.DOCUMENT});b==null||b.addPoint("messages_decoding_and_filtering_end");a.length>0&&d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!0);b==null||b.addAnnotations({int:{media_count:a.length,message_count:e.length}});b==null||b.addPoint("update_media_restore_status_start");await d("MWMediaRestoreStatus").updateRestoreStatus(w,e.length,a.length);b==null||b.addPoint("update_media_restore_status_end");b==null||b.addPoint("restore_messages_in_worker_start",{int:{echo_msg_count:(y=e==null?void 0:e.length)!=null?y:0,protobuf_msg_count:a.length}});c("promiseDone")(d("MAWRestoreMessagesFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(w),a.map(d("MAWJobDefinitions").toEncodedEchoMessage),p,void 0,g,void 0,r,u,t,c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE,d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW).catch(function(a){b==null||b.endFail(a),d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore Echo error: ",""])),a)}),function(){b==null||b.addPoint("restore_messages_in_worker_end"),b==null||b.addPoint("restore_messages_update_ranges_start"),c("promiseDone")((n||(n=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(a){b==null||b.addPoint("update_range_get_thread_key_start");var e=await a.runInTransaction(function(a){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(o||(o=d("I64"))).of_string(w))},"readonly",void 0,void 0,f.id+":151");b==null||b.addPoint("update_range_get_thread_key_end");if(e==null){b==null||b.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!1}});return}return Promise.all([q(a,e,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),q(a,e,c("LSThreadMediaGalleryGroup").FILES_ONLY)])}).then(function(){d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!1),b==null||b.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!0}}),b==null||b.addPoint("handle_media_restore_sync_end"),b==null||b.endSuccess()}))})}else if(v==="protobuf"){if(s==null){b==null||b.endFail("protobufMessages is null");d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore: protobufMessages is null"])));return}b==null||b.addPoint("get_user_jid_start");var z=d("MAWJids").toUserJid(c("CurrentUser").getAccountID());b==null||b.addPoint("get_user_jid_end");b==null||b.addPoint("messages_decoding_and_filtering_start");y=s.filter(function(a){a=d("MAWHandleEchoProtobufsRestoreApi").decodeDecryptedMessageProtobuf(a,z,void 0,new Set(),new Set(),new Map(),new Map(),new Map(),!0);return x&&[d("WAMsgType").MSG_TYPE.IMAGE,d("WAMsgType").MSG_TYPE.VIDEO].includes(a.msgType)||a.msgType===d("WAMsgType").MSG_TYPE.DOCUMENT_FILE});b==null||b.addPoint("messages_decoding_and_filtering_end");y.length>0&&d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!0);b==null||b.addAnnotations({int:{media_count:y.length,message_count:s.length}});b==null||b.addPoint("update_media_restore_status_start");await d("MWMediaRestoreStatus").updateRestoreStatus(w,s.length,y.length);b==null||b.addPoint("update_media_restore_status_end");a=function(a,b,e,g,h,i,j,k,m){var p;if(((p=e==null?void 0:e.length)!=null?p:0)===0&&b.length===0){m.forEach(function(a){a.addPoint("restore_messages_in_worker_skipped"),a.endSuccess()});return}m.forEach(function(a){return a.addPoint("restore_messages_in_worker_start",{int:{echo_msg_count:(a=e==null?void 0:e.length)!=null?a:0,protobuf_msg_count:b.length}})});c("promiseDone")(d("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(a),b,g,void 0,h,void 0,i,j,k,void 0,e,(o||(o=d("I64"))).of_int32(c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE),d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,void 0).catch(function(a){m.forEach(function(b){return b.endFail(a)}),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore Protobuf error: ",""])),a)}),function(){m.forEach(function(a){return a.addPoint("restore_messages_in_worker_end")}),m.forEach(function(a){return a.addPoint("restore_messages_update_ranges_start")}),c("promiseDone")((n||(n=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(a){m.forEach(function(a){return a.addPoint("update_range_get_thread_key_start")});var b=await a.runInTransaction(function(a){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(o||(o=d("I64"))).of_string(w))},"readonly",void 0,void 0,f.id+":314");m.forEach(function(a){return a.addPoint("update_range_get_thread_key_end")});if(b==null){m.forEach(function(a){return a.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!1}})});return}return Promise.all([q(a,b,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),q(a,b,c("LSThreadMediaGalleryGroup").FILES_ONLY)])}).then(function(){d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!1),m.forEach(function(a){return a.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!0}})}),m.forEach(function(a){return a.addPoint("handle_media_restore_sync_end")}),m.forEach(function(a){return a.endSuccess()})}))})};d("MAWMediaGalleryBufferAndRestore").bufferAndRestoreProtobuf(w,y,e,p,g,r,u,t,a,b)}else b==null||b.endFail("RestoreType is none"),d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore RestoreType is none"])))}function q(a,b,c){return d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryEBTaggingRestoreEnabled()&&d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryGroupSupportedForTaggedRestore(c)?Promise.resolve():a.runInTransaction(async function(e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.attachments_ranges_v2__generated).getKeyRange(b).filter(function(a){return(o||(o=d("I64"))).equal(a.mediaGroup,(p||(p=d("LSIntEnum"))).ofNumber(c))}));if(f==null||(f==null?void 0:f.hasMoreBefore)===!0)return;var g=babelHelpers.extends({},f,{hasMoreBefore:!0});return e.attachments_ranges_v2__generated.upsert([f.threadKey,f.mediaGroup,f.minTimestampMs],g)},"readwrite","ui",void 0,f.id+":395")}g.handleMediaRestoreSync=a}),98);
__d("MWEncryptedBackUpEBNotEnabledError",[],(function(a,b,c,d,e,f){"use strict";a="EB not enabled";f.EB_NOT_ENABLED=a}),66);
__d("MWMediaRestoreQplUtils",["QPLFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=18e4;function a(){var a=c("qpl")._(25304794,"2287");return d("QPLFlow").startQPLFlow(a,{timeoutInMs:h})}function b(){var a=c("qpl")._(25306381,"2492");return d("QPLFlow").startQPLFlow(a,{timeoutInMs:h})}g.startMediaRestoreBatchQPLFlow=a;g.startMediaRestoreLoadAllQPLFlow=b}),98);
__d("isEbEnabledWithIGDEligibilityCheck",["EBIsEbEnabled","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return!c("gkx")("23914")?(h||(h=b("Promise"))).resolve(!1):d("EBIsEbEnabled").isEbEnabledLS(a.tables)}g.isEbEnabledWithIGDEligibilityCheck=a}),98);
__d("MAWFTSRestoreSync",["EventEmitter","FBLogger","I64","LSDatabaseSingleton","MAWAsyncEBIssueFetchAndIndexFTSQuery","MAWBridgeFireAndForget","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWDbMsg","MAWFTSIsMessageValidForSearch","MAWFTSRestoreCap","MAWFTSRestoreSyncLogger","MAWMediaGalleryRestoreSync","MWEncryptedBackUpEBNotEnabledError","MWMediaRestoreQplUtils","QPLFlow","WAPromiseDelays","cr:19810","err","getErrorSafe","isEbEnabledWithIGDEligibilityCheck","justknobx","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(c("EventEmitter"))(),k=(h||(h=d("I64"))).of_int32(c("justknobx")._("2477")),l=c("justknobx")._("2606"),m=c("uuidv4")();function n(a){return new Promise(function(b,d){return globalThis.setTimeout(function(){return d(c("err")("timeout"))},a)})}function o(){window.setInterval(function(){d("MAWBridgeFireAndForget").fireAndForget("backend","searchFTSReportTabAlive",{hasFocus:document.hasFocus(),tabId:m},!0)},1e3)}async function p(a){await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabTaskComplete",{error:a,tabId:m})}async function q(){await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabDestroy",{tabId:m})}function r(a){var b=200,c=12e4;return Math.min(b*Math.pow(3,a),c)}var s=function(){function a(a){a===void 0&&(a="search"),this.$1=!1,this.$2=!0,this.$3=!1,this.$4=!0,this.$5=void 0,this.$6={},this.$7=new Set(),this.$8=new Set(),this.$9=new Set(),this.$10=a,c("FBLogger")("fts_worker").info("New MAWFTSRestoreSync instance: "+a)}var e=a.prototype;e.setIsStarted=function(a){this.$1=a,this.$10==="media"&&j.emit("isSyncStarted",a)};e.setIsEBMaybeAvailable=function(a){this.$4=a,this.$10==="media"&&j.emit("isEBMaybeAvailable",a)};e.setActiveThreadId=function(a,c){c===void 0&&(c=!0),b("cr:19810")!=null&&c&&(a!=null&&b("cr:19810").getInstance().insertIntoHead(a)),this.$5=a,this.$10==="media"&&j.emit("activeThreadJid",a)};e.setShouldPauseRestore=function(a){this.$3=a};e.removeFromQueue=function(a){b("cr:19810")!=null&&a!=null&&b("cr:19810").getInstance().removeThread(a)};e.getActiveThreadId=function(){return this.$5};e.getNextThreadIdToFetch=function(){if(b("cr:19810")!=null){var a;return(a=b("cr:19810").getInstance().getThreadsHead())!=null?a:this.getActiveThreadId()}return this.getActiveThreadId()};e.getDoneThreads=function(){return this.$7};e.getDoneThreadsAfterReset=function(){return this.$9};e.getResetThreads=function(){return this.$8};e.isStarted=function(){return this.$1};e.isEBMaybeAvailable=function(){return this.$4};e.resetEBAvailability=function(){this.setIsEBMaybeAvailable(!0)};e.resetRestoreStatus=function(){var a=this,b=this.getActiveThreadId();return b!=null&&!this.$8.has(b)?d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSClearThreadRestoreStatus",{threadId:b},{isLoggingDisabled:!0}).then(function(){a.$8.add(b)}):Promise.resolve()};e.$11=function(a,b){var c=this;Object.keys(this.$6).forEach(function(d){c.$6[d](a,b)})};e.$12=function(a,c,e){return a!==c&&b("cr:19810")!=null?e==null||d("MAWFTSRestoreCap").isRestoreTimeWithinCap(parseInt(e,10)):e!=="0"};e.$13=async function(){this.setIsStarted(!0),this.setShouldPauseRestore(!1),await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabForeground",{tabId:m},{isLoggingDisabled:!0}),window.addEventListener("focus",async function(){await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabForeground",{tabId:m},{isLoggingDisabled:!0})}),o()};e.shouldLoop=async function(a){if(this.$1||this.$4===!1)return!1;await this.$13();a=await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a);if(!a){this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);return!1}return!0};e.loadMessages=async function(a,b,e,f,g,i,j){var o=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSRequestRestoreTask",{tabId:m,threadJid:a});if(!o){await d("WAPromiseDelays").delayMs(200);return"CONTINUE"}var r=d("MAWAsyncEBIssueFetchAndIndexFTSQuery").issueQueryAsPromise(a,b,k,e,i);if(r==null){this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);return"STOP"}var s=g();s.addAnnotations({int:{retryCount:f},string:{restoreUntilMs:b!=null?b:""}});try{o=function(){return Promise.race([r,n(l)])};var t=await d("QPLFlow").QplSubspan.wrapInSubspan(s,"fetch_request",o);a=t.nextMessageTimestampMsBefore!=null?(h||(h=d("I64"))).to_int32(t.nextMessageTimestampMsBefore):void 0;e=Number(b)===a;s.addAnnotations({bool:{paginationStuck:e},int:{numMessages:t.messages.length}});e&&a!=null&&c("justknobx")._("263")&&(t=babelHelpers.extends({},t,{nextMessageTimestampMsBefore:(h||(h=d("I64"))).of_int32(a-1)}));await d("QPLFlow").QplSubspan.wrapInSubspan(s,"process_data",function(){return j(t,s)});s.endSuccess();await p();return"CONTINUE"}catch(a){i=c("getErrorSafe")(a);if(i&&i.message===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED){s.addPoint("eb_not_enabled");s.endCancel();this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);await q();return"STOP"}if(i.message==="invalid-client-state")return"FAIL";c("FBLogger")("fts_worker").catching(i).mustfix("Fail to fetch a new batch of messages");s.endFail((g=i.message)!=null?g:"unknown");await p(i);return"FAIL"}};e.startSyncingLoop=async function(){var a=this;this.setShouldPauseRestore(!1);var e=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;if(!await this.shouldLoop(e))return;await d("MAWFTSRestoreSyncLogger").initLoggingSessionId();var f=0,g=null;e=async function(){var e,i=a.getNextThreadIdToFetch(),j=a.getActiveThreadId();g!==i&&(g=i,f=0);if(i==null||b("cr:19810")==null&&a.$7.has(i)){await d("WAPromiseDelays").delayMs(200);return 0}if(a.$3){await d("WAPromiseDelays").delayMs(200);return 0}var k=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSGetThreadRestoreStatus",{threadId:i},{isLoggingDisabled:!0}),l=(e=k==null?void 0:k.restoredUntilSortOrderMs)!=null?e:null,m=k==null||k.restoredUntilSortOrderMs===k.maxRestoredUntilSortOrderMs||k.restoredUntilSortOrderMs==null;e=a.$12(i,j,l);if(!e){l==="0"&&(a.$7.add(i),a.$8.has(i)&&a.$9.add(i));a.removeFromQueue(i);await d("WAPromiseDelays").delayMs(200);return 0}k=await a.loadMessages(i,l,function(){d("MAWFTSRestoreSyncLogger").onFetchMessagePageStart(i,l==null||d("MAWFTSRestoreCap").isRestoreTimeWithinCap(parseInt(l,10)),m)},f,function(){return d("QPLFlow").startQPLFlow(c("qpl")._(25300854,"2397"))},"fts",async function(b){var c=b.messages;b=b.nextMessageTimestampMsBefore;b=b!=null?(h||(h=d("I64"))).to_string(b):"0";var e=d("MAWFTSRestoreCap").isRestoreTimeWithinCap(parseInt(b,10));d("MAWFTSRestoreSyncLogger").onFetchMessagePageComplete(i,c.length,e);a.$11(i,c);e=c.map(function(a){var b=d("MAWFTSIsMessageValidForSearch").verifyMessageValidity(a);return b==null?null:d("MAWBridgeSearchMsg").createBridgeSearchMsg(babelHelpers.extends({author:a.author,canonicalTs:d("MAWDbMsg").getCanonicalTsFromMsg(a),externalId:a.externalId,threadJid:i},b),!1)}).filter(Boolean);await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchIndexUpdate",{newSortOrderMs:b,threadId:i,unvaultedBridgeSearchMessages:e})});$$gen$m0:{if(k==="CONTINUE"){f=0;break $$gen$m0}if(k==="FAIL"){d("MAWFTSRestoreSyncLogger").onFetchMessagePageFailed(i);await d("WAPromiseDelays").delayMs(r(f));f++;break $$gen$m0}if(k==="STOP"){return{v:void 0};break $$gen$m0}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+k)}};var j;while(this.$2){j=await e();if(j===0)continue;if(j)return j.v}};e.startMediaSyncingLoop=async function(){var a=this,b=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;if(!await this.shouldLoop(b))return;var c=0;b=async function(){var b=a.getActiveThreadId();if(b==null||a.$7.has(b)){await d("WAPromiseDelays").delayMs(200);return 0}if(a.$3){await d("WAPromiseDelays").delayMs(200);return 0}var e=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadMediaRestoreStatus",{threadId:b},{isLoggingDisabled:!0});e=(e=e==null?void 0:e.restoredUntilSortOrderMs)!=null?e:null;j.emit("restoredUntilMs",e!=null?parseInt(e,10):-1);var f=a.$12(b,b,e);if(!f){e==="0"&&a.$7.add(b);await d("WAPromiseDelays").delayMs(200);return 0}f=await a.loadMessages(b,e,void 0,c,d("MWMediaRestoreQplUtils").startMediaRestoreBatchQPLFlow,"media",async function(a,c){var e=a.nextMessageTimestampMsBefore!=null?(h||(h=d("I64"))).to_string(a.nextMessageTimestampMsBefore):"0";await d("MAWMediaGalleryRestoreSync").handleMediaRestoreSync(a,c);await d("MAWBridgeSendAndReceive").sendAndReceive("backend","setThreadMediaRestoreStatus",{newSortOrderMs:e,threadId:b},{isLoggingDisabled:!0})});$$gen$m1:{if(f==="CONTINUE"){c=0;break $$gen$m1}if(f==="FAIL"){await d("WAPromiseDelays").delayMs(r(c));c++;break $$gen$m1}if(f==="STOP"){return{v:void 0};break $$gen$m1}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+f)}};var e;while(this.$2){e=await b();if(e===0)continue;if(e)return e.v}};a.getInstance=function(){var b=a.instance;if(b!=null)return b;b=new a();a.instance=b;return b};a.getMediaInstance=function(){var b=a.mediaInstance;if(b!=null)return b;b=new a("media");a.mediaInstance=b;return b};a.resetInstance=function(){a.instance=null};e.setKeepWhileLoop_FOR_TESTING_ONLY=function(a){this.$2=a};return a}();s.instance=null;s.mediaInstance=null;function a(){return s.getInstance()}function e(){return s.getMediaInstance()}g.MAWGalleryEventEmitter=j;g.MAWFTSRestoreSync=s;g.getFTSRestoreSync=a;g.getMediaRestoreSync=e}),98);
__d("MWV2MediaViewerDebugMenu.react",["fbt","MWChatMessageBothOrientationFocusGroup.react","MWDebugMessageMenuItem.react","MWXMenu.react","MWXPopover.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Debug actions");function a(a){var b=d("react-compiler-runtime").c(3),e=a.attachment;a=a.message;var f;b[0]!==e||b[1]!==a?(f=j.jsx(c("MWXPopover.react"),{role:"menu",withArrow:!0,children:j.jsx(d("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:j.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(c("MWXMenu.react"),{"aria-label":k,size:"full",truncate:!0,children:j.jsx(c("MWDebugMessageMenuItem.react"),{attachment:e,message:a})})})})}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("FBIconCloudArrowUpFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M459.968 1078.513c-.23-1.715-1.67-3.003-3.468-3.013-1.366 0-2.358.53-2.835 1.502-1.263.05-2.358 1.155-2.438 2.444-.834.297-1.227 1.324-1.227 2.054 0 .83.534 2 1.722 2h3.528v-3.44l-.97.97a.75.75 0 1 1-1.06-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 1 1-1.06 1.06l-.97-.97v3.44h3.04c1.302 0 2.21-1.317 2.21-2.5 0-1.11-.855-2.346-2.032-2.487"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWEBJewelDialogPage.react",["fbt","BaseMultiPageViewContext","CometTopNavListDropdownCard.react","FDSDialogLoadingStateImpl.react","Locale","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconArrowLeft","MWXIconArrowRight","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.use;b.useMemo;var l=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.footer,g=a.onBack,i=a.onClose,m=a.withBackButton;a=a.withCloseButton;m=m===void 0?!0:m;a=a===void 0?!0:a;var n=k(c("BaseMultiPageViewContext")),o;b[0]!==n?(o=n!=null?babelHelpers["extends"]({},n,{fallback:j.jsx(c("CometTopNavListDropdownCard.react"),{useFullHeight:!0,useMaxHeight:!0,children:j.jsx(c("FDSDialogLoadingStateImpl.react"),{})})}):null,b[0]=n,b[1]=o):o=b[1];n=o;o=n;b[2]!==g||b[3]!==i||b[4]!==m||b[5]!==a?(n=(g!=null||i!=null)&&j.jsxs(c("MWXRow.react"),{paddingHorizontal:8,paddingVertical:8,children:[g!=null&&m&&j.jsx(c("MWXRowItem.react"),{children:j.jsx("div",{className:"x1y1aw1k xf159sx xwib8y2 xmzvs34",children:j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:l?c("MWXIconArrowRight"):c("MWXIconArrowLeft"),label:h._(/*BTDS*/"Back"),onPress:g,size:32})})}),j.jsx(c("MWXRowItem.react"),{children:null,expanding:!0}),i!=null&&a&&j.jsx(c("MWXRowItem.react"),{children:j.jsx("div",{className:"xyamay9 xv54qhq x1l90r2v xf7dkkf",children:j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink3",children:j.jsx(c("MWXLink.react"),{onClick:i,children:h._(/*BTDS*/"Skip")})})})})]}),b[2]=g,b[3]=i,b[4]=m,b[5]=a,b[6]=n):n=b[6];b[7]!==e?(g=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,children:e}),b[7]=e,b[8]=g):g=b[8];b[9]!==f?(i=j.jsx(c("MWXColumnItem.react"),{children:f}),b[9]=f,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(m=j.jsxs(c("MWXColumn.react"),{expanding:!0,verticalAlign:"center",children:[g,i]}),b[11]=g,b[12]=i,b[13]=m):m=b[13];b[14]!==n||b[15]!==m?(a=j.jsx(c("CometTopNavListDropdownCard.react"),{useFullHeight:!0,useMaxHeight:!0,children:j.jsxs(c("MWXColumn.react"),{expanding:!0,children:[n,m]})}),b[14]=n,b[15]=m,b[16]=a):a=b[16];b[17]!==o||b[18]!==a?(e=j.jsx(c("BaseMultiPageViewContext").Provider,{value:o,children:a}),b[17]=o,b[18]=a,b[19]=e):e=b[19];return e}g["default"]=a}),226);
__d("MWEBDialogPage.react",["MWEBJewelDialogPage.react","MWIsJewelContext","MWXDialogHeader.react","MWXDialogPage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.use;function a(a){var b=d("react-compiler-runtime").c(16),e=a.children,f=a.footer,g=a.onBack,h=a.onClose,k=a.withBackButton;a=a.withCloseButton;k=k===void 0?!0:k;a=a===void 0?!0:a;var l=j(c("MWIsJewelContext"));if(l){b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==k||b[5]!==a?(l=i.jsx(c("MWEBJewelDialogPage.react"),{children:e,footer:f,onBack:g,onClose:h,withBackButton:k,withCloseButton:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=k,b[5]=a,b[6]=l):l=b[6];return l}else{l=f!=null?f:null;f=g!=null?g:void 0;var m=h!=null?h:void 0;k=k&&g!=null;g=a&&h!=null;b[7]!==f||b[8]!==m||b[9]!==k||b[10]!==g?(a=i.jsx(c("MWXDialogHeader.react"),{mdsTitleLayout:"block",onBack:f,onClose:m,withBackButton:k,withCloseButton:g,withoutDivider:!0}),b[7]=f,b[8]=m,b[9]=k,b[10]=g,b[11]=a):a=b[11];b[12]!==e||b[13]!==l||b[14]!==a?(h=i.jsx(c("MWXDialogPage.react"),{footer:l,header:a,children:e}),b[12]=e,b[13]=l,b[14]=a,b[15]=h):h=b[15];return h}}g["default"]=a}),98);
__d("MWEBErrorStatePhoneInterstitialIcon.react",["ix","MWXImage.react","gkx","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.alt;var e=c("useCurrentDisplayMode")();e=e==="dark";var f;b[0]!==e?(f=c("gkx")("23219")?e?h("210369"):h("210371"):h("433676"),b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==a||b[3]!==e?(f=j.jsx(c("MWXImage.react"),{alt:a,src:e}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWEBNoMobileEOTRResetEBDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBNoMobileEOTRResetEBDialog.react").__setRef("MWEBNoMobileEOTRResetEBDialog.entrypoint")};g["default"]=a}),98);
__d("MWXIconCloudUpload",["MWXSvgIcon","SVGIcon","cr:22275","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22275")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEBNoMobileEOTRInformationalDialog.react",["fbt","AddOnStartOverride.react","MWChatEncryptedBackupResetContext","MWChatEncryptedBackupsQPLEvents","MWEBErrorStatePhoneInterstitialIcon.react","MWEBNoMobileEOTRResetEBDialog.entrypoint","MWXColumn.react","MWXColumnItem.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXDialogPage.react","MWXIconCloudUpload","MWXIconForListCell.react","MWXIconMenuItemTrash","MWXIconMobile","MWXList.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useMWAbandonRestoreConfirmationDialog","usePopPage","usePushPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect;function o(a){var b=d("react-compiler-runtime").c(20),e=a.onClose,f=a.onCloseConfirm,g=a.onComplete;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("usePushPage")(c("MWEBNoMobileEOTRResetEBDialog.entrypoint"),a);var j=a[0];a=a[1];if(b[1]!==a){a.onHighIntent;var l=babelHelpers.objectWithoutPropertiesLoose(a,i);l=l;b[1]=a;b[2]=l}else l=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==j?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_NO_MOBILE_RESET_CLICK"),j({onClose:e,onCloseConfirm:f,onComplete:g})},b[3]=e,b[4]=f,b[5]=g,b[6]=j,b[7]=a):a=b[7];a=a;var m;b[8]!==e?(m=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_NO_MOBILE_NOT_NOW_CLICK"),e==null||e()},b[8]=e,b[9]=m):m=b[9];m=m;var n;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"Reset chat history"),b[10]=n):n=b[10];b[11]!==a||b[12]!==l?(n=babelHelpers["extends"]({label:n},l,{onPress:a,testid:"mw-eb-no-mobile-eotr-informational-reset-button"}),b[11]=a,b[12]=l,b[13]=n):n=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Not now"),b[14]=a):a=b[14];b[15]!==m?(l={label:a,onPress:m},b[15]=m,b[16]=l):l=b[16];b[17]!==n||b[18]!==l?(a=k.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:n,secondaryCallToAction:l}),b[17]=n,b[18]=l,b[19]=a):a=b[19];return a}function a(a){var b=a.closeOnComplete,e=b===void 0?!1:b,f=a.onClose,g=a.onComplete,i=c("usePopPage")();b=m(c("MWChatEncryptedBackupResetContext"));var j=b.isEncryptedBackupResetUserJourneyStartedRef;a=i!=null?function(){i(),j&&(j.current=!1)}:null;n(function(){j&&(j.current=!0)},[j]);b=c("useMWAbandonRestoreConfirmationDialog")(function(){f==null||f()});var p=l(function(){g==null||g(),e&&(f==null||f())},[e,f,g]),q=c("useVisibilityObserver")({onVisible:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_NO_MOBILE_INFORMATION_SCREEN")}});return k.jsx(c("MWXDialogPage.react"),{footer:k.jsx(o,{onClose:f,onCloseConfirm:b,onComplete:p}),header:k.jsx(c("MWXDialogHeader.react"),{mdsTitleLayout:"block",onBack:a!=null?a:void 0,onClose:f,withBackButton:a!=null,withCloseButton:f!=null,withoutDivider:!0}),children:k.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,ref:q,spacing:20,testid:void 0,children:[k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(c("MWEBErrorStatePhoneInterstitialIcon.react"),{})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,type:"headlineEmphasized2",children:h._(/*BTDS*/"Reset chat history to access new messages on any device")})}),k.jsx(c("MWXColumnItem.react"),{paddingHorizontal:0,children:k.jsxs(c("MWXList.react"),{children:[k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconMenuItemTrash"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"End-to-end encrypted messages will be deleted from your backup and you won\u2019t be able to restore them."),bodyColor:"secondary",headline:h._(/*BTDS*/"Messages currently saved in your backup will be deleted"),level:4})}),k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconCloudUpload"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"Resetting your chat history lets you back up new messages in secure storage."),bodyColor:"secondary",headline:h._(/*BTDS*/"New messages will be backed up"),level:4})}),k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconMobile"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"You need a PIN to restore your chat history when you switch devices."),bodyColor:"secondary",headline:h._(/*BTDS*/"You\u2019ll create a PIN to access your chats on any device"),level:4})})]})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEBWebOnboardingPostDecisionDialogContent.react",["fbt","AddOnStartOverride.react","CometRelay","MWChatEncryptedBackupsQPLEvents","MWEBDialogPage.react","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEBPinCodeSetupDialogStep.entrypoint","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXColumn.react","MWXColumnItem.react","MWXDialogFooter.react","MWXIconCloudUpload","MWXIconForListCell.react","MWXList.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","cr:13913","cr:2060","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","usePushPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j,k=j||(j=d("react"));j.useCallback;function l(a){var b=d("react-compiler-runtime").c(17),e=a.instanceKey,f=a.onClose,g=a.onSkip,j=a.withCloseButton;b[0]===Symbol.for("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("usePushPage")(c("MWEBPinCodeSetupDialogStep.entrypoint"),a);var l=a[0];a=a[1];if(b[1]!==a){a.onHighIntent;var m=babelHelpers.objectWithoutPropertiesLoose(a,i);m=m;b[1]=a;b[2]=m}else m=b[2];var n=d("CometRelay").useRelayEnvironment();b[3]!==n||b[4]!==f?(a=function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:n,upsellsToDismiss:"all"}),f()},b[3]=n,b[4]=f,b[5]=a):a=b[5];var o=a;b[6]!==l||b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==o||b[11]!==j?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"WEB_ONBOARDING_POST_DECISION_DIALOG_NEXT",{instanceKey:e}),l({instanceKey:e,onClose:f,onSkip:g,onStart:o,qplEventName:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,withCloseButton:j})},b[6]=l,b[7]=e,b[8]=f,b[9]=g,b[10]=o,b[11]=j,b[12]=a):a=b[12];a=a;var p;b[13]===Symbol.for("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Back up chats"),b[13]=p):p=b[13];b[14]!==m||b[15]!==a?(p=k.jsx(c("MWXDialogFooter.react"),{primaryCallToAction:babelHelpers.extends({label:p,onPress:a},m)}),b[14]=m,b[15]=a,b[16]=p):p=b[16];return p}function a(a){var e=d("react-compiler-runtime").c(26),f=a.instanceKey,g=a.onClose,i=a.onSkip,j=a.source;a=a.withCloseButton;var m=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),n=m.startFlow,o=c("useAsyncReStore")();e[0]!==o||e[1]!==f||e[2]!==j||e[3]!==n?(m=async function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:await o,onFetch:function(a){var b=a.ebsmWiped,e=a.firstUpsellTime;a=a.hasUserOnboardedBefore;n({additionalAnnotations:{eb_session_identifier:e,ebsm_wiped:b,has_user_onboarded_before:a,requested_setup_type:"pin_code"},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,instanceKey:f,source:j});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"WEB_ONBOARDING_POST_DECISION_DIALOG",{instanceKey:f})}})},e[0]=o,e[1]=f,e[2]=j,e[3]=n,e[4]=m):m=e[4];var p=m;e[5]!==p?(m={onVisible:function(){return void p()}},e[5]=p,e[6]=m):m=e[6];m=c("useVisibilityObserver")(m);var q;e[7]!==f||e[8]!==g||e[9]!==i||e[10]!==a?(q=k.jsx(l,{instanceKey:f,onClose:g,onSkip:i,withCloseButton:a}),e[7]=f,e[8]=g,e[9]=i,e[10]=a,e[11]=q):q=e[11];e[12]===Symbol.for("react.memo_cache_sentinel")?(g=k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(b("cr:2060"),{})}),e[12]=g):g=e[12];e[13]===Symbol.for("react.memo_cache_sentinel")?(a=k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,type:"headlineEmphasized2",children:h._(/*BTDS*/"Keep your chat history safe")})}),e[13]=a):a=e[13];var r;e[14]===Symbol.for("react.memo_cache_sentinel")?(r=k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:b("cr:13913"),size:"large"})}),e[14]=r):r=e[14];var s;e[15]===Symbol.for("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Right now, messages are only saved on your browser."),e[15]=s):s=e[15];e[16]===Symbol.for("react.memo_cache_sentinel")?(r=k.jsx(c("MWXListCell.react"),{addOnStart:r,content:k.jsx(c("MWXTextPairing.react"),{body:s,bodyColor:"secondary",headline:h._(/*BTDS*/"Your chats aren\u2019t being backed up"),level:4})}),e[16]=r):r=e[16];e[17]===Symbol.for("react.memo_cache_sentinel")?(s=k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconCloudUpload"),size:"large"})}),e[17]=s):s=e[17];var t;e[18]===Symbol.for("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Secure storage backs up your chats so you can restore them if you lose or replace your device."),e[18]=t):t=e[18];e[19]===Symbol.for("react.memo_cache_sentinel")?(r=k.jsx(c("MWXColumnItem.react"),{paddingHorizontal:0,children:k.jsxs(c("MWXList.react"),{children:[r,k.jsx(c("MWXListCell.react"),{addOnStart:s,content:k.jsx(c("MWXTextPairing.react"),{body:t,bodyColor:"secondary",headline:h._(/*BTDS*/"Start backing up your chats with secure storage"),level:4})})]})}),e[19]=r):r=e[19];e[20]!==m?(s=k.jsxs(c("MWXColumn.react"),{paddingTop:0,paddingVertical:8,ref:m,spacing:16,children:[g,a,r]}),e[20]=m,e[21]=s):s=e[21];e[22]!==i||e[23]!==s||e[24]!==q?(t=k.jsx(c("MWEBDialogPage.react"),{footer:q,onClose:i,children:s}),e[22]=i,e[23]=s,e[24]=q,e[25]=t):t=e[25];return t}g.default=a}),226);
__d("MWXDialogContainer.react",["BaseDialogLabelIDProvider","cr:13035","cr:13036","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h=["children"],i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(11),f,g;e[0]!==a?(f=a.children,g=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);c("vulture")("ZQpa3VyfBYO_KvS4wfc0-tBbtoc=");if(b("cr:13035")!=null){e[3]!==f?(a=j.jsx(j.Fragment,{children:f}),e[3]=f,e[4]=a):a=e[4];var i;e[5]!==g||e[6]!==a?(i=j.jsx(d("BaseDialogLabelIDProvider").BaseDialogLabelIDProvider,{children:j.jsx(b("cr:13035"),babelHelpers["extends"]({},g,{children:a}))}),e[5]=g,e[6]=a,e[7]=i):i=e[7];return i}if(b("cr:13036")!=null){e[8]!==f||e[9]!==g?(a=j.jsx(d("BaseDialogLabelIDProvider").BaseDialogLabelIDProvider,{children:j.jsx(b("cr:13036"),babelHelpers["extends"]({},g,{children:f}))}),e[8]=f,e[9]=g,e[10]=a):a=e[10];return a}return null}g["default"]=a}),98);
__d("MWEBWebOnboardingPostDecisionDialog.react",["fbt","MWEBFlowSourceContext","MWEBWebOnboardingPostDecisionDialogContent.react","MWXDialogContainer.react","react","react-compiler-runtime","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(13);a=a.props;var e=a.instanceKey,f=a.onClose;a=a.source;var g=c("useMWXConfirmationDialog")(),i;b[0]!==f||b[1]!==g?(i=function(){g({body:h._(/*BTDS*/"Your chats won\u2019t be backed up, and you won\u2019t be able to restore them if you switch devices."),cancel:h._(/*BTDS*/"Go back"),confirm:h._(/*BTDS*/"Close"),title:h._(/*BTDS*/"Are you sure?")},f)},b[0]=f,b[1]=g,b[2]=i):i=b[2];i=i;var k;b[3]!==a?(k={source:a},b[3]=a,b[4]=k):k=b[4];k=k;k=k;var l;b[5]!==e||b[6]!==f||b[7]!==i||b[8]!==a?(l=j.jsx(c("MWXDialogContainer.react"),{children:j.jsx(c("MWEBWebOnboardingPostDecisionDialogContent.react"),{instanceKey:e,onClose:f,onSkip:i,source:a,withCloseButton:!0})}),b[5]=e,b[6]=f,b[7]=i,b[8]=a,b[9]=l):l=b[9];b[10]!==k||b[11]!==l?(e=j.jsx(c("MWEBFlowSourceContext").Provider,{value:k,children:l}),b[10]=k,b[11]=l,b[12]=e):e=b[12];return e}g["default"]=a}),226);
__d("MWFDSCloudUpload.svg.react",["FBIconCloudArrowUpFilled12.svg.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("FBIconCloudArrowUpFilled12.svg.react")}),98);/*FB_PKG_DELIM*/
__d("CometSharingSessionIDUtil",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")(),i=null,j=!1;a=function(){return h};b=function(){return i};d=function(){return j};e=function(a){j=a};f=function(){i=h,j=!1,h=c("uuidv4")()};f={genNext:f,getIsAnythingSharedInCurrentSession:d,getPreviousSharingSessionID:b,getSharingSessionID:a,setIsAnythingSharedInCurrentSession:e};g["default"]=f}),98);
__d("CometUFIShareActionLinkMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24947410828249224"}),null);
__d("CometUFIShareToPageOptionalSwitchingShareableContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({eventID:null,groupIdOrVanity:null,reelID:null,storyPostID:null});g["default"]=b}),98);
__d("CometUFIShareToPageOptionalSwitchingShareableProvider",["CometUFIShareToPageOptionalSwitchingShareableContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.eventID,g=a.groupIdOrVanity,h=a.reelID;a=a.storyPostID;var j;b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==a?(j={eventID:f,groupIdOrVanity:g,reelID:h,storyPostID:a},b[0]=f,b[1]=g,b[2]=h,b[3]=a,b[4]=j):j=b[4];f=j;g=f;b[5]!==e||b[6]!==g?(h=i.jsx(c("CometUFIShareToPageOptionalSwitchingShareableContext").Provider,{value:g,children:e}),b[5]=e,b[6]=g,b[7]=h):h=b[7];return h}g["default"]=a}),98);
__d("CometUnifiedShareSheetDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24695297386800090"}),null);
__d("CometUnifiedShareSheetDialogQuery$Parameters",["CometUnifiedShareSheetDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUnifiedShareSheetDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUnifiedShareSheetDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("UnifiedShareSheetMessengerSectionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23993111606963614"}),null);
__d("isAttachmentsQueryOptimizationEnabled.relayprovider",[],(function(a,b,c,d,e,f){"use strict";a={get:function(){return!0}};f["default"]=a}),66);
__d("isWaAddressableFieldsEnabled.relayprovider",[],(function(a,b,c,d,e,f){"use strict";a={get:function(){return!0}};f["default"]=a}),66);
__d("UnifiedShareSheetMessengerSectionQuery$Parameters",["UnifiedShareSheetMessengerSectionQuery_facebookRelayOperation","isAttachmentsQueryOptimizationEnabled.relayprovider","isWaAddressableFieldsEnabled.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("UnifiedShareSheetMessengerSectionQuery_facebookRelayOperation"),metadata:{},name:"UnifiedShareSheetMessengerSectionQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__isAttachmentsQueryOptimizationEnabledrelayprovider:b("isAttachmentsQueryOptimizationEnabled.relayprovider"),__relay_internal__pv__isWaAddressableFieldsEnabledrelayprovider:b("isWaAddressableFieldsEnabled.relayprovider")}}};e.exports=a}),null);
__d("CometUnifiedShareSheetDialog.entrypoint",["CometUnifiedShareSheetDialogQuery$Parameters","JSResourceForInteraction","UnifiedShareSheetMessengerSectionQuery$Parameters","WebPixelRatio","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.feedLocation,e=a.isShareToFeedDisabled;e=e===void 0?!1:e;var f=a.qe_optional_share_to_page,g=a.storyUrl;a=a.url;var h=c("gkx")("3421");return{queries:{messengerQueryReference:{parameters:c("UnifiedShareSheetMessengerSectionQuery$Parameters"),variables:{}},queryReference:{parameters:c("CometUnifiedShareSheetDialogQuery$Parameters"),variables:{feedLocation:b,hasParentStory:g!=null,isComposerDisabled:!1,isLinkSharingEnabled:h,isShareToFeedDisabled:e,privacySelectorRenderLocation:"COMET_COMPOSER",qe_optional_share_to_page:f!=null?f:!1,scale:d("WebPixelRatio").get(),shareableParams:{url:a},storyParams:{url:g}}}}}},root:c("JSResourceForInteraction")("CometUnifiedShareSheetDialog.react").__setRef("CometUnifiedShareSheetDialog.entrypoint")};g["default"]=a}),98);
__d("UnifiedShareSheetComposerPlaceholder.react",["CometComposerMinutiaeBarLoading.react","CometRow.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"xzp6m1v xwya9rg x1nn3v0j x1icxu4v x18d9i69 x25sj25"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("CometRow.react"),{paddingHorizontal:16,children:i.jsx(c("CometComposerMinutiaeBarLoading.react"),{})})})),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("UnifiedShareSheetDialogWrapper.react",["fbt","FDSDialog.react","FDSDialogHeader.react","FDSDialogPage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.content,f=a.impressionRef,g=a.isUSSPlaceholder,i=a.onClose,k=a.onCloseCentralHandler,l=a.openUSSPushPage,m=a.popPage;a=g===void 0?!1:g;b[0]!==e||b[1]!==f||b[2]!==a||b[3]!==i||b[4]!==k||b[5]!==l||b[6]!==m?(g=l===!0?j.jsx(c("FDSDialogPage.react"),{footer:null,header:j.jsx(c("FDSDialogHeader.react"),{onBack:function(){m&&m()},onClose:a?i:k,text:h._(/*BTDS*/"Share"),withBackButton:m!=null}),mobileFullHeight:!1,children:e}):j.jsx(c("FDSDialog.react"),{footer:null,header:j.jsx(c("FDSDialogHeader.react"),{closeTestID:"unified_share_sheet_close_button",onClose:a?i:k,text:h._(/*BTDS*/"Share")}),mobileFullHeight:!1,onClose:a?i:k,ref:f&&f,children:e}),b[0]=e,b[1]=f,b[2]=a,b[3]=i,b[4]=k,b[5]=l,b[6]=m,b[7]=g):g=b[7];return g}g["default"]=a}),226);
__d("UnifiedShareSheetHScrollTilesItemPlaceholder.react",["CometColumn.react","CometColumnItem.react","FDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xlup9mm",width:"x1fxk84t",$$css:!0},profilePhotoGlimmer:{borderStartStartRadius:"x120xd9q",borderStartEndRadius:"x1k4ovr2",borderEndEndRadius:"xdfaw6k",borderEndStartRadius:"xefzod",height:"xng8ra",width:"x1247r65",$$css:!0},root:{height:"xnfxvih",width:"x19v3vle",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("FDSGlimmer.react"),{index:0,xstyle:j.profilePhotoGlimmer})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(c("CometColumn.react"),{align:"center",paddingVertical:8,spacing:8,xstyle:j.root,children:[b,i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("FDSGlimmer.react"),{index:0,xstyle:j.glimmer})})]}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("UnifiedShareSheetHScrollContainerPlaceholder.react",["CometRow.react","CometRowItem.react","UnifiedShareSheetHScrollTilesItemPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={tray:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b=[];for(var e=0;e<6;e++)b.push(i.jsx(c("CometRowItem.react"),{children:i.jsx(c("UnifiedShareSheetHScrollTilesItemPlaceholder.react"),{})},e));e=i.jsx(c("CometRow.react"),{paddingHorizontal:8,paddingVertical:0,spacing:8,xstyle:j.tray,children:b});a[0]=e}else e=a[0];return e}g["default"]=a}),98);
__d("usePopPage",["BaseMultiPageViewContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=i(c("BaseMultiPageViewContext")),b=j;return a==null?b:(b=a.popPage)!=null?b:null}function j(){c("FBLogger")("BaseMultiPageView").mustfix("usePopPage can only be used inside BaseMultiPageView.")}g["default"]=a}),98);
__d("UnifiedShareSheetDialogPlaceholder.react",["fbt","BaseDivider.react","CometColumn.react","CometColumnItem.react","FDSText.react","MWFacebookUserWithoutMessengerAccess","UnifiedShareSheetComposerPlaceholder.react","UnifiedShareSheetDialogWrapper.react","UnifiedShareSheetHScrollContainerPlaceholder.react","react","react-compiler-runtime","usePopPage","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e=a.isShareToFeedDisabled,f=a.onClose;a=a.openUSSPushPage;c("vulture")("UIlfMtQCVPi3NpPdvk0gyHDM-rA=");var g=c("usePopPage")(),i=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Send in Messenger"),b[0]=k):k=b[0];k=k;var l;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Send a message"),b[1]=l):l=b[1];l=l;i=i?l:k;b[2]!==e?(l=e!==!0&&j.jsxs(j.Fragment,{children:[j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("UnifiedShareSheetComposerPlaceholder.react"),{})}),j.jsx(c("CometColumnItem.react"),{paddingTop:0,paddingVertical:8,children:j.jsx(c("BaseDivider.react"),{})})]}),b[2]=e,b[3]=l):l=b[3];b[4]!==i?(k=j.jsx(c("CometColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:j.jsx(c("FDSText.react"),{numberOfLines:1,type:"headlineEmphasized3",children:i})}),b[4]=i,b[5]=k):k=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometColumnItem.react"),{paddingHorizontal:0,paddingVertical:8,children:j.jsx(c("UnifiedShareSheetHScrollContainerPlaceholder.react"),{})}),b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("CometColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:j.jsx(c("FDSText.react"),{numberOfLines:1,type:"headlineEmphasized3",children:h._(/*BTDS*/"Share to")})}),b[7]=i):i=b[7];var m;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("CometColumnItem.react"),{paddingHorizontal:0,paddingVertical:8,children:j.jsx(c("UnifiedShareSheetHScrollContainerPlaceholder.react"),{})}),b[8]=m):m=b[8];b[9]!==l||b[10]!==k?(e=j.jsxs(c("CometColumn.react"),{children:[l,k,e,i,m]}),b[9]=l,b[10]=k,b[11]=e):e=b[11];i=e;b[12]!==i||b[13]!==f||b[14]!==a||b[15]!==g?(m=j.jsx(c("UnifiedShareSheetDialogWrapper.react"),{content:i,onCloseCentralHandler:f,openUSSPushPage:a,popPage:g}),b[12]=i,b[13]=f,b[14]=a,b[15]=g,b[16]=m):m=b[16];return m}g["default"]=a}),226);
__d("CometUnifiedShareSheetEntrypointDialogTrigger.react",["CometEntryPointDialogTrigger.react","CometTrackingCodeContext","CometUnifiedShareSheetDialog.entrypoint","UnifiedShareSheetDialogPlaceholder.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","shouldEnableOptionalPageSwitching"],i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(24),e,f,g;b[0]!==a?(e=a.children,g=a.shouldEnableOptionalPageSwitching,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?!0:g;g=k(c("CometTrackingCodeContext"));g=f.trackingCodes!=null?f.trackingCodes:g;var i;b[4]!==f.isShareToFeedDisabled?(i=function(a){return j.jsx(c("UnifiedShareSheetDialogPlaceholder.react"),{isShareToFeedDisabled:f.isShareToFeedDisabled,onClose:a})},b[4]=f.isShareToFeedDisabled,b[5]=i):i=b[5];var l;b[6]!==f||b[7]!==g?(l=babelHelpers["extends"]({},f,{trackingCodes:g}),b[6]=f,b[7]=g,b[8]=l):l=b[8];g=(g=f)==null?void 0:g.hasParentStory;a=a&&c("gkx")("22883");var m;b[9]!==f.feedLocation||b[10]!==f.isShareToFeedDisabled||b[11]!==f.shareableID||b[12]!==f.shareableUrl||b[13]!==f.storyUrl||b[14]!==g||b[15]!==a?(m={feedLocation:f.feedLocation,hasParentStory:g,isShareToFeedDisabled:f.isShareToFeedDisabled,qe_optional_share_to_page:a,storyID:f.shareableID,storyUrl:f.storyUrl,url:f.shareableUrl},b[9]=f.feedLocation,b[10]=f.isShareToFeedDisabled,b[11]=f.shareableID,b[12]=f.shareableUrl,b[13]=f.storyUrl,b[14]=g,b[15]=a,b[16]=m):m=b[16];b[17]!==e?(g=function(a,b,c,d){return e(a,b,c,d)},b[17]=e,b[18]=g):g=b[18];b[19]!==i||b[20]!==l||b[21]!==m||b[22]!==g?(a=j.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("CometUnifiedShareSheetDialog.entrypoint"),fallback:i,otherProps:l,preloadParams:m,preloadTrigger:c("gkx")("517")?"button_aggressive":"button",children:g}),b[19]=i,b[20]=l,b[21]=m,b[22]=g,b[23]=a):a=b[23];return a}g["default"]=a}),98);
__d("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EE").__setRef("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred");g["default"]=a}),98);
__d("SharingConstants",[],(function(a,b,c,d,e,f){"use strict";a={COMMENT_CLIP_DIALOG:"comment_clip_dialog",EVENTS:"events",FEED_UFI:"feed_ufi",LIVE_VIDEO_CLIPPING:"live_video_clipping",NEWS:"news",REELS_FULLSCREEN:" reels_fullscreen",STORY:"story",UNKNOWN:"unknown"};b="feedOrganicPostViewAndMessage";f.SHARING_ENTRY_POINTS=a;f.MESSENGER_POPUP_ENTRYPOINT=b}),66);
__d("StoriesTrayLoggerSessionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={trackingStrings:new Map()};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("StoriesTrayLoggerSessionProvider",["StoriesTrayLoggerSessionContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.trackingStrings;var f;b[0]!==a?(f={trackingStrings:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("StoriesTrayLoggerSessionContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("StoriesViewerMenuButton.react",["CometButtonCommandStopper.react","CometPressable.react","FDSTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a=function(a){var b=a.type==="press";b||a.preventDefault();var c=e;c=c.onClick;c!=null&&(!b&&a.type!=="keydown"&&a.stopPropagation(),c())},b[3]=e,b[4]=a):a=b[4];a=a;var g=e,i=g.icon,k=g.isMenuVisible,l=g.label,m=g.testid;g=g.tooltipLabel;var n;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1ypdohk xdj266r x2fvf9 xat24cr xdwrcjd"},b[5]=n):n=b[5];b[6]!==i||b[7]!==m?(n=j.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:i})),b[6]=i,b[7]=m,b[8]=n):n=b[8];b[9]!==a||b[10]!==k||b[11]!==l||b[12]!==f||b[13]!==n?(i=j.jsx(c("CometPressable.react"),{"aria-expanded":k,display:"inline",label:l,onPress:a,overlayDisabled:!0,ref:f,role:"button",children:n}),b[9]=a,b[10]=k,b[11]=l,b[12]=f,b[13]=n,b[14]=i):i=b[14];b[15]!==l||b[16]!==i?(m=j.jsx(c("CometButtonCommandStopper.react"),{label:l,children:i}),b[15]=l,b[16]=i,b[17]=m):m=b[17];b[18]!==m||b[19]!==g?(a=j.jsx(c("FDSTooltip.react"),{tooltip:g,children:m}),b[18]=m,b[19]=g,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("useShareLogger",["CometSharingSessionIDUtil","CometTrackingCodeContext","getVideoShareDownstreamSignalTracking","react","requireDeferred","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h=["is_anything_shared_in_current_session"],i;function j(a){if(null==a)throw new TypeError("Cannot destructure "+a)}b=i||d("react");var k=b.useCallback,l=b.useContext,m=b.useMemo,n=c("requireDeferred")("FbSharingEventFalcoEvent").__setRef("useShareLogger");function a(){var a=c("useMinifiedProductAttribution")(),b=l(c("CometTrackingCodeContext")),e=m(function(){var a;return(a=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTracking())!=null?a:{}},[]),f=k(function(d){var f=babelHelpers["extends"]({},(j(d),d));c("CometSharingSessionIDUtil").genNext();n.onReady(function(d){return d.log(function(){var d;return babelHelpers["extends"]({event_type:"tap",feed_tracking:f.feed_tracking!=null?f.feed_tracking:b.encrypted_tracking,navigation_chain:a||"",shareable_entity_audience:"unknown",sharing_component_name:(d=f.sharing_component_name)!=null?d:"ufi_share_button",sharing_session_id:c("CometSharingSessionIDUtil").getSharingSessionID()},f,e)})})},[a,b.encrypted_tracking,e]),g=k(function(d){var f=babelHelpers["extends"]({},(j(d),d));c("CometSharingSessionIDUtil").genNext();n.onReady(function(d){return d.log(function(){return babelHelpers["extends"]({entry_point:"stories",event_type:"tap",feed_tracking:f.feed_tracking!=null?f.feed_tracking:b.encrypted_tracking,navigation_chain:a||"",shareable_entity_audience:"private",sharing_session_id:c("CometSharingSessionIDUtil").getSharingSessionID()},f,e)})})},[a,b.encrypted_tracking,e]),i=k(function(d){var f=d.is_anything_shared_in_current_session;f=f===void 0?!0:f;var g=babelHelpers.objectWithoutPropertiesLoose(d,h);g.sharing_component_name==="ufi_send_in_messenger_button"&&c("CometSharingSessionIDUtil").genNext();g.sharing_component_name==="send_in_messenger_button"&&c("CometSharingSessionIDUtil").setIsAnythingSharedInCurrentSession(f);n.onReady(function(d){return d.log(function(){return babelHelpers["extends"]({event_type:"tap",feed_tracking:g.feed_tracking!=null?g.feed_tracking:b.encrypted_tracking,navigation_chain:a||"",shareable_entity_audience:"private",sharing_session_id:c("CometSharingSessionIDUtil").getSharingSessionID()},g,e)})})},[a,b.encrypted_tracking,e]);return{onOpenBCFButtonClicked:i,onOpenSharesheetButtonClicked:f,onSharingCopyLinkClicked:g}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometComposerErrorRendererWithReportingFlow.react",["fbt","CometLink.react","VenusFlytrapLogging","VenusFlytrapLoggingEntrypoint","gkx","react","react-compiler-runtime","useFacebookVenusFlytrapDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8);a=a.errorMessage;var e=c("useFacebookVenusFlytrapDialog")(),f;b[0]!==e?(f=function(){d("VenusFlytrapLogging").venusFlytrapLoggingStart(c("VenusFlytrapLoggingEntrypoint").FACEBOOK_COMPOSER),e({configId:"FOR_FACEBOOK_DEFAULT",initialProduct:"composer"})},b[0]=e,b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("gkx")("20861")?h._(/*BTDS*/"Report a problem"):h._(/*BTDS*/"Give feedback"),b[2]=g):g=b[2];b[3]!==f?(g=j.jsx(c("CometLink.react"),{onClick:f,children:g}),b[3]=f,b[4]=g):g=b[4];b[5]!==a||b[6]!==g?(f=j.jsxs("div",{children:[a," ",g]}),b[5]=a,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("getUseDefaultErrorMessage",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a!=="string"?!1:/^Network request encountered error HTTP 500 HTTP_SERVER_ERROR/.test(a)||a.trim()===""}f["default"]=a}),66);
__d("CometComposerServerErrorMessage.react",["fbt","CometComposerErrorRendererWithReportingFlow.react","CometComposerInlineErrorRenderer.react","CometErrorOverlay","JSResourceForInteraction","NewsRegulationErrorMessageData","ServerHTML.react","SilenceableErrorMessageUtils","getUseDefaultErrorMessage","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l=c("JSResourceForInteraction")("CometNewsRegulationDialog.react").__setRef("CometComposerServerErrorMessage.react");function a(a){var b=a.errorMetadata,e=a.icon;a=a.xstyle;var f=k(new Set());if(b==null)return null;if(d("SilenceableErrorMessageUtils").shouldHideErrorMessage(b))return null;var g=b==null?void 0:b.message;if(g==null)return null;var i=c("getUseDefaultErrorMessage")(g),m=i?h._(/*BTDS*/"Sorry, something went wrong. Try again later."):j.jsx(c("ServerHTML.react"),{blob:g,style:{display:"inline"}});i=b==null?void 0:b.code;var n=i!=null?(g=c("NewsRegulationErrorMessageData").errorCodeToRegType[i])!=null?g:null:null;if(n!=null){f.current.has(b)||(f.current.add(b),c("promiseDone")(l.load().then(function(a){d("CometErrorOverlay").injectComponent(function(b){return j.jsx(a,{errorDescription:m,onClose:function(){b()},regulationType:n})})})));return j.jsx("div",{})}return j.jsx(c("CometComposerInlineErrorRenderer.react"),{error:j.jsx(c("CometComposerErrorRendererWithReportingFlow.react"),{errorMessage:m}),icon:e,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometEventPermalinkTab",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ABOUT:"about",DISCUSSION:"discussion",BRACKETS:"brackets",BROADCASTS:"broadcasts",PARTICIPANTS:"participants",STANDINGS:"standings",VIDEOS:"videos",PAID_ACCESS:"paid_access"});c=a;f["default"]=c}),66);
__d("EventCometActionContextDefault",[],(function(a,b,c,d,e,f){"use strict";a={event_action_history:[]};f["default"]=a}),66);
__d("EventCometActionContext",["EventCometActionContextDefault","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("EventCometActionContextDefault"));g["default"]=b}),98);
__d("EventCometActionLoggerDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EventCometActionLogger").__setRef("EventCometActionLoggerDeferred");function a(a,b,d){c("promiseDone")(h.load().then(function(c){return c.log(a,b,d)}))}g.log=a}),98);
__d("EventCometActionLoggerUtils",["CometRouteURL"],(function(a,b,c,d,e,f,g){"use strict";var h={mechanism:"unknown",surface:"unknown"},i=3;function a(a,b){var c=[].concat(a.event_action_history||[]);c.length>=i&&(c=c.slice(c.length-i+1));var d=j(a);c.push({event_tracking:d.event_tracking,extra_data:d.extra_data,mechanism:b.mechanism,surface:b.surface});return babelHelpers["extends"]({},a,{event_action_history:c})}function j(a){a=a.event_action_history;if(a==null||a[a.length-1]==null)return h;return a.length>=2?a[a.length-2]:a[a.length-1]}function b(){var a=d("CometRouteURL").useRouteURL(),b=/\/events\/\d+/;if(b.test(a))return"permalink";if(a.includes("/events/calendar"))return"bookmark_calendar";if(a.includes("/events"))return"bookmark";return a.includes("profile.php")?"timeline":"newsfeed"}g.createForNewSurface=a;g.getLastActionHistoryEntry=j;g.useExtractEventComposerSurface=b}),98);
__d("EventCometCreateFormStep",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["WORK_EVENT_DETAILS","WORK_LOCATION","WORK_SETTINGS"]);c=a;f["default"]=c}),66);
__d("PrivacyMutationSourceIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=null;c=a.createContext(b);g["default"]=c}),98);
__d("PrivacyMutationToken",["Base64","PrivacyMutationSourceIDContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext;b.useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=i(c("PrivacyMutationSourceIDContext")),e;a[0]!==b?(e=j(b),a[0]=b,a[1]=e):e=a[1];b=e;return b}function j(a){return a==null?null:c("Base64").encode(JSON.stringify({callsite_id:a,creation_time:Date.now(),type:0}))}g.usePrivacyMutationToken=a;g.getPrivacyMutationTokenFromSourceID=j}),98);
__d("UnifiedShareSheetDialogContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={isShareSheetEntrypoint:!1,setShouldHideMessengerSection:function(a){},setShouldHideShareToSection:function(a){}};c=a.createContext(b);g["default"]=c}),98);
__d("XCometEventPermalinkControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/events/{event_id}/{?child_event_id}/",Object.freeze({active_tab:"about",show_created_event_toast:!1,hide_invite_flow_filter_groups:!1}),void 0);b=a;g["default"]=b}),98);
__d("composerLexicalMessageFeedTransformDeferred",["getDeferredComposerTransformer","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("getDeferredComposerTransformer")(c("requireDeferred")("composerLexicalMessageFeedTransform").__setRef("composerLexicalMessageFeedTransformDeferred"));g["default"]=a}),98);
__d("getFeedComposerLoggingPayloadForDraftJS",["getComposerLoggingPayload"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;return{character:(a==null?void 0:a.editorState)!=null?d("getComposerLoggingPayload").getCharacterLength(a==null?void 0:a.editorState):0,location_tag:(a==null||(b=a.locationMinutiae)==null?void 0:b.placeID)!=null?1:0,photo:(a==null?void 0:a.mediaAttachments)!=null?d("getComposerLoggingPayload").getPhotoCount(a==null?void 0:a.mediaAttachments):0,qplEvent:a!=null?d("getComposerLoggingPayload").getQPLEvent(a):null,shared_link:(a==null||(c=a.linkAttachment)==null?void 0:c.url)!=null?1:0,text_background:0,video:(a==null?void 0:a.mediaAttachments)!=null?d("getComposerLoggingPayload").getVideoCount(a==null?void 0:a.mediaAttachments):0}}g["default"]=a}),98);
__d("getFeedComposerLoggingPayloadForLexical",["LexicalText","cr:8483","getComposerLoggingPayload"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c,e;return babelHelpers["extends"]({character:a.lexicalEditor!=null?a.lexicalEditor.getEditorState().read(d("LexicalText").$rootTextContent).length:0,location_tag:(a==null||(c=a.locationMinutiae)==null?void 0:c.placeID)!=null?1:0,photo:(a==null?void 0:a.mediaAttachments)!=null?d("getComposerLoggingPayload").getPhotoCount(a==null?void 0:a.mediaAttachments):0,qplEvent:a!=null?d("getComposerLoggingPayload").getQPLEvent(a):null},b("cr:8483")!=null?b("cr:8483")(a==null?void 0:a.editorState):null,{shared_link:(a==null||(e=a.linkAttachment)==null?void 0:e.url)!=null?1:0,text_background:0,video:(a==null?void 0:a.mediaAttachments)!=null?d("getComposerLoggingPayload").getVideoCount(a==null?void 0:a.mediaAttachments):0})}g["default"]=a}),98);
__d("getComposerLoggingPayload",["UnicodeUtils","getFeedComposerLoggingPayloadForDraftJS","getFeedComposerLoggingPayloadForLexical","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a.__CAN_USE_LEXICAL_RUNTIME_CHECK__===!0&&a.lexicalEditor!=null)return c("getFeedComposerLoggingPayloadForLexical")(a);else return c("getFeedComposerLoggingPayloadForDraftJS")(a)}function b(a){var b,c,d;return{character:(b=a==null||(c=a.satpData)==null||(c=c.text)==null?void 0:c.length)!=null?b:0,location_tag:0,photo:(a==null?void 0:a.mediaAttachments)!=null?i(a==null?void 0:a.mediaAttachments):0,qplEvent:null,shared_link:0,text_background:(a==null||(d=a.satpData)==null?void 0:d.fontID)==null?0:1,video:(a==null?void 0:a.mediaAttachments)!=null?j(a==null?void 0:a.mediaAttachments):0}}function e(a){a=c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(a);return(h||(h=d("UnicodeUtils"))).strlen(a)}function i(a){return a==null?0:a.filter(function(a){return a.fileType==="PHOTO"}).length}function j(a){return a==null?0:a.filter(function(a){return a.fileType==="VIDEO"}).length}function f(a){return a.photo3dAttachment!=null?c("qpl")._(37631558,"4977"):null}g.getFeedComposerLoggingPayload=a;g.getStoriesComposerLoggingPayload=b;g.getCharacterLength=e;g.getPhotoCount=i;g.getVideoCount=j;g.getQPLEvent=f}),98);
__d("getTextLengthLimitReachedText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.limit;a=a.numCharacters;return h._(/*BTDS*/"_j{\"*\":{\"*\":\"A status can\\u2019t be longer than {maxselect} characters. Please make yours {number} characters shorter and try again.\"}}",[h._param("maxselect",b,[0]),h._param("number",a-b,[0])])}g["default"]=a}),226);
__d("useCometComposerPrivacyPushPage",["CometComposerPushPageContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(6),e=a.onClose,f=a.styles,g=a.withBackButton,h=a.withCloseButton,m=(a=j(c("CometComposerPushPageContext")))==null?void 0:a.pushPageHandler;bb0:{if(m==null){a=void 0;break bb0}var n;b[0]!==m||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h?(n=function(a,b){m(String(b==null?void 0:b.title),function(b){b=b.onReturn;return i.jsx("div",{className:f,children:i.jsx(a,{onReturn:b,setTitle:l})})},!1,{onBack:function(){var a=b==null?void 0:b.onBack;a&&a(k)},onClose:e,withBackButton:g,withCloseButton:h})},b[0]=m,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=n):n=b[5];a=n}return a}function k(){}function l(){}g["default"]=a}),98);
__d("useEventActionLoggerParams",["CometRouteParams","EventCometActionLoggerUtils","FBLogger","react","react-compiler-runtime","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={event_action_history:[]};function j(a,b,c){var e,f=typeof a.acontext==="string"?a.acontext:null,g=typeof a.notif_t==="string"?a.notif_t:null;f=k(f);if(!((e=f.event_action_history)!=null&&e.length)){e=n(a,c);e&&(f=babelHelpers["extends"]({},f,{event_action_history:[{surface:e}]}))}f.ref_notif_type=(a=f.ref_notif_type)!=null?a:g;c=d("EventCometActionLoggerUtils").createForNewSurface(f,b);return[f,c]}function k(a){if(a==null||a==="")return i;var b=null;try{b=JSON.parse(a)}catch(b){a=c("FBLogger")("events");b instanceof Error&&a.catching(b);a.mustfix("Unable to parse action_context string")}if(b==null)return i;a=b;b=a.action_history;var d=a.event_action_history,e=a.ref,f=a.ref_notif_type;a=a.source;d=d!=null?d:b;b=[];typeof d==="string"?b=o(d):Array.isArray(d)&&(b=p(d));return{event_action_history:b,ref:e,ref_notif_type:f,source:a}}var l=["google","bing","yahoo"],m={app:"home",gaming:"games_feed",group:"group",groups:"group",marketplace:"marketplace",page:"page",profile:"user_timeline",save:"saved_dashboard",search_results:"search",watch:"video_feed"};function n(a,b){if(a.ref==="notif"||a.notif_id!=null)return"notifications_tab";b=b==null?void 0:b.split(".");b=b!=null&&b.length>=2&&b[0]==="comet"?b[1]:null;if(b!=null&&Object.prototype.hasOwnProperty.call(m,b))return m[b];if(a.ref==="newsfeed")return"newsfeed";a=(b=document.referrer)==null||(b=b.match(/\/\/[^\/]*?([\w-]+)\.\w+(\/|$)/))==null?void 0:b[1];if(a!=null){if(l.includes(a))return"external_search_engine";if(a!=="facebook")return"external"}return null}function o(a){if(a==="")return[];var b=[];try{b=JSON.parse(a)}catch(d){a=c("FBLogger")("events");d instanceof Error&&a.catching(d);a.mustfix("Unable to parse action_history string");return b}return p(b)}function p(a){return!Array.isArray(a)?[]:a.filter(function(a){return typeof a==="object"}).map(function(a){var b=a.event_tracking,c=a.extra_data,d=a.mechanism;a=a.surface;return{event_tracking:typeof b==="string"?b:void 0,extra_data:typeof c==="object"?JSON.stringify(c):"",mechanism:typeof d==="string"?d:"unknown",surface:typeof a==="string"?a:"unknown"}})}function a(a){var b=d("react-compiler-runtime").c(4),e=d("CometRouteParams").useRouteParams(),f=c("useRouteReferrer")();f==null||f.tracePolicy;f=f==null?void 0:f.tracePolicy;var g;b[0]!==a||b[1]!==e||b[2]!==f?(g=j(e,a,f),b[0]=a,b[1]=e,b[2]=f,b[3]=g):g=b[3];a=g;return a}g["default"]=a}),98);
__d("useEventCometActionContext",["EventCometActionContext","EventCometActionContextDefault","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("EventCometActionContext"));a===c("EventCometActionContextDefault")&&c("FBLogger")("events").mustfix("EventCometActionContext used without provider");return a}g["default"]=a}),98);
__d("useLexicalIsTextContentEmpty",["cr:1022"],(function(a,b,c,d,e,f){e.exports=b("cr:1022")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<16f22a53fef6760f4bf37e7f7c631e39>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("useLexicalIsTextContentEmpty.prod",["LexicalText","react"],(function $module_useLexicalIsTextContentEmpty_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react"));var o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;exports.useLexicalIsTextContentEmpty=function(n,i){var _t$useState=t.useState(n.getEditorState().read(require("LexicalText").$isRootTextContentEmptyCurry(n.isComposing(),i))),r=_t$useState[0],s=_t$useState[1];return o(function(){return n.registerUpdateListener(function(_ref){var t=_ref.editorState;var o=n.isComposing(),r=t.read(require("LexicalText").$isRootTextContentEmptyCurry(o,i));s(r);});},[n,i]),r;};}),null);/*FB_PKG_DELIM*/
__d("CometHomeProductBadgedNavigationLogger",["QPLUtils","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(30632331,"5336"),j=new Map();function a(a){l(a);m({string:{product_app_id:a}},a);return}function k(a){if(a==null)return!1;if(j.has(a)){var b;b=(b=j.get(a))!=null?b:0;b=b+1;j.set(a,b);m({"int":{attempt_count:b}},a);return!0}else{j.set(a,1);m({"int":{attempt_count:1}},a);return!1}}function l(a){var b=k(a);if(b)return;b=d("QPLUtils").deriveInstanceKey(a);return(h||(h=c("QuickPerformanceLogger"))).markerStart(i,b,h.currentTimestamp(),{cancelOnUnload:!0})}function b(a,b){a!=null&&j["delete"](a);a=d("QPLUtils").deriveInstanceKey(a);return(h||(h=c("QuickPerformanceLogger"))).markerEnd(i,b,a)}function m(a,b){b=d("QPLUtils").deriveInstanceKey(b);return(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,a,{instanceKey:b})}g.markerStartAndAnnotateWithProductID=a;g.markerStart=l;g.markerEnd=b;g.markerAnnotate=m}),98);
__d("CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"}];return{argumentDefinitions:[{kind:"RootArgument",name:"bookmarkID"}],kind:"Fragment",metadata:null,name:"CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer",selections:[{alias:null,args:[{items:[{kind:"Variable",name:"bookmark_ids.0",variableName:"bookmarkID"}],kind:"ListValue",name:"bookmark_ids"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"FAVORITES"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:"bookmark_unread_count",args:a,kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_LEFT_NAV")'},{alias:"bookmark_unread_count_string",args:a,kind:"ScalarField",name:"unread_count_string",storageKey:'unread_count_string(bookmark_render_location:"COMET_LEFT_NAV")'}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomepageBadgeCountClearingMutationHelper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"}];return{argumentDefinitions:[{kind:"RootArgument",name:"bookmarkIDs"},{kind:"RootArgument",name:"hasBookmark"},{kind:"RootArgument",name:"hasTopTab"}],kind:"Fragment",metadata:null,name:"CometHomepageBadgeCountClearingMutationHelper_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"bookmark_ids",variableName:"bookmarkIDs"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{condition:"hasBookmark",kind:"Condition",passingValue:!0,selections:[{alias:"bookmark_unread_count",args:a,kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_LEFT_NAV")'}]},{alias:"bookmark_unread_count_string",args:a,kind:"ScalarField",name:"unread_count_string",storageKey:'unread_count_string(bookmark_render_location:"COMET_LEFT_NAV")'},{condition:"hasTopTab",kind:"Condition",passingValue:!0,selections:[{alias:"tab_unread_count",args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'}]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomepageBadgeCountClearingMutationHelper",["CometHomeProductBadgedNavigationLogger","CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer.graphql","CometHomepageBadgeCountClearingMutationHelper_viewer.graphql","RelayFBConnectionHandler","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("CometHomepageBadgeCountClearingMutationHelper_viewer.graphql");i!==void 0?i:i=b("CometHomepageBadgeCountClearingMutationHelperShortcuts_viewer.graphql");function a(a){var b=a.bookmarkIDs,e=a.hasBookmark,f=a.hasTopTab;a=a.store;if(f===!1&&e===!1)return;var g=a.getRoot();if(!g)return;g=g.getLinkedRecord("viewer");if(!g)return;var h=g.getLinkedRecord("bookmarks",{bookmark_ids:b,environment:"COMET",folder_id:"PRODUCT",sections:["FACEBOOK_APP"]});if(!h&&e){e=g.getLinkedRecord("bookmark_folder",{folder:"PRODUCT"});if(e!=null){a=d("RelayFBConnectionHandler").getAllConnectionsWithKey(a,e,"CometHomeLeftRailWithBlueRankingRefetchSection_bookmarks");a&&a.length>0&&(h=a[0])}}!h&&f&&c("gkx")("2116")&&(h=g.getLinkedRecord("tab_bookmarks",{environment:"COMET",folder_id:"PRODUCT"}));if(!h)return;e=h.getLinkedRecords("edges");if(!e)return;a=null;e.forEach(function(c){var d;c=c==null?void 0:c.getLinkedRecord("node");var e=c==null||(d=c.getLinkedRecord("bookmarked_node"))==null?void 0:d.getValue("id");b.includes(e)&&(a=c)});(f=a)==null||f.setValue(0,"unread_count",{bookmark_render_location:"COMET_LEFT_NAV"});(g=a)==null||g.setValue(null,"unread_count_string",{bookmark_render_location:"COMET_LEFT_NAV"});(h=a)==null||h.setValue(0,"unread_count",{bookmark_render_location:"COMET_TOP_TAB"})}function e(a,b){var c,e=b==null||(c=b.bookmarks)==null?void 0:c.edges;e!=null&&e.length>0&&(a==null||a.forEach(function(a){var b=e.find(function(b){var c;return(b==null||(c=b.node)==null||(c=c.bookmarked_node)==null?void 0:c.id)===a});b=b==null?void 0:b.node;var c=b==null?void 0:b.bookmark_unread_count,f=b==null?void 0:b.bookmark_unread_count_string;b=b==null?void 0:b.tab_unread_count;c===0&&(b==null||b===0)&&f==null?d("CometHomeProductBadgedNavigationLogger").markerEnd(a,2):(c==null?d("CometHomeProductBadgedNavigationLogger").markerAnnotate({string:{bookmark_unread_count:"null"}},a):c>0&&d("CometHomeProductBadgedNavigationLogger").markerAnnotate({"int":{bookmark_unread_count:c}},a),b==null?d("CometHomeProductBadgedNavigationLogger").markerAnnotate({string:{tab_unread_count:"null"}},a):b>0&&d("CometHomeProductBadgedNavigationLogger").markerAnnotate({"int":{tab_unread_count:b}},a),f!=null&&d("CometHomeProductBadgedNavigationLogger").markerAnnotate({string:{bookmark_unread_count_string:f}},a),d("CometHomeProductBadgedNavigationLogger").markerEnd(a,3))}))}g.clearBadgeCount=a;g.onCompleted=e}),98);
__d("FDSPillBase.react",["fbt","CometScreenReaderText.react","FDSBadge.react","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","FDSTextWebUtils","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={badge:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",insetInlineEnd:"x15ttmwu",left:null,right:null,overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",top:"x13vifvy",$$css:!0},icon:{display:"x78zum5",height:"xlup9mm",$$css:!0},iconAfterLabel:{marginInlineStart:"xdzw4kq",$$css:!0},iconBeforeLabel:{marginInlineEnd:"xbelrpt",$$css:!0},profile:{display:"x78zum5",marginInlineEnd:"xbelrpt",marginInlineStart:"x1qfufaz",$$css:!0},profileDisabled:{opacity:"xuzhngd",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(32),e=a.color,f=a.disabled,g=a.hasNewContentBadge,i=a.image,l=a.imagePlacement,m=a.label,n=a.labelIsHidden,o=a.newContentBadgeSize;a=a.selected;f=f===void 0?!1:f;g=g===void 0?!1:g;l=l===void 0?"left":l;n=n===void 0?!1:n;o=o===void 0?6:o;a=a===void 0?!1:a;var p=null;if(g){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Has new content"),b[0]=g):g=b[0];g=g;var q=f?"gray":"blue";b[1]!==o||b[2]!==q?(g=j.jsx(d("react-strict-dom").html.div,{style:k.badge,children:j.jsx(c("FDSBadge.react"),{accessibilityText:g,border:"white",color:q,isProfileBadge:!0,size:o})}),b[1]=o,b[2]=q,b[3]=g):g=b[3];p=g}o=e?e:f?"disabled":a===!0?"highlight":"primary";q=e?e:f?"disabled":a===!0?"highlight":"primary";g=null;if(i!=null)if(i.type==="icon"){e=!n&&l==="left"&&k.iconBeforeLabel;a=!n&&l==="right"&&k.iconAfterLabel;var r;b[4]!==e||b[5]!==a?(r=[k.icon,e,a],b[4]=e,b[5]=a,b[6]=r):r=b[6];b[7]!==o||b[8]!==i.icon?(e=j.jsx(c("FDSIcon.react"),{color:o,icon:i.icon,size:16}),b[7]=o,b[8]=i.icon,b[9]=e):e=b[9];b[10]!==e||b[11]!==r?(a=j.jsx(d("react-strict-dom").html.div,{style:r,children:e}),b[10]=e,b[11]=r,b[12]=a):a=b[12];g=a}else if(i.type==="profile-photo"&&i.source!=null){o=f&&k.profileDisabled;b[13]!==o?(e=[k.profile,o],b[13]=o,b[14]=e):e=b[14];b[15]!==i.source?(r=j.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:28,source:i.source}),b[15]=i.source,b[16]=r):r=b[16];b[17]!==e||b[18]!==r?(a=j.jsx(d("react-strict-dom").html.div,{style:e,children:r}),b[17]=e,b[18]=r,b[19]=a):a=b[19];g=a}f=l==="left"?g:null;o=l==="right"?g:null;if(n){b[20]!==m?(i=j.jsx(c("CometScreenReaderText.react"),{text:m}),b[20]=m,b[21]=i):i=b[21];e=i}else{b[22]!==q?(r=d("FDSTextWebUtils").getFDSBodyColor(q),b[22]=q,b[23]=r):r=b[23];b[24]!==m||b[25]!==r?(a=j.jsx(c("FDSText.react"),{color:r,numberOfLines:1,type:"button2",children:m}),b[24]=m,b[25]=r,b[26]=a):a=b[26];e=a}b[27]!==p||b[28]!==f||b[29]!==e||b[30]!==o?(l=j.jsxs(j.Fragment,{children:[f,e,o,p]}),b[27]=p,b[28]=f,b[29]=e,b[30]=o,b[31]=l):l=b[31];return l}g.FDSPillBase=a}),226);
__d("FDSPillBaseStyles",[],(function(a,b,c,d,e,f,g){"use strict";a=36;b={pressed:{transform:"x1n5d1j9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",flexDirection:"x1q0g3np",height:"xc9qbxq",justifyContent:"xl56j7k",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",width:"xh8yej3",$$css:!0},selected:{backgroundColor:"x1hr4nm9",$$css:!0}};g.PIVOT_HEIGHT=a;g.pillStyles=b}),98);
__d("FDSPivotLink.react",["CometPressable.react","FDSPillBase.react","FDSPillBaseStyles","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","aria-current","aria-describedby","focusable","hitSlop","linkProps","onHoverIn","onHoverOut","onPress","onPressIn","onWashBackground","role","testid","testOnly_pressed","type"],i,j=i||d("react"),k={deemphasized:{backgroundColor:"xjbqb8w",$$css:!0},normal:{backgroundColor:"x1qhmfi1",$$css:!0}},l={selectedOnWashBackground:{backgroundColor:"x1av1boa",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(43);if(e[0]!==a){var f=a.ref,g=a["aria-current"],i=a["aria-describedby"],m=a.focusable;a.hitSlop;var n=a.linkProps,o=a.onHoverIn,p=a.onHoverOut,q=a.onPress,r=a.onPressIn,s=a.onWashBackground,t=a.role,u=a.testid,v=a.testOnly_pressed,w=a.type,x=babelHelpers.objectWithoutPropertiesLoose(a,h);f=f;g=g;i=i;m=m;n=n;o=o;p=p;q=q;r=r;s=s;t=t;u=u;v=v;w=w;x=x;e[0]=a;e[1]=i;e[2]=x;e[3]=m;e[4]=f;e[5]=n;e[6]=o;e[7]=p;e[8]=q;e[9]=r;e[10]=t;e[11]=g;e[12]=s;e[13]=w;e[14]=v;e[15]=u}else i=e[1],x=e[2],m=e[3],f=e[4],n=e[5],o=e[6],p=e[7],q=e[8],r=e[9],t=e[10],g=e[11],s=e[12],w=e[13],v=e[14],u=e[15];a=g===void 0?"page":g;g=s===void 0?!1:s;s=w===void 0?"normal":w;w=(w=x.selected)!=null?w:!1;b=(b=x.disabled)!=null?b:!1;var y;e[16]!==a||e[17]!==n||e[18]!==t||e[19]!==w?(y=n?{"aria-current":w?a:void 0}:t==="button"||t==null?{"aria-pressed":w}:{"aria-selected":w},e[16]=a,e[17]=n,e[18]=t,e[19]=w,e[20]=y):y=e[20];a=y;y=b?void 0:q;e[21]===Symbol["for"]("react.memo_cache_sentinel")?(q={scale:.96},e[21]=q):q=e[21];s=k[s];w=w===!0&&(g?l.selectedOnWashBackground:d("FDSPillBaseStyles").pillStyles.selected);e[22]!==s||e[23]!==w?(g=[d("FDSPillBaseStyles").pillStyles.root,s,w],e[22]=s,e[23]=w,e[24]=g):g=e[24];e[25]!==x?(s=j.jsx(d("FDSPillBase.react").FDSPillBase,babelHelpers["extends"]({},x)),e[25]=x,e[26]=s):s=e[26];e[27]!==i||e[28]!==a||e[29]!==b||e[30]!==m||e[31]!==f||e[32]!==n||e[33]!==o||e[34]!==p||e[35]!==r||e[36]!==t||e[37]!==s||e[38]!==y||e[39]!==g||e[40]!==v||e[41]!==u?(w=j.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{"aria-describedby":i,disabled:b,focusable:m,linkProps:n,onHoverIn:o,onHoverOut:p,onPress:y,onPressIn:r,overlayFocusRingPosition:"inset",overlayRadius:d("FDSPillBaseStyles").PIVOT_HEIGHT/2,pressedStyleValue:q,ref:f,role:t,testOnly_pressed:v,testid:void 0,xstyle:g,children:s})),e[27]=i,e[28]=a,e[29]=b,e[30]=m,e[31]=f,e[32]=n,e[33]=o,e[34]=p,e[35]=r,e[36]=t,e[37]=s,e[38]=y,e[39]=g,e[40]=v,e[41]=u,e[42]=w):w=e[42];return w}g["default"]=a}),98);
__d("FDSPivotLinkPile.react",["CometRow.react","CometRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["align","children","isFullWidth"],i,j=i||d("react"),k={defaultWidth:{maxWidth:"xthy2uy",$$css:!0},fullWidth:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e,f,g,i;b[0]!==a?(g=a.align,e=a.children,i=a.isFullWidth,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i):(e=b[1],f=b[2],g=b[3],i=b[4]);a=g===void 0?"center":g;var l=i===void 0?!1:i;b[5]!==f.paddingVertical?(g=f.paddingVertical==null?{paddingTop:8}:null,b[5]=f.paddingVertical,b[6]=g):g=b[6];if(b[7]!==e||b[8]!==l){b[10]!==l?(i=function(a){return j.jsx(c("CometRowItem.react"),{role:"listitem",xstyle:l?k.fullWidth:k.defaultWidth,children:a})},b[10]=l,b[11]=i):i=b[11];i=j.Children.map(e,i);b[7]=e;b[8]=l;b[9]=i}else i=b[9];b[12]!==a||b[13]!==f||b[14]!==g||b[15]!==i?(e=j.jsx(c("CometRow.react"),babelHelpers["extends"]({},f,g,{align:a,role:"list",spacing:8,wrap:"forward",children:i})),b[12]=a,b[13]=f,b[14]=g,b[15]=i,b[16]=e):e=b[16];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EventCometMeetYourHostCardStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={about:{height:"xqvfhly",paddingBottom:"xsag5q8",$$css:!0},buttonContainer:{bottom:"xn0vg7t",insetInlineEnd:"x9q68il",insetInlineStart:"x1r4y97",left:null,right:null,position:"x10l6tqk",$$css:!0},container:{alignItems:"x1qjc9v5",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",whiteSpace:"xeaf4i8",width:"xh8yej3",$$css:!0},header:{borderBottomColor:"xwwskcc",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginBottom:"xod5an3",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",paddingBottom:"x1l90r2v",$$css:!0},headerMargin:{marginBottom:"x5u0ere",$$css:!0},image:{height:"x1b51vyi",$$css:!0},innerContainer:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",textAlign:"x2b8uid",$$css:!0},profileImage:{height:"x1a842fp",$$css:!0},ratingContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x1xmf6yo",$$css:!0},topPadding:{paddingTop:"x1cnzs8",$$css:!0}};g.tileStyles=a}),98);
__d("FBIconProfileOutline16.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-448 -592)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M111.5 396a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm-1 0a7 7 0 1 0-14 0 7 7 0 0 0 14 0z",transform:"translate(352.5 204)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M106.5 393.75c0 1.785-1.332 3.25-3 3.25s-3-1.465-3-3.25c0-1.947 1.052-3.25 3-3.25s3 1.303 3 3.25zm-1 0c0-1.436-.657-2.25-2-2.25s-2 .814-2 2.25c0 1.253.907 2.25 2 2.25s2-.997 2-2.25zm3.5 7.735c-.06-1.955-1.99-3.485-4.291-3.485h-2.418c-2.302 0-4.23 1.53-4.29 3.485l.999.03c.042-1.366 1.491-2.515 3.291-2.515h2.418c1.8 0 3.25 1.15 3.291 2.515l1-.03z",transform:"translate(352.5 204)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("EventCometViewCTAButton.react",["fbt","FBIconProfileOutline16.svg.react","FDSButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.onClick;a=a.url;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"View"),b[0]=f):f=b[0];var g;b[1]!==a?(g={url:a},b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(a=j.jsx(c("FDSButton.react"),{icon:c("FBIconProfileOutline16.svg.react"),label:f,linkProps:g,onPress:e,size:"large",type:"secondary"}),b[3]=e,b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("FBNucleusAppMessengerFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M19.5 10a9.5 9.5 0 1 0-17.912 4.418c.08.154.096.306.065.429l-.777 3.061a1 1 0 0 0 1.215 1.216l3.062-.777a.608.608 0 0 1 .429.065A9.5 9.5 0 0 0 19.5 10zm-4.651-1.141-2.371 2.977a1.25 1.25 0 0 1-1.69.249L8.5 10.5l-2.465 1.612a.666.666 0 0 1-.885-.972l2.37-2.975a1.25 1.25 0 0 1 1.69-.249L11.5 9.5l2.464-1.613a.666.666 0 0 1 .885.972z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusAppPagesFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M5.445 14h10.828a1.75 1.75 0 0 0 1.625-2.4l-1.31-3.274a.25.25 0 0 1-.003-.178l1.382-3.8A1.75 1.75 0 0 0 16.322 2H2.75a.75.75 0 0 0-.74.877l1.806 10.5c0 .004 0 .008.002.012l.943 5.488a.75.75 0 0 0 1.478-.254L5.445 14z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusBriefcaseFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M8.5.5a1.75 1.75 0 0 0-1.75 1.75V3h-4A2.25 2.25 0 0 0 .5 5.25v4a3.25 3.25 0 0 0 3.25 3.25h12.5a3.25 3.25 0 0 0 3.25-3.25v-4A2.25 2.25 0 0 0 17.25 3h-4v-.75A1.75 1.75 0 0 0 11.501.5H8.5zM11.75 3h-3.5v-.75A.25.25 0 0 1 8.5 2h3c.137 0 .249.11.249.25V3zM10 10.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-8.5 2.398v1.852A3.25 3.25 0 0 0 4.75 18h10.5a3.25 3.25 0 0 0 3.25-3.25v-1.852a4.48 4.48 0 0 1-2.25.602H3.75a4.48 4.48 0 0 1-2.25-.602z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusCamcorderLiveFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.195 2.5h1.61c1.367 0 2.47 0 3.337.117.9.12 1.658.38 2.26.981.602.602.86 1.36.982 2.26.056.422.085.9.1 1.437l2.008-1.53c.823-.627 2.008-.04 2.008.994v6.481c0 1.035-1.185 1.622-2.008.995l-2.008-1.53a13.876 13.876 0 0 1-.1 1.437c-.122.9-.38 1.658-.982 2.26-.602.602-1.36.86-2.26.982-.867.116-1.97.116-3.337.116h-1.61c-1.367 0-2.47 0-3.337-.116-.9-.122-1.658-.38-2.26-.982-.602-.602-.86-1.36-.981-2.26C.5 13.275.5 12.172.5 10.805v-1.61c0-1.367 0-2.47.117-3.337.12-.9.38-1.658.981-2.26.602-.602 1.36-.86 2.26-.981.867-.117 1.97-.117 3.337-.117zM8 12a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusCamcorderPlusFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M8.805 2.5h-1.61c-1.367 0-2.47 0-3.337.117-.9.12-1.658.38-2.26.981-.602.602-.86 1.36-.981 2.26C.5 6.725.5 7.828.5 9.195v1.61c0 1.367 0 2.47.117 3.337.12.9.38 1.658.981 2.26.602.602 1.36.86 2.26.982.867.116 1.97.116 3.337.116h1.61c1.367 0 2.47 0 3.337-.116.9-.122 1.658-.38 2.26-.982.602-.602.86-1.36.982-2.26.056-.422.085-.9.1-1.438l2.008 1.53c.823.627 2.008.04 2.008-.994V6.759c0-1.034-1.185-1.621-2.008-.994l-2.008 1.53a13.882 13.882 0 0 0-.1-1.437c-.122-.9-.38-1.658-.982-2.26-.602-.602-1.36-.86-2.26-.981-.867-.117-1.97-.117-3.337-.117zM8.07 6a.75.75 0 0 1 .75.75v2.572h2.429a.75.75 0 0 1 0 1.5H8.82v2.428a.75.75 0 0 1-1.5 0v-2.428H4.75a.75.75 0 1 1 0-1.5h2.57V6.75A.75.75 0 0 1 8.07 6z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusEnvelopeFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.195 2.5h5.61c1.367 0 2.47 0 3.337.117.9.12 1.658.38 2.26.981.602.602.86 1.36.982 2.26.116.867.116 1.97.116 3.337v1.61c0 1.367 0 2.47-.116 3.337-.122.9-.38 1.658-.982 2.26-.602.602-1.36.86-2.26.982-.867.116-1.97.116-3.337.116h-5.61c-1.367 0-2.47 0-3.337-.116-.9-.122-1.658-.38-2.26-.982-.602-.602-.86-1.36-.981-2.26C.5 13.275.5 12.172.5 10.805v-1.61c0-1.367 0-2.47.117-3.337.12-.9.38-1.658.981-2.26.602-.602 1.36-.86 2.26-.981.867-.117 1.97-.117 3.337-.117zM4.188 6.641a.75.75 0 1 0-.876 1.218l3.363 2.421c.676.487 1.233.888 1.724 1.163.516.29 1.023.476 1.601.476.578 0 1.085-.187 1.6-.476.492-.275 1.05-.676 1.725-1.163l3.363-2.421a.75.75 0 0 0-.876-1.218l-3.329 2.397c-.719.518-1.208.868-1.615 1.096-.39.219-.64.285-.868.285-.228 0-.477-.066-.868-.285-.407-.228-.896-.578-1.615-1.096L4.188 6.64z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusGlobeAmericasFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M.5 10a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0zm7 3.275c0 .557.279 1.077.742 1.386l1.016.678c.464.309.742.829.742 1.386V18a7.978 7.978 0 0 0 2.975-.571l1.78-2.136c.161-.193.277-.42.337-.663l.482-1.928a.833.833 0 0 0-.808-1.035h-.742c-.442 0-.866-.176-1.179-.489l-.69-.69A1.667 1.667 0 0 0 10.976 10H8.562a.87.87 0 0 1-.854-1.042l.15-.752a.242.242 0 0 0-.43-.192l-.197.261a.896.896 0 0 1-1.555-.223l-.124-.33a1.09 1.09 0 0 1 1.02-1.472h1.936c.393 0 .743.252.867.625l.113.34a.416.416 0 0 0 .8-.232l-.16-.639a.93.93 0 0 1 .244-.883l.573-.572c.2-.2.346-.449.424-.721l.553-1.936A8.003 8.003 0 0 0 2.53 7.13l.675 1.013c.084.127.186.242.302.34l2.486 2.132c.165.141.376.22.594.22.503 0 .912.408.912.912v1.529z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusLinkOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M9.72 2.72a5.346 5.346 0 1 1 7.56 7.56l-1.5 1.5a.75.75 0 0 1-1.06-1.06l1.5-1.5a3.846 3.846 0 0 0-5.44-5.44l-1.5 1.5a.75.75 0 1 1-1.06-1.06l1.5-1.5zm-4.44 5.5a.75.75 0 0 1 0 1.06l-1.5 1.5a3.846 3.846 0 1 0 5.44 5.44l1.5-1.5a.75.75 0 0 1 1.06 1.06l-1.5 1.5a5.346 5.346 0 0 1-7.56-7.56l1.5-1.5a.75.75 0 0 1 1.06 0z"}),i.jsx("path",{d:"M13.03 8.03a.75.75 0 1 0-1.06-1.06l-5 5a.75.75 0 0 0 1.06 1.06l5-5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusPinFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 .5A7.5 7.5 0 0 0 2.5 8c0 2.257 1.214 4.62 2.545 6.558 1.35 1.963 2.91 3.616 3.773 4.475a1.667 1.667 0 0 0 2.363 0c.863-.86 2.423-2.512 3.773-4.475C16.285 12.62 17.5 10.258 17.5 8A7.5 7.5 0 0 0 10 .5zm0 4.25a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusTicketFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M17.75 2.5c.966 0 1.75.784 1.75 1.75v2.891c0 .617-.43 1.054-.874 1.223a1.75 1.75 0 0 0 0 3.271c.443.17.874.607.874 1.224v2.891a1.75 1.75 0 0 1-1.75 1.75H2.25A1.75 1.75 0 0 1 .5 15.75v-2.891c0-.617.43-1.054.874-1.223a1.75 1.75 0 0 0 0-3.272C.931 8.194.5 7.758.5 7.141V4.25c0-.966.784-1.75 1.75-1.75h15.5zm-3.5 7a.75.75 0 0 0-1.5 0v1a.75.75 0 0 0 1.5 0v-1zM13.5 5a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 1.5 0v-1A.75.75 0 0 0 13.5 5zm.75 8.25a.75.75 0 0 0-1.5 0v1a.75.75 0 0 0 1.5 0v-1z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSAppMessengerOutline16Icon",["cr:13937"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13937")}),98);
__d("FDSAppMessengerOutline16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("505619"),16);b=a;g["default"]=b}),98);
__d("FDSCircleFilled24Icon",["cr:14727"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14727")}),98);
__d("FDSCircleFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("545513"),24);b=a;g["default"]=b}),98);
__d("XCometEventEditControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/events/edit/{event_id}/",Object.freeze({dialog_entry_point:"others"}),void 0);b=a;g["default"]=b}),98);
__d("useMWChatMessageActor_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatMessageActor_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_message",storageKey:null},{args:null,kind:"FragmentSpread",name:"useUserThreadNavigationData_user"}],type:"MessagingActor",abstractKey:"__isMessagingActor"};e.exports=a}),null);
__d("useMWChatMessageActor",["CometRelay","FBLogger","react","useMWChatMessageActor_actor.graphql","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useUserThreadNavigationData","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo,k=h!==void 0?h:h=b("useMWChatMessageActor_actor.graphql");function a(a,b){var e=d("CometRelay").useFragment(k,a);a=c("useMWChatOpenTabForUser")(b);var f=a.openTabForUser;a=c("useMWChatOpenTabForGroup")(b);var g=a[0];a[1];var h=c("useMWChatOpenTabForPage")(b),i=d("useUserThreadNavigationData").useUserThreadNavigationData(e);return j(function(){c("vulture")("LIsscNfjrRQYJADG0YN-bX5rYzA=");if(e==null||e.id==null||e.__typename==null||e.can_viewer_message!==!0)return null;var a=e.id;return function(){switch(e.__typename){case"Page":h(a);break;case"Group":g(a);break;case"User":f({preloadedNavigationData:i,userId:a});break;default:c("FBLogger")("messenger_web_entrypoints").mustfix("Unknown __typename for getDispatchAction messenger dispatch");break}}},[e,h,g,f,i])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseAdaptiveLayout.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;var k={absoluteTop:{insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},moreSection:{alignItems:"x6s0dn4",display:"x3nfvp2",justifyContent:"x1nhvcw1",$$css:!0},moreWrapper:{display:"x1rg5ohu",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",verticalAlign:"x16dsc37",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},section:{alignItems:"x6s0dn4",display:"x3nfvp2","float":"x1kmio9f",justifyContent:"x1nhvcw1",verticalAlign:"x16dsc37",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(46),e=a.maxVisibleSections,f=a.moreSection,g=a.moreSectionWidthXStyle,i=a.moreSectionXStyle,l=a.rootXStyle,m=a.sectionRole,n=a.sections,o=a.selectedSectionIndex,p=a.height,q=a.heightXStyle;a=e===void 0?Infinity:e;var r=m===void 0?"tab":m;b[0]!==a||b[1]!==n?(e=a<n.length?n.slice(0,a):n,b[0]=a,b[1]=n,b[2]=e):e=b[2];var s=e;m=a>=n.length;e=r==="tab"?"tablist":"group";b[3]!==q||b[4]!==r||b[5]!==o||b[6]!==s?(a=function(a){return s.map(function(b,d){return typeof b==="function"?b([k.section,q],d,a):j.createElement("div",babelHelpers["extends"]({"aria-selected":r==="img"?void 0:o===d},(h||(h=c("stylex"))).props(k.section,q),{key:d+"section",role:r}),b)})},b[3]=q,b[4]=r,b[5]=o,b[6]=s,b[7]=a):a=b[7];n=a;b[8]!==m||b[9]!==q||b[10]!==l?(a=(h||(h=c("stylex"))).props(k.root,q,m&&l),b[8]=m,b[9]=q,b[10]=l,b[11]=a):a=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x14ju556 x1n2onr6"},b[12]=l):l=b[12];var t;b[13]!==m||b[14]!==n||b[15]!==e?(t=m&&j.jsx("div",{"aria-hidden":!0,className:"x6ikm8r x10wlt62 xlshs6z",role:e,children:n(!0)}),b[13]=m,b[14]=n,b[15]=e,b[16]=t):t=b[16];var u;b[17]!==m?(u={0:{},1:{className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"}}[!!m<<0],b[17]=m,b[18]=u):u=b[18];var v;b[19]!==q||b[20]!==g||b[21]!==i?(v=(h||(h=c("stylex")))(k.moreWrapper,q,g,i),b[19]=q,b[20]=g,b[21]=i,b[22]=v):v=b[22];b[23]!==m||b[24]!==p?(g=m?{height:"calc((100% - "+p+"px) * 9999)",maxHeight:p,minHeight:0}:void 0,b[23]=m,b[24]=p,b[25]=g):g=b[25];b[26]!==q||b[27]!==f?(i=typeof f==="function"?f([k.absoluteTop,k.moreSection,q]):j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.absoluteTop,k.moreSection,q),{children:f})),b[26]=q,b[27]=f,b[28]=i):i=b[28];b[29]!==g||b[30]!==i||b[31]!==v?(m=j.jsx("div",{className:v,style:g,children:i}),b[29]=g,b[30]=i,b[31]=v,b[32]=m):m=b[32];b[33]!==n?(p=n(!1),b[33]=n,b[34]=p):p=b[34];b[35]!==e||b[36]!==m||b[37]!==p||b[38]!==u?(f=j.jsxs("div",babelHelpers["extends"]({},u,{"data-testid":void 0,role:e,children:[m,p]})),b[35]=e,b[36]=m,b[37]=p,b[38]=u,b[39]=f):f=b[39];b[40]!==f||b[41]!==t?(g=j.jsxs("div",babelHelpers["extends"]({},l,{children:[t,f]})),b[40]=f,b[41]=t,b[42]=g):g=b[42];b[43]!==g||b[44]!==a?(i=j.jsx("div",babelHelpers["extends"]({},a,{children:g})),b[43]=g,b[44]=a,b[45]=i):i=b[45];return i}g["default"]=a}),98);
__d("CometResponsiveTopNav.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","CometLink.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={row:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},tabs:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},title:{paddingInlineEnd:"xv54qhq",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.action,f=a.auxiliary,g=a.isTitlePrimaryHeading,h=a.tabs,k=a.title,l=a.titleURL;a=a.xstyle;g=g===void 0?!0:g;var m;b[0]!==g||b[1]!==k?(m=k!=null?i.jsx(c("BaseRowItem.react"),{xstyle:j.title,children:i.jsx(c("BaseHeading.react"),{isPrimaryHeading:g,children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized1",children:k})})}):null,b[0]=g,b[1]=k,b[2]=m):m=b[2];g=m;if(l!=null&&g!=null){b[3]!==g||b[4]!==l?(k=i.jsx(c("CometLink.react"),{href:l,children:g}),b[3]=g,b[4]=l,b[5]=k):k=b[5];g=k}b[6]!==a?(m=[j.row,a],b[6]=a,b[7]=m):m=b[7];b[8]!==h?(l=i.jsx(c("BaseRowItem.react"),{expanding:!0,xstyle:j.tabs,children:h}),b[8]=h,b[9]=l):l=b[9];b[10]!==e?(k=e&&i.jsx(c("BaseRowItem.react"),{children:e}),b[10]=e,b[11]=k):k=b[11];b[12]!==f?(a=i.jsx(c("BaseRowItem.react"),{children:f}),b[12]=f,b[13]=a):a=b[13];b[14]!==g||b[15]!==m||b[16]!==l||b[17]!==k||b[18]!==a?(h=i.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:m,children:[g,l,k,a]}),b[14]=g,b[15]=m,b[16]=l,b[17]=k,b[18]=a,b[19]=h):h=b[19];return h}g["default"]=a}),98);
__d("FDSPivotLinkTab.react",["FDSPivotLink.react","react","stylex","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["FocusItem","containerRef","disabled","hasNewContentBadge","image","imagePlacement","isHiddenOverride","label","labelIsHidden","linkType","onHidden","role","selected","xstyle"],j,k,l,m=l||(l=d("react"));b=l;var n=b.useCallback,o=b.useState,p={tab:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexShrink:"x2lah0s",minHeight:"x1hshjfz",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=a.FocusItem,e=a.containerRef,f=a.disabled;f=f===void 0?!1:f;var g=a.hasNewContentBadge;g=g===void 0?!1:g;var l=a.image,q=a.imagePlacement;q=q===void 0?"left":q;var r=a.isHiddenOverride;r=r===void 0?!1:r;var s=a.label,t=a.labelIsHidden;t=t===void 0?!1:t;var u=a.linkType,v=a.onHidden,w=a.role,x=a.selected;x=x===void 0?!1:x;var y=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var z=o(!0),A=z[0],B=z[1],C=(j||(j=c("useUnsafeRef_DEPRECATED")))(v);C.current=v;z=n(function(a){a=a.intersectionRatio;a=a<.5;B(a);C.current&&C.current(a)},[C]);v=c("useIntersectionObserver")(z,{root:e?function(){return e.current}:null,threshold:.5});z=m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(p.tab,y),{ref:b,role:"none",children:m.jsx(c("FDSPivotLink.react"),{disabled:f,focusable:!r,hasNewContentBadge:g,image:l,imagePlacement:q,label:s,labelIsHidden:t,linkProps:a.linkProps,onHoverIn:a.onHoverIn,onHoverOut:a.onHoverOut,onPress:a.onPress,onPressIn:a.onPressIn,ref:v,role:w?w:"tab",selected:x,testid:void 0,type:u})}));return d?m.jsx(d,{disabled:r||A,children:z}):z}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSPivotLinkTabs.react",["fbt","ix","BaseAdaptiveLayout.react","CometComponentWithKeyCommands.react","CometKeys","FDSDeferredPopoverTrigger.react","FDSPivotLinkTab.react","FocusGroup.react","fbicon","focusScopeQueries","react","react-compiler-runtime","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;b.useCallback;b.useMemo;var m=b.useRef,n=b.useState,o=c("requireDeferred")("FDSTabMenuForPivotLinks.react").__setRef("FDSPivotLinkTabs.react");e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var p=e[0],q=e[1],r={height:{height:"xc9qbxq",$$css:!0},moreTabWidth:{width:"x1useyqa",$$css:!0},root:{marginInlineStart:"x165d6jo",marginInlineEnd:"x1lxpwgx",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(44),e=a.linkType,f=a.maxTabs,g=a.moreTabConfig,k=a.tabs;a=a.tabsContainerStyle;var x=f===void 0?Infinity:f;b[0]!==x||b[1]!==k.length?(f=function(){return Array.from({length:k.length}).map(t).filter(function(a){return a>=x})},b[0]=x,b[1]=k.length,b[2]=f):f=b[2];f=n(f);var y=f[0],z=f[1],A=m(null);if(b[3]!==y||b[4]!==k){b[6]!==k?(f=function(a){return(a=k[a])==null?void 0:a.selected},b[6]=k,b[7]=f):f=b[7];f=y.some(f);b[3]=y;b[4]=k;b[5]=f}else f=b[5];f=f;var B=f;b[8]!==y.length||b[9]!==B||b[10]!==e||b[11]!==(g==null?void 0:g.image)||b[12]!==(g==null?void 0:g.imagePlacement)||b[13]!==(g==null?void 0:g.label)||b[14]!==(g==null?void 0:g.labelIsHidden)||b[15]!==(g==null?void 0:g.xstyle)?(f=function(a,b){var f=[{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"Open Menu"),handler:b}];return l.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:f,children:l.jsx(c("FDSPivotLinkTab.react"),{FocusItem:q,"aria-haspopup":"menu","aria-label":h._(/*BTDS*/"More"),image:(f=g==null?void 0:g.image)!=null?f:{icon:d("fbicon")._(i("484386"),16),type:"icon"},imagePlacement:(f=g==null?void 0:g.imagePlacement)!=null?f:"left",isHiddenOverride:y.length===0,label:(f=g==null?void 0:g.label)!=null?f:h._(/*BTDS*/"More"),labelIsHidden:(f=g==null?void 0:g.labelIsHidden)!=null?f:!0,linkType:e,onPress:b,ref:a,role:"button",selected:B,testid:void 0,xstyle:g==null?void 0:g.xstyle})})},b[8]=y.length,b[9]=B,b[10]=e,b[11]=g==null?void 0:g.image,b[12]=g==null?void 0:g.imagePlacement,b[13]=g==null?void 0:g.label,b[14]=g==null?void 0:g.labelIsHidden,b[15]=g==null?void 0:g.xstyle,b[16]=f):f=b[16];f=f;if(b[17]!==y||b[18]!==k){var C;b[20]!==k?(C=function(a){return k[a]},b[20]=k,b[21]=C):C=b[21];C=y.map(C).filter(Boolean);b[17]=y;b[18]=k;b[19]=C}else C=b[19];var D;b[22]!==C?(D={menuItems:C},b[22]=C,b[23]=D):D=b[23];b[24]!==f||b[25]!==D?(C=l.jsx(c("FDSDeferredPopoverTrigger.react"),{popoverProps:D,popoverResource:o,children:f}),b[24]=f,b[25]=D,b[26]=C):C=b[26];f=C;b[27]!==a?(D=(j||(j=c("stylex"))).props(r.root,a),b[27]=a,b[28]=D):D=b[28];a=(C=g==null?void 0:g.width)!=null?C:r.moreTabWidth;b[29]!==y||b[30]!==e||b[31]!==k?(C=k.map(function(a){return function(b,d,f){return l.createElement("div",babelHelpers["extends"]({"aria-hidden":y.includes(d)?!0:void 0},(j||(j=c("stylex"))).props(b),{key:d+"tab",role:y.includes(d)?void 0:"none"}),l.jsx(c("FDSPivotLinkTab.react"),babelHelpers["extends"]({},a,{FocusItem:q,containerRef:f?void 0:A,linkType:e,onHidden:function(a){z(function(b){return a?u(b,d):v(b,d)})},ref:a.ref,testid:void 0})))}}),b[29]=y,b[30]=e,b[31]=k,b[32]=C):C=b[32];var E;b[33]!==k?(E=k.findIndex(s),b[33]=k,b[34]=E):E=b[34];var F;b[35]!==x||b[36]!==f||b[37]!==a||b[38]!==C||b[39]!==E?(F=l.jsx(c("BaseAdaptiveLayout.react"),{height:36,heightXStyle:r.height,maxVisibleSections:x,moreSection:f,moreSectionWidthXStyle:a,sections:C,selectedSectionIndex:E}),b[35]=x,b[36]=f,b[37]=a,b[38]=C,b[39]=E,b[40]=F):F=b[40];b[41]!==F||b[42]!==D?(f=l.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:w,children:l.jsx(p,{orientation:"horizontal",preventScrollOnFocus:!0,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:l.jsx("div",babelHelpers["extends"]({},D,{ref:A,children:F}))})}),b[41]=F,b[42]=D,b[43]=f):f=b[43];return f}function s(a){return a.selected}function t(a,b){return b}function u(a,b){return a.includes(b)?a:[].concat(a,[b]).sort(function(a,b){return a-b})}function v(a,b){return a.includes(b)?a.filter(function(a){return a!==b}):a}var w=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Previous item"),handler:function(){}},{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Next item"),handler:function(){}}];g["default"]=a}),226);
__d("XFacebookHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("CometVideoPlayerLoggingConfigForDisabledLogging",[],(function(a,b,c,d,e,f){"use strict";function a(){return{disableCVCSubscription:!0,disableLogging:!0,loggingToSNAPLCreateMetadataProvider:null,loggingToSNAPLEnabled:!1,loggingToVPLEnabled:!1}}f.createCometVideoPlayerLoggingConfigForDisabledLogging=a}),66);
__d("MediaPlaybackCompoundEventUtils",["CometProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!=null&&a.v2&&(a==null?void 0:a.v2.length)>0){a=a==null?void 0:a.v2;a=a[a.length-1];return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return""}function a(a){var b=0;switch(a){case"autoplay_initiated":b=1;break;case"loop_initiated":b=7;break;case"product_initiated":b=8;break;case"user_initiated":b=2;break;default:break}return b}function b(a){var b="unknown";switch(a){case"EXCELLENT":b="excellent";break;case"GOOD":b="good";break;case"MODERATE":b="moderate";break;case"POOR":b="poor";break;default:break}return b}function c(a){return a?"on":"off"}function e(a){if(typeof a==="string")return a;return typeof a==="number"?a.toString():void 0}function f(a){return a.productAttribution!=null?h(a.productAttribution):void 0}function i(a){return a.productAttribution!=null?d("CometProductAttribution").minifyProductAttributionV2(a.productAttribution):void 0}g.minifyProductAttributionV2Root=h;g.getMediaPlaybackPlayReason=a;g.getMediaPlaybackDataConnectionQuality=b;g.getMediaPlaybackCaptionState=c;g.stringifyMediaPlaybackMetadata=e;g.getMediaPlaybackAttributionIDV2Root=f;g.getMediaPlaybackAttributionIDV2=i}),98);
__d("MediaPlaybackMetadataProvider",["MediaPlaybackCompoundEventUtils","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","getPlayerFormatForLogData","mapObject"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=function(a){i=i!=null?i:document.createElement("video");return!("canPlayType"in i)?"":i.canPlayType(a)};function k(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function l(a,b,d,e,f){var g=a.controlledState.error===d?babelHelpers["extends"]({},a,{controlledState:babelHelpers["extends"]({},a.controlledState,{error:{$ref:"$.player.lastError"}})}):a;a.uncontrolledState.videoElementError!=null&&(g=babelHelpers["extends"]({},g,{uncontrolledState:babelHelpers["extends"]({},g.uncontrolledState,{videoElementError:{code:a.uncontrolledState.videoElementError.code,message:a.uncontrolledState.videoElementError.message}})}));var i=b,l=typeof b.payload==="object"&&b.payload!=null?b.payload:null;if(l!=null){var m={};Object.keys(l).forEach(function(a){var b=l[a];b===d?m[a]={$ref:"$.player.lastError"}:m[a]=b});i=babelHelpers["extends"]({},b,{payload:m})}b={"application/vnd.apple.mpegurl":"application/vnd.apple.mpegurl","application/x-mpegURL":"application/x-mpegURL","video/mp4":"video/mp4","video/ogg":"video/ogg","video/webm":"video/webm"};return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(f.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:f.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:a.uncontrolledState.videoProjection,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:f.videoFBID},player:{canPlayType:(h||(h=c("mapObject")))(b,j),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:void 0,stallCount:void 0,stallTime:void 0,state:k(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:i,state:g}}}function a(a){var b=a.action,c=a.coreVideoPlayerMetaData,e=a.loggingMetaData,f=a.state;a=a.videoPlayerError;var g=a.errorMessageFormat,h=a.errorName,i=a.errorType,j=a.errorCode==null||a.errorCode===""?h:a.errorCode;f=l(f,b,a,e,c);b={code:j,description:g,domain:h,error:h,type:String(i!=null?i:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(h,g)),user_info:JSON.stringify(f)};return b}function b(a,b,c,d){var e,f=m(a,b,c);return{attribution_id_v2_root:void 0,author_id:d.author_id,current_watching_module:(e=d.current_watching_module)!=null?e:"",is_audio_only:b.audioOnly,is_live_streaming:(e=b.isLiveStreaming)!=null?e:void 0,media_id:b.videoFBID,nav_chain:d.nav_chain,player_format:f.player_format,player_origin:b.playerOriginOverride,player_suborigin:b.subOrigin,player_version:a.playerVersion,sessionizer_nav_chain:void 0,tracking_data_encrypted:c.trackingDataEncrypted,tracking_token:d.tracking_token,tracking_type:(e=d.tracking_type)!=null?e:"none",video_play_reason:f.video_play_reason}}function m(a,b,e){var f;return{attribution_id_v2:d("MediaPlaybackCompoundEventUtils").getMediaPlaybackAttributionIDV2(e),audio_representation_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.audioRepresentationID),autoplay_eligible:b.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(b.autoplayGatingResult?[b.autoplayGatingResult]:[]),autoplay_setting:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(b.autoplaySetting),available_qualities_count:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.availableQualities.length),caption_format:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.controlledState.captionFormat),caption_locale:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.controlledState.captionsLocale),caption_state:d("MediaPlaybackCompoundEventUtils").getMediaPlaybackCaptionState(a.controlledState.captionsVisible),client_latency_setting:a.controlledState.latencyLevel,current_viewability:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.viewabilityPercentage),dash_manifest_identifier:a.uncontrolledState.manifestIdentifier,data_connection_quality:d("MediaPlaybackCompoundEventUtils").getMediaPlaybackDataConnectionQuality(d("VideoPlayerConnectionQuality").evaluate(function(){return a.uncontrolledState.estimatedBandwidth})),downstream_share_origin_uri:(f=e.downstreamShareSignalTracking)==null?void 0:f.downstream_share_session_origin_uri,downstream_share_start_time:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata((f=e.downstreamShareSignalTracking)==null?void 0:f.downstream_share_session_start_time),downstream_share_visit_uuid:(f=e.downstreamShareSignalTracking)==null?void 0:f.downstream_share_session_id,dropped_frame_count:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.videoElementDroppedFrameCount),external_log_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(b.externalLogID),external_log_type:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(b.externalLogType),is_abr_enabled:a.isAbrEnabled,is_fbms:(f=a.uncontrolledState.isFBMS)!=null?f:void 0,is_live_video_rewound:a.controlledState.isLiveRewindActive,is_mixed_codec_manifest:(f=a.uncontrolledState.isMixedCodecManifest)!=null?f:void 0,is_predictive_playback:a.uncontrolledState.isPredictiveDash,mpd_validation_errors:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.mpdValidationErrors),playback_speed:a.uncontrolledState.videoElementPlaybackRate,player_format:c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(f=a.controlledState.isDesktopPictureInPicture)!=null?f:!1,isFullscreen:a.uncontrolledState.isFullscreen},b.playerFormat),player_sound_on:!(a.controlledState.muted||a.controlledState.volume===0),projection:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.videoProjection),streaming_format:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.controlledState.streamingFormat),total_frame_count:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.videoElementTotalFrameCount),video_bandwidth:(f=a.uncontrolledState.estimatedBandwidth)!=null?f:void 0,video_play_reason:a.controlledState.lastPlayReason!=null?d("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(a.controlledState.lastPlayReason):null,video_projection:(b=a.uncontrolledState.videoProjection)!=null?b:void 0,video_representation_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(a.uncontrolledState.videoRepresentationID),view_height:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(e.dimensions.height)),view_width:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(e.dimensions.width))}}g.getSNAPLErrorMetadataCommon=a;g.getSNAPLRequiredMetadataCommon=b;g.getSNAPLTagMetadataCommon=m}),98);
__d("FBVideoMetadataProvider",["MediaPlaybackCompoundEventUtils","MediaPlaybackMetadataProvider","getVideoBrowserTabId"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{getErrorMetadata:d("MediaPlaybackMetadataProvider").getSNAPLErrorMetadataCommon,getRequiredMetadata:function(a){var b=a.coreVideoPlayerMetaData,e=a.logDataAdditions,f=a.loggingMetaData;a=a.state;var g=b.adClientToken==null?"organic":"paid",h=d("MediaPlaybackCompoundEventUtils").getMediaPlaybackAttributionIDV2Root(f);e=d("MediaPlaybackMetadataProvider").getSNAPLRequiredMetadataCommon(a,b,f,e);a=d("MediaPlaybackMetadataProvider").getSNAPLTagMetadataCommon(a,b,f);b=babelHelpers["extends"]({},e,{browser_tab_id:c("getVideoBrowserTabId")(),current_watching_module:"",nav_chain:a.attribution_id_v2,sessionizer_nav_chain:h!=null?h:null,tracking_token:void 0,tracking_type:g,trackings:void 0});return b},getTagMetadata:function(a){var b=a.coreVideoPlayerMetaData,c=a.logDataAdditions,e=a.loggingMetaData;a=a.state;a=d("MediaPlaybackMetadataProvider").getSNAPLTagMetadataCommon(a,b,e);b=babelHelpers["extends"]({},a,{video_chaining_depth_level:c.video_chaining_depth_level,video_chaining_parent_video_id:c.video_chaining_parent_video_id,video_chaining_session_id:c.video_chaining_session_id});return b}}}g.createFBVideoMetadataProvider=a}),98);/*FB_PKG_DELIM*/
__d("FBNucleusAppFacebookGroupsOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 4.5a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5zM8.25 7.75a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0z"}),i.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM2.675 6.778a8.002 8.002 0 0 1 14.65 0 3.25 3.25 0 0 0 0 6.444 8.014 8.014 0 0 1-1.604 2.37A4.084 4.084 0 0 0 11.667 12H8.333a4.084 4.084 0 0 0-4.054 3.592 8.014 8.014 0 0 1-1.603-2.37 3.25 3.25 0 0 0 0-6.444zM2.192 8.25a8.028 8.028 0 0 0 0 3.498l.058.001a1.75 1.75 0 1 0-.058-3.5zm3.558 8.528v-.696A2.583 2.583 0 0 1 8.333 13.5h3.334a2.583 2.583 0 0 1 2.583 2.583v.696A7.963 7.963 0 0 1 10 18a7.963 7.963 0 0 1-4.25-1.221zm12.058-5.03a8.024 8.024 0 0 0 0-3.498l-.058-.001a1.75 1.75 0 1 0 .058 3.499z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusBoxFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M.5 2.25C.5 1.56 1.06 1 1.75 1h12.5c.69 0 1.25.56 1.25 1.25v2c0 .69-.56 1.25-1.25 1.25H1.75C1.06 5.5.5 4.94.5 4.25v-2zm.75 5A.75.75 0 0 1 2 6.5h12a.75.75 0 0 1 .75.75v4.382c0 .587 0 1.1-.056 1.514-.06.447-.196.886-.554 1.244-.358.358-.797.494-1.244.554-.413.056-.927.056-1.514.056H4.619c-.588 0-1.102 0-1.515-.056-.447-.06-.886-.196-1.244-.554-.358-.358-.495-.797-.554-1.244-.056-.413-.056-.927-.056-1.514V7.25zm5.5.75a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusCalendarFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.695 1h.61c1.367 0 2.47 0 3.337.117.9.12 1.658.38 2.26.981.602.602.86 1.36.982 2.26.116.867.116 1.97.116 3.337v.61c0 1.367 0 2.47-.117 3.337-.12.9-.38 1.658-.981 2.26-.602.602-1.36.86-2.26.982-.867.116-1.97.116-3.337.116h-.61c-1.367 0-2.47 0-3.337-.117-.9-.12-1.658-.38-2.26-.981-.602-.602-.86-1.36-.981-2.26C1 10.775 1 9.672 1 8.305v-.61c0-1.367 0-2.47.117-3.337.12-.9.38-1.658.981-2.26.602-.602 1.36-.86 2.26-.981C5.225 1 6.328 1 7.695 1zM2.5 7.75V9H5V6H2.511c-.01.501-.011 1.078-.011 1.75zM6.5 9h3V6h-3v3zm0 1.5v2.996c.376.004.791.004 1.25.004h.5c.459 0 .874 0 1.25-.004V10.5h-3zm4.5 2.943a8.31 8.31 0 0 0 .442-.046c.734-.099 1.122-.28 1.399-.556.277-.277.457-.665.556-1.4.037-.277.061-.588.076-.941H11v2.943zM11 9h2.5V7.75c0-.672 0-1.249-.011-1.75H11v3zm-8.473 1.5c.015.353.039.664.076.942.099.734.28 1.122.556 1.399.277.277.665.457 1.4.556.138.018.285.034.441.046V10.5H2.527zM5.75 3a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusFriendConfirmFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M4 4.25a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0zm-2.5 8.333A4.083 4.083 0 0 1 5.583 8.5h2.794a.75.75 0 0 1 .588 1.215A4.478 4.478 0 0 0 8 12.5c0 .527.09 1.032.256 1.5a.75.75 0 0 1-.707 1H3.917A2.417 2.417 0 0 1 1.5 12.583zm13.78-1.053a.75.75 0 1 0-1.06-1.06l-2.47 2.47-.97-.97a.75.75 0 1 0-1.06 1.06l1.146 1.147a1.25 1.25 0 0 0 1.768 0l2.646-2.647z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusFundraiserFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13.386 2.604C11.869 1.521 9.916 1 8 1c-1.917 0-3.869.52-5.386 1.604C1.09 3.694.25 5.184.25 6.75c0 .093.003.185.009.277v2.5l.002.025c.101 1.458.929 2.826 2.353 3.844C4.131 14.479 6.084 15 8 15c1.917 0 3.869-.52 5.386-1.604 1.425-1.018 2.252-2.386 2.354-3.844l.001-.026V7.024c.006-.09.009-.182.009-.274 0-1.566-.84-3.057-2.364-4.146zm-9.9 9.571c-.755-.54-1.244-1.16-1.505-1.79.196.179.407.35.633.51C4.131 11.98 6.084 12.5 8 12.5c1.917 0 3.869-.52 5.386-1.604a7.08 7.08 0 0 0 .633-.51c-.26.63-.75 1.25-1.505 1.79C11.297 13.043 9.666 13.5 8 13.5c-1.666 0-3.297-.456-4.514-1.325zM11 6.115C10.98 7.55 9.484 8.76 8.164 9.548a.32.32 0 0 1-.328 0C6.516 8.76 5.021 7.55 5 6.116c-.015-1.004.733-1.6 1.5-1.615.617-.011 1.06.262 1.5.928.44-.666.883-.94 1.5-.929.767.015 1.515.612 1.5 1.616z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusPhotoSquareFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M4.75 6a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),i.jsx("path",{d:"M7.695 1h.61c1.367 0 2.47 0 3.337.117.9.12 1.658.38 2.26.981.602.602.86 1.36.982 2.26.116.867.116 1.97.116 3.337v.61c0 1.367 0 2.47-.117 3.337-.12.9-.38 1.658-.981 2.26-.602.602-1.36.86-2.26.982-.867.116-1.97.116-3.337.116h-.61c-1.367 0-2.47 0-3.337-.117-.9-.12-1.658-.38-2.26-.981-.52-.52-.784-1.156-.924-1.9l-.004-.024-.003-.015a7.027 7.027 0 0 1-.05-.321C1 10.775 1 9.672 1 8.305v-.61c0-1.367 0-2.47.117-3.337.12-.9.38-1.658.981-2.26.602-.602 1.36-.86 2.26-.981C5.225 1 6.328 1 7.695 1zM13.5 8.69v-.94c0-1.435-.002-2.437-.103-3.192-.099-.734-.28-1.122-.556-1.399-.277-.277-.665-.457-1.4-.556-.755-.101-1.756-.103-3.191-.103h-.5c-1.435 0-2.437.002-3.192.103-.734.099-1.122.28-1.399.556-.277.277-.457.665-.556 1.4-.101.754-.103 1.756-.103 3.191v.5c0 .751 0 1.383.015 1.924l1.247-1.247a1.75 1.75 0 0 1 2.475 0l.336.336a.25.25 0 0 0 .353 0l2.336-2.336a1.75 1.75 0 0 1 2.475 0L13.5 8.689z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusRepeatFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13.854 1.94a1.5 1.5 0 0 1 0 2.12l-1.147 1.147A1 1 0 0 1 11 4.5V4H7.5c-1.207 0-2.011.002-2.61.082-.57.077-.801.208-.95.357-.15.15-.28.381-.357.95C3.502 5.99 3.5 6.794 3.5 8a1 1 0 1 1-2 0v-.069c0-1.12 0-2.06.1-2.808.107-.791.342-1.515.925-2.098s1.307-.818 2.098-.925C5.371 2 6.311 2 7.431 2h3.57v-.5a1 1 0 0 1 1.706-.707l1.147 1.146zM5 14v.5a1 1 0 0 1-1.707.707l-1.147-1.146a1.5 1.5 0 0 1 0-2.122l1.147-1.146A1 1 0 0 1 5 11.5v.5h3.5c1.206 0 2.01-.002 2.61-.083.57-.076.8-.207.95-.356.15-.15.28-.381.357-.951.08-.599.082-1.403.082-2.61a1 1 0 0 1 2 0v.066c0 1.121 0 2.062-.1 2.81-.107.792-.342 1.516-.925 2.099-.583.583-1.307.818-2.098.925-.748.1-1.688.1-2.808.1H5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusSendFilled24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M1.689 9.332c-2.531-2.517-.75-6.837 2.82-6.837h14.989c3.078 0 5.003 3.332 3.465 5.999l-7.49 12.984c-1.784 3.092-6.416 2.477-7.331-.973l-1.24-4.672 5.643-4.182a1 1 0 0 0-.995-1.72l-6.438 2.804-3.423-3.403z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusSendOutline24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M4.509 2.495c-3.57 0-5.351 4.32-2.82 6.837l4.354 4.329a2 2 0 0 1 .523.905l1.576 5.939c.915 3.45 5.547 4.065 7.33.973l7.49-12.984c1.54-2.667-.386-5.999-3.464-5.999H4.509zm-1.41 5.418c-1.266-1.258-.375-3.418 1.41-3.418h14.989c1.54 0 2.502 1.666 1.732 3l-7.49 12.984c-.892 1.545-3.208 1.238-3.665-.487l-1.576-5.939a4.215 4.215 0 0 0-.01-.041l5.16-2.98a1 1 0 1 0-1-1.732l-5.16 2.98a3.444 3.444 0 0 0-.036-.038L3.1 7.913z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("CometFeedStoryRootRectGetter",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;c.useCallback;var j=c.useContext,k=c.useRef;e=function(){return null};var l=i.createContext(e);function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c=k(null),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){var a;return(a=c.current)==null?void 0:a.getBoundingClientRect()},b[0]=e):e=b[0];e=e;b[1]!==a?(e=i.jsx(l.Provider,{value:e,children:i.jsx(d("react-strict-dom").html.div,{ref:c,children:a})}),b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(l)}g.CometFeedStoryRootRectGetterProvider=a;g.useCometFeedStoryRootRectGetter=b}),98);
__d("CometFullViewerCloseButtonForPermalink.react",["fbt","FDSCircleButton.react","FDSCrossFilled20Icon","FDSTooltip.react","XCometHomeControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("XCometHomeControllerRouteBuilder").buildURL({}),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x7hj1vm xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x12c0h9u"},a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Close"),a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("FDSTooltip.react"),{position:"below",tooltip:f,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"white",icon:c("FDSCrossFilled20Icon"),label:h._(/*BTDS*/"Close reels viewer and return to feed"),linkProps:{prefetchQueriesOnHover:!0,url:b},size:40,testid:void 0,type_DEPRECATED:"dark-overlay"})})})),a[3]=e):e=a[3];return e}g["default"]=a}),226);
__d("CometNewsfeedKeyCommandWidget",["createKeyCommandWidget"],(function(a,b,c,d,e,f,g){"use strict";a=c("createKeyCommandWidget")();g["default"]=a}),98);
__d("CometUFIStarsPopoverContextProvider",["CometUFIStarsPopoverContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(11);a=a.children;var e=k(null),f=e[0];e=e[1];var g=k("comet_star_flyout"),h=g[0];g=g[1];var l=k(null),m=l[0];l=l[1];var n=k(!0),o=n[0];n=n[1];var p=k(!1),q=p[0];p=p[1];var r=j(null),s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(s={content_target_id:null,stars_entrypoint:null,stars_sender_flow_type:null},b[0]=s):s=b[0];s=k(s);var t=s[0];s=s[1];b[1]!==h||b[2]!==f||b[3]!==m||b[4]!==o||b[5]!==q||b[6]!==t?(g={setUFIStarsPopoverEntrypoint:g,setUFIStarsPopoverInitialAmount:e,setUFIStarsPopoverOnCompletionCallback:l,setUFIStarsPopoverShouldShowEducationCards:n,setUFIStarsPopoverShowPurchaseCard:p,setUFIStarsPopoverStarsViewerFunnelData:s,ufiStarsPopoverEntrypoint:h,ufiStarsPopoverInitialAmount:f,ufiStarsPopoverOnCompletionCallback:m,ufiStarsPopoverRef:r,ufiStarsPopoverShouldShowEducationCards:o,ufiStarsPopoverShowPurchaseCard:q,ufiStarsPopoverStarsViewerFunnelData:t},b[1]=h,b[2]=f,b[3]=m,b[4]=o,b[5]=q,b[6]=t,b[7]=g):g=b[7];e=g;l=e;b[8]!==a||b[9]!==l?(n=i.jsx(c("CometUFIStarsPopoverContext.react").Provider,{value:l,children:a}),b[8]=a,b[9]=l,b[10]=n):n=b[10];return n}g["default"]=a}),98);
__d("FDSNumberedBadge.react",["fbt","CometScreenReaderText.react","CometVisualCompletionAttributes","getFDSBadgeColorStyle","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={rectangle:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",$$css:!0},root:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x3nfvp2",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",height:"xhvdbge",lineHeight:"xo5v014",minWidth:"xnyloks",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.accessibilityText,f=a.color,g=a.overflow,j=a.ref,m=a.testid,n=a.value;a=a.vcIgnore;f=f===void 0?"red":f;g=g===void 0?20:g;a=a===void 0?!1:a;var o;b[0]!==a?(o=a===!0?c("CometVisualCompletionAttributes").IGNORE_DYNAMIC:{},b[0]=a,b[1]=o):o=b[1];b[2]!==f||b[3]!==n?(a=(i||(i=c("stylex"))).props(l.root,c("getFDSBadgeColorStyle")(f),n>=10&&l.rectangle),b[2]=f,b[3]=n,b[4]=a):a=b[4];var p;b[5]!==e?(p=(typeof e==="string"||h.isFbtInstance(e))&&k.jsx(c("CometScreenReaderText.react"),{text:e}),b[5]=e,b[6]=p):p=b[6];e=typeof e==="string"||h.isFbtInstance(e)?!0:void 0;var q;b[7]!==f?(q={0:{className:"x6s0dn4 xtk6v10 x3nfvp2 x5yr21d xl56j7k xexx8yu x18d9i69 xaso8d8 x1gabggj xh8yej3"},1:{className:"x6s0dn4 x3nfvp2 x5yr21d xl56j7k xexx8yu x18d9i69 xaso8d8 x1gabggj xh8yej3 x1mvi0mv"}}[!!(f==="lightBlue")<<0],b[7]=f,b[8]=q):q=b[8];f=n>g?g+"+":n;b[9]!==e||b[10]!==q||b[11]!==f?(g=k.jsx("span",babelHelpers["extends"]({"aria-hidden":e},q,{children:f})),b[9]=e,b[10]=q,b[11]=f,b[12]=g):g=b[12];b[13]!==j||b[14]!==g||b[15]!==o||b[16]!==a||b[17]!==p||b[18]!==m?(n=k.jsxs("span",babelHelpers["extends"]({},o,a,{"data-testid":void 0,ref:j,children:[p,g]})),b[13]=j,b[14]=g,b[15]=o,b[16]=a,b[17]=p,b[18]=m,b[19]=n):n=b[19];return n}g["default"]=a}),98);
__d("GroupsCometPendingPostsTombstoneGlimmer.react",["CometRow.react","CometRowItem.react","FDSGlimmer.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bodyGlimmerFirst:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",marginBottom:"xyorhqc",width:"xinu3np",$$css:!0},bodyGlimmerSecond:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",marginBottom:"xyorhqc",width:"x152qxlz",$$css:!0},container:{height:"x3syruz",width:"x1xwk8fm",$$css:!0},groupImage:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x1vqgdyp",width:"x100vrsf",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometRowItem.react"),{children:i.jsx(c("FDSGlimmer.react"),{index:0,xstyle:j.groupImage})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.container,children:i.jsxs(c("CometRow.react"),{children:[b,i.jsxs(c("CometRowItem.react"),{expanding:!0,children:[i.jsx(c("FDSGlimmer.react"),{index:1,xstyle:j.bodyGlimmerFirst}),i.jsx(c("FDSGlimmer.react"),{index:2,xstyle:j.bodyGlimmerSecond})]})]})}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("GroupsKeyCommandShortcutsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2955");b=d("FalcoLoggerInternal").create("groups_key_command_shortcuts",a);e=b;g["default"]=e}),98);
__d("validateAggregatedStoryTrackingNodeIndex",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&typeof a==="number"?a:0}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MWEBUntrustedMobileEOTRResetPendingEBDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBUntrustedMobileEOTRResetPendingEBDialog.react").__setRef("MWEBUntrustedMobileEOTRResetPendingEBDialog.entrypoint")};g["default"]=a}),98);
__d("useMWEBSendMobileResetNotificationMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24435129696180525"}),null);
__d("useMWEBSendMobileResetNotificationMutation.graphql",["useMWEBSendMobileResetNotificationMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"NetworkVerificationRestoreSendNotificationResponse",kind:"LinkedField",name:"xfb_mweb_send_mobile_reset_notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBSendMobileResetNotificationMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBSendMobileResetNotificationMutation",selections:a},params:{id:b("useMWEBSendMobileResetNotificationMutation_facebookRelayOperation"),metadata:{},name:"useMWEBSendMobileResetNotificationMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBSendMobileResetNotification",["fbt","CometRelay","FBLogger","MWXIconCheckmarkCircle","react","react-compiler-runtime","useMWEBSendMobileResetNotificationMutation.graphql","useMWXPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i!==void 0?i:i=b("useMWEBSendMobileResetNotificationMutation.graphql"),a[0]=e):e=a[0];e=d("CometRelay").useMutation(e);var f=e[0],g=c("useMWXPushToast")();a[1]!==f||a[2]!==g?(e=function(){f({onCompleted:function(){g({icon:c("MWXIconCheckmarkCircle"),title:h._(/*BTDS*/"Request sent")})},onError:k,variables:{}})},a[1]=f,a[2]=g,a[3]=e):e=a[3];return e}function k(){c("FBLogger")("wmi_eb").mustfix("[labyrinth_web][EOTR-Untrusted Mobile] Failed to sent notification to user's devices")}g["default"]=a}),226);
__d("MWEBUntrustedMobileEOTRInformationalDialog.react",["fbt","AddOnStartOverride.react","MWChatEncryptedBackupResetContext","MWChatEncryptedBackupsQPLEvents","MWEBErrorStatePhoneInterstitialIcon.react","MWEBUntrustedMobileEOTRResetPendingEBDialog.entrypoint","MWXColumn.react","MWXColumnItem.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXDialogPage.react","MWXIconCloudUpload","MWXIconForListCell.react","MWXIconMenuItemTrash","MWXIconMobile","MWXList.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","react","react-compiler-runtime","useMWAbandonRestoreConfirmationDialog","useMWEBSendMobileResetNotification","usePopPage","usePushPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useEffect;function n(a){var b=d("react-compiler-runtime").c(20),e=a.onClose,f=a.onCloseConfirm,g=a.onComplete,j=a.pushPage;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("usePushPage")(c("MWEBUntrustedMobileEOTRResetPendingEBDialog.entrypoint"),a);var l=a[0];a=a[1];if(b[1]!==a){a.onHighIntent;var m=babelHelpers.objectWithoutPropertiesLoose(a,i);m=m;b[1]=a;b[2]=m}else m=b[2];var n=c("useMWEBSendMobileResetNotification")();b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==l||b[7]!==j||b[8]!==n?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_UNTRUSTED_DEVICE_SEND_REQUEST_CLICK"),n(),l({onClose:e,onCloseConfirm:f,onComplete:g,pushPage:j})},b[3]=e,b[4]=f,b[5]=g,b[6]=l,b[7]=j,b[8]=n,b[9]=a):a=b[9];a=a;var o;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Send request"),b[10]=o):o=b[10];b[11]!==a||b[12]!==m?(o=babelHelpers["extends"]({label:o},m,{onPress:a,testid:"mw-eb-untrusted-mobile-eotr-informational-send-request-button"}),b[11]=a,b[12]=m,b[13]=o):o=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Not now"),b[14]=a):a=b[14];b[15]!==e?(m={label:a,onPress:e,testid:"mw-eb-untrusted-mobile-eotr-informational-not-now-button"},b[15]=e,b[16]=m):m=b[16];b[17]!==o||b[18]!==m?(a=k.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:o,secondaryCallToAction:m}),b[17]=o,b[18]=m,b[19]=a):a=b[19];return a}function a(a){var b=a.onClose,e=a.onComplete;a=a.pushPage;var f=c("usePopPage")(),g=l(c("MWChatEncryptedBackupResetContext")),i=g.isEncryptedBackupResetUserJourneyStartedRef;g=f!=null?function(){f(),i&&(i.current=!1)}:null;var j=c("useVisibilityObserver")({onVisible:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_UNTRUSTED_DEVICE_SEND_REQUEST_SCREEN")}});m(function(){i&&(i.current=!0)},[i]);var o=c("useMWAbandonRestoreConfirmationDialog")(function(){b==null||b()});return k.jsx(c("MWXDialogPage.react"),{footer:k.jsx(n,{onClose:b,onCloseConfirm:o,onComplete:e,pushPage:a}),header:k.jsx(c("MWXDialogHeader.react"),{closeButtonTestId:"mw-eb-untrusted-mobile-eotr-informational-dialog-close-button",mdsTitleLayout:"block",onBack:g!=null?g:void 0,onClose:b,withBackButton:g!=null,withCloseButton:b!=null,withoutDivider:!0}),children:k.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,ref:j,spacing:20,testid:void 0,children:[k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(c("MWEBErrorStatePhoneInterstitialIcon.react"),{})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,type:"headlineEmphasized2",children:h._(/*BTDS*/"Reset chat history on your mobile device to start backing up new messages")})}),k.jsx(c("MWXColumnItem.react"),{paddingHorizontal:0,children:k.jsxs(c("MWXList.react"),{children:[k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconMenuItemTrash"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"End-to-end encrypted messages will be deleted from your backup and you won\u2019t be able to restore them."),bodyColor:"secondary",headline:h._(/*BTDS*/"Messages currently saved in your backup will be deleted"),level:4})}),k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconCloudUpload"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"You\u2019ll create a PIN to access your chats on any device."),bodyColor:"secondary",headline:h._(/*BTDS*/"New messages will be backed up so you can restore them"),level:4})}),k.jsx(c("MWXListCell.react"),{addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconMobile"),size:"large"})}),content:k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"You can send a notification to the Messenger app on your mobile device to reset your chat history."),bodyColor:"secondary",headline:h._(/*BTDS*/"Send a request to your mobile device to get started"),level:4})})]})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2",["Base64Utils","I64","LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect;b.useMemo;var m=b.useState;function a(a){var b=d("react-compiler-runtime").c(16),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.offlineDevicesCountInitialValue;a=a.vestaClientIDInitialValue;var g=(h||(h=c("useReStore")))(),i;b[2]!==g.tables.encrypted_backups_virtual_devices?(i=function(){return d("ReQL").fromTableAscending(g.tables.encrypted_backups_virtual_devices)},b[2]=g.tables.encrypted_backups_virtual_devices,b[3]=i):i=b[3];var j;b[4]!==g?(j=[g],b[4]=g,b[5]=j):j=b[5];var k=d("ReQLSuspense").useArray(i,j,f.id+":52");bb0:{if(a!=null){i=a;break bb0}if(b[6]!==k){j=k.filter(q);a=j[0];j=a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0;b[6]=k;b[7]=j}else j=b[7];i=j}a=i;bb1:{if(e!=null){j=e;break bb1}b[8]!==k?(i=k.filter(p),b[8]=k,b[9]=i):i=b[9];j=i.length}e=j;i=m(a);j=i[0];var r=i[1];a=m(e);i=a[0];var s=a[1];b[10]!==k?(e=function(){if(k.length===0)return;var a=k.filter(o);a=a[0];var b=k.filter(n);r(a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0);s(b.length)},a=[k],b[10]=k,b[11]=e,b[12]=a):(e=b[11],a=b[12]);l(e,a);b[13]!==i||b[14]!==j?(e={offlineDevicesCount:i,vestaClientID:j},b[13]=i,b[14]=j,b[15]=e):e=b[15];return e}function n(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}function o(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))}function p(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}function q(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))}g["default"]=a}),98);
__d("MWEBVirtualDevicesContextProvider.react",["MAWOneTimeCodeGating","MWEBVirtualDevicesContext.react","react","react-compiler-runtime","useHasOTCEligibleDevices","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.hasOtcEligibleDevicesInitialValue,g=a.offlineDevicesCountInitialValue;a=a.vestaClientIDInitialValue;g=g===void 0?-1:g;a=a!=null?a:void 0;var h;b[0]!==g||b[1]!==a?(h={offlineDevicesCountInitialValue:g,vestaClientIDInitialValue:a},b[0]=g,b[1]=a,b[2]=h):h=b[2];g=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(h);a=g.offlineDevicesCount;h=g.vestaClientID;g=c("useHasOTCEligibleDevices")();var j;b[3]!==g||b[4]!==f?(j=d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()&&(f===!0||g),b[3]=g,b[4]=f,b[5]=j):j=b[5];g=j;f=h!=null;b[6]!==g||b[7]!==a||b[8]!==f||b[9]!==h?(j={virtualDeviceInfo:{doesUserHaveOtcEligibleDevices:g,isPINCodeRegistered:f,offlineDevicesCount:a,vestaClientID:h}},b[6]=g,b[7]=a,b[8]=f,b[9]=h,b[10]=j):j=b[10];g=j;a=g;b[11]!==e||b[12]!==a?(f=i.jsx(d("MWEBVirtualDevicesContext.react").MWEBVirtualDevicesContext.Provider,{value:a,children:e}),b[11]=e,b[12]=a,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("MWEBWebOnboardingPostDecisionDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBWebOnboardingPostDecisionDialog.react").__setRef("MWEBWebOnboardingPostDecisionDialog.entrypoint")};g["default"]=a}),98);
__d("useDeviceAlertCountQuery.graphql",["MAWDeviceChangeState-resolver"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDeviceAlertCountQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"deviceAlertCount",resolverModule:b("MAWDeviceChangeState-resolver").deviceAlertCount,path:"deviceAlertCount"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useDeviceAlertCountQuery",selections:[{kind:"ClientExtension",selections:[{name:"deviceAlertCount",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"6e4038dfa7eed674d7e97d2aca3aeb1f",id:null,metadata:{},name:"useDeviceAlertCountQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useDeviceAlertCount",["CometRelay","MAWStateContext.react","gkx","react-compiler-runtime","useDeviceAlertCountQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=i;return d("MAWStateContext.react").useMAWSelector(a)}function i(a){return a.unArchivedSelfDeviceChangeAlerts}function e(){var a=d("react-compiler-runtime").c(2),c,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useDeviceAlertCountQuery.graphql"),e={},a[0]=c,a[1]=e):(c=a[0],e=a[1]);a=d("CometRelay").useClientQuery(c,e);return(c=a.deviceAlertCount)!=null?c:0}f=c("gkx")("12254")?e:a;g.useDeviceAlertCount=f}),98);
__d("useMAWSecurityAlertsPreferences",["MAWBridgeFireAndForget","MAWBridgeSendAndReceive","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(10),b=j(),e=b[0],f=b[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getSecurityAlertSettingForSelfAndContact").then(function(a){f(a)}))},g=[],a[0]=b,a[1]=g):(b=a[0],g=a[1]);i(b,g);a[2]!==e?(b=function(a){e!=null&&f(babelHelpers["extends"]({},e,{allowSecurityAlertForContact:a})),d("MAWBridgeFireAndForget").fireAndForget("backend","changeSecurityAlertSetting",{isEnableAlert:a})},a[2]=e,a[3]=b):b=a[3];g=b;a[4]!==e?(b=function(a){e!=null&&f(babelHelpers["extends"]({},e,{allowSecurityAlertForSelf:a})),d("MAWBridgeFireAndForget").fireAndForget("backend","changeSecurityAlertSettingForSelf",{isEnableSelfAlert:a})},a[4]=e,a[5]=b):b=a[5];b=b;var h;a[6]!==e||a[7]!==g||a[8]!==b?(h={onContactSecurityAlertsPreferencesChange:g,onSelfSecurityAlertsPreferencesChange:b,securityAlertsPreferences:e},a[6]=e,a[7]=g,a[8]=b,a[9]=h):h=a[9];return h}g["default"]=a}),98);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["FDSBadge.react","react","react-compiler-runtime","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMAWSecurityAlertsPreferences")();b=b.securityAlertsPreferences;var e=d("useDeviceAlertCount").useDeviceAlertCount();b==null||b.allowSecurityAlertForSelf;var f;a[0]!==(b==null?void 0:b.allowSecurityAlertForSelf)||a[1]!==e?(f=b!=null&&b.allowSecurityAlertForSelf&&e>0?i.jsx("div",{className:"x12u5thl x10l6tqk x12ibf10",children:i.jsx(c("FDSBadge.react"),{testid:void 0})}):null,a[0]=b==null?void 0:b.allowSecurityAlertForSelf,a[1]=e,a[2]=f):f=a[2];a[3]!==f?(b={badge:f},a[3]=f,a[4]=b):b=a[4];e=b;return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerDeprecationUtils",["fbt","DateConsts","FBLogger","MAWCurrentUser","MWChatEncryptedBackupsQPLSource.enum","MWEBWebOnboardingPostDecisionDialog.entrypoint","MessengerMSplitFlag","ODS","Promise","WebAsyncStorage","formatDate","gkx","isMessengerPWA","justknobx","promiseDone","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react");l.useCallback;var m=l.useEffect;l.useMemo;var n=l.useState,o="messenger_pwa_deprecation",p=function(){try{var a=new URLSearchParams(document.location.search).get("deprecation_date_internal_only"),b=c("justknobx")._("4035"),e=c("justknobx")._("5072");b=b;(d("MAWCurrentUser").isEmployee()||d("MAWCurrentUser").isTestUser())&&Date.now()<=e&&(b=e);b=a!=null?a:b;e=new Date(b);c("formatDate")(e,"F j, Y");return e.getTime()}catch(a){return 17648064e5}},q=function(){return c("gkx")("18733")||c("isMessengerPWA")()&&c("gkx")("18178")},r=function(){var a=new Date(p()).getTime(),b=Date.now();return a-b<=d("DateConsts").MS_PER_DAY*60};function a(a){var b=d("react-compiler-runtime").c(20),e=a.closeDialog,f=a.isQP;a=a.userHasEncryptedBackup;var g=f===void 0?!1:f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=c("useMWXEntryPointDialog")(c("MWEBWebOnboardingPostDecisionDialog.entrypoint"),f);var i=f[0],j=f[1],k=f[2];f=f[3];var l;b[1]!==g?(l=c("MessengerMSplitFlag").is_msplit_account?h._(/*BTDS*/"Go to web"):g?h._(/*BTDS*/"Go to FB app"):h._(/*BTDS*/"Go to Facebook app"),b[1]=g,b[2]=l):l=b[2];var m;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m={url:c("MessengerMSplitFlag").is_msplit_account?"https://www.messenger.com/":"https://apps.microsoft.com/detail/9wzdncrfj2wl"},b[3]=m):m=b[3];b[4]!==l?(m={label:l,linkProps:m},b[4]=l,b[5]=m):m=b[5];l=m;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m={label:h._(/*BTDS*/"Learn more"),linkProps:{url:"https://www.facebook.com/help/messenger-app/804132271957789"}},b[6]=m):m=b[6];m=m;if(!a){b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Create PIN"),b[7]=a):a=b[7];var n;b[8]!==e||b[9]!==g||b[10]!==i?(n=function(){e(),i({source:g?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK})},b[8]=e,b[9]=g,b[10]=i,b[11]=n):n=b[11];b[12]!==j||b[13]!==k||b[14]!==f||b[15]!==n?(a={label:a,onHoverIn:j,onHoverOut:k,onPress:n,onPressIn:f},b[12]=j,b[13]=k,b[14]=f,b[15]=n,b[16]=a):a=b[16];l=a;m=void 0}b[17]!==l||b[18]!==m?(j={primaryCallToAction:l,secondaryCallToAction:m},b[17]=l,b[18]=m,b[19]=j):j=b[19];k=j;return k}function e(){var a=d("react-compiler-runtime").c(8),b=n(!1),e=b[0],f=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){f(!1),s({qpDimissalTimestamp:Date.now()})},a[0]=b):b=a[0];b=b;var g,h;a[1]!==e?(g=function(){if(!e)return;(k||(k=d("ODS"))).bumpEntityKey(3185,"pwa_deprecation_impression","show_qp")},h=[e],a[1]=e,a[2]=g,a[3]=h):(g=a[2],h=a[3]);m(g,h);a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){if(!q())return;if(!r())return;c("promiseDone")(t(),function(a){a=a==null?void 0:a.qpDimissalTimestamp;(a==null||Date.now()-a>=d("DateConsts").MS_PER_WEEK)&&f(!0)})},h=[],a[4]=g,a[5]=h):(g=a[4],h=a[5]);m(g,h);a[6]!==e?(g={onClose:b,showMessengerDeprecationQP:e},a[6]=e,a[7]=g):g=a[7];return g}function f(){var a=d("react-compiler-runtime").c(8),b=n(!1),e=b[0],f=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){f(!1),s({softblockDismissalTimestamp:Date.now()})},a[0]=b):b=a[0];b=b;var g,h;a[1]!==e?(g=function(){if(!e)return;(k||(k=d("ODS"))).bumpEntityKey(3185,"pwa_deprecation_impression","show_softblock")},h=[e],a[1]=e,a[2]=g,a[3]=h):(g=a[2],h=a[3]);m(g,h);a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=new Date(p()).getTime(),b=Date.now();if(a<=b)return;c("promiseDone")(t(),function(c){for(var e of[3,7,14])if(a-b<=d("DateConsts").MS_PER_DAY*e){e===3?((c==null?void 0:c.softblockDismissalTimestamp)==null||b-c.softblockDismissalTimestamp>=d("DateConsts").MS_PER_DAY)&&f(!0):((c==null?void 0:c.softblockDismissalTimestamp)==null||a-c.softblockDismissalTimestamp>=d("DateConsts").MS_PER_DAY*e)&&f(!0);break}})},h=[],a[4]=g,a[5]=h):(g=a[4],h=a[5]);m(g,h);a[6]!==e?(g={onClose:b,showMessengerDeprecationSoftBlock:e},a[6]=e,a[7]=g):g=a[7];return g}var s=function(a){c("WebAsyncStorage").upsertAndSaveAtomic(o,function(b){return babelHelpers["extends"]({},b,a)},function(a,b){if(a!=null){c("FBLogger")("messenger_web_entrypoints").catching(a);return}})},t=function(){return new(i||(i=b("Promise")))(function(a,b){c("WebAsyncStorage").getItem(o,function(d,e){if(d!=null){c("FBLogger")("messenger_web_entrypoints").catching(d);return b(d)}a(e)})})};g.getDeprecationDateTs=p;g.isMsgrDeprecationEnabled=q;g.hasCountDownStarted=r;g.useDeprecationDialogContent=a;g.useShowMessengerDeprecationQP=e;g.useShowMessengerDeprecationSoftBlock=f;g.setMetadata=s;g.getMetadata=t}),226);
__d("MessengerDeprecationQP.react",["fbt","ix","MWXQPCard.react","MessengerDeprecationUtils","MessengerMSplitFlag","formatDate","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.closeDialog;a=a.encryptedBackup;a=a!=null;var f;b[0]!==e||b[1]!==a?(f={closeDialog:e,isQP:!0,userHasEncryptedBackup:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];f=d("MessengerDeprecationUtils").useDeprecationDialogContent(f);var g=f.primaryCallToAction;f=f.secondaryCallToAction;var j;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"_j{\"web\":\"Messenger desktop app will no longer be available after {month}. You can continue your conversations on the web.\",\"FB app\":\"Messenger desktop app will no longer be available after {month}. You can continue your conversations on the FB app.\"}",[h._enum(c("MessengerMSplitFlag").is_msplit_account?"web":"FB app",{web:"web","FB app":"FB app"}),h._param("month",c("formatDate")(new Date(d("MessengerDeprecationUtils").getDeprecationDateTs()),"F j, Y"))]),b[3]=j):j=b[3];j=j;if(!a){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"_j{\"web\":\"Messenger desktop app will no longer be available after {month}, and you can instead use the web. You need to create a PIN to avoid losing chat history.\",\"FB app\":\"Messenger desktop app will no longer be available after {month}, and you can instead use the FB app. You need to create a PIN to avoid losing chat history.\"}",[h._enum(c("MessengerMSplitFlag").is_msplit_account?"web":"FB app",{web:"web","FB app":"FB app"}),h._param("month",c("formatDate")(new Date(d("MessengerDeprecationUtils").getDeprecationDateTs()),"F j, Y"))]),b[4]=a):a=b[4];j=a}a=j;var l;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Messenger desktop app is going away"),b[5]=l):l=b[5];var m;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m={props:{isDecorative:!0,src:i("909982")},type:"image"},b[6]=m):m=b[6];b[7]!==e||b[8]!==j||b[9]!==g||b[10]!==f?(a=k.jsx(c("MWXQPCard.react"),{addOnPrimary:g,addOnSecondary:f,body:a,headline:l,icon:m,onClose:e}),b[7]=e,b[8]=j,b[9]=g,b[10]=f,b[11]=a):a=b[11];return a}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometGroupReshareComposerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24132904643049888"}),null);
__d("useCometTypeaheadLayoutInlineStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadViewLabel"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(17),e=a.helperText,f=a.inputLabel;a=a.viewRole;f=f===void 0?"":f;var g=i(),h=c("useCometInternalTypeaheadFetch")();h=h.isLoading;var j=c("useCometInternalTypeaheadState")();j=j.activeEntries;var k;b[0]!==j?(k={activeEntries:j},b[0]=j,b[1]=k):k=b[1];j=c("useCometTypeaheadViewLabel")(k);b[2]!==f?(k={"aria-label":f,role:"textbox"},b[2]=f,b[3]=k):k=b[3];f=k;if(e!=null&&String(e).length>0){b[4]!==g||b[5]!==f?(k=babelHelpers["extends"]({},f,{"aria-describedby":g}),b[4]=g,b[5]=f,b[6]=k):k=b[6];f=k}e=f;k=e;b[7]!==h||b[8]!==j||b[9]!==a?(f={"aria-busy":h,"aria-label":j,role:a},b[7]=h,b[8]=j,b[9]=a,b[10]=f):f=b[10];e=f;h=e;b[11]!==g?(j={id:g},b[11]=g,b[12]=j):j=b[12];b[13]!==k||b[14]!==h||b[15]!==j?(a={ariaDescribedByProps:j,ariaInputProps:k,ariaViewProps:h},b[13]=k,b[14]=h,b[15]=j,b[16]=a):a=b[16];f=a;return f}g["default"]=a}),98);
__d("CometTypeaheadLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutInlineStrategyHandlers","useCometTypeaheadLayoutInlineStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=["extraLayoutProps","helperText","inputRef","label","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onUpArrow","viewRole","xstyles"],i,j=i||(i=d("react")),k=i.useEffect,l={view:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(56),e,f,g,i,m,n,o,p,q,r,s,t,u,v,w,x;b[0]!==a?(e=a.extraLayoutProps,g=a.helperText,f=a.inputRef,i=a.label,m=a.onBlur,n=a.onChange,o=a.onDownArrow,p=a.onEnter,q=a.onEscape,r=a.onHighlightEntry,s=a.onOutsideClick,t=a.onPressEntry,u=a.onUpArrow,w=a.viewRole,x=a.xstyles,v=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=q,b[10]=r,b[11]=s,b[12]=t,b[13]=u,b[14]=v,b[15]=w,b[16]=x):(e=b[1],f=b[2],g=b[3],i=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14],w=b[15],x=b[16]);a=c("useCometInternalTypeaheadFetch")();a=a.isLoading;var y=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),z=y.dispatchIsOpened,A;b[17]!==z?(y=function(){z(!0)},A=[z],b[17]=z,b[18]=y,b[19]=A):(y=b[18],A=b[19]);k(y,A);y=c("useCometTypeaheadInputRefs")(f);A=y.composedRef;f=y.inputRef;b[20]!==f||b[21]!==m||b[22]!==n||b[23]!==o||b[24]!==p||b[25]!==q||b[26]!==r||b[27]!==s||b[28]!==t||b[29]!==u?(y={inputRef:f,onBlur:m,onChange:n,onDownArrow:o,onEnter:p,onEscape:q,onHighlightEntry:r,onOutsideClick:s,onPressEntry:t,onUpArrow:u},b[20]=f,b[21]=m,b[22]=n,b[23]=o,b[24]=p,b[25]=q,b[26]=r,b[27]=s,b[28]=t,b[29]=u,b[30]=y):y=b[30];f=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(y);b[31]!==g||b[32]!==i||b[33]!==w?(m={helperText:g,inputLabel:i,viewRole:w},b[31]=g,b[32]=i,b[33]=w,b[34]=m):m=b[34];n=c("useCometTypeaheadLayoutInlineStrategyARIAProps")(m);q=(p=(o=e)==null?void 0:o.afterViewContent)!=null?p:null;t=(s=(r=e)==null?void 0:r.beforeViewContent)!=null?s:null;b[35]!==g?(u=g!=null?j.jsx(c("CometTypeaheadHelperText.react"),{text:g}):null,b[35]=g,b[36]=u):u=b[36];b[37]!==n||b[38]!==a||b[39]!==q||b[40]!==t||b[41]!==u?(y={afterViewContent:q,ariaProps:n,beforeViewContent:t,helperTextComponent:u,isAlwaysOpened:!0,isLoading:a},b[37]=n,b[38]=a,b[39]=q,b[40]=t,b[41]=u,b[42]=y):y=b[42];o=(m=x)==null?void 0:m.viewXStyle_DO_NOT_USE;b[43]!==o?(p=[l.view,o],b[43]=o,b[44]=p):p=b[44];b[45]!==p||b[46]!==x?(e=babelHelpers["extends"]({},x,{viewXStyle_DO_NOT_USE:p}),b[45]=p,b[46]=x,b[47]=e):e=b[47];b[48]!==A||b[49]!==f||b[50]!==i||b[51]!==v||b[52]!==e||b[53]!==y||b[54]!==w?(r=j.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},v,f,{extraLayoutProps:y,inputRef:A,label:i,viewRole:w,xstyles:e})),b[48]=A,b[49]=f,b[50]=i,b[51]=v,b[52]=e,b[53]=y,b[54]=w,b[55]=r):r=b[55];return r}g["default"]=a}),98);
__d("FDSCrossFilled24Icon",["cr:13994"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13994")}),98);
__d("FDSCrossFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("478234"),24);b=a;g["default"]=b}),98);
__d("FDSEnvelopeFilled20Icon",["cr:13876"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13876")}),98);
__d("FDSEnvelopeFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("495079"),20);b=a;g["default"]=b}),98);
__d("FDSList.react",["BaseList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","ref","testid","variant","xstyle"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e,f,g,i,k,l;b[0]!==a?(f=a.children,g=a.ref,i=a.testid,k=a.variant,l=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k,b[6]=l):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5],l=b[6]);b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==i||b[11]!==k||b[12]!==l?(a=j.jsx(c("BaseList.react"),babelHelpers["extends"]({},e,{ref:g,role:"list",testid:void 0,variant:k,xstyle:l,children:f})),b[7]=e,b[8]=f,b[9]=g,b[10]=i,b[11]=k,b[12]=l,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("XCometEventCreateControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/events/create/",Object.freeze({default_is_online:!1,dialog_entry_point:"others"}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("FBIconMobileOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{transform:"translate(354 203.5)",children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M96 198.5 108 198.5 108 197 96 197z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M1.375 1.25h1.25",transform:"translate(100 210.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M1.375 2h1.25a.75.75 0 0 0 0-1.5h-1.25a.75.75 0 0 0 0 1.5z",transform:"translate(100 210.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.578 214.5h-9.156A2.422 2.422 0 0 1 95 212.078v-15.156a2.422 2.422 0 0 1 2.422-2.422h9.156a2.422 2.422 0 0 1 2.422 2.422v15.156a2.422 2.422 0 0 1-2.422 2.422zm0-1.5c.51 0 .922-.413.922-.922v-15.156a.922.922 0 0 0-.922-.922h-9.156a.922.922 0 0 0-.922.922v15.156c0 .51.413.922.922.922h9.156z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M96 210.5 108 210.5 108 209 96 209z"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWChatEncryptedBackupResetContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isEncryptedBackupResetStartedRef:null,isEncryptedBackupResetUserJourneyStartedRef:null});g["default"]=b}),98);
__d("MWEBQPResetPIN.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var i;b[0]!==g?(i=g?h("901817"):h("901819"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==g?(i=k?g:h("421459"),b[2]=g,b[3]=i):i=b[3];g=i;b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[4]=e,b[5]=f,b[6]=g,b[7]=a,b[8]=i):i=b[8];return i}g["default"]=a}),98);
__d("MWFDSMobile.svg.react",["cr:21715"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21715")}),98);
__d("MWXIconMobile",["MWXSvgIcon","SVGIcon","cr:22406","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22406")),c("gkx")("23219"));g["default"]=a}),98);
__d("usePushFDSMultiStepDialogEntryPointPage",["BaseMultiPageEntryPointImpl.react","CometRelay","FDSMultiStepDialogPushPageContext.react","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=["fallback"],i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useTransition;function a(a,b){var e=d("react-compiler-runtime").c(8),f=l(),g=f[0],i=f[1],m=c("useCometRelayEntrypointContextualEnvironmentProvider")(),n=k(d("FDSMultiStepDialogPushPageContext.react").FDSMultiStepDialogPushPageContext);e[0]!==m||e[1]!==a||e[2]!==b||e[3]!==n?(f=function(e,f){if(b==null)return;i(function(){var g=d("CometRelay").loadEntryPoint(m,a,b),i=f!=null?f:{},k=i.fallback;i=babelHelpers.objectWithoutPropertiesLoose(i,h);n(function(){return j.jsx(c("BaseMultiPageEntryPointImpl.react"),{entryPoint:a,environmentProvider:m,fallback:k,loadedEntryPoint:g,otherProps:e,preloadParams:b,usePlaceholder:k!=null})},i)})},e[0]=m,e[1]=a,e[2]=b,e[3]=n,e[4]=f):f=e[4];f=f;var o;e[5]!==g||e[6]!==f?(o=[g,f],e[5]=g,e[6]=f,e[7]=o):o=e[7];return o}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FDSCheckmarkFilled24Icon",["cr:13975"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13975")}),98);
__d("FDSCheckmarkFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("477815"),24);b=a;g["default"]=b}),98);
__d("FDSTabMenuForPivotLinks.react",["fbt","FDSMenu.react","FDSMenuItemRadio.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.menuItems;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Tab navigation"),b[0]=e):e=b[0];var f;b[1]!==a?(f=a.map(k),b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=j.jsx(c("FDSMenu.react"),{"aria-label":e,size:"full",children:f}),b[3]=f,b[4]=a):a=b[4];return a}function k(a,b){var d=a.disabled,e=a.image,f=a.label,g=a.linkProps,h=a.onHoverIn,i=a.onHoverOut,k=a.onPress,l=a.onPressIn;a=a.selected;e=(e==null?void 0:e.type)==="icon"?e.icon:null;return j.jsx(c("FDSMenuItemRadio.react"),{disabled:d,href:(d=g==null?void 0:g.url)!=null?d:void 0,icon:e!=null?e:void 0,isSelected:a!=null?a:!1,onClick:k,onHoverIn:h,onHoverOut:i,onPressIn:l,primaryText:f!=null?f:"",radioStyle:"checkmark",role:"menuitemradio",routeTarget:g==null?void 0:g.routeTarget,target:g==null?void 0:g.target,testid:void 0},b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LiveVideoCometNuxForCVCQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9844696545637976"}),null);
__d("LiveVideoCometNuxForCVCQuery.graphql",["LiveVideoCometNuxForCVCQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nuxID"},{defaultValue:null,kind:"LocalArgument",name:"videoID"}],c=[{kind:"Variable",name:"nux_id",variableName:"nuxID"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"LiveVideoCometNuxForCVCQuery",fragmentName:"LiveVideoCometNuxForCVCInternal_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null},e=[{kind:"Variable",name:"id",variableName:"videoID"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveVideoCometNuxForCVCQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null},{alias:null,args:e,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LiveVideoCometNuxForCVCInternal_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveVideoCometNuxForCVCQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,f],storageKey:null},{alias:null,args:e,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_audio_room_v2_broadcast",storageKey:null},f],storageKey:null}]},params:{id:b("LiveVideoCometNuxForCVCQuery_facebookRelayOperation"),metadata:{},name:"LiveVideoCometNuxForCVCQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LiveVideoCometNuxForCVC.react",["CometPlaceholder.react","CometRelay","LiveVideoCometNuxForCVCQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("LiveVideoCometNuxForCVCQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(5);a=a.videoID;a=d("CometRelay").useLazyLoadQuery(k,{nuxID:8030,videoID:a});var e;b[0]!==a.video?(e={video:a.video},b[0]=a.video,b[1]=e):e=b[1];var f;b[2]!==a.nux||b[3]!==e?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a.nux,props:e})}),b[2]=a.nux,b[3]=e,b[4]=f):f=b[4];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBNucleusAccountSwitcherFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M8 .5a7.498 7.498 0 0 0-6.575 3.888.75.75 0 1 0 1.315.724A6.003 6.003 0 0 1 13.812 6.5h-.562a.75.75 0 0 0-.53 1.28l1.5 1.5a.75.75 0 0 0 1.28-.53V8A7.501 7.501 0 0 0 8 .5zM1.78 6.72a.75.75 0 0 0-1.28.53V8a7.501 7.501 0 0 0 14.075 3.612.75.75 0 0 0-1.314-.724c-.232.42-.511.81-.832 1.16A3.52 3.52 0 0 0 9.23 10H6.769a3.52 3.52 0 0 0-3.198 2.048A5.986 5.986 0 0 1 2.19 9.5h.561a.75.75 0 0 0 .53-1.28l-1.5-1.5z"}),i.jsx("path",{d:"M5.5 6.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusListBulletFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M3.5 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7.75 3a1 1 0 0 0 0 2h9.5a1 1 0 1 0 0-2h-9.5zM5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm2.75-1a1 1 0 0 0 0 2h9.5a1 1 0 1 0 0-2h-9.5zM5 16a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm2.75-1a1 1 0 1 0 0 2h9.5a1 1 0 1 0 0-2h-9.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusPlusCircleFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM10 5a.75.75 0 0 1 .75.75v3.5h3.5a.75.75 0 0 1 0 1.5h-3.5v3.5a.75.75 0 0 1-1.5 0v-3.5h-3.5a.75.75 0 0 1 0-1.5h3.5v-3.5A.75.75 0 0 1 10 5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusPlusFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7 13.25a1 1 0 1 0 2 0V9h4.25a1 1 0 1 0 0-2H9V2.75a1 1 0 1 0-2 0V7H2.75a1 1 0 0 0 0 2H7v4.25z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusPlusFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M9 16.25a1 1 0 1 0 2 0V11h5.25a1 1 0 1 0 0-2H11V3.75a1 1 0 1 0-2 0V9H3.75a1 1 0 0 0 0 2H9v5.25z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=20;a._isSVG=!0;b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("EncryptedBackupUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5728");b=d("FalcoLoggerInternal").create("encrypted_backup_upload_failure",a);e=b;g["default"]=e}),98);
__d("WAPromiseQueue",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){a===void 0&&(a=-1),this.$1=(g||(g=b("Promise"))).resolve(),this.$3=0,this.$2=a}var c=a.prototype;c.wait=function(){return this.$1};c.enqueueHandlers=function(a,b,c){var d=this;this.$3++;b=this.$1.then(function(){return a}).then(b,c);c=b.then();this.$1=h(b,this.$2)["finally"](function(){d.$3--});return c};c.enqueue=function(a){var b=this;this.$3++;a=this.$1.then(a);var c=a.then();this.$1=h(a,this.$2)["finally"](function(){b.$3--});return c};c.size=function(){return this.$3};return a}();c=function(){function a(a){a===void 0&&(a=-1),this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitIfPending=function(a){return this.$1.get(a)};c.wait=function(a){return this.$1.get(a)||(g||(g=b("Promise"))).resolve()};c.enqueueHandlers=function(a,b,c,d){c=this.wait(a).then(function(){return b}).then(c,d);return this.$3(a,c)};c.enqueue=function(a,b){b=this.wait(a).then(b);return this.$3(a,b)};c.$3=function(a,b){var c=this,d=b.then(),e,f=function(){c.$1.get(a)===e&&c.$1["delete"](a)};e=h(b,this.$2).then(f,f);this.$1.set(a,e);return d};return a}();function h(a,c){if(c>=0)return new(g||(g=b("Promise")))(function(b){var d=function(){return void b()};a.then(d,d);setTimeout(d,c)});else return a.then(i,i)}function i(){}f.PromiseQueue=a;f.PromiseQueueMap=c}),66);